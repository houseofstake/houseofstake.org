<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4ea80c798b4108e0b693fc6a3db8ec118b7be5a977dfaff3d50b8c114a330ca7f59e041cec617f8ab47dca7c3a7d74e706948208ccb7ed6787e2241d9acd6408e57dfdc3d13aa8c62e3e67e5084d380c3a4a424aa5b1488e6f396514da8b868732c28fc0a5bc608646d9500b8e9a18bd9cc02069a267eee2068f72f3899c1814a4345f86be25f02591dfc163bcc36e02980537ca41fd756ac28068e452717b9049e177bd6b3739eabd9b01953ff1f35dac305c2af2ec53c6623e5da8df477ea32544a7ba4881622119c20e08cda4d7983cf7f2312826fd37d82bb41712be7fbad25ad98ff14810e267b13e6ae30dcfef3c972d2e9dbf87e6187a5e79bd9885cabcb808a30bc11e89e66fe68b79109ffac1a55feb21790f5f3513479757b76233c0308fa45eb01826eb9d5d37647708be7af8b2e1f57b7756f46e8d8f21d2575562b3bc7307d60a5b72ce102b3555c39a645361f450f2447f44b9580caebc96e6da484b7f0469f9e5562a5ca420478b429a10214779204a5fc52e834c6121c5733476208b177639adceab2812e479991c7497b9aa6451767cc71d6605f1aec096240b7873a2f93fe5b1ec7638ef0ec0758630f414e553f7d4a3569b488d22ab1dc945228dba64af9f505e0813a8b9035ec05025c87b8aaaec17ebb77528829dbba10662df511654d7a7b259fb7d93ab12430368482d8a82a7966d9db211d0089ab0c6766894eae76f4ee105c653b19318007afe9d0fa3885692ec243b588c8558ccc70115b01d2b24ff33c316e8be4a08ff48f0aabecc358cc8508ef4a74efde2862d186a3a72c50ecb435871bfcc7433279d668c8ddb8dbcb1679c3a95b758481a71fb8462087651c6348cff9682d2eb9c0d0c5f260d94b8f93ac79b1b5dd3000e0ae4873a5e0af7d420de2e495d572841b91a538aaeac85cc9015808f7e12a3f0cce03f2b2caf8b7bd09af12d62aaef7781353694ba42763ae83518d70e16669a3daed029bf4cca4067e41aeec8a0d5dfc1a5f0bceaaaef6cd575ed927f6370f80ed9082b8012a8de6cd68170f72394ae4c8d3efe4dd219d29260bf3965db5c3222fc0473190309168551858fe55de20f2ec5a8f808ee97c4a2e03a06af0d039a7eb3f66e3c3dacc9ea2fb946747d0e25e6dde9baa85ff9715646d56ef4c50d4bf7a107c199cc7a3aa25098a3a59df1c2f10715e8ff343495ffb87e4839f4faa190f323802d264af7a2e0190098c32ec5e35d8d22afab7c9335482b982a997da24da2b70bc2bd1e6aad24226920079c8e101178bf8161b691482eb81a13f0bf094558abdbd759c7d003894114dec3077763eb49b0845dddc01f1daa685693f62344f844efc32aed233e66ca61e3f498eba0f8082aeb698ea4d6b045a0b9d045fc7c7484f00c8048dfe5cd001bebc683c35c3a7ecf0d34b6df1fa4474b40803e3f3551b7810ef4def49b9bac451103d46f2a06befec228cbee0841c60b32925af3928261265467ea19a946330f7d8227a7aded274e490d92a363474fbf7923684ab20d6b913a18dd8a1117737b9cabffb287c4eb277789c741c7210a19d894ec45f1893de8b519e4d5522c15e6eb5a83b37553f94ae0f3744d16af6269c9db30c8cee48d941669e153830d2b03904f626af2a2fde6f542c0694dfbeca329f7c55d75ae92336255c5e865e41c9babfc27af847f7ec668798be1173b59d3a3261f2d97ebdf5297295023b57d4e74c0d5564bbdebdeff1936d310863a308190cbf13ba7a424925da0e3123e8818336391fc5a1ec53922410402cbc50152d0dd38f2c2000a8885374bb809d9fa6177dce7994b9823af890a7de3fefd1a641dad721d8511cf330dfce0669ba65bc522b2f061596814bf9e9d8b2aab93e82f7430b6cf9f6afb0dad3f70d42f1bb77a588bb031ff87d6ca42aaeb0a341bae3d127b76df557a3994a5c1a8edd5680f9408fae45797caf426f8f31d4065c2679f93bff5142a3d27a60bb9ed74153825de7254f9b7d5982399366d8454e96b9b41fa8e3cd3c089731e0177e84a14d9ffd449b1b64d3ac5daa35c1a509463ceac2c7253bfbd07e2003a2f683fc02c19442faed84449b3fc1eefd11a2308400bfe59a42d8778d85cd705147b4bccb74a4a0a71b4d6ad6b2609417ac637477e71f1fd5f2117f7780ba147e481b88ba7354fb7683c2b02f86163889db4b1a929293b5152166f5bf2b8e746995a85c67421892420a4032f48e0632ff7fabbe813bf30f9bc8cd72e0faec69bc79df8fb4cb326b64d1b549672c99ef110e77c908bf31b1e6318b7a0f1827ab072a0d4885312c8712ea9ed27b4ce924b758c9fd43c36bc8f6a4ae329e47f3ba1c70819fa6a754ecd78012b4863efed4b50d97a70773749f3a84764016e5f9889abbc9739cfcd6fb616d741b09b013b4ecc18e53d55d0f2390df2765210c85f4cbb0b5796c7c295e1d605c6921d9801ff1d87bd86fa3650305e1129e113bc4f4e13523e87b0ee0cd1dfa6bb1ab438c1ac90dea7069d706916529f7639be7744cb70e5fac52ddf01c1e42d30d0f5704175011f0c51a97f361542106e0ec9e78f156a6230362b7f3e5212b2cd2b9c7387c330c4af011ffaf1ada7286d763b5ae4aba9ad581abd70c194d08ea0e647087f70823da8c1173d06a8a13e64e129571206e2600ed085264a0c6e197ab4f40ef41a445df4dc1387b8114070a44d5d5629ab9bfbdc020aeab1015683cd69de9624e80f276898e8fd2b464427b9bb59659afb6a99ee2009e4055ed3246f63ea7761c043a591aa0564e0cded12158cab1ac1b5b750c534330745b2152bc3ace0000daec2837838ee4ba27fabf99c018330ed3927568066733029c8c0e29bdd90f87142eda09f107f59b977f47d0a0cdbc4c8d4ecfbc1b23cd4942abf3d0b9f88236777fae2572944d677fa349915f26bd4c4a85cffdf08e7b9a8ec25016e826f379309608ddb22077c0b3e6c86dd044193ecbd2af8d5908df90076b7419fb69c346ca2c7bef54e5362aa5035569de7ec01a9697c50090886f64070a252da897f97d6db1cd495bc090e4feecb41303e97c12538b60308d07784066bf5e49c39a10f5afbda441925dbcf2c837ba98dfefc7e9955423d3562319d621b9c2a85bd245463a2ea9538181f41e071f79b7d009138f683e697267047da9215be9931b23f105d5b6fd27c5471234898319243504b02f372e4db3ddb0b923da69adb3878067a88384e3c355473d1ca845e77e6f2e000826f74b2e6b8f98588db1b690e56387686fec17cba9214e39bf6fd162a9ce03e343f3ae9747df0de6383ef9ce8cff2fc7b82dc9836a742d6ea85dec1f598d5fe87c6a24394ebe9d0594b8498e5aee623611c07c826417626d5f949f7c959d0e9a4b49c7d696775b63999fd5f480b417ba084b60b02b71e7b73432cfbface8a19c9aefd4e28f577faa1b05c22cd25b201b2af64afb03b8e159a175527b266211180654f85417027f4a98bcbcff6614d88d4cbc4edfd8df68815158db95a06061f985c7b07db244522a67a55c711577405b1825131e6fed21ecb0ef2e596468617deeeb235d1d3d889e8dfdf2c1cdf21a1e84dfce353427f9f39a7e184b6ffae461cee5d7f74f671ab1d753a60d41d04b240466986a7dd9a013ca607874588a7f111105b2fba32626c68115b2f182dc8fb6201538d20f47a8a5839813ea8dea1a4cf6c6318067ad7ca3677773671cd87b696c8ea0b810c483b4d2ceec4674ca1b64922e9076293412d0c93fbe592cfcca676b5b917234eb0e3776e5e2f5d0053c6598c2bed6d8b38861444b96f850263c988238fc9e3448a38a2875d7387b612f3520cecb8549a6599c8e6fbc5b4bc3cde9a3ad41d9dac8951f7ff7e134a008b07847ce08b60b77d3ec30d6dfbf00c96ac6ac1ef0676445899e953ce358bff1aae24285bbe1147999648c4287c43eff7a023906df803a2c2d1b2a14a58161b4d9bc7f48b7b2040ae8f7651b2b9b44e38e3f60d994f7c234ed56e6f06e29a5b0f66531369174d63443834db57c1a629e8781d0b59e95095500a00e01d2f2938d6c32c40f1f260e8b6c20b00e162d317e0faecb78332e0def2b67886c9a7dac0ff63b89ad95f16467195b0480801d500c314a13c9759fe1a6d0824f9aa1327615aa60ced15e925c3a98f4c6fcabb2e6e305f66f6a0d1b53243785398b780cbfba50a4b774388fc5eca7019daeea0d1fd6f44c7ded516217c22a38c2ddae2a66c73ff13027b698588421af0df838445b657fabeb02309fade7b0b8199059e569ca1e3afd11f0eba0fa48abd2be810a5e416389cf16b72c22f37d652fe837a01292e907074f3478d4caa03eef3f1ecf45d7959029a511692354da66f8d183b3f9288c4a9cc8462c837742fefd90e3fc1acc2c599ca0af3321c9f7946cf589bdd4e29a248cbbd59f22341cfb7f23cea86c1e2cfeddade61cac715ea1070905e5a4c239a2a30c5454bc347d4a37d2b5031c3ef39f53571f1ad9a81eb04fecb221d08af2eb9e6fd66073244671fae9f9574fe66b9b708e4b7a57b8843455018bffec927815c4ff5bcce84d9fe7999d37d2ac1481cc01573eb2bc5bafbdcd5837ec4a8b9db1d17f74434fae307cbabe714ac4c3c6e864b1efa26271f2cdefb5aad357eb67acae520f950f587e24d955cfce31b9337049331e4ba1e9b295c349cc3666eaff6ed7d5fea43c683381cd8a0f958c25b7cc5f148b289dd396a5470b225b0d6f9992155a10b5c81d66523d1ca8522eaa6174cb1bb708f624969a00a0d9830ad19291c138d1b733a3e98ea33bcae71328deb02b9d01599fdabbd87cf37403cc8b6d2b8424a13d36f5670d1b2d89411ca61e0503f1b3aa101485ace6d6351b76090ba8f8159224a2ea3b2fdbbfc02144e2daa01315f36a4c9d6237cfb63655efe5a7fa9e63b8365412bf5d1f028a5b6a3e21a95ee681f2133543fe167bb988c959537d017a929bef9b1bd932b396c15d6399b8b8dfef3338fae144b7d5632d84f9b8da58c4bbb356860456a30670202605ea16ecc654ce05c800a29f250a479d8e8bcf9ade1a3736891b468409c6e71a7754052620be3501b0d19eb04bd4037a4e5a33add8b0d64f3b3d1aea296f8a2435b4e1cca5e5e317aa81f654c51e4282d5350c8485a0aaea5db6da773dfd81751a204a3bc55549f6bb0ba82c990f4f27a90648af9194dbc87448e6f38fa2017bfc6d2179daef1d60226c1d3379454d7ccbbaa23e46c18a402aa533d317fbfea52bdd65db24d176919613d872b0e9f38987f40b43709c4e2a028cc0b26c4eba00aa972645b80be32fd6ec182bc80c04f58496c2f7344cc0a57a76d49a9835b875f356f337aa9fde5680ce3ff80c6d7af5d0d93e099c9ec0dc2a3c619b1addfad5ad53ba22eeb234086c37898839455dcf4fc06d5ed79f364435fb92a26dd2c276b32cef61e60cc3b2ca2a028eaed924b5b6af31950404fdc858a4328a80ccd99da55c51b0ab5647a9eeceffb474ded045a44dd486049a0bf3358fcd0bd1640a785c822a69ac63a33d6562f7b6e95b6d40fc7265dcafa7e65a58b9937ef17ff6c25ff0bb01a6e060f3627ebd5f19bf9da5c1094f3844b66f41fc8f70eee76ea49638ce5ab9a1f47f5e3eb39f37b4eb943674049bb835e04cad4d0db8db9b2a9ab61ddbb6f7debdce162ba6708632863b6ec9aa61845ca77dd37efe1c374164eeca1484f1d0c771ef2640afbe929c3a982012fae77c31054a8d2a725988353420fd50ef9bb58c8af5e9f534ff8e51e52d24ee9dcc81bcd814d43d5a54ced7fbd6a70c3fc4a9d571a99fef15f1de447d098a6b03ccc81aec7bb6173984d2ebfeb10acfe4207d222b7cba1140c1f37e07e450f01426aa4baeed7cd6d263ef959e72c06a37325d848c552858cb5b7df9b8284bd9efc6fd73a55d7b88a65147b49fb404d93769ba76bb066e8a2f8bf0ec97fe7367b57d5be9cacc1c3ec57d161ca9d9a3508738e97e415187d0d5f9f8d129219218934620075804df34c1273415a8c9611996a5f39755a09ca929186f771e5e5de371b51d95cb86e53985d1a9f3cc95dfabe8fa6b721989afa4bdce85736ca0d67ecfa5b4268406458374121e911b3103f3706085b43044be103bd9e4ed5aa0f0ed98e347f1588f3be9f252de92d0b62f127414530d6654c5bc71c012e7d73793ba3e8f830a4e5d19e1d77fcbeeb902352576f1eec680a2d0715b88bed58519ebd5098831db692b9c33b30636eb127c94e72df4b4925ebb8c48899b41a73fe5f4df6f0301b84ec016eec92119b2d8c802e50822b21d3934ff73815636facee53904a0066a8c3c4dc800c9fc662205a2ff0fb8b3e71a957f5f462caefaa1b5f0c429d88ae35fbc7c7801997df384a4a641b178a57016cc0c529078e7f2887098a12fd71f676c5d7452c0b7ae65f1f846c06eb1241d3a8f3e684241b35f0c22529afb6bd4992b4b5d79ec689534855a19f82ee6b757ca6d6d69b1ec9ec54b949a6d09b61e1b572d21f6c7c3740d4595cc576ca57282ce97c9d07bbee829b60e5c20178fa22a7d2962aff1e9716d086150a2f551413c93b574b8d475e20a048014a0bf59cd7e99944503292cb9d64c8a102a591eef413692f0df85f73f95f09c2bd2bbd63763c80cf1a57649989f359b41c7df3c42c818de313a18bd2196daaf3524e7b3a8791f2a2186c23ced26d6b64a7cbcd0d414176ebb4bf305d9c32040095e164d20cc1dab683041f3dda096b4b1082066752c1beae9118442d8fd02433fc3a3c1c0e53043e618027abe770dfb448e7ee1b86d07372f6ca2a7fc5ac8f5658456040602695fab7a557e308fe1772241cb06cffc815d5954237f4e298a845e30ce35001205918933a6b5f14d8b4d0e4f502c93bb69d1eaccbccb2607621622e0cfd038917186d1e65e78a21c4fa297508f505de1f3b511e8fb15394f447e93825b2fe1790e00243b07c5ad568bad33c2749f887e60ae86b1a71009590ae83cd64b107ebc9e20ed96b02744005bd765901413340e32a97377bfc084f01bfb5d599167b01ceee6cb67dc6affc11029a0fcbe2490630b1a5b781d1a576b2a5a1d521f358b2e87cccabe745d438df0d6c38d5f05bdd34fdb76ebd0504158df034175b8ae688ea67bdc52f38b364318b9671142838e4202a97d1ba89907f002d70e37f1e7afaae66c05909ff97dd99eb38b59064125288e602b6fcf4ff4db135c796ef6b0e9ddfe55aaebc50c39f1a46beb3f2302518d6b8cc7712f932f5601c5b2be89f05051991b535aa7aee7363089cd0ed0d5d5d90dc9ac53aca307cc64e3a2a994c475e2572fa75a752e1f48d9b26e0fa22b85d68b8ccfa5bc4e29b18ac40872c53a9920ca64998eee9f43c815519beb57c764b494549ba1ac4bfdbf4858e9d11c37cca225cb68769630a3873fde4d6acc3ae19969ad9d22929f8e681ba58f4e825cd65bcc2764c8d51f94d224560c4cc54de08289da3ab808594356edff48a33fed23f70514ee4afb45b4fd0b17ee47b6954deda04446c3cfe4c7c55955b5ca978e642e4c6eb6c8aafddff2c8b608cb748b766db3ab0eb6a6fae86b04455f0bccbcd2286755d4bcc549cc28871c9eacc878ada083693b437d5547ceee576542e182dc70e5a0be7970c2893c870ad896ad63a5382322884eec8328b931dd0eedf8e42020e823f22e0164c9edd800143cf6cbab7f87a16370ae48f8333d6d78d4d4dfcddb063d60bc4ffabd3cb80a58737c6500c2dbe71b5b9c39edf0698b8d636a3567c231cfe530ef4b12f22800bfb0b949ef7b9bfe924ff567c5890efd4fce4776935b27b1647f5c0efd4a91b08ee5c81118bfe770c464ab0f305fc8640ef77813e39bc2052406d130fdfb87085b222d4e3f11111276a7246b714cf34c74487a001449ad4409f99dfa2a777feee3baba5b19152dc7fe92cd68978606d0a4fb22489b6124ef1518554804fd27d04b9d5ed11022300655c877c86de7b02d3c6db2d5138383ab84dfb9d90e2b07fca3257c14190e56e81ca49c0db145b180ea930a8b4436c5322cb69b81750738083cd50fee68fcf280ff6bea05be81ba2350f46d153f7e4a3c3a88da29dbbecb8d2acd3f89d48f0968aa3776bfd0e85ad5969ac434e32b168d36c6a4f6c6c96bfe79819e5c33966700175aa09ddde695423b46e0079b3a8fd1418139988799156c6a5f295642c757fcdc19549b8bd5ae4b6a63fe5d1c6d9d2f9a8998c6317b58ea9fc562d319f76764405370f63a15354c4dae7c914c682cd9382b213dae56ed7a1eead8e915ae3b1509215e7142340233377712372ee223650d7945a9619c6de2dd29a1e152b265b0ff798b862edf332deeae52006b93c5858a261ac8807d0d3bcf356f190f061956b40c930f8dcd02262f675d6ad446d083a1d9340c28bbeb620385bdafc01a33d8ae172ff4780caa6f47456a2ade6d88fcc07dc5e3d39be4d766db574df49133a8375959fec8bfa22f3a3a16a3a39c722fdfdfd6e3238af2e8616a24c769364c779e223d8ecb4444b2bacbfc30848bfffc68ba088494684ed7892ab95f8188f80f43ae8bdb4c587980899c9bfa4d7ccf9c4dba9889ce9e4c3233ae9a13b460b51b2c484b7ee254a0c5985423c2843b6c5daf196bae0a80fcf7b0858a18fbf85fdba10c95f3a9a2df5ed85486aa069eebe42aedd2f3a3d2c68766bdade31d0f4f0d7b32c24454b38a3c8c5ccacf2410b536ec98fe0a1843efa4aeb6b66e1bf82099bc74bea11522b66afd2bfe3993f1e42ebfcc5babd775289d339238d6dd884e9bc45095fcbdc2d8ace187b24c520e319527853959794f933ca693aedf323727381d49867c942f2832df4df6b9e6b19586bd0bb07d92c4859d3583b84d57e09b811c6c65c40b70298d0f89dc1f15b0a5437d65f1cfad19d098b174b78d8d64bac6a09927c8daae5b4d6fa65453d3b7aec32b1c16b22a3d5464f000a2bafcc32359e9d296cb7c337b91082b2e42365036f335e71d29244cb7db043b363bcb4e8c8aa71989f8b6e1935933203a8a2c072c03b441d677b99681043b143f3f7d0ebd42758061bf0dc13e5007c1d207e519cc966697e6225f90cdcfd2225372a91fb6977c4298715a3ab194c973b85b5cd2c77462e23f0afa416a023dcf63ca6fedcd673520afa019a45a6b76552999853c2425f538769a794ce0272866a6266c849fa09d1fbacd3b718ada282178e2a03851dfd0c4d489f2067456abd06b9284f25cd89c77ce62f4d29c57243fe1dc39add3fe19b4465a3996b45bbede5325d1f1af50c8097987fac7328f823c52c167aae51ef9a506101e970349cb761c1dab001a7f180ca20de8c156665fe215a6757cd12d24594ed1a49c4f326c7efd0d355f7d228d3da3e90e02837c00a11439b757c986b1ab427d2b5b7c6e68e079f462e81818120c8eb3b131ac19c88eaf32119fc7ec9521aa9f3fa95553a208cea5dacf3c9c8e74ec2b44c2c98b92a697b0a1332076b77323407fc773a5ac5eb6fa707a8465efad7a5c6b9c941241a096145f22210c030ad11f77a8fc1d48feb8e23f9bfa0ed77f50c2ce7b80adc43f708ea4de3082d6cae82c81283a9653539dcfbedcaf1d40a25398e2b1568ca7f48ccd0309150a25c3f00ae13d8e1790ab368ba6eaded35dc9390977b6884bbc15e50e7fb600367e4ac4a6ce9fdca00a40be56916d5f87f98c5d0689ba65bc5e229a7544721b57719292d5e664e55e10b265695170cb3e175b1a091c79ec6c6820e4b7bc1180bba2f6da4c51928d327968aaaff5d0b11885dcca7adbdf9bfd57f7ecc44f8aa64af26ceb6d8ad0acdb1c7f6d0af08ef9a1de54ee943a5503e7408951947f24e3868bc601a5b861eb14268860d6c7039b41e6078b62c1fe33af65f777e69e89173ed449437f1ac597543d5f94ad6275ec3bc5d6bc67344bbf00e99e032c196d1f210330e979eb6de199edb046c07b7f0e86c2b578f877bfd5f07b7780c4a5af24b191803cdee617a3d89f2d0f59211991680223faedf04ac12262bea792cbfb8e83d8da60d01dac1488b7f4a38c627c76cad7fc7a9efb426c19f605042b0918f376979d190b3472608af9031b53722d01612397f2e4ba91cc521b389d5b173e7ba543d7fa6f3920aac5267a1a28311ce26d3dfb6359c1796351240fd4c1a71db1b01dea6f2b03d368f1782155be3a92e3e3c1c4e3cc908da97637250c750bc59a4be68c42f7c1f70b5ebe59b232f7131c93d15ac871be30943c13ac8ed23d5b8bb3787bebdfe29280c13e6f50f496cea6f1c7556a16ab1ab8fe572ec32a4bc4e0dc474aa4f82a0e3a6ff1945f98b828d372a942a302237f5860bf3f8f18a1aff2722cd2a1805bb377b631e1d23aa1ea83f62d09acd7d0f03f56b68696d71964e4ea29459c75fa86543648660fe70fbdf0536a5aa4ae3b4c747b61829c43eed2441be2688ac8b79ab2e9b8243065592651a4ea09e202e8898d8e12bcfc75259fec9af6c7ca04f4d8f9aa521e4a5d14031ea8ab2a010d53820ab2f942f9bac7a75fa4b1874f19b5ef6bfad1ba9feab0e0ed8d8e981bdf9f143cc0fa2761829d8078c8708c5ad8ceb51d0aaf87c016dc81c722476a48d10ad50f1cb2bb9214856961a8bbbfe54375a53e1e183c9194c2230092a62d524a81fafa4cb52c4489d6a3a74a7a8224760fda95fffde31e2a9bccd020a4cb299391acbe3bbfd7d629539ac51cadacc60705b625f4a47abf5745fb698ee6ab8f3c51baf6514dc6b4ab05955b7b146120eaf615c8c8d0d9cd515d01c5d6b03f5e48d8b9bb843fe0559fc6a14789664dac6ddf92c725cb52b2f0c68cebc56b544a2b0836f9ceb0e3025a1d18c81c2a70d090a78744457f4019fe2f5aefa11424f9b807f4a7863e9b1cb6361ef2df5d71bc5c63367e34b6b45d4d548682c1eb298951a6c62159bdab3eb15ab2014bd80b184ad88898c67399a3a47eb3ba29933f8d1ca3a4eb051c2d8aedbceb5ca80f49f0f99c0b907daacf83890863cebd9c22227799f011a403dfe009b6d16b006501d82679f597b0a1cbc3b090fda347bfa3f5656dfcbd49f2415f270e7597eb81dcccd6ceefc15add67a5ccde23011df3f1af6275c675a60e6ad2d57ad9d8e503692f162e6dc39f1bc71daf3d452738e89a9c34f9ee2f8cffa995c1850c22821f6e01b85f1196958725cb199a201d27b5285539949fbf749b439206cc6ce2be4708f06a229215894d4283df6fca622e2059c9338317129cf666f9c0c9c41dc845f536c7a159d98503b606bc27075fb95ce1723e0943a5d0aab1978c24150acc08d3bcc80d3a876e0a93f000ddb1b0ec0a44cefa0e658fb0fe601bad63c2d06c9049b9cf6611b6d3a39677482ef905cb2b0c3ab87e9f2f6c9810eff73687fbe81b6d1195e24c3e7d441425e8f839c5ce0eea348f498192cdbe7ed34be725bc4379e742a98301a890bdda7e787b1d72b9e52c83ac9f7ec068d4a7dd7bd4f82c532e2dc06e6fbda9253b304a726f71caa4cedc6fb3e6249a5c159b59ac7744aebb69609cdd156191d8f682505085908baf0900967339d73852da139e1b428de11c38e177dffc4d6f84411bd7a5dc199c544e466e3c7f46b82fe7b5c86726bba67647a08511bc094b7db3dddc90fe4701a2d4f6ad27f3bc3937ccd5228ef43ecbe4d606db6e6908eb30a76c1254290b931a8f0407d9ef93a4598385daab9d01c9b21367af3ac94e65138dcda97e19b9f5db2d57350c6f6b4d9799a3f1dc73c450623da7c8f91f99920b69e6021d5adbc1c97252fa88e26d3fb51df07191f2acb9f0ae9e82236e5256dc4dd31639442b71112442053b7a17ddf35a9bd9c8ec59069ebf3aa0770d0ab2269b64c0ee6c72102258a36af91bcdfed576d9a9223d90edbc60f6293273f8571fb5b906f67218530885c474bfcc9d704b69d8357cb0095d2c3593021101f25b1acea760855e7912639f738d2a3f69b0fe4bd5448187c083f2e8f816dbb85a45d670010e9a18f9228570d39db6f68d08f76febf4dcbd49ecb25d009bb3a8c5ad6ffbf5ca9d68689b8f37c13c57862b546ae01d19c9f9f2b8ccfa5c066ad3650d60f35545cea8997c2c24711439eaf36c9b341a0cb30cb946a688ff3f877d9c6fb754eabc6168be197baab288809ae18953c937575ba35d878779a9dfd9cfa39e978510ec152336b3aa908e9ecd4c3d3635b82b608304b783d367ba2ecea381a0b4159fd76620e709bc58d4b421eff6e7efe6eae16714b875556b8ffced80052e37ebe7f1d56af1893a5e3ac456db7b51e03f95497382b09f7cbbebba38f39244b018c04d6b48ec4de5b8dd6734a0e7af54786739583ba867e8902bac64be4a00507a26e09414d15c5d1d10eb45851189a5e818d3b0eecd239156029de6745a9380aec2a499a9ecd77b318cb496433d0810b1cf040366603cb88833496d20c5b9e8025156077566ee99c770d340c6905c67697178fad1cda5864d38f6ee4fe15bf858201b7d6d1ee8c6057f3d7c0aa0b8a9e1f7a4ac103dda3dbe84f6bafe6a7b11a53902d1b5b5395ff2f8fc70020731d5ef9b6cfb5ea30473b472f7bcb9fec58d0fc9ce5cf1fad0c074942617b57f56c800ecde037f32bde44344c1296ea5fe02b95f723f7c997ec47c8031c7ed8a8e39f3fe2e3a3411448977288be22d5d4329bf4c32a11be22f28a1810c551f335c032424bd8eef9909cfbd7a367409eaacec9649b85bdb69dff2f0c2e270f4d24a57b8e2f3a8b10e1b2fbd271428aa60615e39da8092a74fab403cf58c35e3b1ad4fc16be5b04b3ea4bbcc223779ada36b4cb8e905747bcf7400cd45f8c682f0571e8e9a0c3c02bc48a95649ddccbe372a9bc11ed7b930f50334f946784a1c1a18f765d6a4afe4b3b95bb7b0fb7220d2809fa51ea24b3d0950067406af2345babc37c205f93dd019c8ca28dda08e9e71ffeb441e9ea18e90fd7793f3c0a1b828d920f27da1abe0df075a4e57e70aac7514095156e62ef86c3da1d3b96ee9b4a2e3247011dcecad6af8dfa2a38ec52d200f9924ca7b263b48890dc07bf585636893290753e953921d29fd88263ee55da740a30449eb3547a88fa312dfdc4c8cffe91280af0f1caf923775e3717d09db743cbe4546711e5ee51de70206713348f76ae91c9450d7b6f7abb7beaeac618ad92e4681e8b582429f44f186f77b285c1425b18b93abbbfe2a5f9c5dcfbdf155cfd06ae55d6f612213a8047eea4561833f9e85e69384216edddf117f61899153e1bad113f4147ab90805c17777f49f2b3db8f54fa57f3cc42c48d85f095d8f45589688ce3d0a2b66fb76bd4450f527e22e6020cc9b2f0d05f848a72d565b5ad1e1d80cdb85fa1863581aa6e9474f808a368177c78aeb9869408c35d6013a7efbbe5f8a8932bcc3ceb657eeedbfa76acee539ccd9fb3afbb4416323ee42929894e488b8a169df97b693fe4be6cc59a3d1e99c26d0196e538cbe8f67689a97ed1f0de04aa49ba1d6fd0bda18f592c3ce7e66f64945abc292042095cba1b0db9832da4f234b2266679d1f7c295a99a1d8c48ba1bb4d0560533dc00d25a910ca71748b32e3a026d1ecd9c670f79fbe9e9b80da488701180e0580cd514cf18db7bac8e7e33f787d064b0e3c27c9b62f8c29d2e18ed6a2fb5cd34a225000dad659fc62562a105e1d11e9495272c628c6e0053ae0b325df109ec5bd17237790bd3fb4e816e918739d24ec30624006fda3879f747d444a4ca94435258859de54f8f9df6ec53727e7961243b81e70ec357a516d03fc320ec5c07bd5f6bd416e672c02b3e72408758ac6345bbeb07b3daf3fec97ebd55e60e26ab38d80482969ea07e3382638a3e60a2b85409281de8165b7d173aee1416ab03181e65b22e772bc08616da5898d69d2ebc9dc6a4eeb52393a453d8613bb24f12ee2485adc80566b25e65bed08829f36d8ce1b71e3f25049cc45d696394d653103a2d9ea04aed6e0cfc59065e8c8a2fbf31486cd3ccb1d89ae3e7513ef3e6997dd74e094357d8d174108ebddba1cdff97c2fbd0898f834bf0495c911cea5b8a583839e80f3f770eb584294b831f03f873460d19a742d2bcddbb902c58ff625d9fab0abf82e327fbacdc7fb73c9d57441275b4f803a9dc9f9837f8296e39ab07c3d4e435502def975374be91c51700ccf89ae0be608b7a41439397d33e6abf454987e8d789ff5ff7e4934f4f628a47cd941f2ea060851ff6316973ea4067a4cea510f0432291e17fa60e7948b450efd2a845da0937052038565cc16f7387028d373a4aa83c8d3be5467c09a3f7ded24dd4fb94736ba0e55fb969c3f37b0fa5372e06a81875419190470e8464ab664f1291c0ec0e62b77e69ede77752bd7384db61b678e4864ef370551e0f5432347e357f6f87f72609b9e1adf901ec14c5a0350c753b45c5c21aaf7b7092b3ff9262b04bdaa6c148a1af8b1f91dc6522ec3533378abd168ccdb3f588af4f9e4d291ec7d98b301211b36e8e60b6f8ddf3369947474260e36608a9ad6d0ce52ddf943a842526740eaa4a05532b8ff9734bdb15041632a3df99b6ffd01d9dce62b5ed5213b7801b0d1069e0aad9fd3de90236a1a9eb27d348730d053fb2521b8b1f6bfbdad946caa27fbeef84ec2411da3d0b35bb07be5103fedb142c9effaa1a2f3ed2859936efae50c1a0ec2790ce7626407df97a78e1dbb33310e18c9e6a091189ee08023825e8bd57f1552083baf0dd8d0a06e83f2048cbf6c0be6bbad3628c028c5c8a4c098b92b296518f5c28c994dbec55e2ca63cc349199102a9898d76b4ca490cae590dfd9592140e3fb365ba10be32cff490c4638893274893084f4886e73e6947cff4377d62bf1e3b19e721b5dafb81c86c4ac523706b0934ff3a427690a37c42977379bdfdece10f641dded327de2dcca528de1abe8c585b4d4e757020b8a742fb98d30d11b112b64d39d95c5a2ea42e9df61851a5a490f277eec29e2406d5f294c1fa35b11cdf0e1941532e44d5ab9eb219fe8270652b0566d5f7b90ff19d9ecae0074ca067d7c69485706ad13982c1bbb8d2995d5e56c754b5fd7c6b56913cc9a3e712d6a74631a9564eae4fd25540ae212ef0f52e0caac8aa73c10224c1d01206b194e1db4558bf1ea7ebe925d4771756b23e3e981e7a329ecbac92aefe149ce95dd2de6276ba6bba631c545884664001c5dc70eb936b29972300f9ea71383142f6687bb91c9ff77d75fc128a5f54c0bb679b3638c06fac4b364698da106523893481805ff917e77eb82622770de0ab02af643585d165ce6cbef4f9c8fe20010181955f60fb835386d6eb24ea25870170017d87ffe84117e9fbaeccebb419388ff1a6b64d4c1bdfda1f91f79d8621cb165061335a8254c522e32e151fdddd7404c796086420f120f68525f54c2cda772fcc98a78ebb5617196214ea479bccacd1f4d37992d4f61e1d92a4af94816c525c9554866c9eb445d338414335518599536acf1dcf304f835d8ac88016a46121d8af7cca822b63bfb85a4f66ca85e340b5761cb93ea64c6313efed46fd858b2efff35b7a7ba8cc7bf3c9657a2fbe327f2c5b7bd521864a1abd7f583989a96ed9334e0858b251da3eb95c332641d28fefb22b4dc20ac20da1bd6069dcf202815c957b1e96ee2327530a5967c786de2ba8e2fb68a87f00a805ab27dd654c95b1986a67654459efc99dcd6e0e6b5bdf8b9241eb7a1f5d2f67b93b3e1ec758af9bfc6a140a7a65272de259539fbe81e92528ac99e1748baf9a78d5ef2a6d44e34892b2e20f8392559b6b1d9db804bbeb04d73a9b188d7232743368cb44f7c362768755052e5c0b01950b6f09d2420b5854eaf24734b0143f82ab34300a308f179e63773230520de1de19186a36322e7e9dd087ec85b30eedb65e02a8ed1238595c5f2d32ba9813e3b0c465e2c105e4abb4febe7d8ddaee35bc6d1c59afd724e7d6a7620d0f99445e4f7b81f2ed703e334a3449c8f09969a1414dc595c2be351de3dbbc820ae957e13bb37227e108763d3893468eeebdc774a8fc4acdc941b18f7ea6ba0c875b8d83e01a644186acb4648c239df94dc67964d87af7f489462a1aaadf7b388ed4c4f3bb49791add926d5e9c56c0e22607124a65ccce9b5c72c8c8a230895eab56f82b26492ca52d24f4117e9b16e49142b48f618b23af40404bef909b8291d794e7418ce387f4e025fca943e7cd6ff5ebbaadfe8661cca2710b83630b1d510df88c5a8b48ae51d01582587c1e6ea38963d6becd31bcd2a9a0650ac79fc35810168959b40cd298a575266302f7843a33d1693724939eef7fae750ce926103004c78bd2cd455fb8adcb0759c1e2100173cb49113f6de44059c692c2918531e9defe22bab9a7138c2985b719a886832062900bdd2e28388b9f7f5b19bf841305a860461c54fdcc38b73388ed5f174d8b33cad8f85c16ad2ee156c544a0aa0756695b3e4fa3e12a5b159c4928bd4851678ca7a5f2ffa1b096b3acf9f47b43975675a2ccb54f077c8901247ab28c49fb1f7d1edb12dc5ac68a90be99206d8ce8ec2a7618872abd7a721d35d095d9a808f830c818cb33467a20c4b9b4aa555056d27addcebb9a6edf71efb9afcbccaffa364c19d36b23c96ce2a3b45df12137a8fe92db93a908361cc782f277657ae4e6e80ce9db6aad1bb29b197e1b3d0a2bdcfda4e715822049f77a6d079d941ab932afd5c8705eebc77ad1e56bfab15c967a977ea29cbc4f01056d343a7a3000045429979c16a321ab6de38c5bfc860cf5a88d62eb845f7c1024c57d347f14ff4c2a40c0177985cf2d7acc6fcce28e758142e936df5623c80f76797036567a5b9cd9057ac09a67af87ab0d4c8a0b939f43720320179c64d4c6c2bf040bf3254e79dcc8d4ea94ccdb56015c8c9389dd3da486228a3c8f49829eb13dacb61ab73de9eba2c9dcc80f646cdc5e79506a9c7ccd58545afd3f5a3b7c078b6e124701346ffa37e2ce7f2f1eebdb3679b553ced15c8838bc93caa375f5876947c59ed166c17f9bfbc6bd8dd6506c5a0856b802cfa50a7c114dad6945ec0fb077b17c02183fcf500f1ddadc2aec63a3ae20d919a4c7ede59f7f58d8e2d5d37c3fd8e3e9b8b78d7b26042d0432a57993c0cc2093b401c5b32d453722bb075136e4f4a631df02eca6c455a3d180c488b092d0e46351c55e777e300190a343296a32329c5485a14cbf13fdc20825be8d62a619394f9e282ae83a427e5e430bcd10a0f78516ce7da67d41e82789fa63a431f8c30dc7f17eb8c9b66f556581f83feb8e698ab15eeb3d227ccd33c655cadecdabbf57e15e262fab5c54d0aa113a72556210d46d862a69e62d776f969c6348057301f06b3ad2a9b3c29b45e09c75452956685e3e35189bf224fc14460c82bd1a9fdd740f1c3266a6e2b1963986a5c4c80ba1d7a9e4bb18be28b21e668bf7d8bb71b2a4d4ef035b7a142906ba73b52f682613835acfb03e89e8a36a7067b8aecea12ffa7368b22ebd1ab38d771ff59bb4fc7c9204349698dc4b6e0c6d6a6bedcdc67bf8be25f6c1f40bed600e00e97e44fc5728fe459a4f71c1ec67d548bdb4432930218da22e6b3d2759b98021163d1f0841da6b53859ac96a96314751df7934c393ace178c9cba4872213a5e814f67d8602684e69c4be779840142dc669c572521868ca42b79186da0a6706a09e93f26748fba83775ff70a9e2a4d61606994dfa16a0a449b45b876b4c5161b9dc8b0f7ebd75229b7a6d88e96befebe10708de0d401b13d6f563d64d2c545ef76d6b377a81c42547682ff1c893e3cae5c6e4b9a79ce8ac698141feeb517b5630868a3d5625a6a1f7df0dd216fa738d777b0d73bf65d53ce2369f617fa7771e10300686c65f4f13ebb233b71eecb4c853db3a07aa621a2ec9733501996e5f4b057bc37af27ca6f2701f7d7c5a9020b3e594110351e744ada8dee6fcdf9ed525d0ee562004d2c832ad3f4b0bb1e5591b2610b8b7bcb9625e4a5a964d6277eb9d9cae25204a39617bb56a7c87b213fd891ba4d4ac5ac5c2f229d1df86714172f8837355efb07c9eae22812214294dc4c08823831455396e61b7d776f2afc13b46c1b9144133a6df00d1b4b9f9eaa703a33298305c249dc09bf6e4d24cb888125b106ebe805b625c2280d930fdc2377db85194cc801a9e01c99640fac3dd0944a5623ed2dde3a76362eb28b1d5213f0ed94e82d0b28f767f979dc306af29b4648b7894448a3adf80ec5a7eba93306a2937554e01fb2f658a473c109a6618cc9923cde4c0f535dfec7804efcd049f2b317ccc613eb7d56d60cac6cbee5e18882ebc5052123654b2cd10903b08021074416d2e46234ef3a3c9181ad4c24e17cc7d9d74572f58dd46d97c353789d95133e85f855fe4f45b1cdd4060812458ea28f716bd590818a5283676183f2559a4eba019ae44e5c608d919c485b022d541f283c6af7762e7ea2a715ece37141c176de028c3186b7683f4096faf4b0cc1b4f638b5c934b80c9ea8dfa55be7446100e7f01a353b4625f5a9a90ae9c1feecf707f5814dd3c9e8c4a8b053f96c30c34f05401613c9cbb1362b24eb491b52e875d8af9415a41f2bc6c77f6ba5ee4afdd28b0d01ecee6a5ba73336dd0fe91a524c4458f9bff597db82113257c9f348bb10c4bb4e2194a0faff76f1ad7c213256d4604d52eb230f68d26a7b2a951ce66261fcaa2997df2954a9edf51c9a511e649b0ddf1eff7afa2fcf252d507d5657d40cd4b0fb38f11af19175ded0385ff652cd1ae9e37dc7db7983245232bd3355d906e8a1cd4440cd25a30ba9515089fcee112854ffabb7558df5e12f1114203cb2cbccb4e96b904f30c80e10b86c8a7449ec98dd7509729c7b282cbb68f13458344c87afc622be8e570c91d41c6933ea9d5790d8f2b900657d73a4eba0aa904604c7ccadaed9d451d83f1bbb597c90e81639a1d6823f5c0aeee579c413f4bdb14690a8b32c6feecb18a13b2dd4087a4fb681515df6b2edfbd36b7b289b91ae6e809f4f117b34abc895a17e9e44668d438023bc63c46ce71a0e28d7baffaf8e1538abb4d7bae30804765bc0bdaaa18552f1dffd2319aa06bec49d986753a280ac41bb35d3ed9e3d18fb9d8550c9190f1a5a3912650ab22b97cf405c657d94e922bc6b2fcba85ea9b9d0bc30abe6c523c6ccd574c245ec9dec4c9cb9cf4ca343436507a6ccf92de7291dbed1f410a6c5fe29cc2f1b71c61f4612d6bc6b1367f635ccd9e7dbe826ec55ca7a94eb67a4abc2fb30b373b86e40e132a3e65ae8b7c89775549523be895d120c33eddcb92e9861e7551c55256364de33e8f454898eda60ceef424eed4aa44dab107f92298398f67ac0a93f2d0fc891f1aade4923caf89b812f257da313920070af0915aecf2b7d761ef7f00907d97285d98bc6eecc8675df1c148e19418e84532192456dd2af69e175919e203ee083457c7060b7e4e40d33c21f2109155ae6174921813d12a5615b48bc7374347b521415740246cd611fb2aac932cd2c677763e2382cf38a210bff1d74b4295e99a9ea97e2b5e540bacdf1b512e197cebfad4a3489bf9b87d41c9e3f029931a0b00300b811ca9a7c2d4175217b4cd3af9e0226e9a959ff236670b879a503294f239c4395e8109f76aa936ee8aec1dc31b9c1733116d8e0ecf63380102baa1b3b02aa32bde1d4333bd4c439336af02139f09948859df8de8e8a414fb5d1a27d8a36ee8f192ada3932b0e458064bfb276180d4c03fcf708c2c1ef3a09fdd208e89d97824b7b63483439456fa0d0bfceacf183bd728bd1809f7aa5f4bc50457e0df51c53e63d458035733f2b7ed27a76c3082916be62de7b02e3e691085571a888cabfe423c8ad805a029b75c54bcae9df28e6508698181b26d4918ce17dac0f515ae9a27b6dfe72ed0c9da347c0d262e13375e9fe0f341b5824549ed0c09cc3480999c893e9abba180afa0efe63613b050269a79353990c6a4cc4bec433c375b8b328bcc4cfeed244f102297a8a9846f9e8596eab9b906e5b573b6c393423e89cd1c476381d154a2b2fe5a5f0a5023ff73e27618c76c196071a1e9178bc48b4104bba6098c71cd7a29f237130fa4dac24e91d14a4cc042cbe4bec16d7fe36be2f13a7d785ff8c47ce64713271eade68da53fe5ef9c3f85c2896b4d85fe1b3dc1f30c000c00a218f62fcacf8c0489c429dd320384daee67cab2b4e24b4dee74339e5f04688c0650a281881891a5a5eb90696478510e0f9471e734317cbbfcdc91884001ddb41806f348104e7aac67d650a688ac6469f3c426f4f6f28679dbddbf4082e89479258af1e433e8f02a1822d75488ea67fdce3952663cca1f773ad39f8ebefc2f1f4342223530011d869de9b5c82c522bc6f62478e8588c1a4a94a44ad3c2a3aa226d8d1bfa98c1bc1ba51611438507501c3570d5d7c3e3149357504efa7a6fc2da50003e181bcb82a9a81b2e064921bd13710c7b718a7e0aec73c921b37efe1864da9f07c34d73027b78c2d8c8e513a504bc02df36c8c6f15dbf75e36879610f93a3539320ed02a9a8c0b896775e367993940cde1a29c297ed7ce759dcebadb210adac9cf6549e4c298f70575a9f335d8e35c8cf500debf722091469fa739d46c5ef151e1257b977d0b7a394c470d32c085e52e41dc37c9e322b4029002eb524681651caae91ab51590ac5cedf22290dd04481fce3ac30f2548f65839ad9ccddfd88a7e3be9098380b5747f5fc5a07a5cd20902a8b33478f3e9ca886bdf5c2a68f6c41427e7c5692844d6f6034a7f6dc9d45062f717ea95ecfced4de65bead1215a5bdfb82d","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"ec0dc2ebfabbbd2330186b0b36bc3d65"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
