<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"64096037f93a7d67cc152db3c14f3759eee1cd475d73e6c66d06268a616b1fbcb7e6ab0a384e8f5374172c8df2fd5a7c4ae8ad9d3fab1dd3cc8d8626be3f8879faab5c2e2ea20c7cd9f7ebb19f4e878e2f81f40e6b3eb2be2c005db9ceebf1f48a9d213e0376cd5e162f62a903a5fa2d3880046871e7055c54412cdd7b720ca78f001dd0bc8495a5cd79225bad4d864fb075b7d7177fc24fe544d2226a2f35214d5a06219e29a177645ac54805a63e944f85c11e4ff565b90d9c75df95c375197dab02fc3695d890c84f14fc6fdfac0b4c024562a18c9c7854c33ea21b2577001e85f2e87185536db1f4523f386bbf6585eb96ceaa80cdf01e60fd4717ffa1bff92fb470575eccc711b628e148e5d92436cfa3e8597d10d502f6b70e72e5ea23ba0e9256069de6f603d7853afcd7829bf64eefbb4e1276be5f8fc4f09a468c23b6c9823f10170ecf6a3f8bc4e8e43def3a1f28082ae14a6d6648f7196e15276510f6a2012b5ccdf6d76ed0e242a4ada3ad0cdd3ac46a62d56b35ae1ddd0b8dcd071ce2cd15728bc0a6ac9da9dc0394549ab0a2918682ca3cf3709e25107b8a60f902bdc1744d5b6dc404f727af88f436043bb87b3baf5ac3c39edcf78d62179115a7063c64729fadbb4eee87bb66150d0f4d9a4676694eba0e55453b9a44f150ec766ccb9a9352caf75906728176bac806fe38aa2f4e9791e3584b558fbc842606e09f2ed966d98d6ac47f452d8f18b36318ac1aaa2fa9a6cba984d81f25d0bd88d0f9a9607a7443cba1343e7fead70d41ce39717b8c8a7bc461017dc1674676b41f1c3162a20ec7dbc22b8363056cf867b67692ac8313afae86b32c9b99ff1ad9b44bc97b0ef3ccb5ec8435ac6cdd45eaf306bfd2ebea3277149f7a7851c1fa5d636c650ea64d53fcac288941e4e23f18a973d97e51c55b567a9705c6d12c916f9411aac5043c86557c286c1d5fc4aa74b403401e585c41628b2166cc8d211bd28aa5a87df70da573a54bad37af2bf3e01b54c14250b7443de4715e9bfa647643e8663acbdd4d0697ec323ff44230691130fd97e497183096e7f1ab3e4185ed6dca730409bc4b32e6949723c6576770548d9f5af25a1f1724cf9b6dbccf24b565b4e7c446f6159488a29dd48f3a2508c15cb1305ca51aec5d8ae1e8df7ab87e9984d153585954d009d0f0688f871aa5ae4c7547079441b5cbdd12e57c40494ef8868fa21504123c6205b805b437536e8f3b95b2ac5be3a19aec6fa649bfbd2ddd4d9d12c4499a7d5958e6e674ff9525d78211285321835fb2b8b059e5a389c92831699c47886878a403f13626fe26325a9a26e7c6845ea8be2798cc8f46a420da15021693bcb7478576272c455e760aeaa306fa0fbe29230e4fe5f55f31fd21e3089b2ae4ff2f480deae73b4f6b1028dd33137cf9e46ce2a639ae58f9c062cac2f9b39aea997b40db819bfbaef6f2e34cfbaa7a52ccf008a3c97b1587186907def5e7b75a333dfe6295478971bb2b58e91de4452c6cf6b6239a028afa974ec96f1d4d4f0ad9c7c1523ea49dfaa15bbaa0911a97276bfa8092ab75ea5ab2a0a198d2b9daae9c1598275abc141c823e596d56b54505ce5f24cb1d35a56d951829032ca62cfe9e0c171a003785b7b40b887ca848d558a233679ecf289d4a6d526c93fbe7c27ba96c7fbb9f824c3db391a08d3b745c702155273b5a49542d62c2fc4056379901bb3caa392d1df1441f413aaba833a45f1c63d78223e6abe1d64949c35982451d94b9728b75f01325320eea4a73383c3c2501c3bf9725bd04cbeab0b043ae647fd87e53d839eb815b55f239f86bf823d97ee42cc1cce0c32e40229bacae84b4fc6a7611b8dfdcbb82a543577993cb508b31e0b3a38d8cb3578884157c9140114b8914237737b7b31a894f96fe561eb8bd1e7b4836448b0b7375827aad2e29eec751990e122d2e37106e6a035687e83c3560252a98516228bc18ccd8f51ae84a10cf55388e4264c7ac8279a03e514a763149f7c3f3f50051787a0ef73604a293a42f84460c543f9c43e886afd26b3357c71a905e45db2a69b6f98d25ed66904b8264481b5ad26564721a760d1c6d757e78b0ad52c3d0ec125dd959a7b3098c37f4d6920016433718c520d9dc27eac14940494248960b34015ce47f7941ace7982b6fb113ff6e1f817430a02c3e4492093fe4fe4bf5d56c4b70c8d711eec1c39a78df039938d42983e59fde127ef41c1fa27d466808d313586ac51b6a8e4cb23bbca732b28073a88af22692127ff7d9cbf62faa667f4e771a06387f6037bca11565f67e36c97157d2b7268e676b38d4eb6b9b7c117384c2b0fc9e25a73b44623848451787f930756dcda6d6f8a55ac3121a6c26296af1430c81a7c6d08de4e17c5e864de35c35aaf54bd6110ca1828f89599631b5c2398722ed186a9c4f7ebd1567cc1f8849286557e97ea451c73fd4dcf2dcc9ca43bbbdc9c84d27de6cd52e46cad07b43e30cbf4d80005b2abca159fc751eecf00c6d6f9ef7ad3eabea5cbd4be9bdcd4b1326fe6ddcba5f0a1f98726f8c1cb324bc477637c0aa5ff7e5be9f0d33dd9242b351e1ec1dd043a845294f3926921d122e05ab923dc94714a7c6e615c8e5d001e3f6f5c2652db390b71eb7b41dfbea6be81ab756a9e0be92186997c5e725186558e262ddf137962a995f4f2e686fd2b0951eb553779d08af695f77089a8a2c32181ee89cbfae77316c6d53157cd6239eb5f3f1eb3d9052d90db514b26e36cebd32ef0bed203878bfe1c30185a2233c91b16538ad15f0cd6611e0150b50e8d1d85eb0a45df22c85d883e2b05fc300d8f7441149cf246965e8ee386762dc3ce369f4df304d2512c157d46f8a0ca7541a65a31b83d60057c16edbc55c7ac9cc1bb2ce1be36632c1e543e155a376428cc20628728a337ee41c5bbe57343b72bd0cf0609f12e5bc7abd18d8b534303749819082a98ab96ad89764c464eaee9341ddd484fb55b13ff4559b97cc8f1e362c997f4bf190a85393053dc5fd7dbf2c6d4572cf7c8bd3c346481bc9a1094cf85e9c5911a47c1fdb5b72b9fee08b4eb6948f87d0c284d7b62ad8fb7997b1ddc6bffb3504f0fc725e8bb3c33e1af3ccd5fb41a8aa0f668d8480aa8204b0d3d48c02d7dd08a66c5d044ce083941cf29c2562df3e7350d29c165f152d8dd6e579c735fff6e364967531e5d7ee7aafd070020ba7b5e4bc5372340d3d41d51ef199f2cb667bc563f13e930098aa5ab9b14e137f43dc3855bf4b26095f63a11a58fcf9ac168ef9a14e25d14f5fc1d5ccf15780d8a71db918bce3ae8da681ec81995cddf2159adff281906ef4cd986eea3ae8e102bb33ee2946aa3e6357c9cd4d5193b6c1d29dfec2c8ac1f4de267e4c6ba33d0b3a37577c00e37c93fa8cf81182cda38b05e98d3dee9a4c2a47007e9a264eb52ad67f6fc532ac3d484ae5388c81a52842f81812c954e10b3883b0b0c705b6a7b94fb2dc072a9ec2155c6a19f58a03c5abd538816d71addc4058eadd76e2b25e32438abda6a21d025a743d6c1ba5c5237212f13686c9e91b00d50ac6888ee593cf7c901bbe39695dc149a34f30a2d5c408ff6a60721288d6769c87822bb384801384ae0698d4733d23db3858fe9d595ab14e2765ad6525b90452d1a068b6932f6bd0c2fb73f56277eedced94f1fd340cfb08a90dc60a49606ba261f20fcc2f23cfaa601f05d86574b741dbf3d1328889d6181e4b054d879316b75736fe392e68fdd4295761cd1357be6717cb0372f445212ca9056c8c900c94068146a0a2fad3e10aec4cb5a2ce7c349aa27bc07411409be006f8dc743fa16f47f4750b6554731426259af21295fa5352e33b0a63ca04aec79ac718ee0e96a172077b8ec0ae7ef413556e32ff404d5bc3830105f9990a7366f3fa754a0971524abf15ae1c13d8763c62539753dda75299eb657772ab99eae12ec7f8609fd430d53b91e4e388c2026ed48684458f4f7f55d2c9bc84a36fabb60bc7c5f5559081292fee895f6295ef713183432d1d3bfbfedd7ae0e16211af074ccef6608168778024fbf88db1eed04d64fff6ed25b6ac4b1aeb3b951aa41a807d71d3667e1e00c36094598777348399ad1c3e2612bedeab92593a2b873d40b591780f40e156764fa1ccce9b66a35b14e726758e65e7264c93488d0a717abd7c6218491485a0928172be715299a92d4932723abeb40ee1808df4447e1788a720f350105328018310a88319afab86961bef40f1c7a0d46354f7b0cd1a44acc8a9f7594c6e249e79313d33d4a05233ce2b1177714bd3403221f744a48bfb69b059178fc0996d927e7ea016e206644a655fb104ae399a8afeec665f0c660edee75c090eb445e84b5de3d9c423a71d0bdc1d0f53b88ab196a63b65b3705d81ed4901a305799dd39a4fcc1d8c54fa639cf39b919f1c9212e3cb622981e246930f6088a0165344b229fdccb31e3876bf1710b88252a2b0183b4d301eb560c1b18283d130da779763a5f62287e330e08e3b43de43f971b962a1a7a7c91a6b62e57fffcb7f576d51fd2adf741f460579adf31c3fd1478f4c9bb94390da253ade2fd41a42d993958b1a73ef5aa62e68e1a0a2b365d24168153e73ed07a710dc784cdb126f8386980b84549e49525174604626c1d65e4b7b44066fb344eabb239c9fa336fd10f428baa7ec67d6b80fe29e5b60d6234250bb4d7fd95ccc707a4046f32c6eff0f86ecdc23e4a4646f436280455ff6a4e9f601e77dd933b14742eb9e955d68a19866eeb67e0f412700a865fe166f1851343d018b74f62877eb905ae30a1c374f263f8c9a6bf0f3be772bf3355de6ad9e22eb9f6bf4c51e72134bf5b6ad0b227e3f61210ac2489be6126d69a536f7b088dcf25d4a2f8610ce911716168f02b03792ed43a408ccc0b556d6cdda41f6dd42fd7fa396c2518cefd09032eb537b7a19eb93476f69976acf5415eb65461135870c103e290d864268658a924648abaea0d44e9c5cb78248189ec602fcc80bbf8076ea96958b82434537a6b16bdc8bf2fa4fd4e7dbd127cbb1b6de012468a90f183ba6740cb4363c1f7d1d8d7ea5f26affaf43492518b874cb6d266182e906ed3f242eca13b41d46e442d74e8c5a0252bd0a61c4970818904a12e4d0ec67b30f01074b0e4cdef42f37f5842ae914d3e1c25a90f8f942dfd9fe43b145e01dc8d7abef04fbaab18968155f57e9ae0683e6387cdb73213ec052de183340191efb715cee5b97ff2769233c922e08fcac92e047bd9c5381f042e61996410d08fb91b7bb4d71f0d4474c0f1de65b3f201190d631ea9a9980cc4e90ab330bfae5a376c051d7b67852f387afd6a338d1f0b729e2ef6e049584311c0faa2d46dc60e779f4503f1a19e8079b8a27cabc86fab44bd0a63c06e33510023bc81ba620e48fa62a394be1db4f124f498bc68c75371131873ba5918fdd91d143b458e5c223bd9bd6af34f70773947a5f852b28dd2f3b93f352568403948bf82eca6953399e8d54fcd55a10571a05a7eca2795481badb496ee6b168f215e93f3f651ff51e35c0e3c97c687c5e96e8124fadfb81e5d7bda25e30bc2b34d2cbef13d8d269ab319c2b946ef669fbef890e194875e19d814d8762daebe1bea0e5b007da9552a04bd36e3dd53002908f09f9be7824b1067e9112b39e5a26df02d3ee071639b8a99d1394161eacd61b3d946cf6fe579ce960637716558f4106481f27f1d352b50255c85cae7761172d5d880eb292d0991a53f0d816a169360252ee247ee7fc17994c2d480d778dc7fb8af356296ec7cdd44af833bafe34e1cc52ff93544e0a4057f34322627e9d2582dbf0ad4466e4829d4b5e4f7f08ef309d1f7ffc1b9e854bab97358fc52fd8eefa133b15be80d7331eb4b9754aafcf560fec2e4fdd7dff588e6482bc811088e0e6a6a4e02c92e290e7030e85496042f0a83a653233be78350cf5222506939404d9fe16c63fb91be99641188f3cf13083c430540fef9328386cb8e35f2712e6f286a99698736372098ba1d6974510e899aaf453a3e83cd17748d8111c9ed13286056befacb94bb06a2d691ce3736d9c10a1792f69c9610efb4e9bd42ea25a0e6c2dcf101f58d81df80be96c0086347a1dbd1e466a0a53723d9363f8d4a8827dda4a6233ecc8cd681bd216b1d90781e533de5264d42aae67d6c39704bf55957b5d976636cf039815531015f521fb4aadc6d840804641c51088f6dac1f369e8617e991bfab5e0aa6bd5614262cb66bdfee9d418be78ea809834afc257bf5b14cfdaf44de98d661413e64972a30a1b6ee0f414e630f4c630ad4fab3d6f78b1c85e83db6fad5bdf052e9b9a12b1250afb3711d629c6bf392896bb8991c4666fda662a0d287be067ac5862b08ac667852338ae19eede113239f3af0e74f364bf2064149790d014e1dec9e3529ef0ae76c6481f812290f379fadcfc638af355531e26729fd1de869fc9ff96c0336a0ff23e3cbe9add90c383f16334dc2cea9b6da33f9de8b70ac72a293caf055355799f269adb2ad838aa8af7922c020711d01c17e8e7991f38d82e170869d113e5b668774fce94d22d97ba965c8a882e4cb29f7e9cd1bf5cda94886ef08cfad891b948ca9aca2672365d30c17f70082d2b7ff7223a6c86e21e3754be04d298b92343b7418cdc2619d5ac7d1ed4ef5b5f6e5b29d9aeb982cdd579bfd7100cf2dd0a18e8976faa47e926ea818e0386b57638629ce5e7e0eda75ea3cdd542ac8f16fe48a97846004f6dcf1df59d4f367a9f03a9d12f3164cb46389e7aa312b413e27e56a73bdcf6c0337a9de02ac50ad9259db1f1e8e6ec7274594d9b6b58b838230c7e5d0c6233e2abb3f9ea9200cc57aea09b6d98b7d9d5307e8fb5d4c65dc80b891e3aa333789114a5f159a2394c838390fb760e4096c1e113fa226b5bb39e570545e0f40add93af8e0a7ab7ae21b7662b636ded201bbbeaa63fe56806a4fdc8f283d6f6e7e89032ca2c99474a96923ea3881511acb15c9025e544d221b541fb11476db0c290437040090bf0cba2759c1b6adfd93daf421354ebb5ef96f0e856de08d92c60ffb52e14f93f9155a8d0347b3b79180114ed7fd7638a0a9235f7fcf769445337c5e8afa21f3340ed7a53d28c7455d7fd23a760b3a3f72b8f0fe7a5c839fac480a163f66f7c0fce8d390a4334073ee8b19ec18e0f8d3529787e0cbfbc93f2aae029f6524c9a66dc8db37af9b0aab0abc064e0e662c51bd8bac7e70e1f509717c6cac46cb8c880d95b6cf3745224064c184cae747c16d5894e82b28580c555c7dd0cfcb0922b7fed8b4a679d73651c7fe24790e35734202ee551db002c1a1d899efb8db0bec291780840447bde1dcd066d1aee4a774c7c6b14a597c2ef22a6f493f8295b856796fb7c9fd2bf36849970f461e8ab16ccd55cb2c4c022d74a99934ff56cfb0128f7e6374149272eae8c548b2b209ee22af516fa171e5ea08e6f682b915d6bf6c392e6d54fcc33e3036e79e82d311378bc9f3c4675af9c5c62a24ce72a128f2eb5117fdd0ab8968c4412e2827c939cb2aca774dca1c736c1bf70cde1fd1944efc3df62d46dac1d3c5df5d06bb3b0b67ae61a2dd05d322f30cd5a27cf68ccdf87154e24bb6e439ff1a0db2ca942092685e3ba03921b599568efc91974ef16e6e273a2766c8bc2072a511e82f19a2cc4c87c65f12428ec1a124525921c5a82c9a3d1895edcbd252701293eb3cb9abba0a69202c0ebec7ecef435afdd3e4854fd73e0edd9219b4edf1b4fce10371f8400e2c06ccb941959ac29557b864d8731dfd6138dbb5c79b6f387a2b53a5a135a17088040355e77f935a6c16ab08484ba80378da6129b676ecf77e4af57b209c95356bf5ac9e932b3a7aaf02f503def45b3c8fb7c01d5117380cd7beff032c31831a51a7520fab7a39fc739654c1b5f2fee551c9805157608553c619234026bf15b69fc3bd422d4ab211ddbcf36ad77d4a2405787ad8c3422f8205f81280550b383f3f85ceb5b2302dbb54440a7e96f44c93c5d67925442b907bed0b1125ca2f792eb9d42af8b618641b0ebda7e308d5b46db72b8e9e6591ae79cc3daf5b2aea462109e92f8af3b8cee2e2e1baa46eef8e34ae1a9988ca7ab91d5941f309a16a93c99b2dea3e52399ce1df70db0bbe6ceacede0c3ad27622cb741240d10599b534d8b9d6e3899fc12428d1d9ad78671b047c17e792264180c6a4b6bf38465756d2ac60034ec32291af6fa411c6971141c118d854132648c892cd5d71349d3630012d94060fcf1171db9f0be7fc81a3714299b1936450a8a1642ca3a938dd0fb455d3d229c94dc48c50381c83d557d50c668335acf14e070b8304b4c92d076122601e333367a851e9e8465b09d9994348c6ca7498e66d106d89e4838dd338f9a5fd80eecbed36d131df233297d56f42286f0a69b500be20977f346c512bba16d3b09c917e6464941662f104b5d11f27200f46979355c3bfc39e1ab9db7e4b4125eb75498966f932a04fccaa53d4baaaa693f7778928e0560e1f68c8e3fc124bf9f5ed956edbd9a4109338f3427cfc7377939e71b4d8ffae907b8df8170e3070764a94b3e3d5af45c72ae125f2027b01852d13785783232ced81c87d7f27b7e03585b88230dda57cbcb0d810c165c2a0cdc219d2f966d27a4d69a4d74bbfdbfe3f4eeff0905e0ea5670d79cb28507c4bc12209f1a6062382ecd49002725a7f83aef1c7ba57a2ccdf2d620f617cccbb619025b278715a77a1aceee562d08063ede6686ebba12eb8b2849c4d710ded06d36ac805d75668ccc29459ff199a243554620bd957b6168f4e4b82e182ad25515ebda2ababc0e64c8b3eaff15c73e303debc996c0438157b7823054e4a1325f8057a431cd6d52217b5dbf2d98290cdd37f3d5ad03794668270d35a2dd4fa5a1dcb3d0582a37570d0175be4e16dc880ed4235fcef5875743dae2b7e50e48809261ab54eed0e503d3177887b48657cd3db55834c8ef38c3d00d02269e7b18075695df3aa9933557a2c3cfde2258d86eefd08f860455b462d7ee3f0b72f372e1a303f889ecd384111cc7b0106980498d7ecfb6a1fc8f42350c5d1aa95807e125bac71c2cdfcc9daa25d48e0aca67ac188543a0b72bbc7b69d81a699c359bea2080cb589d35131f30557899d9a1a74aebd91e32f03cd57d27cd9374f156054b49971777e5571e645b14b5cf72bd82a379bdc77a0d9e1eeadc61b2ec1b30f538bf6be161463ea4c7dbb7e901de4c3b4519cc529ada9bb4b5bf5ab672ed9ce87b6d44e17393f799719ca24d64f00df4a51337dcf3d1375499b275f306fb3820ab7500928c729925f3f28323e81c793da18e539eee0f43a160db493873bd3462e31acd2b80668949ef9aa1d697851e0cbf24f2857ddee0e9666caea898a1a6548a3a906af08ce8f1d957fceb0a160761acacbb1261574308aa8e1678c15081c5bc852ed6a190d1d5c3ecfae90eac463419cf7f6bbcf381894ad8206c462ae1e0f7256954cb96dec3269fb3f9debc0a6dc2be261b54ab66d2f8f74bab503cb3bc5633a22bb23e8484c6a3d9109cf02047e435e3e32cdbe45e6b0038b0f07a0d310a5c96d4ab09e0584622c1f06cff5760f992fc9fa27907699c5adfb1cafdd59efc90ade471380e60ed6a3245bf6bb92045fbc1148204c25288393e6799565cb3eeee7d8e51c8892b7b9b461ad9574b28588cecbf48e2608f7976c7927ec18f4a1519b4e46bf787e198b03180c8d71e2f3d8d2f28c6b80508aefa8cd980ed0cb4dc74a1a076491d62be580efec1cc2bf16ec1842a58429c1a36522615c54146af0395327f5b23d66471effa32963152fc58d609c573e720632d85be14e21fffa6c9c04493b1f3c887bd052bb3aed6175419469b599f1bc217a5fc581fa014866a23030c73107ef002c2e60a995a77999d5ef1359e12db576f77777633e4da6152dc8517a8ba52ca8e150c864dbb0e9d0e3358c46063993dd01a9bf222a13828c01c82c46be26443f0fbdea297da5207a90a34b0e0683993dd33d9a264b018e494dc047ff0c2f459eecd3f19af8f06ddbda9aae68e7f1bbed4443ac47a32a3bef6e18826aa0853a8ae819609603cc2528fba38ae7d2346bdc0f7b654eaf84163480bab810c9b5e8501b7bf7d203150117f464d4284fbac120039d505abd2f883ccb2fe1114d4479881f5f1c96b5d1f3f57cf78c4e27a1e7827a32d00cf3a190ed16219b5cf86498371b4a810eae5c32e7bf6defab2779f11b450282acba6bce5b3ea4ebaa4c3304994ac656ea3d6a5324371778859d2f93f668ac184ad37e544f9c5fec765153295e3e3b544121934b0c222281066c51d1c865166de33374570e72c090394b138d8bcfb382aaf21ef024bb123df85b17561baa3e0f0b343d3bc140a73b6195b81aa3f5041342b9d190b7b25e013e0a5508354e8304a5893707b62c5b26cdda051e292bd3d202664f28e20f8cceb1b831f7e5e3ad5638632ffa68ff0c45c68406c5b5ad717c4320687ab020c6b600af0a7b60402a2a94bab4fe3d569f4b3f8792bbc5d95a8c9ed13a1ab1fb7016d80e3e6fca406ef13e9f5b87bd3faa92b66365c35ac753b672817872c5a5a7ed61d7dbbbe904a121b3d88d80a702da27d6e520a3fa7ad8fa9067022eae2a030637b6350d4ce1b4d9be821dd652f6641fbe9581efad4b6eedca4e8284e269d2e66dc2426553a6ad87b9a11d98f7e9dc48c600823692a0951e0e9a64d997112ad42248694f619cd64d0f50a1bafad87af5c189a4329c20d22165e35816e90012d340d05d687b7d5622036caa6a504d2ab541a6ab193830a0efc514d2743c6a1769f7472f91f6caac69369425df86228d5b7aac778c0e7b8b5ae7ebd54283635ac4fe1543e35cc9eab68f97e1faffd620143eee0b2c1ba4db9bdd7854d16c42f450999bce7b9f06f1fdd908f3715c5559336effe224c31dbc35d25aa2e9c400580de7f716576315476e2ce509b589d5eed171a14aa62bcbbc05dd1b29647ae7a4ba377d2292cc486762a27c1f64d678f68536a6e49e56a680ca80897aab159d558c2f080465d11dacb2199b2c358c96e778b562a8a3aba7b89bb7a5c5463718363a27c53befd912722a2cfad9046b6519f59a806012b7b17092a1bd7e5e7300318f9ce0d338037f82ff0e3d800f40a5165412aa240f1f94427bd941b6152b1745d0d29ad8496f034de912930d3890e37cc76aebad438f7184b3bb50945b7261b7f9253b56e57d19719595716874327eba25edd33ce40b155ae1cb27ce6466457a9bac067ed82c5bdc17bca4c0d7855155bf7a02ddc645cbc7c4f937ebbae352197e70789d2458d6f96b25686651bee8e7cfc9436747540528a3e5c500be7c85ae9dd52c0fad0c560d3ada168e61d1d5ce02d4749ff2621c422695aba931138c8a7d56d77a8414f66ba329f02a5aaba86a82b0f1e69a883d61db80b7f1b7482565043029fc2fe95a10033620d9c7038e5d093493cd5d7ce91cc221297db35c8a4aaacaf5d1fcd1366364267e2791711f93196498c8c44144f5118e461836a55c0a62c3f0cfa2d0f36b85500a6b87c7b0547266fb4687bd2d1406c20626a68c615426ae376a0d46adc82ab7b54ea476d29bde614e9d9715c7e08e9a3d7e05776e2c149e63048f4048841d143b327eeaf55e460890ec15e2846f68d2020aaf0b530b7cef8c83fa428844d5932441bb5de6ea0ba3950454c1e26c6dcb6f9f906281d632a4665ed56337f6b72a915ddfa7ffb76f669bffd59e9e92dc5d647d1220de04c8b16df1073b56543a9975af941855e2d62586eb80ff2d7f5ee71904b1948a853f16381590e595cd32b2cc3ef01d91a5095e69ba382240b56375f9a79842734d6d5fd5702290d443cb61d891bc5237136b80619a7f8b41106de72a586d940a4b5cbcc39f1e43f245011e990037596ed625b15e7a1ac7a29423b3c7152665712d8252afa3ea3db54af5599db48f6d19a1dca9de533b0b08f25d245f0269af13f960fe9bbac3f20f63b8ffe9cd6785858f9817064a1085e628fa975c1b2cec0ca6d9ff329cda8941cdda9781349ed695737ff4e65d72f2eefc46e164e225947c295416aa62939944667873ca4e69c402b75fc1c9eb16d0a02070f4f3c3895fb1c7846cfa50f6de0aea81c4e9c73dd8616beaec9042ff4418f4c9fcf081b32ec818205c4992c64f42f5ffb8e297ccc6237ad9beb18cdbcf394e9e0022aef6e554919b943ee733cbbf8c13a40e72ccf13df373ab478c2bf9cab9234b65563536f92ae5e4b60b7c1116271232bebcc6ec898e488a1c57501b63fc568c65b4370f14dbfe6553750040edb25bceb88eb5de580604efc21bf618840848c525e1b337904d063aa6467963f776d318620f09248e2da3f5a6ce22ac13c85d51c34907438c9b80a6c98fd4a99a947610dd0796e2f8d63a78a2e4d7274d65bfb4b047014f674fc9692abe578cde7f81601922ae35d39993c869c082e7790182f24c6e778b1e8e1dcc4dc13196f40e42ddfdd65dc0d03e53ef9c2089c110d8c092c0d328e1782d42ef95fd24fc4cb7a5ab1f944a05bb9432357e408806b1569d336cc4d5260c1fcb13a2a7a795e9a8abc5c21381a95283503b797255440cf19324243e1defc9d01f84f738e5ca8c5d7f54dfa50824c3ab3926930fa1e1490a8c7300da5fe511daeccb302e6f13ea503726f4e5f1ae2bd2c3ee5015a7d41c79126dbe5013a249ee5df578900a0b6698b2857ccb433eb70e1804ae142233c5627dfaf5b9d7ba66f447a827942a1c3f8b0a236dbcae8df0eb274f91f6e59cfdb77d0935a0dd6ce7f3726aae0a38e191736a30a750c013e53753f45428ef9d516bc34a83a30b1f7f5d8b53fcd998fc1ca92739461887927b80f9b961b48eaa33906b8ea332a635b38adfa72da62f99c768b9c61cbe17ff161211b7f29f4e2e4210b26aa0a8bb72d2f29365e5b0d6af9fd09ca64de671c82a3318274f99f2bfe16d7fc180d4b69e63e07f8bd74009affea2676f37448a9ea3d672cbba80dd9eb609d28151eee964a409989823f146130943f31b0e7259db2071c49362a42f25371840d66d3aeeae888e8c15fe1f4647944dd7acd2eab5a6d6b1282dc654638eaec0f584303890cdf25ebf5e1b6ab4522c52b8874f916be6b3cb9b17e0ef6522edce4ccacbcdffdef16e307d5d83c61862f174a4e4ac038e1fe196780c82ab1014a0a7389c03a77a9315074f9134b6840fb0609e66837411393e6fb9491f88bd1e7a2d6cab5e0f95c2bdb630ab20cba3b528aa217896e96f1fa8edb15eb2a2924f47a80ab6a49eb29cc5210396e22d8b5082f1a675ec0b68719538a9409ab902a4df20e2176ad55af320a147fd6696cd8c341d4cba4922af990540ae29b4cf7dbec893f876d20eb0ebb34435ee74332ba3d6e9fa8a0336ce582de76b9e89869d99baaa17fbe05ab5abb668748a81d02cd2389623da81881a2bed5346d8dae7c029f019e6b0276b8ce2ab45f3823652a442cf3dc98c50a1262658be216ef487e92e0dc373ceacecc6629701a5ec0341a89f674b9330cb0baaf89cb1ad48f85afc540adc19dd6ce85085237671890121470ff9381562904247368ddb89e220abc214ffe1951c35eed5998147866aa548334fa7eabd1cf8133a64baefbd2ecf65ea423551ef31da8a53fd04c7cb53d36d58852b553a59c9135e09ec66726494b8d9d4004d39ccf59014b62c39f86e73ab5cf2fd7651168596441e73c05158f208bb502c53ff5d6c175616a73be5219e721265e05c51c90f11dce10a46b2c221108ca947a057d5a91f1f06d4fcf88418d8ad37fee5e06a9ebcc84671668466944dfc1260ee82c72bd6f221d27be6c730a4abe4ba96eca7a0d823cb39d7582c076c69289c3408a9e0581096b64fe7c80cef202982b33c4c1b17581cb5433f0601d4eb482226f96dd208dcf29e8105f7e46dc22ece52a8f2023a8f690446bd15cd93176754a85ca8e29a00a9402666382f72ebf627b0954b78329601b4c4da6e48b7016d1225ada24ecf99c1e84282785bb8109e4ed5b1b06abbd6a87a6cf48ebad4cf14502bc42e291459aea0761b32279585099873a336de432d1c88dd2378c455ee6109e051bca4343415167bb17abce44d9a03be746d39f74cc418c4c0fac5d447f58c3f099742a351ed23faba08260aaebb2dc70eb12264a6d97e1592a4d8845cda2fa9dff66dd4e6bbadf800158b69bdb25d900515135d69e66428aca07cce9f9a12b7ef326c3cbb9c10b9cdd53bddef1e37136d191c98fe89e4fc990a7a8c965ceb99b3a2e4748144b2f369b945d2e2743fa97bb56ca57e3ca3b03eae39545e99f2e62c65ffcb31f0d534a32a0ea7f8ae11f784859615223b9f824a2672318cb17a7c7c26318c4cbcb19bf3c3989a4cae673c73c86f9332851f4ba3d539696110bd67ae072f51ac6d00ad29202b4a057108b8451f50a023d58108bbc0cf70026f880d0b0d4351dda94260d8587398c536417749a37fc7f23b998111555f1552e8924e94f21fe43a7be7d1fbb8f746349940acf8e7d87d5b468367cd193add2ca8f49291ff2d3b43a563e92f448ee581468aa2ada3453910dc15af176d1d120b460ad2bf7d3d1f0d4bda136df3f2db25a0ae33d64ed813255f2506de16c80e3bea0b77799a03f883e91771ea7a524de3e247a5b00f2d4e2d011bd37092f58d12f9d0ace27e24204deab2a9ffb8ee7eea1c9490a2821facc06cfb5d8c6919a297d70e6d426e5d6bf3f427e4e60e6d3879b004d6e60e178b0baf9321c75bf3f20c9fe328a98fd64a9f0595d180bd6001f56933c960a363e6832131d00736f1db98f960a9ac015ae86434f1f3124bd5d8d98a403141b5f4eae6224e0a77b139220b5ee517738b970aa0fbf67176d31b4843301a7d2d1979dcdc79772a4c7bc1b0040f33eaedf29737723687e1f6d307cebe88afd55904ecd3a3fc2cb7d7317f8f139746d3071eb05caee231d787b8f59f940d1fda6770ce001959752785fd4ddc0ecc1b9b531c19065b8f46613c8d17e4aa5cca0000f38ba79b9bdc07b20ef2393e1d3d010227b77d2faed4a3e803fb88ca1c6b925ab552720c9a134e656f587e377dd8f3243c6b6de1d098dfaf5665f728520b612357571c39a879725adb04190059614901a3a33c1644c2e46cc336957350c7935ec75696a7388332fd911429bfcf45ccb5063d9840abe58a754d452e9df2096b40c0e187990ab8721aa2ed631f9a3944f53f656053608f744937a42be6ea0b4cda65e3e16e2736d85588d18055885e7c343a67043fff14deb875664f534da5a33ebe4d4e2f3b90c133d85060c823d763cd96c7212f73118fb50d27bb00703e52c5ac353f1d044aad6098a35f60cc5c359930453fa0b2e96c5c0d0973ad412ad872a436c92e242fdbca72e84b82b08d38a460bf93e50dbe3586a3f9869875540ba1bca357f9a6fcd49a08bbf03342fa840d61be4d556843743f12030ef514cd6a53f10080f19988d8d2cd3b463bc54fef4eca31f23544dc146b55561258054a0f8d2afe17dde9030fdfa8c1369c1a112a92e710ebf991064e17a130ff7c26d210c3c8a3b5333df758aa267ab18c9b2663257547a15ea479224a64876202953cd81bfe4f3ed8fc9c030affcb71680bf7d0992813e726a1ccd73d109df796ad47b8ad32b2cdf1fa1f7c4be3701d6682ab7d33369565d986f05ec37abb8e94c49b5e86efb5a62af67551f2aa80e3d48c17cb524d9f9b9c4592142a4f899ee7e1f44d25386bf7d1cfa70b86f1f2873ed9dc30159cc9911627b1d51360c1791595674a844e9da6d1864c9d5a091970bfdc4c49ce366cc6d5a6b7a99d737313c056df32d0c133accc17742b6daba8ad8b47eaf1e8d5a881a3b9a00b3a15bc6f6a34750e7db9976b9fcb64ab4e28e394ba584dd21bcbb64439d3255ed000e4b2fb3f13fcabe983618b4acab6efc9b43a369742966e7a171a36849b2467c7848032bc6de0fdead0aaf9128ace248ef2676457133dd6e0eceaf293c7fea761f19c09a9d5fe9ca0d9265191f40fbc45841dcf812cc6aadd38d93d030fc92e62d5d203160fe75d57072d9ea48d68e502227a9acf8288cf7cb332b7091b7d262501f73cf5587f5d20c838fd1ad0bd6af10e5bb85774a86d99d919058883ea2c904211cb587fa5e6bfc0ae4432ff862f425abb81055a4518fe65555698709eee8c88ea654bd1ece5648478409b4a017685a9aef9cac0c8be44fbcc3a1d075368cdabb136f222fd2d3b8d4a0e38fb9dd9d71b907c4da1d38238dfbe9fad59b6605769e517709dce144fc6f87ec125e0807149f55a9a9130682bd5dbebf74c8d57baf8d2f3478765864e9527c7f2a5068c0209f3981a3ff1a53ce2f5b68a355cc884ef509dadfc5043cab945a981568b141787f60d09404a25d75436cc8b4dd59809792b3962fc21dca02072baf857aa7b166cd6d6495de6371ab4244f29e1cddbeb9bc5051d305ca9c9ea14e59bb04f1aee092d17f03165ac95438edceab84ab46fc5c4d8c016d4a56c7d22629d04bccb0d0b03b8dc3304e64233f708e00c6f49cc0e6724d6e8cd1d4402b0f58994ddc9a209a1ad8af7d94ecee5e706d26a68d90ede74978c0b302a2591f9b29f8df7e37d8217e343770270e6eca7a130a928bd6ab0d62093c1adb85b6aaffbfdea3df81afe726cdfd03f69dc4f4eb72ff387ab162aa67fbdd1ea337af8cfb1a7b7eb024450520e9ca32b24e953c4b95bfc16317850b7288b4f2c50598c1f224d3b88e1e8a4d282eb3ca0bc492776b3ee25bef51f72e4b38f6274fe95044d0c5029717d637d2302ae59041a33e8f8efae4743475681a66a4ed33b56f55a67153c95488d17ad4573b825c1b958327169f8d1ae98a88decf9ec5b04e42ce3c86e9596a0dc142fc3662df70c737912d38627b2e869b30037175a8d1b5f43567a641f41298cf4996df359ff4e180ec06b206589182cf46b7ddcfa16c0091abb0bb08b0f7994cbf27b86d75d4d2fbfabaa2c3cd590096a0e3d4c0a93d232dbc60a891b200ef5edef778f5d9c2ffe2efcdc6aef833679151335528b25c017838fcfdec0b5693e523b16f9d663b5641b600e816a7597ab0b71619bec4d93d8613d4f9643da0b7a2c24e6769eca56c299cbfeed17bcde123159941e240ac36502b85912ef84e4485a72b060312225e10f54f01c7a12b123683234378bff815a22628e31235a937d5bba9182b243ada682268390d7c852784e75ca431deff1701f4667bc8dda93f6e21272cfb85abd50fa18b24baae9c91b6883390b3a7804b2bfe017f36b3c9d9e1f9314667f58d2166b99c0f24b8f22b616cbd380d8a3d529b5c7f6367a9d238bcc8794f1ccd3ed06081faa9524fb5c21304d099a146a6e34bdd820ef4d6d50235e83cf2b62222bdfe92bf966d47e71237d60fb53937daa94ee203c63f4c8705a8bcbb693558404bfe1b1da37950751492998cb7bd040e6a28e69d13aa8d424184529177df340ff9f63bf52a4954503206b75691a9d2f8b49fbd4738da8acc6b0411fcdb32d1fb2c219d484bc83e5e8c343b87bd1f3c7cd17b1b40812696529db5177df18a7c5fb4287e294b9ec0ed9b822fe8198c25d998c42393a567c7d3c7d00f22859eab353892f238225005f5ed4ffd2325c998be8cd3c38896721cabe0d2f034bb08d189d3ca93e3315f5e9f5abf06a5f08c49b51929c48d3280fde1fb695c70c9992da173ebdbb6df0626d7e5fe146772e5c771533eaa5f952080574cd731c8614c924367fefdbc15d2e1e5ffe6a3a02ba777f153b11c889e639833ec60bbe85ff51dc1edcf58450648750d65593a06817761c5a6946fc413f03400ccbeb411c2fc2daf599b129acd9bcbdfef030aaeeb1506137880f62b3219a318ebccedcfd524e5724554bd0447f082b9c6023afd16b8105f141dea6b5b2ab1fcb9ae102ac652ed73052d82bec69eb0dc122a621f56006e9f6f83fe2f78d10ac3793e9ec8fcbbd5aa744140304cd2a86759cebe4324b8249a0b66b53e2fdc5b8054428181df6a7bfd56a9f531d5c057f03e6a8a46e8d487bcecbd50f7e5b68f38eac2b78c50f55aadde058fb66437f0d9c3eddcd625f2cff8169084bb9f723aabeb855fe97266180999ae9bdec0bc44da8831e9b9cc1da7c0a842e5008ddc23cd32f926b41a1fa0fabd609b6a26af8b762068ec5889f1b1778106ccf10821ec0ea139d8de930786d26572c76a4435e5851102ddb41bf3d0d6b0e3eb68927d80e8ef6f4f5c7c5e316af20d198e4927134a6aa6ab3acb7e95455ec447baa19a3ead232b0a72f578d2e21f35be11fa23fcae47ed4d283f7a47a03c16150307fae1c761eef5583017f522e6859b616f3fd1f7f37bba8c6b5ceb5d557dbdf25f8547b68d22e2cbd1676121fcf33260f5ee863a12cc4c0bb0a38878b0df2926c177fa352e78f40a6a92b7ea6995e356e0ea31705fc100981998300ad2ca295f8759f8319e54e60afc59b5b5dfb4ecbc4eadc6edfa6ee344d56d4813dc2cd8e16e99a9bb7831a528065f6e78af24c910e4bb07f8f0afcb55cf81b2385a88e79efdd61c11b4f348d25b3b620053c67d9bfbab2720f4544d061db9ea871aa307a9f9e03a3f6d2ee34c53af2e03f1dca9f2d0bac6a60b6afb3c6c6530b3c2514b1e2d8233430e9058369b59f92b1de5eb8b1223d361f0339d1e3dba4b5b481cf79b43c143d81968644dac6cede2879546b4efb9f941c6db87e354415eec52841a1f16c887c4a600eba4597ed2f6cbbf5e97674745975cc0aed91d04bcbc33c7b2c4f19d7303c38f0e6a5572e73fd0260dda1bdd1c3e69fbb747c44bc889188932d70ab1bce9608d0f516bb358abcaab95a913dbe23f6f818ce17cefaae21ffecd42cdb03cac9fe75d8c77851f65dcdd24f998899698b4b00db3d73d8f18d6dda63e088b0440d7e15cc8c0e5b3bba800c49b7bd6a5e727d2e357c9408cdf7afd2048893b69b02bf6da7d73d6aee9824a2048da693624f63d9e6f3103c1334125ca47ad2cdd2ad4806d0ace4e24d3c55f48ae0660ee521a691738c4e237f4d06f622fccff342dfa4eb47a5a8be054e595f96aa506ecd839c8ae425edfdd0da969fbb2daba2cbcb0ea0d3a7c9c6637dbf945b552def47f70e57c5eadffa053fd815e60c0552c80ca55d5c03701885d87b3b20da1eedd0c1cf4b7859ba3a23c4977bf8c0c7606bc0e24aa00a5c26248faf52c7146419c2139c3ba3ab4cbffefc8e4c5f80a84d7eb2789a461daf1fbc8900c0a29f35fe60d9611f44b0aff22fda64a9d47d27792f5695969ae69c6241e0112be5e6309c464be1200de67929c265c8aaa5f5f6a8548162ac8474a79af78c635a673dad79d367f847c8daebbf8a67cd20d89b620de246863932c9dcabedf33e3a2244d95d85b69cbd3a108c5671a782f9b734d96fbeb00dc9c70211a583641118147f3067bfd9404324395e15665af54bdf43aa012cf9fd67f61d0a44003d6eb779a33624453710441e0069ad11b2157f9a81eaf62d2ea021f7e52f456f3b9b2c6f6208cbc182203195b068e2bcc8816828235f904830854b328ac164801f2ddb975ede790046baff0379e9338ff592068e67183d028a5006d4ba8944e631b448eb5241644882ed2eadb3518bf26df44bb3b516ea9b72a85d2f7d1fbdbc5aad5033aab47cfb982ee2ebe17fc3bd68bf62eb62cadf248a1a36ce83e16b918c77368ef35d387414baa81d919f6873696d93b90c697752ae601d4ddcb28915fe4695fe921028e562cd2f73e6320af9862455db43983836204d84fa5823fe589c748af18e60698188451089cab4ffeed781d28a2343e2650b5c6e33c7ff764f54d105a1dc1e6103d66afacdb44325ae92822b9be14b962f3a54c79b3b8d46d3945e9fe1019c9a83d08cc7c97f23cbf848fbaf0ddbccbeaae48cafb987bafbceef9bba59f5b850e6bbb4b06862195de9af5a17aa9f5e6f3d0596059a2e7a5d1654810999e67e0c4c324bc62d79d0c15190bedaeae12d2b2805f1cf9149b5b4007cc7c6e6af1d2056083e51bcfa26b46dfc35bfa4559c8afe0e4349a22b6491b17e665da80c3e64a4617bf725a98a1d73b36e6aca2d4166adfffc1dcb5ea6425acda4af59fbed173c2b18ae6d6e40237a5b469d5ef188cd769fb05c0cb9edd0e35cd25481d1d96b6f15a0f9e2fd52493dce542af3f8f15d23f3d47892d2abeb4d87f0c7462315037d8bbb6745da10f8003bb6662552cbd953b0e22e0d5920a42afc437fe9666c7cded765dcba3e4651eb55a17616ba9750ea6428e2ad59d94f224f515889726d6ca77fc815b0ac0e5a18e9afb74bb0392d91dbfe1a80f51137c12ddca3556c562b0987f1c1a2171134eb053efd342a1abd68b38340ef3a796c9f7805c00a33766aff5589cae00e1c58f579e76dae5fa09ae6844360551e6149bd3170be3cc7e66ace9f143c3d74e46e407d8524a37ec40ae91af30ca8def3f1e2e6dfbe489a046578b4be4a77bc5b56146f88ff721bd8463c1209d9db5bb8a5975aff9f54f1ce98c7d601dfc4be4dee9c489c8a3b8ab069375ce17bac349470b085b9221d7a6ffa59016ff558e2fb078d47d028468f58367a3c3964ce63d9a5c221bc621f0ea314fd08602948e12e96b2280498f9b7631c76405c23145a422ddb7050c9b455ecb461101b73972386a6c93f0dcc5794a123111b13482fa365db9fd5768b2b1ace0943431e541bff0ee0b073795cc535005ca0bf72ff31803b5bd38f38db","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"126a08e53e36b703cc95578979034e86"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
