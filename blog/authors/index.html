<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"bcaafc10ef8f2c2c92ef2edcb16eb667cf484a96da1ba7c551880a2c9df3b99ce11c195d7de64ea0e16c2804be345dec3d41b4ddd30f5620c126d8d948b22b5f28c3e3b67cf2f70c0e964a5982f4e52ee7b7e6034036f00ed1b983c6e5abc776eacf59767a5b96ae6a737f729826843ea45106ef8be43f824ffbc52e3d47560dba40557b6a5a9e3a0d2109483ce21ed9e8fb9ba0195f44504253e84286927d346e73faeb5d6fb945417c496a2f5600a93fd8c79ab146c4c1f7a09fc069cd8edd8f57bb33f258ba635b87ec77b3e2675e840f1eefe80be0574f2cf463634c5c19dbd282938dde2a71c96f3d6d8442b5b3bfad4629f75fdf3e63c1c5bb1300d1f68e24adb16615748057045964d28fd1919c7baf904ef08bc6044597bd7b635db9b18d07ccf461d20ec8c387658cb42a0369719547dce5b51dc1487dea539d90c80f612e08772f99fa1ea786945d10c85ad5234f2b92bb76da9bcf3fb38c1d40d76e822f6924d18146c190908cc8b73c57d19f2ac3b2ab6fc65b5dff55d79544f7e943793acb1c2d562747326365afa8f5f129321128b57143ac9fdc5b3bb24da250ae7438a4da8a270486bc5f91c5abc1644917910346e945749f22ae31584f95cd04cbcb664b1fb23a61cefb449c9067d5f173a34d00ceb3b115f7a617be96934d505eed8e8586134e87fa7c7650c2f2bf9fb7ab315c5ee5e0f847b31ea49f0f4df9a65c09f32eb5042b81ac10d2ca51c395564500efdb7b95f7b3196fb6b4f38377de8b59b1f94aa5903d57582d1b3ee9e21a4a387c44bb830d1b26274aefc7caffbad28f41dce249671497b10df3767a905a7670747b1027723cbe0f85763f4a23b52dad7f55b8a91007f5fc6e070f6f9f6c85c81f48050bbc44e4a259113efe0d6110f979443f6cbf3f7a9a8a3d4e7ec9ddd1a6a69150cf886d6826fd08eab77f4829ed75adab1cb688f3ca03e283482ec4cd1dafe3bffeaa0a7e1d7ecea0178b3a016923fce830dde3de9d4c7521dad9b34eb15fc489803bf55c5423b579b3cd2c05c743494a515fd621d633e48a21d99542c624d75ffe5b3935f676fbb2f4679d254f172b2750759944e67b7b58301172002ec89adfd76636b7c9561a6381d080686e3d5d4e686078da4b0467571a5e87173eeaff4aab29bbcc94948f5c7e079588be7fb6fd85a79a8d221c65e343638d0b6a0922d53051b5d57f0fe5ae375565e75603ca94b572e8986df177dbfd2d6956647ae0a64d2f391f9d3a3bfb0597693e53567ad365ff15a6f0c3fd5462fac263c09add26e5f91d3da6bb12cd5fcf5ddd8d5f987c475445af3280f3f6b62303c1539753a17ce811d58d7d0dab59e61f3fb3da9d28edc3703ec8b729f11fae0cd3f193b134ff5d949dceb4619a2fdd5ad54bb5109d9f746cf3f5e88b3bca391b3e55a083d20bce02febf7926d47fc3067289e33053e8e3043a4b1f26d17ee3e8cf7224529a57fcb06b610b9a94017f18804248ef41ac7eb12fe9d73c058593303392d05e7ff67bfaefaf8ecd455bb3a48e3d8812174aeda390eb1f2c78a73bbfe5d78072cbe6e1d0ec02021cfa7d226af5dfc123de50f33a04599ce8d2cb41d9833741602d50b24e93c985260f46c6c8c917b5fd66625440cf8af38b2f58f6d8ff251d4dd80caf94763784df00fd938e0cacc5c0cd4e2e78ab44b58c6cff11737ff06e2bdd167b61b4c11bba012be546e5fb344cbe18057d5592d87aef2370c655822c70cb4529ca91fc18eb2c91a51b32880d0e9ad9e265c29c0fe2a2d5bb68860f9e711a6bfa02178ad7017c46c9b842e1246177b915c2ed69b70baf26064551a8b551ff911cfe5a1d0ba314609970bcfa28a2f90de9ab39c852b28466e6b105cd8948a2dfc1b907907783682ab52b921dec57c791c0620915e99a3f2ca7449c59dc3d8ca1d0f36ace71569e4b42077b795ab74281a15039189d4b6f3322f54ee9f9e169689344cbe64d819944d2a855c296854788ae8fb180753bb7e073f1e502177bbf7b111071f92807ec9b1b14ab8497ab92c85a6c72c4b38fda710d4b9d075bda5cc2051cbd37999b68af14b72f85c811bf9881526bb7a897d2eec89bd2d07ebef10191085b3afba63f0012f8891f4fc2ce896ce91e4be0c610cb70e77b0ecdd522af07f1783d3cbfa4eb5db40e199380a5dbbf63ef5f1334322717ee46a9ade26efe05d619ae43aad2a56a54159ec46dca0116163e5066a4461495ed48a12f01320b53f9f8ca91864b7715776ee1af051b00aa4b595c6c802771f4065fdaccf0b0c384eae4ac8ae451eef2a163e0cf5727386bbee3fd9f02f01be5ddb97004325efbea59527ddfbb34a5a5b8c20d13cc01a25629ac62d6eb4566f94d1ab69ce41a6c9b006cb235aad40688e01dc90f272e79a215296353e703e0722ddbd1c237c9b4bcc35dd190e5d42346986bd3f9eaa65b895bc54bdaf4d81c208c121bea85348d5f7b27de1569e834aadb8c2da771ced18a0a340ec095832bf4f7b309b34b2353ffb244aeaabfe422bed4a67f66a1c36e8ed111beab7a54063d6bd97f7e92c4f4c1a41ef671e4a78668a3bc03a0c713062576056dfb1bef77879942130233cf22eabc6f83a898bcf47d8a4bd7e9a730c1b32d0076760290c51548b3399184b25953e710867c1ca1dc1e3868b285b0f53d0b75facf4d5c8cb4daed16d21bb22f0d59ac7c8dd867566a0cda906c3d14ecb7df0eb8f5bb01868f91994d4a400d7d9b8b22e0d5ed9ca7b621e1aa191ce232611e6bbd93c6cac5c80861b366de648eb66a538547bd401126821a2d1dcf396b731e79f901d2f219a5c9b628790694c978de730b263bb0c47c43bf85488b8026f8a322f5d742a7683df9068432e87dc2bb8e311e40fbed75ab56cae0b706e0eb7ed412c3939069d1bf0f6ac6a2b60743bd3c0ab486bd653f5c56d11ead6e181483f5f563065915dfb0a196cf2dac4ecc0785ae1dccb48860f8eff45a46de8d8b1195056f4ec09f3d3182ce47887e2033651802d5b3d691f720040d50f04975e567bb95d7da0bdf0d8dd28ffd0baaf4f8eab733c673012687aa450efb7d3a659057e0f19eb0e22fdfb659431c214dc0039fc93bfe6c88184557dfd065c0cf5e7d53fdc242c60b964b2500411e21b51c98acaaca97897a91c50a5d6f9b6ab258310b65ccd01b3f5fe98f9dcef300a6df326bc832299d0285bf64046b6620ca2a8dc9ff541b02c374881ac80cc15b89e1aca28331fab4a660d893059eb1f25964a352cd03ce8e8d5ccb902bc1966bde773bf06c2b819ee3e75458beb005093b47483631639cba2d82d26981004cba2e6c0b7b49574e6f30f8aaa4fafc446178003c8ac7252cc60d99f6fba20d0197fe09e3e777c09c88058add43ed39d7de8d455aa2594b275dd21568d34ec7d1890b52e7a742ef6e5ae4082c19749619753c503446d7eeafe04fff8085a4339f754ad3736f9e02ce8bd622fdad6d1bc3ae136a34a3efbb10f079a524900b8dbf60df409285d604560648e440b2bb6cf80991a71a0f7fc985996200b9744deb58c2fa6c32d537fa3e7c1d14a5da4f877ad8074e6aa81125e5f6150bd53f0da507cd9aaa34461c463edb58207bcaa3280a858b22cc40c71a13f346a868cf59f48e34945664365f8b2f4f155f3a324b8a2b11850f5f8051147f3100dac98d87d70cfd0c8c7d9cb1d586e1b4c6b6e623fd9b8c8bf470c4c4bb05b924910e288b4dc495d39513d312af1e07752564a8fdcd85acadcab3581e9f1de830b9d66e184064027d245e31b01b0efd4a201d41af5f51c702709df3dba7b4cbc1ef6c57f39b2556979a9610c10a3b43c444e39ca6d35b5a488a95dbf8c95d0b4b3294e3fbe8dee5ec579a5c17c3b5b4c7d175d3a4f686eab177edcb344fe9426d3381e6c759361e255f7804b4995237eaea97dc4aa50640ebbc3854cc13a308f4c429d0730485a5641899a5ebca23884d63aad8d354e185a14383045f76951ba62cae3bfd65ba8f100589ccbbd75d9a6c6985e74f7df64bcc0620cfdf157e4de2f00c9be186ca0f37b8a2e9717ec161d85383c61536ad230337f1893eb60c94ed995bd18d7e03b6505723eb1bc31c24642ee2f09078b1c8a9b569a738c67478dc7831854d320bca8992602ad4b84dece3f5c42fcaaacda7cebdd31eca6ab49bb64d7af3fd15dbeea252d15deb2375730e08492f2be23a8c91e19eb7849307dbd00768dbf8cd351d51dd34699f794a17ce185850b0b65611fa4174bbc6f4070446f5f6b0c30208acd8cbcdc66c551198dc8bd6a9881f81332f56959bc488e67fc5f55f5949501742e8598d5ebb5008531ae0e345eed715d827bacd67cfcfa27fc6cace5e37016bbec0c5d1ab13afe40f122bce4ea86eef43460dcef09df053c2121f83bcd4521575e7c88b5d921682d3b642f892bd5ab3634d5839a4fc66f8be7aad7d810c3e5d2d4935c73c8ec2dfb27a0217f8b47d6d6289e742bfe1b830fb5a9b1ea03e32d048b8bfa96304d52e9fb0edf39128b3247e82b8c17c2188ffdb1440df37474a600e5b9374b2cfe5d443eaa03454e4db30c32c4092e90f25bfd556f84f6c19aa5b80c21e6eab15214aa2f97a17c0e1ae773b54bc5881b92e9eb26964fb0bed6f1f91eac496af37a655cbe79d1e00bc7c3d10de89ca1d5c2b9808a37de2dc78442799ba6e816af9b304ad456bfb3abf0e44c7748f58f6aa5ee44d34f82dcd3b58977bec205714fad29a33843de2c3adca705f1a9f01a4a3f966867fa40e83645b1e68017ec19d12bb04bad4e1dc7cfd6d264b0edd12ea98e400bdf330b3f83af00dfe594ebd24efa3cb19202fc9e52f62f09457c5e3c5d4de3b0c7d8a3ae1b4c9f89c737c30b836d4a9f5bc4f888f704acc4fa823826583900c6d21b6265bb5904b255dc2e03d3ca11bb73bda296f0539ad7520642c55b02b7e6acba8b287eb5b0713360cc30db545185ed517940035051e7d4f23d9d38fa0a32bac321a7261e457b55466d6b882b9716543a8d20c6cc6c21b29d6c1925fc43b482975b5d3a9be9d2a9924d2fd34c8c4ddfec16ee4115a4770744ddaa054ec7181a348e83b8f73863f2297fdd0574c1ddaded4c409eef35210d4910f8745743100dd7f0af1f96e1877b5c6e68f8b936158705a8f4268244938e20ee706d9addef650509c2ff340431962a7e91d615ea5d0789a4705b569de6d72f5a4ac769639c4ab82a1f4fe508584e4d9ea7e3f11dc932a3c0afc5b3144a330c4fc561d53ce4802335aae0af0d36fdb2a9b47611cdaa78988259f3c4057b03276ec9ea7ade8be24a6259ada522e9a03dcf5d9a10e388a952da8e1bee90528983b00af565bc09fb632c28bbb60678ad0387d12aa1db2332cb4232f74e5a8428940bd8757c20dce4f26c9ff04d4e54b7a6808a4d4001549702fb76db534cb9d27f9a8705346811b9e1efed420fc6fa0a179e9556a13d79d1ca97652811fe947f047d94124c48dea8e5a7cd4c2561374a0cb436d5531e7697899ef54b4a46347ba7b71abc23f34f7b03fd1f78ca2b7a5cc0f4fe81727bab17f7287bbf39578908fa22f3844820a6e6ac3dfe71c14490aea7a25278924e4a485b3f8c3ef90cf28e2f6bbaa0be21a86d2c1ebac785d0a6ef75cac74c21becb5975cdc2a0e58fb59a1d47d4512ea9f0d6df3afd4f1f494664146d87e9880ef130be20767e0a47b65c3de3c215779ba99b013054dbacd73a2d02e0e481db87dfeef7dc1eec7e61ad6e06579d180ff54dde1cfec8691276a4d0703695dda20c76fc66914875ebbe356d722bfd312f267bec39faedb55ed88506e3310f7acf72f62a9f0a91f1203b16ed25c335cea7d16e60cfe9cb0e75d90271fdd38ea513182d68f276e0ead64235b52e06aec8ad5f8186cd0ee53cedb335384aecf0af0b0f9f4fcbd14590408a6f637a57842fd3666fe62e37f5e6f3b7dcc9b568c0fa0d372c95238ec8776287150a1105b7143d6bac08c4054135039a3a3e955abd7c0c60e41b38f102d0ec1f8dfdf2657644bc8e105cf5fa449570e88536ccf5448c11c7e7e87152b3837b41223f0c95df3bea92991c58538bb0f422627abc66a852455254767dc14b10b8ef88c809a19920fe4f000e9ac4479fc7462b6cad19b4dddc04da8736d2f67bf601502157f5d2a8208013f365fca4eb08b9be3a532addf62821e3d129e64cf84de7dfbf9bf56032bf7872397893268639d86134254a6f5edb320eb8b52d3015e0aa391247015ef5a708b149e35e0dd7d644fe3dee32e38b0887b9c2f8208ece2c0397258115cb976004c34f76c8e1fb8df0de1f1249adb2ea967eb466ba8b9147eb31f48142c4cc413706b40c3fc182b2d64bfbd6f108105f07369aa02a1dcaa8259b8ab53b940af0b33d6a57a80479e67752ce445547d0d1b7402070f236711fd2dc34daa9fe705a2958d7742c4cb837bd06860c1ad1f0f24bd5e80d46d7b3b273b40f15f51a4bcdb381b87931dae958a4d1818805a1e9cd180ae4cd7834f37736f171b781db156ad13b871966f0d54fb5af728afca3f07dd6d3be39a0381132a1056fd54145fe8f0691cc3ad06da819e1bfa25d177856f07bbed018535fab4313c849d2e57dc2cbb31063cd0e30aa6094840b96e8963b14d23458d4c182df36e2ea5a77475bc0c5023aa2c32f2433c313befbd19e2a6789caae750e8fd875bfaf4e3d524e1ea5a3b15b61aa9d8dc2dddd35d5ca196eb110ba50509826ce0e25781798a472b7a256a665239e0dd96c67d8ee543c555b0cb21d671deae16af839d162c37f6973ebd07c6b9f94598de80aa05edd4962fc770f61c065c50d4dd59b0659c8d4b447bc9c7cb3052f24b9304dddab362c14f0830b02f7eade8b097fe6c102cfd25cbddeb1a4cc9b7cfdf95f31ead85840436ecdfcbea95ac8a1ed3e781f009abca34e8bfaaab1a5c8b478b40a62c0ad40e216d5abf68b80a84e40d4a79f960ab85088bfb3452f09d60036b1e6cad24950167049537c300aa215cdd13be61ac6bd94cb465bb5a8775982bfa69005c45d8acf73dc96b45e4e333c0bb4e05b7d7b433fb70cd77823f0e82e155885c2344909ee73ea081bb5c802089bacfcac9dac8b25b2e32adb8abdcca0473d301a11858cccc206e2fb8a99c7c3ca65a2790e5742a4a6692aad6b9c3f4caa7d8e833691f067092993f578f3ad82d8466a09ffbdfc9c334ff31558b40bda8a90eceb35be7852666200b68bdb409edbff96486a6683055785bcdad4d0180d0bbfc37a05c746edffbbb8f3697de7fa11eebdad9e509c0d60885f03c0f86cdf2a2927e1845f47ed65a587f3b716cfe0079feba14686d1f5217156cf05b2b315d6d547b04e3c2ac16a1995e8d9e4a6bba3b1f161c13a53cf93ee347aab306d9a92b868bccfc8634ecd52c62aed4539a40eabebb8525adc76a2d653dbd4b2b3f57c250d67f387d75656061c49084dea7726f391236c2d7023840654fd7849ce84821f2b9e28e0e9b98349f7ae244bc9022a58c9ced8126c986a6919e3583248384a3a4af140ac3b680ce2f9a6d4b8b3845695095310eba7793ad3d82921763b2688824bb8d6dce5193f86f0765587bd6344f6a79e7fe0f807a8f5fe52a06ca4420a7e3dc723cd1f7f7e06da14f9a6e5fce9aa18f6058a3553d90e5663987c88c8d128a5fe000adfc2f1070a42d422281fd9a4d3c0fcf138f4d6afc335f80caf3beeba46ddbbed6b503afb4457854333a831926c280b1863a5c64e53d2aabc60c883d5ec1edd1d8921b0acd569d066d803bdca768dccd5bf4a9bf9fa56e5aa857725f64e28fe8407967edac7f5996a72b94428a63caac567d53eccd1d591687a470a8a06367641cbcf51b51793fc135f91337da9434fc1b00a2272e926d368117fde3b757c86ac6c311fd6c0cb6593bea0575bc6f43ea1b7751cbc8af8c5e276522f3bdd7583bc0a0fbf5c63096d8784016bee1b2d1287425667d83954dc77729a8e37b80a63845fe39cd7de63992160dc37278f805a8ec37676500bf7b1ef208b2335b69519950f4b937786cd741de70916c68b2832b32230732373bae518be10929a710e3f42748ed7fa9658788bd1d8d702070a229f3b810bf0abf9529dcaea4ac908fba331a4da085ee8f7aaf6dd84733784a82a8cf7094869f47d7854fd1033e825e1c22f6332f96b0689b9c0d5383d6267f550dff6484e69b4b83756ae0ea1abbb45cccb7afb1769105810b91c4db7df0cec517c86bdf83aeee9ce7fe31953041bf038e872c42630792e18d7d733f91cc8d9a3d18b898665bef4a0b271899fa2998e10c1eea4cb1afe661cda6ec657965ded38e2325a86609229e60fb24ff9f38666f1d3d61a07ac44967013b6059ac97463c68c6395385f743b034b06167ba2401140efce70f6ab662607c9a5ae0823dc84f259b0160e80b904816eec9ee4b41443b16f1d5a4aa1ea101145ae4450199b5cc2d6247388c6aeb3ccb7e68935c3f10ea15d8b4d2ad39e664cefc4ca92ddf2ec0d065fe241481b5808160985d599434d420897b4fc8f4c4ff50328fa1acf2306ecee8da30d41941919c5c3845f148aefa829be1174dfb0bf309893643c66ebfc26f9991825189c544d65ae3d3e20a9c7c0608d72dfaa7328ca1e444a3169d88811f602aa068e917841518e2140902c944ffeefe6f999f548d8d4c9f54ca08433a370344a142bae8d66ae95083668811c86526d625fed6bfd14da8366ee52204137c7544d361c8bc0b585c408e2e4938085bc92f69f8fac1cdbf74c62ea9e721eb9994e2e9b8e6d98c3b9adf018a5bb7a7edbf428c4ee11ae1a9b20552c92dbea204b63ae83143fe6b6ef6a224c5866c6a3f6c337b44cccc99a39043de463b94e3a47078f356e36b2c3e6c1ed0b25cfa46330db38e176451c9bae96b7d36a323e4cbd45c652528d139620528acba2ffefe15aea124362117726ffd632efb36b514471cd5c1964288e8e58daeeb306cfab810f29c2f661d3fe9162d0f15f86c46bd057df1aa7668dd4b6337ebc9e6e8c51843f8c4d7785b61a0a2fc422ed618346af898a0a7d4e92a6dd1bd6c63b10978dfc9477cab9ac63a4cbcfb585a963365e5034cc70db32cf3fd4bafd7766237b78782af6d46b791a8c285eea60c2c4fc9edfa4c040ea2a819589c07bb6c13e4735a4ea4d022587b2df4cd96038535939aebaa6f9e97f97fb3945e2d927f38e0575018e40638e5416c93aab5c05ea8cad11d5a4f41026365a48dc1232ef83511cd7baa52503877ec6c346d661a71fc0aab412898d94fbc7a3ed5eb5edd33d39a6b57af572aacaac3851478557b14d3f819c5924c84493ffa7b8738fb5e7ba8a5f53f671187b7b8df1147da18a6587d1fdd324e5f34866b1b708531c88f90a865f783f99abec51284d44e9e2243a63f6cd3e798c7015fb531d69a65a131f62c0a8c9136703805380c3046f25145bf0386518ca07d9230c8ccf12760ce0952034257692c6be6cd744da43fc735ee4b1d5e2b9a0a516c0f2d38bd6d64a8fade2068495cf0860ebc66ea7f347b0089a5e60b128312d401d0446a4d3834e2d7d0eb82a6556c08e0c1204bf66f325aeca36e97a0fa952b8715eb929eb0f96697275e4ad09c4c7a6570e9008536884e301a23b3a0c3d1484319feb796a265efc0ce1ce9f9174e6a83e0c0575c4e5fa1bbc6de06317f26911a2aa12549a63f9e705d71b3e3caae89088ef0523788365a9e89ecb49e458eb9431240c1f9d42e9c1f72926784637e71303afa4c07edc0a68e690ebf183fcf2ef1f2f439cdade1ee7c2fe0bee841af299315e787cad6ae0c72b52f56e6bab262bad85bffa1cdf430271c3bbc0d13c6e5a9dba587c922a0a7cb7d2b75062a6482a59f896dfd134d5102c00832149aae6046869345c46e0b040231bf47b6e9916d290a1ba6b36a88a646648a900998ad211a2fb1b44232d94161e72058f11ac86f0b022f9a7394a90868cb36cb13b3974bf121c0005f1afa05712c1d550456ac00c2773b8ba136887637d5bf8f959b36ec6ca6e7b58d1bf88089deab8132e8041748ab5bc075c6afc76a51bd27ffce391536da188fccb74faac62db7a6dda3191bcb3cea813d75d36acc5ec5fd17f94d081d8af28c751cdbeb40a01d5034c98b715c193669384437f21dd7c0b87fa7ccc0399fc0fd1d74822ac4864b608bc6e1bfc8bae25aab2990d6a5ab9f64de143f1d6a99ba945a77857b89510fb4c8f3173be907cf189e168012be351dc100670932ec5b4b3385ad27364d7560b2015aa50f3f466adaf242cd16e2ed80644a3829793d51100737c62172ca6711c5287ac97fa8e399736fa1ea8a780cc60196454871e269f990e41c5e12374aa9fb5eb3f42424de85eccb099bf9d55e97d968b3056194260cebed1c4dea29c3308bfead0d1854681ca8921ef8e7a95553fa3008ef677aadc03694c63fa2f6da1c4df5a9d36118486e9e67d629b4e1a358ebca99d72164693f5262b1a028c9f355d03a972e7e6e7eee16cc13792075a0d11ff08b702ca637c9743680fe5a53fc963bc43deb0d83306553fc1975a53c093d6d74d797267b194f56f2647583b147fd36db5fdedce860d5cb49983d96134f93c3aa009c700128d38a5b72fe09103bc1e2753202439e34d1419bd0a823be77080b1eb1abb5de41011a4525e1ad08f5d22efc0504e4287b87896cb028b1d579587317268ae6edda9152da8d01fc232cde804f680d38d72c473797935d10660bb8e0ece99b74f0669ce6e5e255aeb67f3c2fcd7208eefaa948fc104cc59d0d48a698b16a36732de45028cf61f2d320be741aaf4ae05b7b5f90704d57dde61b5cb33c31a5dd2b821f1b598b73ba7874d0233306418c2ff34af59d19a0869589d2e3f39daaa840b7a25e38da1c168de0b584735c70056856ee4e9484d65565b7512dae8b97b03dd022dde8b1cbdeb8b681c42b0e19c37809c3c0bcceb484a019d0c05d75573283c70a1ba6015bd6cb354aac00852cc2369b4ebe94e3b34bbd43ba660ab0c1087866048c49bbbd8fee49b4bf7a1301bd81cb60df73374ff7771c13e77cafbf385e24ef399a8d3c364fe937713b79ad8a5e62e8d173ff89712d9edb81d29ca4b1a64e5c4706af0a798578992f134f381919d217dbd4df46ca6e9746eebaf98c7eedd54b9cbf695d0e106bd3ee564848a45e7f63c5a2a46a0b5f40b5c2ed106106b48522211549e3b77821433b2b5869035c0f5c1769cb28cbe7d4aff6f22ce21a0e0e9101f6c32f8b4e754b5c3e1cd51fbea5ca87504456cb4e58e2ff9f1d45090ab0a659a254fd95118b646d2113615bf28ac64501e945463e40e7c5853103ac1ab262d9f00f13077189fe41d4e022ac7b16ee0853fbb7419f7b41b91191900965e14a50ecfa0e358cfc350c40f9a45fc09e018839444577a49f39e8803cbf2716ffafa8c00f262f1607fb177dbe00f7bb409df3b520a76f136e31c318a0e255fe26df1689a84fb196110fef6fb232110205f0f675b3d521f2ed14b768f94a9f342420a4a4aa81ed18d3888f4e9dcfab86d19e04875479a1be184c414f078d4985c1248e28cfe9abca20f3db3c33ae9ba7a1c68da455432ffafabf65a5669b950b0761bce9eeb95eddb18522f7c9ee5cfa053fa214fff4aa572b1bf435ddef8a77469995c13e8fab1549753251f14a5bbb64d258ec83b9d1fbaf0a13c5e78c53b99bc5436ba7f0c07516f54ce477bb367b404899c6cc3db5d80bfcd6fec39fc07a10276dcd24e76bc4fe832e9205d58d63fe4194440190d2b7bc73d5d55dbb33577229ca1d4fbf34011b4f43b6cb6aeb126f373c61dce01401a6e2e945802039a2c84227a653a93e4e5ebd8d946bcb21ed19d81c3589720830cd84946bd65cedccb25099cfba540886879d9bf669475ff254e3e747eaf4bede61b7e052cf0650809c0c641b02bc38030cc0fbbecae50051c6e83b44dda09677588d50c34ac03cfedf73bbdcd2e6a9c479de7b59e9bdd155f74cae16d1f2503fbdfb99e62958a89eff166f2fd2e5ddf560bf4b4e87fa90a3d4966486f912b10b75474ee4434e19f2f494ff342fe8a7f37f3c744e820ebbc0c20472263f8f1bb489f27b5d8086d92fbed07c0f2573fb641f0b77333ebfbf7bc4eef1d9afc0eef605fdbeedf2eebb5e7ffbe13bf236552074a2a4289899a62f7a912d3fb52ff46211d3c84328e576a0012b681107607fce0bff3c40e8841d8048e14fb0e07948e0cdfac560a2bc4a820502e7e9bbd469a7394835865826ed766dd8372758fd0474028511e569ae647ba27a49af37bde3eb7542d213d1ff298349664a12516754d83c03c107f1cb5f9961b105236987d496f7767091f81622082fddc2e11b0588f695ff19fa125ba2f2a5ab05711802de8f367ffdb0bb11e5245441e42983bbe63fd0f95baf010e63d29190af767f843e43ff9fb70e666b194e49169acf4a41f2cabfdbe7b52d604548125763e1740746521a441b8e4322e9e4cf4c529ebb816f0307586fc7d86075c2a07a35cdd522e66e7b3ab08bb1a703d150e6e13baae043c6988b641e2756bbae907fe6d1e543a6cdd6cc0fe630c14a3b1754eda5e3f8baea057f1a98da21e54b219f488cf32af5bb97991404ae1e37e52bccd9e4831add518a1001d459a995e1527708a40fd97e450b47b6e7b3c454002557adb459daf38433f6142e1944dcef43bc4750bffbafd100b951d93aaabb43a75a196f6a4e59f59e9aa502e7097d00c18052e5f02f4e38b98ee7fadd08d69d155b9071ff84a37159c08db73973aef9a5cb0cd10012525656ab46d7a531bf8d0a75d05ba3e0380819f3b2ff35ae54ffd12427256f99bb4ec6c71d5fd92aff3baac10083c4f4f428c77c923f2ef9730eed2bc9d072c2af6acfbdd1302b150d506ad065467c6bbc7438d388afbcd0f6d2307705d1b1da2c61fd0415f39877c6349bb085b127f9fa170238c5a63c73d05f4d00a69524c3554e977039c5ef467f01e850efe8bba7a22374bbf3a95ee8aa33502e29e4d5c693dc1d01a6f8118480b063b15745c8d437ebbf649daf28ca16fb6a23df5c4c19873619cc672721601f79850003af98617812b6eccd9297aea8f5b7015469b4ec7f050081d0ca991d0d5db9f43f925e3cd507a4f31a87b58c0632510120c34411d8237204e7943e2f4f07b55f89ca6a05ab01f539d7d49dd879e8284830143e3de5f566b28505d9ea3eb11fe82098a20f80759be897bada300153218aa702b8bed3aec52a092e859c328ad427021b90931ecfa4a3d090a4ae89d9d2b3d1258b36b93c17ae58a0e67a56d08847a4ab86aa5fd6272a5da93ea4644f870460c630520e5a0a5c5e6831102d4ac45c7fad8e81c45ca020f4befd433ab3d9a6ca03b860ff8c771dc4c38bf9565b5bd0eb59fe991ce5420f994f45570ad61576eed93d2f327b3c08560a1d3bb3fbf3ec62f8526d5b1f127f9b330ad8337b4a92620f64d8d5e9e7e775d556ed49729d580570532c99dac0737e2c86034c3396e17055fb828957855e29cf02045934e13a4d430986191bbc4fa3ff50baa5e9e66189a7b2d0d080f7ad011427593119c847865787b3d199adf1406f97f31b7972d4408c34ee5b163329001d48cc539c9aed7fa8d4a8261a8bba772013e29ba32b61aa79949116b73430c8c2022a1ab53fa3d2fb982165ef06619c38fde88e8cf733a065b93fd3935486382f10926220b7d5e866ae54ee26648af9e654554e2ecb1d5aab83dc0ba9adc05ab8b71bc430efd2fd35e9d7311994f6da971cad1f0cdd930b37c46b2addfa4a867e765ed93b3cc58f64e637014649b6068de5c32c7c4278c450c7756377d9902a67ddbddc00814861d1580d2dede965c96b8c1dc77de518436d5d06de4a9a014f678389677668bd0e1a0b1714c265f353c22b52876a97d41faa8b00ba7631698aea90c9ae934f38abfe8abce0bb361721732c47b36cdd2c67fcfe2341cc24a82454d5dbf456d06e58fec71942a4d1b308fcaa170217c838d76d1f08841fcdac597e0e70773533f61cc939237361891bb183a4060f3200556622f507b3fae4d0a6d1622757b97ae8eb4261a565c9abd5243160fa147f84748569960e18373b97502ed3cad9f1e2b98e75db33495710b10add5fed4c681faa2667418125d096d9a36b033fb53d6746282e5fb05af6a9eb1aa402492dfa0e46c507b81b418c9428890997a8e08ed968ac0d29ca45f949255b585f4b50f2b7e012a559c63e4b65be64ee91d4952771a4d790c67902ab3127fe1053974fbb352b6d3eb0c1fbe25d022264bd2204430776d1f5b14c03dd46eb5bbfeaf444a84d9bf7fb4cdd7b85adfbd2c38ea97a12edd6e19713fbcc26a7961b468ad77d0f59c11d4fab211e9e62c7bc4d10f2220abf43ad90e9ec596989c078b2fe968655d3b30ebe3fbc45d464d65553d34386c15f7f00e196ed382aba3ba44238d318977f34c1ca2e869e2ae3016340ea97c9bd879f05054501adab4b6f2f446cefa13d6d110967274636d27f72eb6b864727a04f61011f50f1043de49e09ff054d6e66de6e2ddaecd43c173c3c1f6c670508b431a3c05279e90af380e17b61caa97b2ab66dbf82e3165dbfec8b95d8715a3411230b873da10dd3b6338b04e4ad016daea48a6a5149235462829a6d06a50ec2254196c3d02df2f67746dce106dc9457d5659cadfb4a118acd8cf58c89e55923d9fe205987a68326cbc47063d98c06c1daf9e17cd1c73440a27f8f4c750b58efb05cd17aa0aaef1d81580b1cf4e9519778c29934a84bcdca53ca1b480e60e64dc5e08c8b9b4e1a660dbad67141ad0011f39f536cbcb3808cc79f9db9e0fc6b44915b0696f4cfafe91f45b18d17b7ce92f5997437850882c979cc4d319ea6ad991821ef66259fbeb519337558051fcc76656465a75ca3aaceb40fd4e2ccdd2155ebed96f107cd1cec8a263f737421bfd49f7ace060b51624910c7c6b958e0e9c2cfbeec2cd3c6095987fc34303f0c0cca914350cb8533b3d9dd67dbda346dc012e38588cf1077e53be0c6f5fed57d018786a99d1ab6032e252bc4df9839ec6f4469d3830a739598e86ed6a560f7b1c0f0a6acfb39c779f55030adb1aed43e84a601f03920839dbada25b7ab932b67af5d26d326f3586e6ec5a752859e818f9be87c7c7895b20091cc3c7b814018d98215bcb9807f442c6d176aaa82d759dc37bab2c7e42f7e01ff9277622aabb0505975787dd2973c240cb87ec817f37292c78494151ccf2f884b4135e53384b2721674bf056c6af368e3f72c09b56ba0ddc228ecb2d6adaae3b7e977bdfe0c0a8d95e3586e9c7549a6b8484d911817ca8dcc4fe978ee77d02fd1d1e147873c033974f0b751a17efd13d36499faa8bb9a1a27e65ce7c94e5dec65e2e2c8ffbe2dccb9f5ab386973bb5a72daaf0e3e1cb383518f8297c5cdb16a30bc72fc2130b445abc14f4a7ef7d123399f4487afdc671774915d1a72179b31d1112fcb4ffc5c8e1e8624fa887ec95b046189e5c79161992a3dba3c4d00b4070ff780d975e3d97752cff9c23ccb6cb5eab8adc0d5b570c725a4879c4cebce8e48570430601e4f79635b9a23ea7617eb0b27c840a655e2c433b52c8e579fad84eb0b51d9b1ab9640cce4eeef90d19fb1a61344bba7352ede9019e19be936f6847b314e47490672d5d7862900c0581e2efec26eaf74ca7c33ae84817bba9ce183af600355db68e2607302b1db44e7893fed78a2fb0f9ad79521959febb0ff34b50568d04b6b750ff02cd591c2b4f0d7504443f938d53156060df4cebe4d9aa8327c71a33eef664bb405f85efc4ca788f2c01fe3be22bf90bb6d98e2f868df42c58d2f23f311cb80a52c6dfed66e2d730ed8d51d5e67bbda6f8452782ecc0452186a7a46c048868731961068f70f7ae99f86b30cff01a3a9e762f033ff4e80c7930369c11df80136b339a031de2411ece7e7c1a0ae8021ae10b02daa4a4cbda92fc154de74b98c11d29a2ac41f249673a3f07f31d7de911df302daf49779c71ec42559f7d5800aba0b419c406851d695c08b170b09b5d744549f6ab5ca90e35776628a3855a94656e58dccb75c5d91944a811fd78985e320a011c2f589f8aad5658799002ea682dec257453ecce3abbfcbcb1a705bafdb2f47c0c2880695528a1ca7960c68114cffe95c00746eec175d0bb09ce13a34e8f444ada892f105a6ded8f8e62a640f4169f2de11bbe1b52ae4ddfed51d8b4d097e010d2c33de3dde33d8391a331de15c694e7e36261b49f414fbbdf5aed45e5573027ee091f7e68f14313c1f962e76742ea6135fb867a20b94361420469fde2dcb9f4d3ad2cb35b544f1704729151e477b112410d5b64a709805e444438822a65e6f07dc32e23dd02fcb6f9e4f793e8ab45084c6b5fc0adb67c9be40a5eee817341618722332c8a220a5813eae372a3703dfaef16020d2ebe1b701f4e29dd4b43bcabe645751448e67c8a67f30e97f2f01568a66565c179fbb2cb373fb1d9038847ba8d6e157b6d0d8f2c456997a1e8802107ffc7315ca3b3fb95f27ba5c21a4f6fb19fa77ce5336899a6548816d40f7020b5b3588540cb1ae91bbc734bcef512a499f1458932adc4d42be2daae5cc6eb210b15a97af7d498f9139e8f021825a5382cb539adf407026426fd6bc42687bcbfa63fcee1ab842bc14bf2e138586cb60f016e22b220d4ac2b7349bc8ce0a8b3cd5557684b1e068b39eb741b61d9b34536df648c12e752805dba70736045933cce7599bc4ccbfc98b51cfee8b233e6a992be982e5dc9e8402578f0e67111153bb3ca9c9b63d2999167488ebacc5dceeaac707462e491526a30c790f8095ee9fcc672f8eddb79578cae2f64858f1fd26983faf87c7f89283b84ee771f91ce6b272d7eabdb2e993bf3b752c9217bb927bd00c9494b82af4dc66ee8acabc7bd6808a19106105c061398b058b02d5d41927c6fbb44bbc205918c33bfe48c148d8f9672e076bb37dd01c28189409c8b28fceaa23aeb19dea06cf9938729df18bb6552587836067ff845a4a08aba5b128e072b9b5314bb22d06e08b9fe8acfaadc087ec2957390b46a4d1af21d91bc6bb7c414bc1b53e751b5c33fb465e25893c2e9cce866e53c7d31b2db60a0f4685ca4e777fe89b10b76e38d66d3940c44aecabe549bfaffded1a16a6839a452412dd1dc278d5b44575efe3ca2d4d6c589fb9bf6e44d3077e28f705af7a2255e697bb1cf891f9ad1241525c09a10cbe343a0fd307fd9f4e14616fe63727db70c08c5e704b36e31a09ef3ff5ffce1544c25334afc9607fa06352ff36321f0fddd8b1b41242a6eddb73885e39a2203d0911994fc1822eca0cc70b92f57ee315df6dbf551f0ccab36cdd38849097f65739ba13d65f52776cab841de68fa643f0fecfcb0788e5428f651fdcc41ddc70ceb3f8e347d152823e762d401e135f205667e2b8df33646a668e49f74627a0d08d952ba94f34fc873420fb17e62e7d9c2b8230497a8a6800bb00f00937375cecbfd2931a5e57b9c8282801fd439d45505b70125052282bbdae31d9c21e81312edc288c4781cf8d09f7cac23400d13c563238348790738fd21433c6a2923cd4c1fda823f3dc27635d2c5ef588ce8e25114954fff21290b2cc285a2ca6b55c40318e8dd03ea2547d6f7a2a5e7d82d960ec72a999bbbdf01a983d85753ad7fbe6fa5a2f4f36ef6e2fd2de72a76fb8d44d66d12e112502a993fdb6fb83de0fb6edad392081b651270b7f4638c15f520470c2bdba746d598e43c0a93083a4eefd7e487af4f09884b9a50c84cf3dad41655cda62c6f8aeb23184b312aacb22a85adc163a90eba7e5e1299fbd83b9b06288e20abf17c88997b0be2e24a3bd01f5f7af60287a41aea495ac6fb870ba1830043e79d96bc3191c389b070f35c3c93f0f01eb5dcb43c6e2b0c5c7b737a4db6da6e35e456f5db5e38eeac92c5bbc047b25f78f89917197fd2116488f046d3a2c18557f0febada0829b30b8dd406af41769b1c8cce337a50de8f6a18702f4ffa0b426b5162e26534262a859768a0a9de609764a38c2354d5797a421f126db899f0c828173b3c436547fea1209dea2c98a1ffb8547eb9e7736430004d7e32777f3620832c6dcd8d2058964af1af838c763ba97fb745b2d8fb9e830c25fc1e8ca36013f78e770b83459b18f1d936e9b15530b34c8acdd7048785ee74650a81bba6cc8b8720eaa9e0a85816d36abbac5a9d4af70a94f18b6c2f52eae280d7d716592edbeb3a753572337717040b4441b1998561b8913a6dde937b4e795aa5afbfe5b54159b11c02c9b689b2f4674fd33245413ff4c04c3d014e9c2cd73ed6c87c3c938599856d53c1057e8ecac047b4265f68e896bb1ecad4fc8be470596a13558f05044cb7640c18f7e744d56cb1ae892dbfbcca7121a65fde999645985a52c7b22e185894caf226af1fc26ea5637a60c176e89f767fe79676e6716d2b53f3c0614f17ea2f5a48306b5441a532a3187482a3550c2c2e485e2568f5ccf231e230b3ed63f46676b4c4d7f468c4511dcd7eb7a052694a9348099aeda03ce39c2f2c184594108237d3c7741e76eb222df2581c651632d4cae346471b4adcb4f56a9fbbc939341e3bd4aa96966c8e9896ed3182e0122c4e8268459a0c1e2d98385d4a8e2d98ad1f84b66614d6d8748e2480e0b88cd8a5ee527cd151f8b1d4fd024c252e6c55fa84e4b3e0e731ec37f1e62e7bdbd8579e4ce54b880321ea3fa7a37cc88855edbfe7ee8c4a7a57564b20dca651757006266daac1534090943b1604006ba2e0f8745f37e5a4c8ac2214e910e07e2b990ec91967d5735590695e5937935e0c0de9f067dd50151e236945caaf5e1f2397f650f0a8d725884ae456ab573bfc211a41154cee7bab3ae5d61e9a3e7259fa786978e8e94cda44017b8a26d4048decc1bf13d251678925245b95d0c30565039d393bea5eaae51fbd8cc5ceabbdc5546ebfe06fda7806a4d0a015d2311af791d4d1f3b734ff4828678f2c2818541343d9b924195493757924b782d3ec42956298b70c28927cf30a5eae58d8a32f55c2d0c190feec6fdf21cd1df1b15e974599288dd2cca5a65fc29f5ab28e73486c605c286032bfc56b61455395fb8bc7236a3b303b847b35868343629196427caa0aaf97251a95a3db48033bd11e7e1c46ff8773299c3e2d1cd26423b3860bae967c8a5f3d8010609206923d42c55ff2fe25b0aa2fa9b75879757b4a1ef80ca0133992a178d18c8efa7f61ca378174d7b13e5a9fdbdb06d4e30057c11eabc88831afc255ff581130fa7dd1cb714014a69a5b8eeb5fcfd68862dd4d19f6b231dba984ab2c2ebf16901713379c762c3bd024b1a0f5eb89e85b89242e53dad5f6c41bd578dfc48f905d569521077bf6abb9fd56a1f741685e9886477db27064710842f46eb82fcc00c57c87496ee5ac18550315ab793e0e5dbe80ce7543edfed15fe7c492a95af42cf08db58624ead0fd0e85e7f2e5c770926a7d605ab120e1892440077f7eb8983f7897af8683271b4697ae791f678edcf5698c72bb4a54237d58cae1bdb2c29f5ae29ea19cf345fc620ba79f6a5b06d0114edc32054e123417869f5aad220206ebdcd2c26d5d21a0ca7cad6c77bd2975a37e9303d7fc928f8cec0be9c9db8a7cb427a242a11aabb5810589cf96d3e2f13284517e4b2adb5a34dba13e604f88f9f7b4ccc6a90de34ef74c5d7ef33b1387ae2051655491bee1e55b332fb3905605bfb3a03261a446cadbf056f15a959714798f87e9daf16f3a566a36b41a750c3366d8de0cde81e01bbfbfc2cd17b68a558c0e028cc5963911a2ae9f513ea437394461bb9947a519e2ee0acac105f06a5cb40c6cd0162511597a5e5ac56c9fd3a4976b616c3f0c9df3abd8fa896cd406e9a5a39882d8a21fa916db86c34b8d77c3f48eca555b183f50d7f8af129b025a22d4df17a81e3dc786960321df992f5bb2002429ef6dce5831a3b7aa25484538abfd771f818181d562788cb45a6cf806acfabffc00ef79844ffe07ca115abee5025d38069824f1ac83418e389151af337706c19eeb3b9d5c31ea074b2613688d66ae3d932ebcd6bad49e61d04b4c8930b4d2f3684352735dda3ff24a6353fcc8245c9f313a2f72b7ff2007a3093f341c6773c55a9ecac9edbe458ce850c4b3a221df6f2af5772bf98979f92dc2687f8209971bf84db43bb7e34a74bceaf90deafd2b01bbb11ee9e0a4b45fcafdc164e08378f6f604026f4aee0572f69213735e18698b5582db110cffba0a6ac8621a1c33ce62121770b58bd46d294d8ce2b07a7a1be5781d034204e0e05f898f8b00e7f3ace588998c9d06c933fc47b3d195b6d6e853cb8e361cde4ebe6d9d7d1d89ea6676d9c2e8b32bafc936b91702b502ab5cf567a1c140d5e2c16beab2b8eedd732e5148d372fdd16ef1787fae80ccb54fb0fba54d45a2937eea2691da2beaf69d27864f8c337abc8feca0b2afabf3f45ad346c2dc09b5dae1ca7db11b0feb682d36883ceaa9a7ba1e890931aa0de217b9ac91077f02f4f2358d2e589d8d042dec2bc2d652155afb39bb717b2c97a31ee7788f703aa1b2f4257cb2676f28fcd778ae4279ee810be5f0cf6b59c7b2ac08ec8ad6125ee9397c8df038193c66f525edff835a36aaedeb9416b967e3b5da70e3b3ea1f2684ea55cbf2e0759c5dba596f2fcbe3c45b2548e58cf92b8b03a9a988d7d9d8a0ace9145bebdf15cf799d2071a7849dca71b6afcb87cb112c7a19f03ab9b76f05b3b9d313204a010d2ae268cca1af65b3edaec","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5772c6c6da40bb47a5b1786c06afb5ed"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
