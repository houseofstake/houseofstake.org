<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"71906de7906f121c91656e7b902f7d369d35d4ed901eb2c22a99aec578adf584534f9c86a57f7f8002ac64d2f0802bc4e258f9b6e282d1a685f85968aa3e457e6e22b762395a6985fbcd438ae0e8fae5d9bbd16d66880aa3dc822c5cd42a2691df25966e169c925451cda02f339124cc6f9492f60af70463d48efe22fb493d99ad2a68bbff08c69361e7bee79dc0505fe725822428ca192cd315bf528ac5376cd5debc299dff0c0ceb2397bb30d68d689117740bf491e8b4f94e08e10342b44384b7bac4c9c072ef56a4f2d9d828aeb6b0207228493e36fda6ec0bdbea82a08bdff70453115d48fb9884b6e9c89e93354c22f82defaa8689d7b61eaa534ed3208a93a457b6b6a37d1eef829275db7b12899db9f13e30fcb59d3ae07ca372e6533a83fcc4f058dc2f4e6f1c78b426d3f596125e41146033770b1764f846432f6819d8f7e05c92ed501e98d56b92abea9d241e4e3dd61276ab40284605ce62aac7fd711230f6a961cf81a4cfeb8c1edefad8c0df48f4d62017d159a3b2949c03ebfd8760fdbd3728021495153353da1273b7911541bbacdaf6d431819799de08482a3a0d9caa9db24702fd1f5e05cd6156c7c0e27b1f48854ed7d498f26aa2cb56f1d4555b6b143ed5b1cdd79988d14c77519f0706c28980ca94b10fafa17697e58e79102945b0a3ce0ee27fc24e0116e5770ae018723f95a7ee1bfe37752f6531375abb0b473ed2bf7cc25180d1ae5ff9fab32452802fe143cdf1222b0fbaeb92409a3a5846e98d639d2fd46282d26fa0c5c70b81db7fb347f43e11322472bdbe950c2742ed8b10343a68d698b6ea74482459a4e8bab6593d74fac246a6779f105aeca109c1c37ad511169235381efac70e60ce7a090f1aee61d52599081e8f2a5ba86e899b9e9aefb8c143cf992c85a58d190369a9817969beab81c6eee67b7f22500e063ee0be58f5547d48c7a1312d420bbe5a29eb3286a2dc61bd119bed9bdd73f521dc199d33fe4b91bfa1085b69e43041408d23b0b77441c4734bd32c552d4060acff9294e675753fe8ff1e45269481002617aee3c4c6dd98a788589c081a0f5534d44fdbad3c7cbdcaedd4561ec31ae741991370ee96da591863138066e14ab9678a809a49b67023d8a829ee0ab4398d29bf0eac8af21ee5e21c1ef158c1f8a74c077cbfccee6eeb155bd8033dd8612b22788412dfb5cfa578dc9383f91016af4d12c600623620e1363024a34db2834fdb04bea90f19ddfa43d473e3341b9e3ced8d3ec36f439c9108e14b876e8a1c858bec381d909586192b0a64e2c83a0831aef75679aab02ee37d97077967c5932a7b0ef6fc314febd402a2b391f7b8b6658116bdb8d4dda3a3a26b594faf18486120a6b591a4b36342a46e28ac32e9205060508674582dc117107ad0f84575f5d9ba3c586b233dcc236e074074dcc77df0b4290ec2fa7ea40f3d4ab519a35d43a3013035810adb519f3cd61342e2ed7aa83c89c09a173ba4e9af10e92a38a4a3b00ba80a4846fea753ef9e1bdf63f0076b3dc34d5a10e827aafd2aa497bfd060762e7052da8ba1ddc5b41b03ef3df498994a74beefe6726b7a3e77c4a7837a82aaf7fc08d445d11e85d4af8a255f615dbc0f2b0b42bd30d3b5a81cdb58bd6abb466379f45cd54880e6e3d209d9213184b79b6273a3856320e9af77c474ae0426751683de3f69b093860025eaf3715e0f3573200cc801ef6bf24e994f9ae0fd0fe83718e4037f36dbaeaa9d4b45f6e70c7e0116968fb2de4fa995d3c0f39bae65a5ec7ba7c1d39048a07adc6fa20e3f1130cb9b9ba7da4cf73a0490d2eb665a65c070e8ee4a355e0c4f50e96fca70f9072102ea4de4bf99aa6899337b1f1f38b07a5cc453caf6904c378699c16243bf55485c3a627d8ed923935a1e4d65b187517097d569ec54b7304540c47a5e332f8a6709125047fafeb4accae90188ce97ec212ea91326fb8328e6694508fea832e4214a9685e3a11917ab48bdba9840db2623a234cdbe1a986d2a6f4a1a30700df415c890dec5ef0d78725e742236a89b3fd004055c255fabb7f4336aa9d8078e05a2dd625f4460c375ba36052d61e07ca22d0439743d53be834cfb4dc947ef238d37a77e167a008d769196bf39b787e8392050469bc9fc364bc38ac98d61de93bb79edbfbdcba8066d39a154d91f7346d653a50ed705db8744c08e9d37bd9da380a1f013ef35deac49eca21ecaf37165dbe09e5c6524d7516ec6328252efcdb45301bc2a825e00ff30792706c7ef63a2a5ca5d20dceeaf52e015e9855d334e2e594133ff82d3ea38cce25a7bd7a33bb0a27c35a530bf4f91aff913fef8f4bcb415f75728a9b0ce0f0c0595f506322384bcfda86dda523e9eb334cad49a0ab944d68872931ec6c493e92070a903d9af01b5a708624523b07bc1dbbda2ec61170ff33de6cdf09e45340c4c73d2c49a589320f4ea9775c4c33bbd032d605ee699d97326c5a0d8058802088b4093f2ebce2f69cb0011867b9d005447c5e1f80ada2fa3fefdabdf3caea831f1b146c1fe0d219b8dadb4baa463c9da43faabd8d1b795ee4e2ab990d36808f236590c53a45ee608be89a3f8f022982d34800e2aac89b1849ab1df7b07e3acf924eea0f62b5089347ce93579925132eef00291484c7fe494997c823e2f8d08451abffc525ac07c1d79980a85bf93aff2eaa865eeec378802a6b44bed1a30c6c92aae9b16f24284dd8bd238276b231af3385772e0494188b5f689d86ef0a13558d5349c52557ea85014ad5b64ad7552f5ce02ee7bab830034785db73bc5013c8dd92c27b8e19fc791cbcce7c7e741aa29ae5ea273322ec9b260c27aa17c2759910ac559b8b84cda134c2d2c1828e82f54c81a1cf67a3566f73dc191bc74fd43c3e89555d961cb9159dcecb922e299dd551ca9d5a320bc12f020a8a28be679cd315d1277267643625cf3e5d9d677005e92848f3db01d1b67526405d35b5d9c2a5b87f080e0faff00b75a24a56dfb3400d115a565c67f9089a4dbf144eb549a4844603d8d39a473ba83a09ceeb2f22d36676df4394da095e1c5c5df4ff44ffc7c48256e5f6bd66a0d3846ab7af913d850e4ddc4fbb0613b5ce026ffdb711992db66e83118cf68a26dc0c496ac03e0b21d5e090679b37ee0224fc78b8ef53301b715961e734213a6325acc77d746833d8a341fa6b43122f8a49b289156a5bae46209d538dc41c0e0b0b51ca9dd41f73df2d24a655d13485585e32f4dcdbc0e52ac9f367923b4466ba6bfb0c3ed86734e9f0a7a11a66a96ac4943ec8f0f96c6697db4af43f9f42d933209e5286854988bff91af2917723c0c5e38bcd1f971627b85d53c6723c8c77303930c58c7c1f20133b073c1c9dfe4258c861b726a9f370492e121e835eb11898c850be6da54f7700d173ebb67b3e124a4cfc8bcd92a0ff791f47640ac2a34f3d86b5a67671a1dde166a1997d13b60480150f07d2f4f969ef002120af18e9e6831abda20bcd8c63a4b50f6f167c7ff95cb1dab5834ed60738867f8a9acf6bcccfa7e14177d8dfd319b92c455c973070f81125c9ef69c74d29b2e8aa1a3b6edf01c460653770c5dc0e339218c387564feacc5f8b166823a5c58901f83c89aa181b9134af6bd5ef88ba8051ccf14e7ae3d0e0f4e4f7cfefcc3208000a725a9eb1f6c0ddef8bde8b5e460fa96412ce78898033194f554a8cdb9856740c7229b41a56a6a7e477faf034751debb4eff0a10913c104d77b1c3fb38ca1bed4449bfe9428991b2224dfc9e1b31a67f24ccf4fabb8ce13ab59e491c5664060b3969c611c37727032783f7a2fd90fb72b2cdce0d0da8ffa3d6d83f4ad12c2ff509784cf0fd86ccbf552cc65f17f875356577f8d6d2c0e3eafd6da20ad8f4d7818ec67253c4db33176b64cf7f12e4c2ba3bf2714e8d533941a1cfeece59df87d070ec80907c944907ff0d3fa21eccf3b69b6b0e402771814e41525b8d07f4722c9aa91b2e93f060639767dcdd2c7fa7b054df19a0375f0a53fb60a00a6639ea0da7f7a5fe07a5b49f54d0ec3d0c8f12d4c0819f2c5cfffa97201a9fe64610a076bfb4a9e866d85ad71b488e11479e28b186cf51e067cb31ea8db479f6f354ca76cae7f55c37e333f38a3c069b6b9ba6425dbd973741847b410ad278d37ac559318b97b6ebc8584369425e7986f6685b1b83ee98480123f12131d94ea65889a825c0afb2e4349d36d8c41b17c6d833e7151f250615bc420612efb12d4d3df32a9aeb04fb377cc6beeb620e268f0883aa145c9e83de1ce2703553b1e4307c4ccdbdff80cb7d76e8987813541f4fb58f287617bd0625d43b4f633ab27d54fa26f92342e3c1e7dc596a637f94a4604850e90439eca4cb76c1c232258b44a7a0a2a197f9d925444748ea13df89eb50a659b3b53bc86d0a46046e8602392c6875effe804daa4c8e8df701d4d4b41bf02053d29800f81cddef7195b5fbd062f2508120532e5d14dc570e043c12ac781e8d5cc99ddcb9cf4459e924df589107a0953ea850e37fa7790f40abf10644b38e89b5f2f1df1585d262d583bed417383e6abfbfc7e3491255c0b30ca39f24a63162d06ba28679c2d57ea080419a462ce876ae3c456bb8cb1a56876ddc18188e7062d62326fb9fa22172508f3c767162442341dc78e5e3fdb23d09ae44b4e1b4f18574e66e7b1ca7ea66c562ff0f69c207bc214bd1c1a1ab124ac1bac579684de48bad2147bfc79bf86320dc9d8bbc4c4c68ec85010b64fa2a65a1b397b85959e0fc9868bee3ee776c132466aec310b130d08fd340815f05aad67eca567918082c3c84d86d2a50d9556234ba4112008ec8b24c3756add334984d0ffd52facae38adaf09ef2fda2ac680d8961b9ee8cd3914e4ad3d88699d1273e69c450f490db6653c3ccab5620629c57a6520f211549e227d2e410f49af7c60ee1f7e7f3e112521a950e0a8783854e3c2817100df5831cf762daeca156405f7cf28492615f7328071fbe9c4dbf5c521e31131bf5a429858fa046ceb1edc5021ea3638d6da9ddb1c407d8e8dd9ce6d743db9cd0202b82eccf4428c44246c650339f3100a057651139c095c664ba8b5ab062236633890b288229a610bcf7c286c1c464e9be29175233019df8bc5cd36df637b51c508bbddc62047fc3ca8e60966cc80b9c3a8504bb1e93534bcdb637ff1595d570248864af0c69e24de4abe2c539b54b38ac9c17f13df168f3edcce59b5292edb0bd150d9f327d1e598d2b6ce1880646f89d2fdca3d81929a08411828b0f9d75370e80c898b0c2add74646edcbf56e8f48dcf2e1d1381f8983500f3684c4b24cc0acb45a0a41a1f48d15a5a060ff64d6522249cb3581b5ecea6ed6024d644b0a7cf4cd35e585aed1eb608e4c165da593f22e2d121753ba19e6f3a892791d684397027c6b551f9f5dd19d9bc61aff56cea00061849ed76312526b23be801fed8cf557fa8fa06b3ac4b6a6b30e3f6408f5019447f181d45e1d888c9ea85d0acc400e3c1937d7f7bac347bf35268c4fb302edbe2ab6b8aac8c781d3e77cf193dc6d95c4d5b500b8b5bd8497643eb661e8206d1c37a04317e36263ec642af33b22f9718ff32045cd7320905faf167c6e2b230838a11035d58aa515424143d66bfed485aaf07b4fb5164b3483ebc1778d3f12f4041e4a1353750761b9182d1352deb29afd5e2f953bc9b71ad13eaef65150da3aab3780e7eaaaafc24c665928c9143aa527ae799f842d57908a98362b076dc4c72c3910ec3f6f5beed4f1030046581ddf9939a68ce13233db9e8af60a89f97bf1380ae24d01308bf66c3872a9db479ea3fd64ee3c4e0b372147433fc233567e28dcb1156c4c5435228ca4fed4b0580940dbfbed437d60927d08eee1a225d55c435be9f1d7388dd279662432847680b0d6166e9bd285a24b090cfbf783167c48d6d264ffa311f65854c88e0644e7dffb0c7ace7840546f2cfe82bb089290d7c44f729934d3c114af714e770f90de5ef03a6fe6e141737dccbbbd8dccdbd366e2d873664594743626b9ed099a3f6cbd608ee4a96b17c54e3873e53587aa5c7a4e21c85b8e2e14c33a4a3d852610e9684efa578771dfe57cf76a696eff8e00e5297e0931d6f822adeed2f529fc87fa92074edd05500f9937cc587782227175db643db3d7503c9fc00522828ecf8f64a7da6f9ac3a2f8e26902d96102d58cc161c50d11ae74e9a8629d63f55fea2bf0226d8a78333c04cdf39305cf4307cc97a77263f9e05afc9457ba4133d814ccf5bac87be1138a9358a924a69a4231c84c2a7f947cc54fbf67d7025fac1ede9291b2d6c19d66fe3e73d6d6431ab6caf530cb223fcbbf92483562a72347379ffc8e4ace7a0351fb4fb84faec17aa63426f77cf90ffc33c92c508e311e8d8c346ada83dbfeaf91f7c63c5024b003623b8196d45b97186c7bc8d532c1e19b000726cee80b715630f77d143e0d92a33e395ba03188fb87c523fbb2c29c523a2fcc4063ee3bce81799b74e480ffd657836347915edc0a19383d4f504ee8ac499be73e16db20f857cfef36c1a63d820ef2a95c005673e2e85059d80df606d0f5e3524a83c7c6472d51d83b4264dcfa9be456584a0622130ec1f5c737576a6d5750b6f0206c11a72fded4172ef2e6c7c84f800ee16a3b2c1687bc6b40a2b8d325cca10d9960f20781d7aabf9de0c6e20205272f92395411dd08a11c4c5fef080531f24d8bf46c291c2428052381fed77ae21898105d21c1bd252b3a878d54ead90f3165036f9e2e42952f0c052133e9e45ce66d66e4fef740009ddf44767ba74a751eb89ca151b0b7122d66769656c24fb1e4c7ff7b35ea5f42f352510b7b07c59868498e9e86d0022ac39bc2cb36e69d582e90294eedbdee3311f44bed7b0ea63dc4c0fcd347a18e3d777d43bca62fc3583b61863d487c1afe7c2348ac5a3fac99432f7ed49ae6f856e337b0285d82a61f07ae9222ff517cae4cc2ccc618e95e666a20c6bccca7bbdebce2464b187d33d3cd99a6eb283b2c38144e266c705602df0cfb39fb80c449dd7ad64e8cd823c4fc26207b2737b3b68b9a1e16469cbbcccef0b70bf2916f78d70849abb46cefdc6ffa8ff1be931e80189126a51785fc36860112d302e9cfd9ce55e11262cd27da958de800ba783d9187404213d4b0a6ddb90fe6f353595b77114e80abdc8f7c9baf71e6380c2566bc67576213da91f53250858e50afca93d105552558ddb3ffb5ec5b4b2f7f5f3aebf8ca0b85274562d70ee73a47b1cd12b42f974c722b15a3c1252c474bc431db74d17e7ededae2e0220523166b3cb012926e08b007410f06427efe4eb6f435b7b6c9d1d01dfd789448797792b57d07ea00a9c811e1d904ad8e41b1d332f7e398ece64cba8487ab01065577e2d3f5125d9c639ed2b91a81952bab8164e9c40d9f5c65b8fef5864eb7924fbb7ea2dba819de14c609c3670c4178f3dd4760a70f50eb11d36b9df1f0a93a30f300c9d4e53b919934f71bdfdc8ca866af343ea61baa417791c4a574dc2ca5320742427cf4b0a5e489bce34db42d5b52e0468844bf46c7c687d8181f694ea87fdb53f60fd73a78a19b34b301aa6a847b8118d5c0fce75855659fd0ddd70a524fd8170a2cbd38307bab2621246ac23645ad40eb941a7a2e30440c14c9a6daf06a30bc7efb2939a16da0eccde8441a9f16a459fa787759a19cae9b25ebc1a7bdd8121c59cb9d1d9ce5c97f8e33828f177ad5b3a665c82f10609c4c3975464b87f98bf364a28619906fe8b5a7b031e2314a13d11671a9e4f2ec0933f0f0edd6d67c71c1142c023cc7b28f85362fc89748c5b43c0272345bc66a14890f6a3882772ef5b25a64dd501b99e44639e455c7f8eaff411d58008bec9545904ba35e7d1af93fecae5561089b29ebd30954ac9b53a78f12ef05e423b4c5b13e7eb19f74d4eb8260b14c3ea6137dea65d144a39e114c84b6cd30a7c406922c5230bd11bd5acd413e3a95e46546e03d39947405aa1156a512edb13d396ca006733888bd4da531d725e4646cb6d341a8b88451f86e4bea7f5cfb11dca21e08f02d103117bbcb7bac6f665e13e1339af2e260188ef9ff7cbde1b31437ebaf39ad3d35b7d065ae0099fe6daab99002bb514c8006041ac4a774b4f96e2d33540d68464ee8b970c5b9ac9acceee7905bab44a23ce373aad0f0763592abda34bdeeae895a991c2c8575de7ddd903bbfe6487273d5f8833aca4a0a10cb51b18b91400667e34630989c4fee297f273c75abae5a874186cfd0e79fa59fbe04ddd1d2df995e6335577d84a5bbadd1d145faf443c237e464e06fad9b1e389923d04e5cea47d816e36d4be04a8a2e5e5c3f8240dc5e60a7b827b20e328e51f076addc79a21100e1ad5c39f0294d8f1bf61b56dc12a9a22eda12f0e21fa048c170c8ca83c7c848ce84763b5c2e70400c98dcafbc4790fad633f7a5a8063c428bbb856307d403bdd93053cc7c1562a064e1f7cb5709628b7a6ffce01b78aba3ab85747a80c23a8bed9923d09b7697f95bcb9c7c324d6289f967d0c4a90580d36e85a06bdbcfdcce8046aebfd835b152518f61631b1570ce2c1aa8bd0e2b366ce99285dee1fbc6cc34e33df00063ae54399a0f19f8a5c159aa42fcf50b0a622dfa1d2f95a1e6342f540d48c2f1c4c70d1cf94d412220c030584e64684eb01ce1036c95b90f89f7f89cee605261e228c4859c63b3c9c35300e3a2da1f02c9b93b449e68d26f7c0d03a00ab91181f62f3b7b586143caf42912b0bccf017f2c1142e9841d75ce0cff94ed8523adb0a569e7d05149bf27d2fa19cc23839beb188f0b98458b8d0a1fa77736ade6842f74527dea6fa2187d9c66eb35e76950f03c30269f493e82e85703fef757dd82a975cef4554b613de0319fe61391408292d26ba6966f7e129bb9ec51b43dd780c669e46bb065f57c2427971e23ec98946dbc2589ed31dc9e68ce4700235244727b6715241dc774f3f71ee3f86144b7c9329fc1a724394e3f980b0740374c44b89b123b99ecdd5c1fed3e6da1a1980e82250b4e96460f59ef38f813ada12a67c62341f8ae9a54d74f57a7356e12e9974386ea1d8a59956e85c48ae269976d4c3d9b8fcbfa40231338ef0dac55059870486d825f6dcdbff1a5104cd5ec1ea2c5dfe639a08128cfa36481779640d5a5ca9dfa4269bf5d327e3f045b62eb1a6a51a1e6aa6de1218ab1835e4393cf3bfc24348d8a2168a85c754ef36526f737dc287ea06e0d9a1277e5dbda8aafeffc0949b5dcf9f1d53e3adb804dae71c3a022362ef8b5c78bd93a168cd19f7a6eb59c628a9560312d69035ba93f432021c469c956cb6a64758f4ae85c82464b36c8786d4fd911705317ab084f08b24f250e8f35af60407d32e90755aea6fc58f0a8b6dcf80836e77b850f6fa6ae788b87cf030e9808bcad3ab81a8d4917f29ea04f91c99fb871689d33bb7b43c6ab93108f83c4d568f5468062fb1d17852201ba1b6196a13191530d0c3c861e0d914e077cd1eff80e77ad56c4faa2fae784cbb19d3634b8fbc99929ceac88e0cccb412354e4bf8d73287ebe966b316897ce67e5fce98e43f51cc49571cba31272313ea32311927a6409bedc501e08075ed524917d43a29e62e97802a29a0f98484875e2f548d0a0db3efe585142b764f8ec89e211817fbcdd1a376473c6c1ef1902df6131911bdd0cb4e22542da38d568d3cb91ddc68c511d14a5bd156aa5a38138a86f4fc440070609c485adb30ab5a3a8351e206b8898915280536efd533c45dd88af17b02ed7f238b705b3e748ec2581007552862faeef8b7ac254d42fc1a9b6aad2075918e9a58bf06ab852da51e353fd11f86fbcbee9565918c6b427c9b100db54f4c7aec74b1209e78afbd03aa69bc399bd8fda67f6e08fdbebcf6f8bd52c44fffb4583ec2d54569ec6a17a58fee8276fcb79dbf26014058d63e1ca69ac234a24e31cbba5882b7019a90e01b1706862de8c8e2c093bf132a3b19fa5607df5be97f3c65308af05c13eda8ae87987a41dc69fc713fa30e068101d26fc9a572dbb89e60cb3b1c1cd85bb782706870bc81e3cc174daa279a455b2d97daf8d0ed0071f5dd4905e0e6e184cadad8cf6431873f2863d67a982848a7b3efcf38828e4174f914d2c6712acba6571e3346a3c3814b82df4a9db1f3e217272d6134d30d3bfe6e661bc0ccac556c1e8dc7e3f250556d145ccf11529d5f032e27a451ace813ee02dc73b356cae4051581a8a0191077f69fd01504974e309e429cfb5dc126634473d48d20902f6e11483302a0e05f9689ad7476c2cde4501ef46132b9a0b7de57a46870a024720550c757ea04afcbf1af3a6cad6812573d2201a7e4f0e16f498a9188ec07604d0db2df9498d0b1b9820d10a6b42d21b8d8f4e75e2a5786e7e87b315708c13ff9db6362d5e47ce989db4b0f960b56e52ae5fe9c3c950ba4892b0aec70d94a3a5aafcc2d6fd4a7e430ff542318d23ce85b36297a1d84b028ea9e166dfdbf7f95584d02b720aba4ae2c1acf9b6dc7f503def183379fd1882ece2752110c0f0517296fae61a9fbb8293d0f59c3a791120edec4c8dcdd072e7131127f7fdd71366953634028b1782f68f1423720a6683cdae67f078c2546643a68f323c40443e3a0174d033c98755bee177d71b637fffcf446d4eabdb651b612bd22163a1e5d39c5882dffc65c5b53a737df8aac3ac7e0459280855349e7c5b6dfec9613b55ea0da9e96949ed3c4a82bfc7e2511c66ff8dc7f3e08d028db789324b4b91288fd73d4444d595b787b0ccca6fce1eaf26a8b590e4c45524604701788704d3f3b27599d7a6379da9c4dbe4cdcb5a2bb34932cfdeeb22501a1aaef3aec55b52ee045f16715ef8a7aa81f3e5f6681af7cf98bde1168a6bd100266aa91a68945a05c4cab151fe753a5699507ab1f8d940b7c002b8e6a74cf8c26891f1d7218c7a18392871f59ec9993a2da19a7956be88a2cbb4ac9d8c05d6854527c8d1e2fc62e47177bf4e7a92be3bfa50a4b3b2e756ea328e95ed7c71592bc50cf998246ffb66c48f1fad067a0a8852c950e579080a23b303da3be0a58348abd6868cd14122cd563fef451bb5a3414eb31aa0e023b2fe78d4fed7599c5f0a2376c999b71161c6eaddc951e5d4e11947cc23b1b7ed29c77b722d447341251500e5ff3dbb9af0491ebfd01428cc6979bdad06cebd7918868b3647f02f7e9dd731affe6f06ca3b3caa933a596ac163b31e7d721abb8bf2c533aeae418c6ada1e28f770543d9437a84beb83cf3b5b2e7e9b60f7decdd4f509871ae909b0777338fa0e2cd218b132619d84dd3ffe2d4e59c51bf3a5746e568e9f001e15bc03bf2585d82b1052fcb49133a23432a6027c61ed3c401d55bd50febf0fa73b77037780a6fc95f501739ad8d832273785feccdc027436d0060b586f69f8e99f3d98e6a392290bd7d3d4b3b431034db32d2fc624106acffc21f0c197c90dc7efc87596dc0733ed97b22e61c792893df59dc8b856404611240f7a977aa0d941910c81ffb6fcff165c908244c5094d92dcf900a57b402d69f651742fe77f50bb340e28a7c04c6a23bd15051a8c9f7ddb638359e8ff929dde11eef586a313b6d0978f21f32625de2a1eaebf49a7238a0257d2f4be91cb45796bc499e50b9a285f4431bb39e2f36ebdb8226fa528a08dd5d70a1ac8e490e12418822457d6ab3ed130c0f38b3e2294da05dab68bda8c8a8dbcb226766f8bd487dc1676f5721f6f58cb10ed171e4beb51c8e8c17b2e001ea3fa90fbb7deddbadf3698cb43dc59ffbf260434c3dfc05f785a29e07687d746213b4371b95ca577d8d1a53ea7a1d6aea9fc3c54ca73a9209eefd22310012ae0d7837a9220deadc1d49bb9bc2638a40fbe3f4c0041cc27b63769998b7c6199dcb295fc5a14a2d123fc6399b256ebc89af18d4078bc6472dd8ecc4a992eb0d5f08f3d7eb5ba299e3f1f7c87ac0eb93cdc71c5dca280372547c4d760d015f38007d1c515b669cda60a3171f305f072b32bca41d83513fc1839f8b37a2b48b4bd852cfebc96c11e02498b7fee0058709aa17164f48872889e03f84dfab037c892c46c66e1c9d74970b8b755da21d17469b4764d7a9e318eb474926ae8f9e8dec87b5efff38c3208b53e2dfed81e39f742903edbc7d8288182f4d3ce799db6ff938b87f39842870974c1e5602f85d4ee28d49d1182a30730810eb24790f76d29cec564b242ae271b9e1886d5dd8c235b2b356d8fe8730f2415234a4bc5a95c10cc76ca69fdb45eeffda7b550fb605fa470a9d8681b6f389e44f0976b261d44ecd44b429f56b146453cd4fe89e38c3d8d8180c9abf1240e87abab2620f7fa3477a2645231fb111d558f653b5f9694399741f339e72d0db2d51ee47c087d5cf0674a5acda0299d5b0ef693428cd70d7766fcc90901ae02a2a205590dd0760ecac17a476bab282202c530a3789e7903bc1e0ca90aa4eea610a61242b8ddb66744e85f45a11c89cc3f236d530e1bff4b928b87160969710479967266457b291d6c77a97805c7341ec47654a8d0f33c7b81ff8fc20d188ca224ba7ad1d9a59f0328db4617b909fb1d41cdf72db3d26117099671c1b6a2f8394f4912710a98e9db267314cad3a29c3da01d14413e042d47ccb52416389046810217b93df2b61a3061db58c1f10f274a2db21d0111cf20097366d2c16b3af339a33459b43523eaf9a6537e693d0142f90240de04e17f0821d2be3418dbbae1fcfa9f5597fa4082d5c43d0dc33368e79576abdbe643c3ed69cba0f762d0a75a178d81a8b98dae1033cb07b50745c8abbaf46e52014b91d2b63c90188ea42909d158460fea25831cb73129ea1d6bff18adb691e6f48eeab2768aa89230470cb8fff71d02b85a001bf6632811a0d56673ac22367191661d8de322b52fd64500c72fe4983b405e6822f0ad0949da68bfc5816cde0bdd5d32bab9f50acfd470967e03014d9a7566ad31dd9b1dac95299844952d6aec0b0d1e7e23dead469b268f69fc6d597d9d0b1f7ca2d2d59424aa88dfab3aa677b8aa96900be91c953a08d1e8ac0a3d56799011089bc823ea42b2a3293c73fe4656a78b276eec9c587b4ceec8250e3775efc024e5790f1167e3dbb7a6572cfbca16eec081013f4a2b7f7d4aa12417dca333775cf88e5d49d30bebc0e3c0888512add2e133a6791dcfc21ff7c5207faee93a9ccae1dedf290219bf670ef3cc67eaf34348c270796cf09751e8630672d49560875ffcc5072c08313d72138cbb7617d4bf54d9104e07a3c7cece401e4e83d4c378cf76475ffed4c11e9650b3e8967f78926cd8b657a1d22da63433ffc34890d389bbd9c95909334f4c367fc7c035c0d018ec68a8cfe883bbe136b71403905097a39a1ed3c4e617118607311947489f44620404acb5c19b4e76d345c29451da346a5f74ded2dab6e69924928ac9be0b032129881890170eb8859644e3524b962671a1fc952f3e3f0eb7aeb2bf0c869fae65788d563ae46aac851d676a110650a96f78ad266424645d234911b127a135c79ff5db8bb052d6dc069d05aac4a9832ff65e6e73e6295f4029531a500c87f7095254e50b2b78af3c6713f6cb505f87c160e0cd5a9c223a08fb97233b21517d0a4aa37c40e74bd0d544baffe605438595e2507446b34633580156906758e79c31f3d6ddd4f84f4a3bfed0d72b606134c3fe54cff8bcdbd057eb5dd505f4d38411fd4572b73d8aa769d8e30f574b6d8075d0bffe897e25f61bc63c3ae721d1285001f2b3bddfd417bba7471267455fd4c4c08ee825d770fca0e1d44eed8c83adfd8554a69b9a1fd7764f30817d4dfc36ad2bfc8bd9ec1936d09c0ce4e4845b088abda6f5e7ea68b947468d10e98074ecf2aab3813cfba9f11e1ed1a318a78e10dac58c91ad707fc94e080f3e213456b4ae9fbb225912379c7dcd4949a374f5cd50e67cb03171a665d6bd9a639ae2e318fa25f4717443926bdb1e91fa40c78fb1612de8a670f97128a10cd98b1d08a9ad96fdd6e695695144ad7497c6f53637dc0ad779c94ec1f703c2164513db8d97f185d842b145b3529fbdb8cd74ca5c1208804b21053086dfdac277f12a4d7a57ed221ec71548ad237831718caa312de9b9057ea36fdd5507ef838e78b6da90c9bd40b08944d076779df00c5fcee98f5b9001516aec43148c0f2c4a24c78d8b65dd34daf0f8f4829e6695457ed75c040f497129ab78014dc49a73cde4ea7f1694c1b44a25e6312379de0d34cdb92671204ad2b3652aa04e99479df6abec7303174b88c5a4f843b1917e755424a4ca618b36afe8b2a03b24a0aef149e11f7cac2f9ae875589a11bd35b7d243fa297c292b3f9423e4d37d8cd738de97c7fc1296f526d7a0e83471976cb01135f2135182ce5b73f568a67fcc0bcb3e7040154803bd62b2de55223a45dcf18943373352e23b81d3a75a5a0ff53d9709ae9edeb2e69732894a6e17226f6535d1cfc86c630c954650c664578823ce400f0df1be41cc456e4686733ca0995bf3ad204d99f836e0754b949e95451b42854e09935bc3bf1b0b9c1ab4790913ff345670fb2b07a2056e8374b851d72684ca9802bd6e8e56186c05751188f074caa95db786bcb8d74668289002c563fa7a8dae68187aec63a3878af6fdfa1a701a8fd820f4a396acec5847d3ef9da22928041a5d1da01d06533600210ca1eb7552c0ab24bfbd6c6a1f824e286d11fdd2fcbcdd94af7b7f89d7e24e4ed5d8bc9adfd4539534ee5a8ed2617da89778f3867e1f907fc3c9b5f487fbd2f47470974cd6b67d76d4049017d78eab57cb4a5f79dcd520150a1e475d2536b5540297ac78998e29419057f3a89f7e5b5ec4b5bea42f6a7bb062fc86b56ff0db8ac39ac71fe618f0b58f8b8e980cc28e1b67d0af16e7f50b2ee769827eafceaf98a28f911ac49a443f5752ed6dc52c06e8df0891f97deb4e76bde58af7e74dfa5c8a3329ad5e6d9e4bef2c14bc34e7347420047fc1272dde415de0fc03a1e5703d1a1a0898fd3d1d52ecfba73dc0604b3ec4dc16088d67b216c0c2f405001b7b3e20fd6da02bc1671dd260033cbfce005574165b60f30de64ef7d572c4fc35f81a4563231484077cb3fccb179e6bdeb30e5eac9180d5e1db03fcb3401110c0f23181935a2a06381f2ea4c4f2d971da89ba8c00a3044486aae7ecdd5e330bd26b04c61c551d8efa7864cf6b3c1be0aafb2ba534512d0bd3754109e77c2ee4185928a8a24aa45dadadbe3c9fd8e3f5240885b4823d4cdf3b32bfb04c0f94fdfff46bf4b3be33a0c90d0670823f42c92d0160683f26ada01117764454cb150777fa7bd9c5e55892752b87b497166bf45bed1cf0dc5bf9ca38fed01219a3062e5b6bd5e73ddb696e8714c669289c0f5639e4ee5c88367d25026741527c221db77e1e489eba52c0d0ec72fe5e7774a521031666591f8fbfbd6c4130f4aa900f901cfff5944c5cdcd306cfe259d5a6d18b36b059644be0b7ecbc95f19ddceebfb295dd3bdc8eebc84cd372ace19c8fd2c173d3f8d8a118506e49ee1d7722e58b103b5be6ead1465ea63f09ba81cc2e83373f760fa99584275778e1291956e57624104b8d9cdefb198ccd5b2b129a060663e65091a69fe3936db13e6f15cff1dacc995244f077c02b463f15426b877425e975aab4951aeeb811d4c75513e49612f3c74403f8d5f2938e4757dc3305766e27fc79fedb926749af4f61b9bd2859d8d85bfe18db7fbf63626f8fafc6bafebfda56ad4d99c51e6a27fd94d986558eb76cf083590e90e38ed657b09ece5d7f08f122a7616ad6c846079b17cec9972fb4a21bc87b3ebe9debd6b382568f3dce1c7041c1057b09709c1dfc759a78b80beb7703d27800e034f75463741a7bfdd61a7a9d2c3249d0831d469b3dada2a60834dbdf6baef0cd6eea599788e4b924111b82ea23978d2f1b7e74ad0c6a0587844ed02916b410fca40f864db71f14236b74ff561212b702dfbd969ea316591799eb6175105164b1ffda0622797d45a4352fe856963b41db381dc42f6c1d29751b94dab55f7d3b7cc72ee8296188fc3263dc6282924bd1b4be08e455e1f9e6c99bfebc6a1bc72cf85714994473bcc7ee57dd4fbc111760c382ca6d4344467c0b78073203c0710c0560daae9e81bc33af5e22993b94e00a93b61a32cfb3b596de33aa91c6241b7f99fd9595677cc2c8062b112e33492535b15ff83994f7be86a62fe3449a8d8e9f9498fa4a42f5ba1dba73040fd96ea79dd84d337bdfcedab34740fc68c1cc79965a5b8681aa33519fea23ee7247039551b2f9ee737617751ed2134c28a42b6672c5353bf792d04b0a864d33b962882af2432a75b161fb350e6d389019634cb15164edf1631822c483e689896fe32214ad86f0205885e7d09305bbec92353dae7e970adef14bde1b4cfa60dda32bc5a37907a02ee660d1dfc3918f69f528383d0934401ceee5438ca1b4b33c7021a93ba511faabd22ce22bf7185e12fb9d589be561fc630810e5c0b2a9f05a694349d522d260adbcd6540327edefdf720aa9ea76867e7a24201b6789230de39979a17dd65393031fc0d987dfe3d8862bc4173a47c398d5a1002bd3e23ef3e93b68bbcb413f39c0a11359c58f65eca13f445814babf87d273aa8db82bd54e876f9e41aba56de5c3580f870dc1eaa314019dea31ee77b480bf5bec6349d5e9200d9bf58e370e3c1f863ece8a1462d42faf23c7f8c5fd1c6e400fafe292e04c916b9bdd08d3330a80d4173fa3e9979379bfb48795ddbbd98e70c5f8037bde319e079e53b93c944320e187bd0dcf574c0a7b9c52097f2609b9526f6c5c208bd534cb676c2f8f350fa5a880f7f07362b31599d1ac4a755d6c8f8db8e9d9a01d69b1a50f661c92552b41bcfd05e51745847af8d237ba2790c6a7109674599d55ef40b4106f4b7a897db26da9f30424fe0f44998149650545cadfb247526f171442b2ff5da8a2d6b35e97ca3a89cb694d3efead35c6b4266a280b52d47037bd61ee78cf0ae6f1af36a4c49c1c24b4e88ee7eb332551c27056afa43e9f6103027db2df5f88b78d7ead98ad4224b0ba454ba9e800c68ba6df5e3bf0c5e83391202584ceb7f8db52d9223b15e945079c1106b0f0e8f94755b6aa4900468a666289a91786b220b49a15554d3269b8e7634b28c3863066aecab76016dffa3f052b1a3198baf8b94f9c1468e865f213be45a402344d6c1187930da6e23eb9cf433402cf6b6450f06fa35290be99f05654cc6fb9ba4a8c3bdb9f1425a23ae43eb6429e72aa518bf78dacc208768932560298fe5eed5e20990cb9239eecd31f77d066395a78e55494f2f4acd7b168a1bdea38b0ae41d2e8a51fb825ec7d4715150ce403e81d3c4236cb6f62fceca695eb4bfd3cca886c5a9e47caca8ca4ca30bb703800d4d70cb9f997d184f41956446d597108e85914524c89631feec71598d26cc15fcae2d21cfa35968b63ded1185af2ab09fa0c7de404d2d05aa282f8428a7d5a2aadba82f6de6041d6104c8ca2b7a64d1adeca7de85f76c5ee7618dceee48e1a42f30a0d707245deacd28f0cdf3ce364ce2ac19fdd4a11562d12241ede03a5a723dbfeff389f5051981ee7ead8553e0202f4cd3df668807837f8387eaa980254c1fc82b1c7b68dbd259574902120bcf3dc103b939662087bf2059dcf80aaabfbc5824cdf72744cc73a0b2825fe091e6c621ff745764d8af8dd3d8392335310991ad8a05e2c1531ef50de6f3cec1cfdb8dd76572b1da5287cca4bd054ab8b13265f72f096e3258bc15db09f37df98eb1d9250deaf881a9ebfa1b7aa43569d9cd285052c81fa6db2bdf6f44fda484c73ec23ae388ee3ca2a6ef2ae4cb53a1e783109da504d384a7bff697643289408dc11c2e98443778766b31df24b004f378b09062cc5b756b773dc121ce9f3c7ee7bc0dce376e128dc6544bca4cc7f6912af6effac3ea601d48601927f3a65c999a8cbde17909d21652dc6848b6b7a0c3ca410ecaaef138bf2fa9987f9a0b5946c2bd833f315887e0624c2ddef61766e5020354de9a64f3235fbacd468432bc15e0f2bdee1a66b88435433d5d90a04ca35cff5e319487d0c2de757c2ed55284101d391d153e3a562","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"126a08e53e36b703cc95578979034e86"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
