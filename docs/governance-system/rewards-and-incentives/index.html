<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"aa9741d4c5d1997b2283cf7b21347afa27020fe4f5e8c079a740fe08dc002a572aebedcb7602eac360566254445ec1c8f6827f2a7b0011f03e6e5745d28ca7b4424556729a89afba1ca433943d4b8465698bd10d99cacf476dd5f79a90974f71a0dc8c3a5b4d093071cb808cd733c91aa845935eba3122398f17f3200a99921927782fe6de89c782caff9b665a61dea9b58c0183ccd9e258a6b7338df01c622abd1002f2cbf8064af19b361f3851b5b87534e445bf1f00a75ae3dc9ad2bc907d4f7ffe01ec258a1a6f15437839fe932362b67dc76eff7c5145476dce45858dd3f7ee41ec881ce562effe79ad73c1cd35f9b7f1df116fd113f503e843b571c8909d1934776f8fc3a7a0f2138d8b9b9f70a297fc8578d005cb3209779de124813fd45500704397fb2febf418a4d551d76d341e6db1943572b418942faf46e2d33b855eb5ed9a7da88e355cb67ebeae4bc7d1c19cbda46fb1de67b93ded08b0539cdd2101d94d1363f4122a0d2452fd55d3bd535ab488011973f69d403b0fc42fe8aaaac3568a1033b9b958c9a9304f74882289c279d187b9226992dbbf46d5daaf357890ece19138f3e781bb3ecd1bf1155d3e6775f7ae15c5c2996eba7880b550bc4e4bf596dcc7314eee2e5b13479e1a1d5437cbf7fa773f46d8c744b637cdf551b18840f485b6b3a883d3e09ac3e1890e790be205f70f657abbe5e6a619655527d182a280a6d1d0e080adfa944c7ac01ff4b97af3107edfcadb659ee4ed477dff514cdd5660489d5617bacf8790d36a61fcd89e8c0fe8efe8f5771a15ae68d907833d26dbfd094c7670451e5e57d388c1da264123ee06210c8fd24615a3cc055be5ba5d13077af6d9294e984bc433d63082c0e86d08ffbc0804e52683819c82c82716a209275b56ff36d126a78e61e1701153c266e023a112681db57371e615e994dbdf599632d8412003a84a262cae61ebe2f4558e023a202cfe9485daa4251327b0ebc560b50507191ce99d37337607cb4622d832d876b26426e615a8e76d26c585ca26edbe2b2d5080c12a79117fa28f4814bf31c41ccd3472f37fa5063e767c7c661b0aa93781dd2d97e82696f31dbf2045ca5ea0146c72cb9406150fa11d351eb478f7e59eab7d5d906a1ffa0450cd946bbada6aa5ad0048a33f8b802497e140187e93089f6c91c05d4cb48224535fa65642c23b89a17f4217c0d14ee449b7a1d4eb023e5743310b1ddf60e6e75274d10d5695773bcddec64d43f321f0a9e316d727285d9f4ade2b6539cc6787f35e458cb0ae876801c9e703c82bd3b0d5991b06496608cd18c05a63f140425e4ae42b70fd689cc56d86c4b2ce500954e5a282d48fcceeee0570cf80eaca11adf02d2240d92fb4e68b0909291f25d94b8dc4462230413d7ba69b14ba9425bd19390eba89d6d2c220b1e0a27fdeab2c470eb446a008aa8a61906376214298e6d66ad8d28e2d4462aa65391ac7ffdcff84f16b05c9e3d6340c8e05b27520447fe82e8ba0a0358b00e4db9a4c15b52745c64d63c0484a719e3ef4bade4c8fc5f681f24179bff14105d8563ce7b697c4ca6b889da39c95c960a6b32ffb3ae8ed0356533cdd8b11e63de752611cb93885bda1350025cba953beef6adf1839d4fbfe44721f21a1e2767ffeefc0827e2a029639cc9767a5fc9ac0dde6ff663b6a5fb5645c249425407119dbf0e143f0afe21e729db7f62b707f60b2cd0b8adc9c91efd2f96f25d014368b62bdec0d4a7957a5230b532a9191565644d394a9e57b6e4e9176737bb7dbb13b4df962e70f0268ce980b4c1e919b699cde13316743971cdc9bbb2b8c113c323eaed2a1b0ecba08941576290590a89150819e45f477aaa5366def360a3b736405429f95555f3f37c990ce3b68eb8fdfc77983ba6da550aa683ef4d2d20efdc96f99774e1ae5455c1389f3c2e499970cb95b34cd4b4e1d69bcf111727a27802deb384d7b962ff46a5bd823544b7084d590e5a7dd959664b11d9d1c950019eeb99d6e625654739b7a19ed9ac7a9580e467ff0e9387386651cc49dade56e8d3e1de9b75972ca5200a562d8164020b46b043ca6cef0a3d45b3fb88c44de24ae92333cf617f71c1f92cf95d23d66f620ec7446c5d15d152c020c298bf5cdd0a18fa5a18397d8016f2273caa13ea61b70309411dc42eb555e6772fc7db03177c0160a53f990b405607fcd4fbd2e9c639a83a02957163b949739bfa12c10190134fcc68156f75b9dc4f4b134697fb037d1b24dc1ceb06bff37d435ec5cfab6d2552d0cedb16d1446bd4f6d5503a024d15c014636bcc930399f3e14851112fa97d2f901bba78ef5c8362a4d7573f0fd835218dc31ea76794f910fd99c7656ccc76ea68ebb1b1652382c57b950f3c187de6dfc3feee6321f5379b6d325f4bdffecc2f53c6f44fead016e19dbd3c3c91e3f04677d7c25ce67953502600baa41b3b6b31c3a04d5aecddb16f05021035178db80966f14fbde6155d7794d89d92300c345e119b7590c625f37874f6fffc92924eb02c3e0b14e0da20c5f827de818da821a7e5cd2087b4abf34bf1165208cb73c546a7d99513ade2a305bfeda4677897bb73992bba1bbbefca2a51e510752b3e02dca0ea763a02fda2dfc90cae406d79c92c80d86b687d47396081001c2beed4351e6bfb94de6ed378baa24fbecdd4e3032d9ca9631a92bdbc10d42a8265fcb753368bddcc599d28041cba134207e415a1a59582e8a59af8459c391b781a6ced47c038a110b91d0f133235221769708ba2226a77424f324cc220336b9a884d4dad2b966f00840dc49a84c04fbcc0a9516e90330965b49ba689b622c906e06fdd47734e1d9a00c96d1865cca082316a8c5591294cb9df6fbf0d9bf45b1c14b3ee434df96961119880f00f8b99d0b990e9bf3416d0b15ee97d6fd7eb12116556d958eb2acbed76141c58018b7ebcb655b636641bad4a71e393a2d11e22ae1a49b02278a34f58a13f8bffa3dd7bb9bc726ff0fe21f201edb2b3a3183d87665465eb042326c11abd60aa404a9afbbe0d92f0028e12f744b5ab249f6ee0f86b0f0e00735d185134b97a4a0f25f2b8c7f5feb8ae34be68c4b3feb1a77459d3ef5e6e0d9d9bc8e680af42d5ff053a23c2201bc9e99f2bf3d3f9ccf267317cedef3bd58b327140e880aa07bdd59125d9129ea4ed963c8a091b3473be9f5bc03b59a373967c3ea6b5878fd4bde4051cdc2d88a1bd845cc6275ef8f0ee0bb6e3c7ecda7a3b300295a8f3cc0b6290139a15c8536e03064c66624f34549dbd2cd8c0fb605626ee8a1305a234dce237b6bd4873e29e9f6082f13e6cabec417f55bc02a8e57ff320c5efb211de1886a54d29c32d50596af76a5d9c6cff31d34963366ba67b3f41f01c07d89cefe8160cbb77c9683cacda8fc73c3f8aadf106af929cf7db99ea2d09991422e00d311ccac08dd8327ed7ffac9a019d2dcd205afad83fe0d57e04b2312d698f2636724624161ab0023a5dbdea3435fe10f5000d75c55d68eb6d10b5f1e3301f4fbac756ba8330c1fb9344c2db765fac7112f66b9860433773d405a43f27bec22a6f5f6bdeb7c1c15009940786f06851d7c3ebb02a96cf612c4ed757e6c69f650f28563a3d110c3a9a5dc418285465c2061a6cd59f6ac12dfba18ec84ebe85eef4c9931a956f140f7a047bb2325cfcefff227ea2580d5479c0ff9aba26e531c1d1b980770090b8c625965f0b2e53051158a1ba8451aaab1419fd5e5cbfaf8e654380da2fb034b5295a704f658ea7a9189cb431d16be085f6a9b93926b42d644ad9edc3ae4c8dff5e3f61c8838efb719e5e0506b163fc00008fa15429cb24fce412059edb19a982efbfdafe9d2e5d4ec9c9919a8aeb5c605fd4bc0d87493cd51a30f481f255962da0ef5be6787e236dc1924e5179c3b75f4b68ebb8ba1ee96eb29a6a19f0d60bd8cefbab4ec7de9c10dad929e740999fd19f1c857820cdcc7c76add5d81e3f87cd5b58f0c197e2d3a7a071bc8e7a40ba5954d76bc56e27a1e6c0e3923dc5042e64d69c0912655063bf4199172bdf313908973602729a27dbbd18856322cb6cd783177984f7e90e00e6f969ef23ea057a5d20a7095ecac52a070e89f81a49b6d541d0c3c1bec3121498f4a7350a12990e1b61124a9db0d033f6e53868da1c03a4232ccd7febea2a83eee33d514620972e3824dc71d51172c3c0cc2f5e1bafca1f3f723889f352bf9ada0bcf12789a63e17872d5c951f0d616365890dab789381e8032efc55792f305260a39143d52c4e3ab34faed4d9ac13e14a97e06f353a08a84cc2bf81cceaaaa4d81e40c46bbf26385c9bbebc565fb01583e1c2e652423c8077bb15a05c37f91c1b5b7763f9864af8bf0e43bedd10f4cf08bffc65748d16cf470c6a655b30059c4ba667eacc445d9b9e3377697569bc345f6acf65bb72a47c7320031d95205a94930ad2a6e609b222fd111f318bff4a9e71f73a2b57abb455185a78983b80c280bf6920c010a3510f39894d6414aa10fda6b8b7d6a4f2031a66918a52e18aafd6075212f10015721a6d687783cea3ffa95ea9d65b54d8ed186e509d00514e29c20167d78e3fd6874ab4b17f17ef23bb2b7cd3f7ff1f03afe68628bc6568b45b5deed2452aa3fa77f1f6404f7f96cd47c82a49dd5d1ed0d74a70de77397db7386a74270d876a703d85f21b61772bae7533606556ca8aa205d78a2aebdbab67a0571dc367e9f6296ebbed326d4b361d11b57f4d8dff4585a089985edf785083ee14172addc23ce8984fb67910f5d79d1506f3847bbfe2dafcb19a9f9de35f8dbe6e17fe19d33096dedf5f9cf72e3c79cbae722fdef5fe0ec03fde997391f2910a406f1333db7bd37ee69c7cba3c722deef41ec7e145802478d3a6eff5c8fd255a9cb052380151dc577e5182b566ab7b3fbf113fa255fda245a944fdd5c8bb25638763edd34033ad960119f3d7fe11b9cce36f8b8e0a36832b7ae31937e54b0cff5121373973eccd649fd6bd65fcd898e42ad7277ece54c9d09bde780b05dc2ec78ebb514d6edf1a4d788d85500dbcffd48a0b88887134c10b004b5e5b12b7f9c76433202f144e61774c7a5bcae1d713eab148cebb6bc05dc729854b523d5e3068410e2bbe596f25956c12e65fade1b57ca6a1a356f0befc1c44dde28442016e983140c467836311b68adc01b41491ca6bcd031ade5428438f8bd616dc0f9ec693cf8d8f83456e488c1ad7cd2265897f9c4c19d47177ab66c4dfa72f60e4f24edf7ccba7d4cbc9db66008708ddd838f93c9cec6b3abfc0ca6ac9d20aba60dc054415b4fe023e9756e33a71b5c7ccc49b3292e3c80582a99325dc82d62ea4527a8bd6ce463c4c5800d9404b151b6d811d7f88078e4158fd552f1b22cd411d041450e693a31611c1a915bc454e6a3fea2bce681dc20525b2973e7f3cd856f54ae9748a94b305149ae39c39caa0229a99aeaf975877871d619ba8c4ccb575a2c4ddcdc9f4b7bfffa4d67f6d3f44ecc132d8bb0d0ab739b1822200d60c4bbd97e424b7878e4df4a1eae8af9f864a9f50376e52e0071b2ceff3dfc15941404038310eae2c670f2e9df79db0998089a94184de16d7a2a97f6b51a648a2bf1807d56dd3b10ae361d76dc7680ccffce587cdc7b29dc6c09c6bd0ee9e30d6785d1f8af63c265770e128d15666429bf3b0e06f4e654a9011ae3df88902f85a52a1c4a718529fa43dc418ce97c9c9ce2d3e8c6ac646bdd929df1434eb2e55202d1713d6824b64e8ee1f425805b87d3946c0ca32c231a6aa65dc0c5e4d721ba9e0cde023d16c6b89023bccbd7193222b9d345b5293f3020bcf9e0c94006154f282c1ee48c9c0bef75d39739d3d066fe19285dc403e1816611b9ac9e7f07b688dfa400fe4ab56e5e79dba7c4df728952cb00399179070941c6455c6bf89e6a3b55754f4ae2ef041c2573c3b0dbad2a9205b06fd031a209c82a50d609629551c542d0ace220fb3004c079307727d4b9696e54a1cb01c245cf73d3d99fee907942e954bf3301ac05e96a2ad31ab47897442cb1bd4af213c55f11dfec274422b8f86ea900b2b1fd1cde259a1bdbf4f77b2f09c2c0a1aa7dd45f5bb16d92baac4332f02c91df64597fd7fbe8a61df9620f2f6cd66d46c7b666237adb9ba65b63ddc954bfd7a96ffc2edb13fa25b59628c747611250ff3d0f0f45c33a25a3e506f3dc5075637b8e716d5a5243e203170af924a622a0f82a99174c1dbbabdf502ed144220cda58d1e352c54e4fb10462c8422cfb82473621e2904e4000483fe82c6c19e840c1b25d02bc4d33cb57f7d89646162964272b6b2e702b7127de440a4e33378b320e0a1546c39774ee8ebee49952a43e4d19b121a5e6f356bd6b1b6fe805a7b2d42d56a8a2d6d4c7c35c3deff15db2ee3694a46459c6c673bc21bfd1e045c20443c537e2e471e45407082a18e4993d594578e43270040f0e73c73a1e51c2bbb32701424038f73f33fd2caf9f6e6c9d78419ea093dfea0956f403e78566996e1270c50d488bdf1a159ecb72033171883f7d87d89313c1c776fb5e5ca758a2e64b26d069918279c319a6c43d1dcd8ae9a87a52339b28db00841ea42234b2ccfabebe9abc66c191e24470e394a1125cb7ea7b5e57b2d2188e6d1d7f7ea9e210be7d57772fc7065f100bfd6b8e958bfaa3376fcf657a625b3d4cbc0eebdbc317e2e31f7d132dc6dd322a9127ba040425c2c79d03a14caf5e90e0e2e8e3c9d563829b4e1dbd63dd2e14b428e8ea1243dc671a6b5e2aaecc8b50df093060128b66ac98f19b0aa9646039ac8574a4eadb760e35c3cdf21e77dc03a5b8add2af011b8e88e33fbce0a3e747ba80590573405295da039194342a0df01711ddb2f876817e9cf97c3ad3cf84312c61b993eba5face290166d8335695c9d6e5c28790e008a8171b843e02c5456919a52816a87e30de67c74b0fe6c36b10c62ccd576874bcb31d0a9a6b4767a12449b46a32b6e66c20a293186997e2115a742e74e82de71c75dcd579d286d66bb91706cda76dbdc641221d80d5f4e0223a4896f751b9d8880bf7c13814c84fc94b69a1587077e42b0cd5634f28e1399a1117a778c848fc04cea879470783106ce641ea0fbafa258d6400864217eb12259cefd71ed11d26acf903f01264aea16a7ddcd9d7ef3fe7f3098566f13c7cbd2d1c65f4a053249ddfc763c36afc9286a42580befa117346a2da17a3eb7f8efe1fc38d84d776572c32a3f0bfdb4571314f2e54da5a6f3ae65443994d5dbc402f6102487150076bd7d633ad6694f130211e371fe5b255b31105483da411586922abe1b19cc94aab68101bf628fab7137a50e538db5f4b54e00bd17273645fd3bffad11fd76112738958061901798f7d3ed4695967fe4fbf67a99b52382737e55cfb6828d98f16ebf1bfebdf5a1017d142b81f164065e80b97ca3ecde283dfea02e038d861620e2828e40c89032d2d879754f7a48379b1d44d0b493ae52cf3a8881e4ac90b1a48fd91cb1b4a41fa501e9a704febd391460fc98b1953592b087d80a363abefbbac8cb328877a030f9f81c70450eac7b4a8d435b84180d3e8ae50c75613ca032332bcf2973481439afad3d44ce3aae2fce559673f583bdbefc4304da141e1a0f30741b551922f3917e1f9b4c70f053dde4bb861427a9ff3803ff1584bd48dae03cf6a1bfbd8a4f93537dde0f679a3d90f635144245afe071be7f2c9f5c30538497b5bdbfd76921bea4e69b69d9fde938a15828073c2ae3c2c943a0937fcac7b7e6089f9948d61a03c53d7f557e30f7b9526c824546544a70b024446c9f47dc2335727b5d6aa23b7dd967ce00df06dde5fed66268cddfb29b188c76df9d9ed242656a1d47eef71346281478966507cc72968dfc8b9cf4ca58bc518e5e9086ee3cc6421c8d7b24ffb6cbed58fc1024f1731de20534da6fbf0fb542c1e2f86e5d9690390f20089e276ca14d4af4d49c1864e7e6359e6b84428c27fa5505385d9f8e67534fbb2c74f0d3166fb3702e3c3a85f940ea2a6cc8f6fb89b95bbdc5bd272267ee7c724f4cc70471ae3e0f7dea850ea1b3ad1895cfc8df1695a21ba8dd3e235a101497338b1869e4def8c71ac475395ad57a2c446e4677c802a1609e53bf8a2c7cd072264bc4e9af410c1a66f5c57a0b7c93be0c9985885a8692a40d99d994b2b469e81155b1559fdb42495ef74a5013b0435fe9dfe36d5209323312a643ee2f4e22a24d64be85712cb8b186ba4b6e69c5daff29647899b7811188b8fb490848d07478d21116b8cf11aec1bca02e2eeaa9a5b6287f588eb19150eee91eb25264aa492ccf56cb4c3af76380743ea17fe37b0fdaff300a7e5b16500892661ad0065209f9ba982fff8f8911a877c86898c3554d5d7166a3466ceaff7ad5cd49f921a36b2d56ea8b55228875e0e6a0a6100b2d1d12aeba4c9d65ac4d275357406729f425cd71e53c3eb6cbe278cdc84542a635f83cde6da1be3025a9c6337289cb96dbde5588d1ec44eedf63a92542a11b198b6919f773abf8947b857d9ca0520cb568d1aadfd8d95f28a46a40246b237fdc091eb2b689ddab199498679c53494f96b429c6820670fb8f3f786414b356eac55021b7b5f3513a8a419e2298cf85674bc9532ce6e0beda52ff3de7dde3492d03de1c8279bd20757111658319c3f81ff8c81ea5108da9b80ce0d8654c30e628ba16f2737b40c251c93734a8aa290a9d45c054c1801d8a26ed1d0a3fc8974d58ef772b05791c90d554eed345d9f54b198c81b7e063bc9846c1b1f8f1415e93a95a836032b8a63d6b92f1b3774d4fe020497bc9510328376a87661cfaa188f181fdcaf8b3c2f502d88c8408c5e96334629c3f03763f66812857ab2ad2815aa7baf0317b124e409b01f64a2259b3f0f7d2092ecc0b445bc314e5c30764693c76046041e1e042c5c13b0f3abf959b770ab4c2b1fcd24147b5b78ac3a6e771e62e90039cbf65f11ffa1ea9036c937131b0debe55e53625f07bab6b0151202b97294e897b4ccdf72ec9ce2a0febb127070898469a8ea80e3646ddb622b103329797b28962568601195d94db7a8fcd0fa3a3858416f3a23e2c01f676ea56b42f380e3fcd4cdd86354daff29685b07f357e4b5a24522826cb89759438b122f16d94a03a23e7ce678d874db167ec1baf7e91c78162e4f03bb03362962dc3b1c5e9114bed7de9a108d7294c00fd5074fc3ad46faaf3447bc5f1baa7462ea762a8f1d11922595be90c510ded5d1409470a1ecf6352b31e86d469c014e0fa0484860a40d5e37e708cf611e66e91638236fc852990526c870aaf6cee69d9bd9dbaf355d99821fa19dd6566df1ec20d4c36210d958c09a8cf6fc3a7bb94f8727eeeb559c93f4b094af4ae21a332c8e5adb0bd1fb8f04bf8367cf5f605c587c1edccf37a83daf324b6dcc4a5c2813512a96386c7ca735126025cd01cf9482f9c446486db89308b57d8b61de3f5247fa9c3d255a6ff3f9376f1e960cf76c12088e12c8dc42ebdf8b45ff34de807dd2039a462b46ed40ed4acfe68d2f5e7980f546ea157b4fc71941e7cb5f96fb5b6aba3dd9fe8f779c6600856f0301b2c290517986c41adfce2b27caa219500a27bd7dbd92222d5195d365cb1563ee4a21933178ed9086c25ef6d77967b6e6a8117b065d9c183b04dad8aa72b89ef6db68306eba350d05439c87ba37ddfc4f4fa8b958a3c149467c65b25f219b719be5efa8def5803c569f28bfe028e2b954fe91a1fae8101fad7308afcf2d307f215d4c15c6175f01501449feed013a3401015a46d247a5fd8543900b656fd2364b9bb78d69b811c3c3beb29471ce5c8484698951935ff27e7af4941ee1dd6273c0aac627dec17116a93aaa4e519f36b2d6b32b87688f863ef65d47787c4adbc6bae7ae5bdc81e46d101abdbc876b9dfcbe9e35a4a41112fad9f68fa0d835f49a0cfe4367ddc35ab96e49c0e1451355ef925971a5c92102a53eacce6f227c998592172c6dacba824540a08dc02bb979b91b45578a05a9d3bdcc4831fd851f285041570c12d27d6a490fa1311dc8981805951cb69aa298c8c42eb2c833cb2737c9a480df2aa54f5fa6b85afd067695868a9489f1c55c8e7e270c2d5c57351d76f3a89a583bcb9a036b4172f707f2042a83956aefe0ce52d8ce6e2aaf09e25471681726b58be3aa45f01b6ed0b61f05bc16694c5cdac85a92ca113ffb17a204cbc362bfdaafedf22a391d5a123bbc2f4268cad8204ddd758cce342ea4322a4301007cf1093e56c5a0c526cac59f47c659f7efe2152a0753f2906db4cf1b0041dce4186c441899ae9406176970bcbecd1387820516694ca8347268261b197f6b6037dfda63418c54fb181d6ee4dbbc4381c0caceb5b6f977e96227feb5c3fb6625f9d921c612d7d3734362e8d87609429006afc5833d8c5df8d391d1d0eadd7e4f2bc6e97ce344c385a8dcc39dafdc15c147253994c74eee49609efd61f220256f803b757f55d7cb658f9aff14149c7c287ec92ef424d1df1b76f1533da2b329a5d9112b367eb40ae06353eb79ed5a6cbefa8d01e5e2ef59235b6372cceba3b5c38cc9fc20414e8eff996a48682659954352d0ee23b8541ab4fe4f923ca5cab7bd1692ac8f8b64f350c183ac960006c53e792a30fc81d1ab3e5033d168e7210829007070380136f0639d8d609802374fc86e613bd029d6d725b5e28275e180ffe0d9ffe072a8e89f76228472511aa899b6fd4401cc15c9c57e2adcee7834fcb5db62024d86697e148dc69bcaa667401bb8f6befc93ad245a305dc21a7f99ef715d755bd6190547e5e955241e1da6eb0dd98154cfa33b0fc6d3930dd4c351a3e42bdcd203ad7b44c07513336162b620637783904dee84a5993e20afa887be54ac76b3db91b7b13e100faeea0ae7429d33eb4c12159ca32a23cc17d56bea18cad8bcfce1d44946dd09520f36a20c7984b3c5565025bb4c592135e324e34483970398d7e7adf6dff2ef2d38f859f94175db1c08ddb59cfb34a016213446bb03f1002ae16d98386dc4565292f6ede92bcae86fe30c5188a647c5578aaa8ff9252f7f6e66b5cca4d19b31c79843482082a66ce8c455b6e6e8dbdd20948ddecaf10f06bdb6ed7f52573c11f636a0a2b58d000cebe9d9e6c681461fec67023a9e636968f4a4c0b89b79deead7aecaa86ede1ad82ffa4d1539432a76caa62eec08fd5b4ab6bc0d4ff428dedb78043f83dea0448deaf8a050722e387f3906c3a3c6daa780976251f86fa00bc66ca8753e257a9710790ebc0c8dea81226cd5401f4d7f8bfdee699cc2bb8c17607c49801647ea61c3eff527c75f0d0396b2b06b5c09c96ae4626610170a8e475bbf4b735b358190f1595bc132db02e9f0248487df14dc06b686f12f74d6c8d8237d4bc5c78a98a307ee31e083f7df9e5083245938c82e81885e8db65ef8361b9ef7e4c8c7978f43bd68b5d2f2d5670befaa59202a11abe1812b5b24c3e6cf73827fb2a4720cd9ebf352d0a9f47b54b8013df667e4a5f310fbe70db2e348624191ff7f4a42d17ce7fa5719022ae0e1641a7b26e3110868a931fdbfc8220d7866c69e20c93aa4f759e665ac2bafbce80e069c1405280c55813005d62be157ac7996464d1cbb0c4a1a4fb9441d11f195a7ca778a82a1c3f0fb6f50cbe3fbd404ed719739b8e116b4bf7f8026232c2afd243713050b3460552291e0cd62b0f77c786e715ee5d924c0eb0d2b66b86616123c207f81fd33fa2049e00f5768f6ce5689453feba26128fc02d277359e5d4addf3a200eacc492b2adebeb848ad1e2d7649b19ef9964ebef74d3e522dad87191f4fb2806de430f068e794ded46ecd8ec26f6475887e3234fbbbcd34f2dded94710d4770f676616eb737330cde6ab3b0744247e20955e05b46be67b4520b6601433a7491eec4b51beaf673458813a7f8721281c3c99faeac26182c60e634f5734d759d11598e9e03adc65d7dd78221e63a11554afa092186aeceefa5c2ae62161428302170672c9e433a1d3ec78072cd862d183e1d57eeb26019d78dd0808bdaa335507f4c08e87fd8f5efa109567bda3f87b5c6b4c779446128426307ea33b72b1aef9fd9cc6be444cb35009111f49cec4350a1f6e2c71504c505ca2751b18f31f79a39241f16b301d7ec70f71da9ec58f62a4bfa11c846a08d2ccf0d4e4e2149fed455a473b3e157f14c0437647382b903b8e1c6b42eb1a56a7d4e0b3ce22423b9667fcf6f80875c588edcbdad8b821e67984274b531895b3749bce7c60766042acec06976c2a7e9079be3a664a9b10da414e4d3c52021fabba1cfec6c60f71886d2648da79487a642eb2eef43ab24e92fd271f2a165fef72042917818a2fa26cf924ee522bd38d5e39605e7b47e6d3f30a3011a5610d3f17fb388c42326e9e7bb918d02779b6133cc04c21a318dc6b85afab39ecaf3113091b609719c118aa9db0e833f399d262288fcb159eed3488ff37cf2b5ca8813f540c23dff537331175aac2e384a1d936277876c8df3525188f550b248856c0e696398d35f173092758f9035fce70eb83e0085cef6da1d1c177b174b660adda48098a5974f481a7ab381d817fd63f5f104d9c3a8f00439d2b38408c7e1d5ce246e68c19516b125e7ea09a34973350680078dfa8ef3750b8de1dab0f26e496107f8896fc071f5070c43fc3a289be20e7e373142efb9f19c91c1c766a7b3dce42771351c4cb9fb9743fd361c9cdd14d6ace0735b952de1ce02b6bb9773551607962e3c9efdd1e83fe2f9feee5285d1eee8d2c7adfffd6eb60214b752a8833b9047bee61d62579dd007995b43321d1a877cc95db2ac30586e7488ae13fb0d0100f1b43f8a368ba47bdc8e5f5633d1c3f2093aa6468b0f1a70efff8e7e73b850d53ee3c44835e193e62893a27c88ffcb20ff60ac3f563c9f9d42c877ded2283555859d70610b22cc10d4e49853afa40192b8003b21847b4cd831018728767f3e3234b0a87346f47b4974d37c165452311a94f6206e90c52ccb670adf5da7caf630d1214cb3557c7e03c690e4c97ecc5bb41a4d330fff4a3a35680376c55ae1c9bbae5240829830fbf6d538e46736a4a9ea92bff1aba24f1fcae87625e067e4574a810237abbfbb2c289fe78098af0449543b1814bb3138b45a7a87ccfcd03d5ff9ae4fff6e71e15d2327e5d51551f528680260ff41c3dc3625e0e19bbc385ba1f644283f6cf65533591b90c1149a98f7292a9154508c815a51a9a7f22b138519dbc143641eac7673905b9a384990858947d413f371875905066b68c57ab0e4f93f4c06f76422a6af5e5c2453cee83ce0f437722f301c09b4026f1f5b7fe5148f5aa81ba83d0a43f2e4d68d5f5ddedb6d4a024c0c2f27b039ce1cfb3316c9b35fbe70dc737623297e43708b230c3d6a872fcc951aaec438cbf8755d3f86caeee2e8dd612a1c33f8d7198784732e7bc0e40b6ac71cbbd1bf78558187c8dcdd3413024133781d2c1425cfb518a374ada62c4b9ce7ee9d86151e9935e162564bf9e85bf7871caa6818670bdd74a5a4fa0de731eb8318126e052cab01ec300efc8ac21d7c08180d1d3a2e8d6561ddbdfdc6065820140b911ef3a8c8b74e3459333bcf4110de3bf812a79a3e80034ff9ae6211f6ad5cb1a5d0978b1a73506b7815c5d82d163dc0e1bc9f0d7785a14fa29d20c27feca31d690e31275dbecf8efab894207f34879dad68ef3c258089327cdd6e7090a77f8ab06a2ed0471e0a1e0863bc5ea89d9d498ce784c7f809b8702ce5fb8d58a664454a711a7ee87175c5e96aea5b6c2e80feb67d9cb618f1043e1d08cef86533f2a5515df81d2e4b96c14c720b6ea8ff68a510ce9e6352ad3b9b29533413b2792d2aa137a517b38626fda3c16c2fbfe777d82f971b086f0524b22c1eb653ccce065d7cf1ad1fbd97ca75cc9f94e214db127c9eb873206e8c5581288978308103a99ccb3d8ef39760b5b3b85cb8538f1a4d050b3343feed4690ef0a026876058bdd64a5c03068a68898cb17e8c2a45cadd68452d5df4207a17ee8e3b79de93c867be2248f4044080238b0df7b200f10e5d7e580d395e0c947d1c00d3cf1712a5ed064b5d1db51f232a369162f698dae54807b39a83d532cd4990d47116867615e176317828a29c43d262d85f55b3ea92cc55f4acc7ff580e114159eb957d16975f9650e806704845fe8e25ac66e6e33cc9853578e3ac06546eb869fd23547bc7033e1cf77a7fdd6fd61bc981a244ccad221bc49a1298e4858a5e586dc59b0cb83951fe7ded41569105532ec8027872c63c99763f405a2b609e4a4d77195cd36f5f52f8b8b4b749ea562855b0edecdfbf44c7a80481bd94dfc3d2522afb11416a9a47a45e485b42aafd831c41b486937abb69745f3a0bcebc908674a061c038a22490568d767d3205165f19a164a800036e6a31cf95c1ed40d55db2bf625e57f2a9b162d156195a6286ba6595b49f5ac34d689b755acf6c8f622dcfdb4ed59517c29a61d11fddccd37f833040cd986fd62ee6bb4050d6acf4d935e5241d261dc7fb3da7665907c089c997e365815c0e5c3409f09b37b8c3b6665418862624504bd568147bf7cd2940b270a19959961e827ecbfc54bf0ad89a76da5036661b183a64de6f6b9fccad2addddeac9d6cd9171436f5c6ada5114a744c6ed2449935ab24a6b100ee6745442d27697dc4b8234c1bdb3444834ed39d85a6fae8130670f524d005d77d10c82641cd1541ab005c437af1872b4000b0352872c3062483a535098c392dd1c264f930a779e2901205993897618b0310027db99d0c9627b9c2084c019c4d54dc5282fc183edff2b792f8fc4b0238c411a112fdd30dfd254feee6690a6c4e82293d1c7cd391115462e555c226aa685868003f40407ff221dcde6df5da83145a07509bffa69097cad628d5c8227f77e4eea1d60aa94d04ce1531a5b3d74a6314f7954eb394eb2c389e1e804bd09886fd5b6c131686e76a1bb8a86bccf2b4faebd926d9b74b8b88daaa6c30c094e7927c34c9e07663b956fac2c787557120b67da86872c01dadfa37bdb87728309d0974c811c66b5ac21f90d43fd3d138e29e8a805e86b0339e9635424da688f728a34d0c22b3b8c9d9ce53341cb8428bb4428dab105b1e15841aee2f7f964780ce4f43c563860549076269540e7cfa3afb33234ffca9d5cf57660f05d873a184e92cbbf8dff3b03e1d2d19e8df1cfe576e67a18e5b10815a32692e7c3169111cae05a4fc3e0c3cf2017303bb537640cbdb6272c5b8512dfb15ce21f8acab67306c7c7ff0348be414631fc7c26c79cf6e88ff211f1008b58d4979ef830ed596b88c53a957bbb9f2ddff2c2735078bed78696b55d96424a0820709a02967f894ce8640d38dea1cbdb3576eb7a0e52629f2fa6e888f8c3460000e764457b2819275ff599b8937c6ced8abc96882142c1d94c086d36309d4d77d88046954b0126b99f1e6e455ab0a82114b01398dda9d2fe8b60b74d34dd1173599c17fd9aa3eeeaa16b10841cfcff77f7bad74cb4d749f2dc9477507d47a4c4793032502ae5699b12c530f9648627625717941dea1d79856d1ca03d55c54e3fe0af1a30dc20b9947ae1e15304469ee320d2c25a5df999d4b22b67a0075d3000d4d27beed5175aa8c3c949475019634bcc9bc94e5a36b971b5818c293aac8d73901f0a61048d2bf87bf48a8dcef3613fb740c62ebf60f7a3c793914665c358fe69453c9f3e7250fd4bbe548f0c5f6fd948024ec2ca7c5fcba6771c9124df4dfb5b77d0fbaf4481c1083aa93c5e8fcb444c1bc24fe8d2b47184e68ac68a27f0a74ae2d3c040c237daf0fd04572afe07e5f01fee762d7a949b7fc6d99e5fc1bc18b2cfbe3c276702137905c520e37daca65d01099a7e752a42d6dd9e0c82d28bcc8246b792c56de8a15a26f0f6cc5a6e042931c510e57a5c34c2ac3132d96c9641845b54c372971f632f0f37c4408772b0ecc338eec5a50a8950dc75a50a6394e982ab61c1d551aa87d8c61511d88c1b2149024a4040a10f24a8aeb482bfadad75a66aa7bea7ea3dffddb8ea2c4f501e48787fe57bd9bef7ffde271350d096ce999b162b97bef5903d8c41f6a5a5707293b0c053a50bf1cda9ae2264441f51d72978ea4cfe22230130cc12d3186b8139f42210bf2c2fa8b0c4a89fd61767c56d2f9d4bb9fd6484512832c92848b6c4747c6678fad968585341105080953899d1646abc03c14050932527e546f7261af86f810033158daaf5027b32082e5c744ae735572a6076826db9cb035eadafdc9b5a9f3fd763d8cbe8a7e785c0e798a91108ff65e858df4d1b4b1b7888343e024c0c5e072cbac1af51bc8e4bd85409cfe8a7868d485cbc0f736309f538f21be4696b920bd3d99c8b6616883739448134b502784bbc01093a97343b41c3f74c1a919fb55c8327bfddcaa4a5106da405011226eca321afda63589fcd7c593c568ffa6658e9f06baab0331a9eb6b6e092060eaad603f8c59e1b729be5c6659d4dbf7df31c4f9cc527c1935d2d1eb771f22005ed52ea01a91e27ee180615fe6b416d378a8102939dcc80262c2f49057fdd02de92dfa929d9a83ec574ac11eaf1adccec70c42b75ebb2f6f25b6d0f48f1947f0684805f2d557a28242d81d5dc461cc25745c39d6b6da348b52d8177ff84716c5a287a4237518be551c2634d34cbf8e0f07e213ca1b32f809ec43b76f6bf35e7733d27ed60793d5624114f3b153b972310b9b2cf04e1fe85eb89363fc13f83d2e7c812933d9866b4f04f0e391924d1103b5eb48bee6b3f66d32b57a27b9e0a8268df82d83d834aee5ab08a1baf1e0a56855989c0cbc0a05693c055e9de06af650acfc3c7f1b57a7d2f48d99517cd63622e1b1801a723ab28f7460fab224d85236a19bbd312997968f9d407ea62497077943453ad115acf6c995580e8ffbaf5722e7f6dc16bd0c2d4173445a8cde8973fe920e067565caaa863475d6de333b9b0110367f717509705b3576b11ab8e14858f550a0eba1eb0117c4df07081e1e610de8e3f3c6251eca7d57ed5569dc4182ed1750666daf94333dac69ab2b9f7073af26661df3e7a5b5a85ae0297738a388eb3f8b78a8b83295a8c1d01549490f31ac8589ba395fc5c8c7128f63bafcc825668e366cc6e86c72cb3b9a7b1b997c39f7b98aeede87295ccee5554dc80660e7e89062da56537f1af83265b7e8ec2ad952286d53c63a1a15df19c207130e4990cd05388ec8240b1b2af792c17f1935c8020e1809bdfe37096d7e418f12cb92898f864d9c3963d968f783be38f6a620048fc0cba3c6418026642a32f695857451230c0b218b2c6c863ccb1f6567ffe9f648f62d568b38a830904978e795310b0bf2c8b295230b18c7ae52a7524e9252082f3056171ed274e9c210f9f255b1b0fbc55cc071a23b87a777544c835aecfc62b5df48a21b2a9d5e95efb323af9dafa84e76ca5ab4981927c69ff76cd101f22c7953bdf3b962945656741542eae1fc2cc6d28ff3a6263a117d3d11628f3fab6a5abae557f98001282bdfe5d7c71a7bcf9d3a9dfe7a736fe1094340a2e7f22629c266b87e71d130a698f24267d519e04415cef03c6f17139d4547cea7155a1ad3eb6506266eee249837d5a9267685b618e40cc3febfef9c0c2bb84048ce3499905a861c75af2f73bfaabea1e81a302c5bb35854fb0aef956f66507147090dc4c4a5fc46a7200f52c443c93b1a8bc131e12a531bfa2dd0a174c88f6e34ef17de486b73008dcee7004b67f7268278a76d952d91c79c65e0a0889c71d1dc2940e2e02529e78ce090a298cdadb4f5dedf9a4866968e57d2c517e5b08a64752688e5523f4812891de0326fde85c3cba4b48c0c1daf4c15d1861a5d99fc4c13853281de47736dfa01441d290fd80301786b3498179d4ca7ddbf9e47daf3fc499042df10da9bfe71a144dd68614c339d2d69640b5c405eeff283e6020e321b9f72318ba66447efade22a7264602e4a277678c6832978fe95f8aefda46fd65859b61d5871d3bf00146ccdc5db2bad18fbb46e996da5b2a527b0768c837f9a2a8e838fea2af932af731e007c4cecd52eccede4f1d84e51db9d622d3545793b24d998bda4d23ca8e0a04","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"126a08e53e36b703cc95578979034e86"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
