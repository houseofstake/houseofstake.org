<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"34cc1de12bbeaebf7d4c3333931d92cadad6fc822e6be86c8a080823c4c2302748afc568d68d8e40517cbdb3442949a0de1bf693e69c2de7ebea0ca5d54d3724d154f608820ab39c20bbf7bc4966c89514b913ea193043802399d00d36dc65d24b5eb6a58a0c8e4acdced05c860d17f19d69aa7de02158e9c6d84b76e87cfa522385a89d091a92dac0593db7209970e254e346f140cccc6e151d20e8e04a02a3c679c55e604158aa62c9b6ee5b723a127ed93a7de42f5de0af59378ae70b2acbb4d28f1b9c10b2843db6c6ef9ad1e9395dcce3b95a4879c2f213d16f523fe25e7eae13cba31e33c99b36b806dbda83b92d89105bce1788a1f5778eab20863011fb8ffaff12c4992cd0e6a41ba4483411536d15d744dc51f7a55ebeb7e19f4a9fd4812e64094260df9863bf013299cc804fd9a0f8f0216906fab8e2c862b8b7ab596c298a0ad08b95ca56a3e4097c20d122609ea6487c02a9b6035e9ed96f6b24e328d7b07aed9024c07d2a1505bfafb2d8c43aa96cbcf4c0d6f9fae02ce2a2c585afbff4c7fd72e9f034a422d13f71a36084c1f7e84a48db6b98d0f52e871c03754e93dbe59cd9df8310da713bf4d145ee5b497b1d685d93a18e06850624b4562ae7d191b3496458ba36a065e3da66b3cfad27cc63d69f849a7b3fece7fac97e1e96b581ecd4d64f4745d7ff5d5df9dc21412525f2c451d090a734bedce9a45d7068dc82a6c7f012f12309ea9d8c62533a2e5df84a72a08bad0af84dbf3eec0e91e69087c0a37975614b6e5796a2f92b2131814d37dec43022a8ed0a5736f0d0079a353e6822c80bc1abf7b17955a84282f29213a5b5a3a1ec22443012ae24d7f0c0f20cf0d81ab933cea72bcd96aadca82816a0347cb5711213dcd183004b60dac4fd7e4dec485fc2ea23311378ad2ac873ce10fd7ca0fffdf82122901cb4f8d217172d79080c404c3c98ecb8bafed483f29cfb7e15bc73229dedc4ffbb4385190e1d3f7510b757726bf3d2a3da93f4e8369af74fa314b8e399a087f7886866ed1be0409c3c1c1348cc50c84d6274c93ac779c13ebf7f8bde431ec1a79fe1017b2d240ad6645740af2469b56df182f8a970285f62cef6b44e348c690780b5d870a2545b1176f3faf722034bdccaf16d0a70d1eaa24ebb3e09df55b7c8b0f0da7a376885c00c04fdfa41fa9a8bd94556b774e8886c2c5ffc27d37765107f790ee41775f976e3039ccd05676e963f7cfab9d9c233d6fadd972be126947a505a0d42f8f2d4e4e2e98599c4b075d8da095d0c31ffb2f4072a95c0756ccb04d59cb0b9713d8ef45ed18b55d53add320e01c7ddfc2120382184d819793ed7c0c9db0b1a7bea06ff6da7a926ff31d3951c723463ebd406832e8edda00be43ca970d553e1e17d4b12b1d35ee088732fc400db4914caff0a550211fd3c5c1b83727ea15c18eafeb162c117a5efe6d807eb8a905dc6df2dc7b8bb3a380823cc3810813b826597c4f8903f1a2746cfb99b1b2796c5b98c2f0704c1e79fd6a68ecbb29f1ab45d84fe1605ef5b91165dc8398c3107595a539cbc90f3369caaadcd79aadb4b8010800b9c118a8e6ea277c58e090bc4306034c19d3c854f57a65fecb6fc01cea559e3dc05dd4e7a7058ee9f896cb7678aab67e761343938d1e45c70210e0dfb72a5b9ce9610feed8fd57c4604a1aa215a083e5180429c1fb2be589597f39cc4803c7bb69ce0e33e631d20ba72ac6dfbbbb991b2dd53249b08b2730e577ad6b6ef8106b134aff8e4a484fc2ceb79665e5b774f9ce95305e731634370da7173c4f02074f48fc85f3bf0a55085114af87edd11d174426cec5206086b27b766845b2f835c9c40a5f2001005770b0e82cf347d9f3e6f33d5d1a7721c272733a811e800e43ae1b6d33e93a0d85e378443611640dd231225b0fa673ab1ba874d01975817e91d1bc00903c456ada9e6e84aadf74ce7c80892959bdb0a1e0d14f4cd2e70fb66ad0d8435da923878e2f2aaaaf70facf3891ff5d971725c035f77732f5c0fc74f66281999dbb3d6349d23a73161209ad8ab132ff297422ed17aef65fbc4be11b5a76dd57785691ba967ff2b8739571dd0f2341f08471ce890f969fb68691d0d4c74df6087beebaa89f39c5fc352562bbac16fb504beefa34407f1c022bc194bc311805ce371185fadecde9a277ddfa1d8982a7d6e7b1c3fffa34ac227989059dd2393d3830d5e222872458742de5c2b26082c050d973acce4662ee5d06e2d21607f05b34493e617f7d6125aa8c6c4752cc6e7cab4611d4d7383ba9110993c75d56907038b1bc4e198e5212dc38fc2e70f7086dab1aed999ac7739f088e80dc46613af8106541fd3cca574a256c9390f7c408c7e7145e7fd29dc00538aea901edb134440a4f4baee0229dfd1044e01d5a26296629bceaf58e8567c9cfe1d4a650bd5883fc4b221a6c3c965c9f3eb8c818e1c59034825c2ec9dd5d8e20565a7c1768e7c4d0394f68de2bbb69ee9c2be31a40bcc0fc2e651d470d244139352423f00e48ab3dd7d38947eb54ed4484ce699dca23f75607031902e38bbfa84e93c2e01b104783ad800d6a72b1dcf85f5a39c9212461d2cc0699e343acd8d96bc64e27c778aa7a8ec50811c0c911770f3962814f46078428caca5b015077fe55640bdee38fefd1ea9905ce6332e88117da46a63f4f56842b60b773b888f37175bd106036ceb692f61947032cd3b826e43508e6718a77d82d11e08654283026068ffb6b00e4f5e046c0389b0644817e0b2edaacd84b0dd22b6fc2d9092df5fe8b4bec33a7489224a892d742c50deb3c5b4570395a6d64927abebace5c6f249a32aa5e8c90350afaceeca74efccb7dfc21257b80694952a4dc61e90348dea4d7ee8a5f15576fb1f76a7962d600ec4dd0147e52e806890894c294898133c460aaee70d9b0d216245f0cc66f324a60430f2ba124ce63f1b555c594b226592ed8d39c15a39604749ae765f58e4e5ff1fb85084a0359d84f57ce127ca23762db417d74cce1b294a71acc5c06413a95c29fb6557b5b0e43649747ab8a47e871337224265b25a3b4976f03e7fde94ebdfe6826fbe81b6abfaa4cb317ae0a275bd1de49621fa1a8f2878f1bcd1fbafbc184479241b580a9555e1a39b80a79559a9ffa74669114da6f76e4ebbc58897666f720e690c1ccc889646ee4b7033a0543a1684ce01e720f947a61af8022591034c87b953207d8aead78c507e6af19236e02d6bc71c7ac5d20f606ff44a8a5d0ad6e0415a84f54ed8ae3255a5b57f03fb0dd46b9f7d7bdc18c7180fadd3afdd886db77deeb3bea3374d9ef93b3226a4e6ed91aadaa901cd6c676d1cf841c037c699bd76de3722a603b660cea452a9c4ee89553e79b8c2426a0107c5d09ab41e098a8a0e383bc02cd635469d699beb55a16202bdcf442907e659e51216463232ea375718c0afbbc4e906a9d2da682d8220157d5d5433a29abee02e13700983c81d0f35396240ea77df5e79fa893b9193f3413e90e047e9c960defd6959151b6a648bb755707ba814a25337ce4c0a24ba79723f14451ffa226563eac541458c1d31173a3f29150077ae586b91f0b0f1f71f0a12d8be42ca8093595c57f771a5e283b442a46abe5e001fbddde08d36d974324c9451958f9f1d3177aa0711df6029d5051ed5cbdc4068a582cfccb262a76110ff0484a3ade60f97fefe0488781721ff8e41a1a0f4673ec25596bb8061ad8529282b0bc67b9f7e2827cd13139753f1c49fa3ad147e86094f27b4beb7cdf62f1f4f3a8656fcdf2253ef387726a3daa2a112bbfdfbb654dda0c0f693efddca1badcce0eddffbef6aa0868e6d46341dedf9ddd09c2157a2d34a8f0d56fa259995a7bbb99090afd362ab1f42c7367d6bcd849b13b56ff1bead4cb55e4c2f852ddc9601574b381a3dcb5b373699e5241a28afc7384e32c7fa96bf9a3fcaebd0be4ff6d8b05e291167fe8bce0821bd6499dbf2d6c2a6bea1f27c003917a7033155f49c68bc7974b615996ecda9ea9b0891045b6f5fe0958050d235d68e6a086aaa45124c8a4ad801c7989a0b4e9a8ffcdedf647e4f495e40053f23f7516bd4a5e2be4edc41f5620c4c40671736137dc68954c74a58dde1d2f78305dc8be1361ba8f859bc20fcc953600373042d86cec15da25121a245c380640c76f2e6d4dc6b44068be34861ff685038c4816a6af4ed2551d7615b15730e993a98b6f2c8ccfa6fa28a30994d37694f7ef83a669d071e5f2c23143f480688c8a1dc01d18d1eae28dbef566a32e1e69ad965221d996c60ea9d6561cc364d499337735a08d8bf869e712dd63f8e9ecb4682fa385d2ababbf64acedea22758a8bd0bd9a95159344a95ff18333fc21cd109dca4e5535965f1adc19bc57d0cf1551ee1a2cc28c80b0b6106e838419de10373dd49cfe37c305ef9ebeab490f6847f76b892b42b64937f47e976f3b7eccc6280ea4f368ecb5ce415e4261c7b88112705030f06ddd00f4fcf27581b3d8b722b203e110733200bcb1abe47204f62585e17474a1835ed8be8c4f558300cadb6ca46be75f1bcdc847d7149c1b4139727162ba79521a79e352518ea32b1dbb49187b02df32212d853ac67357cff0399407e2fcedd2e1f6332594108bff73ac8d4a608ed78bbfdc3112f03bc317d631c6eafc1a70d815d9f42478e989506d1be9a4f857fed18bb844a58d98fad0738d5a1ed23ddbfa7a66dcb190f229b0553a16e38098d5956e4919f16a86760d682764a3167e713867d207e623393bf53b2409f51481fb0ee1666a63be6f0d10ce6ff386cc51b546e8579dbf73b5551961b4278f81de80aec0110443649a950621915ca4410878d9428f6f628c8012ab2b6af6ebe17fa1521a07708f6861af494476671c707bc568aebd2ad6c14acd8ef0ab55199704fd8e5886322267c833be049ee7e38385cef7ff6c1b410438a0fad578da5d8feb9065356000962a52782a0beae4ba54e3714d6797d569f5fa33ee15ce25a2646315361e4be58704edaa16c45eedb9937c6ef4f39ca9cad1fc174745067be323f6556e3ece3a7c22a33c4cf4007ecd051c30b232f2005b6fd7a832e1c3b215b532985feb52a9658dab236a9d7b2d0199ee1b2f8fca327b67ab2b5d0baeb57dbfaab97127f1110dd821bee0f77d2774d842533a2ec662e7fc74fc38921da1139b3f2991b509e72878a5314571111b0946b32fde1dd4dcb5bdc142585ea19be574b36afebb0860e6d0f87d6234140dfd62a1cebff0e8e0369cc85baefe14e2ee944802fdc53947cd379e6a98f40c6e55c86884d6bb077e5343fec48e3089b4fdf705acb8878da8b86688309add2a10c61aeb1c46b0d3540e3c51e2631a29c9b442a1910ee2d573cbc14baed7dfb82af9975e17483e34a19f65a5fdf796bb6fd1214741505b9aa60bdf44215764cc5ca74aa229a4047fe48e8b3fffc003f5300c49ad39e8bbcf9ee516a7fa7d6b7486232bea72aa5dd9aa098577ef853353dace4462afe2ce7640b2f0ee8bfe9688bae085b33f6d5c9249fbe0d91cb12194613fd0d19b13e9a9b4659792c4c59323960c2719357a99ea791ea530734d0a496d9b6dcb0292f51ae66e32472d9c629bcf2def5d45707e0d259959879885f09be28b8cf9acbd285600842dde8843416a45cc5720dcc3300c02c2716e7ac72c0f6005cbd27b2d3b4fca498c3cab4f0b36fd7b003e41e80662040e371ef611343161179faf04790e4b0687c7a25a411ec7a2b44bdbb23b12cbaf8d72e16fdebef6cfe364b3912582ce92ea641f2dfbee462e9e488ee89d6626ec33545167a91a883c2a42c8d46e0d73002255ca944e1d2be0456737cb66fdcd9efbb8362caabd9175e8e651d1b06afe641ae9c20abdbc42677421d9641ae15111c0684b3ed0f7804925ea6f28e50646332a5db66a4ea4e110ba6cc820c5975e5c5985ea6be930a0831b3cda471904eebdd3a0bd31f6a3f1664c41891cee346b094938cf337930349e07ab98e8cb0cab1c593f321dc780d12845b2b23c96c0571a276e1b6a52dba86b6dee9d71a5ffda90568c1653dd6958880d1a5992a850ab56fd074cab9f6524d7fef52caee388ee0dd7a7454f223fac40abd9a84aa6fd38dc2748f8ba7d2375520bd14c096784b9b0ae5c96a076c3fe8765daed0e529a1dd08ee1f1c556efea07c0fa1c6f537a7bf2c16a3931d75786ea5a269c7c1f63bd6d69a22ab8731bde5bf28a4c09b0f533f482aec238323d4a69e7b6be1e7edc9685e6a6b5cd71240a6f448c8e2f73a91ccd91ac3ca31d31a0fc3afdef6206c3748ac89a254fd65588148753f85fd71d315cbdc971be0c419bd50b6950a94f1b9f0850cd4cce7409fca6191d6977d409c305cdfe1d7fdada40eebd96e353c110975bdbe7c4ee94cf086c4fe1cea7afaef7584dc2e0d817db04ef0c953ce27eb1417e242c290a4c7fb3a1a564a55a8f04b570652d7b87cf5022285fa086d9f6a6c29f917c628bf03a53439ec502e57ffa12e3f0998080a98e5ebddbf0b0685d6ca0dd7b41454d6646f32f48bacf8666933a61db058ce1b42d45a3d52160ae89ca38d5871ea57760e6cf0d33ec3ed01340bf75247bfe70e26c3dab36d15fa7d2605ad448e64bc8885c97607a1f4f12a6456b6b3dfb6574cda373b0bcd9c0fdfad523a6e9a5796b61e63a49c6a69e8ac3bd2c30e44cac89072adc5811ee550748fae950ec9b1a186508edaa28fc131cfceaf70ed407eeffa59e0fbe19b341ebef6bf380f70efb67285ff048ca647dda81a3027f0151ae72458729c07aaf260c71c5262671c185fc06ceffcdb768feb0d0ca77cc1045d946eac51ac84e05b516e328ae67a45e0684b646977ebb36ec503c484ead937d4cae3a9fe2b0769384e34a0eeadb492feb459a85d7b133fe6709fd0f02f0a47782e04e3ce679ef86e3a6042f5352deeb7ceafe1ec17c8c124f27fe0bd3a82e2fc0cb7dee186a62a7c183981bf00bc415303aecc5301199a1132c957073545856c199d91926596aa858c39dd8ad38e4237179c086c8a6cd831adddc27c040dd7df5a9a039dc4fc1945c3bc0b972651f98d857dac52a2f102e6efc5fee498363b52e4d1b7cca44ff55709ef2687bcb2f0d2004f451170734203783366c6f00b0ff06f1dc7157c218b023fb94812a8740e7c8734cccf13bcf44d3563d98fdb99e9821e1910cdb7c888287ea21ba77aefd651cf0692bb6cc774e8d46422e483d9f2ce6af646e1a02fd6eabc9ba7ba94006d0eb3ee2c5c05f8e655841e712d803fc1b203ebabb8cab4e04530600e08668021ca30b10cc55c8a89f9beeadcad6839e65b4aecda549876ba9c5d221f45e42d0979e46eb213995cd599d8cfb7cf0324f4b990baa07853d8c55a834c55546cc256ba044239c96a4070a7b58cde532e19b26481c6662ff9f57493b5265864e3f7d26d4118bf3f7f17b9ee0d1d167bc0ac60952b6d56ec6b95cf14296d1852886e8e97caefea34d9e0a830b6ae66b8e4618b35ce9855ab7b070186468b0345969e8197f44744f9fb2a8ddbff90620cdec2c7ca16c8ffdfe27a4c5bf74b9a119ffe7c518a7b99726518e54896139fc19c04901d5516d596f2222526ddc76e8d18ed6340e5c2e7ab4c699d6d175fc73acbe4b679c7ee726ee214d35cd8d28191679f8e98a241d883bb4cf51da186e0936ccf04c38dbb165da3ca42252b01ad97671b6c3e006abeacb6d39e18e5645dbbffda5cef1a6e3cb4aa55bce32c3ad90908584410deeae4adc224b10a2f8ab6ff5e7feebd3ae95c2221e1bd19081cf5e2dba2dd39c3b1fcb5797fd72c2f1bbdf15a89b7797c78d6e51124571834b610e85363984055c7db5b16cb4449a46e0ea12da73ae738db9f64d93d247449770eb1ff319ee7502c15a2874a50830b3164ab502febe500b4e4a9f44cac463155efc22fbbfdf1430ad6c51901604b1571304fa95f289a9be25085aec519898d4d336265a92f4a2225766561eccbfe5eb20fc6da9135cbd20ce16bd3c5d84feb2f19806b67d2052cdf479e880f410e996955533379b2f055afa6bb16d5f6b359d6e2c127520265086168f5c9df77bc5755ce604dc66d7405747cab42ac1a5aae2976dd7b0963f5c81dd2ad5bf9f16fff6b342966097749c23fedc80645bf80a525a4a1b2426c432e839183a6dfeddd44bbf94085a0236a220033e52a01b719753a3d8cd2137546f0419004d4b7d28ecf34e5d64710d977b5878301ac8d661985520f91461b8df69385fdb1af180266a7a358e9b0d71e1d590741d9f88e0dd5941a225f83c9a77b07948c1faa0af9e44347a9a97722ca5fd438f4125e98535ef70eb056ba2539251d25f9a4fc603dfd14358a1ef8ccc53d3a03874c4ed78152e60f9ed748bf1eba74f1f2e4ef5488557917762aa18c58cfa414bbcd65a625d3964a52478963d3378485ef0677eb4eb726d36c47b604c94c02c7a1c4b3c82872fb0d8d4f23bcae1d60a2fd6d2e0b4be19c4dd779d2c8e50e1eca6c8063352009a51b78588cd86699244adc78731b6607c23051d289846b4726084538248d2693682b35eb558e77b555a984c1dfcd8aa99fad5e491e0c397e0e042124ab3f76c49e2ad25037d0443ba56299ed25d50ef198b7f2901ea2ad0e3a60e46f8cf5f548e0586c6ff251eeb0f2fa14004c096dd01e94c311cef574259df1bc3b14f031d82d45b5603c96a0e5a89006e2af8bdea866858fd35e077608bd063f071796ad021aacc49eb83833dda775f8f23c194615492ff60f05dfb8feb3b91f59704953b6b6f2139c65d12dfb27f01beb510e86fcdc1208c5712f38605259d5176a9d5e9e9bf03f36683bcfe79736423168c11b0c4b8ac4561ced135da7df14926e05d18b7fb7af5f92b85365223aebb9bc35f487e2ac57463b52c100b0d4282b825658b18b9d9f8812b7bc6c809bc34a9a17416233741a0e14d55758cb4ba1b6b676102ec7cc113c7f2043d89bd73ce0c0e469dc0235b60937d1f219ca777e0424d7332d3b416d520da02dcdc6d0c21a1819acf8a99a4ceb840aa36230d026adc2e2765bdbf94609c5e300c4e1096748b889a99f95fe0726477bd64cd41ae15a6e3d655dd17485302edfc83f9f5f3c6bd2cc12a3b69fc0f6144dbbbccb1884bd9e09726d7cf7bd95443781df6da87bce552ed1aa0cb7c0e17dbb97bc6b36f18079db48b833c958ba7d4710c94f08d7909c5a9172fe32efa66bb545e926dac8f2b131824eb3cc897a299742450b0418439fb9edbdf945c0d0a0c39aed74ca12bf187b9a8c3398e317d3904fd3dce1284dccb26f5f8d9b6a56b677ff1d63f4530bfe6191a87f185a6a541fe88a12f87ae4b2c752d5f95fbc32d1f0f5276c4a27db1b387f8e47af0ac114c008865de02f9cf100889cd9e421d7a2d0424928d411a7d73b66548397188a360798198c58f4fd2cdef40af39d53969d670196c7ee38a81e014f21c2b75d752598bc21dd91bd79dac255d1003d9bbb15e702fe763a62ddb955962c460082f2218da21be54f64c7c3cee1f4c84b2ce0afae52c56b266fab52290abcfe31d5e818ebfcb1e794f1c845c88205d0d734edcd2257763a3c7434ca6ed42a96f6b489d515ba8ce9a8e3d8a99c10fc98df915efeda4b638c68eda98976f8d631583c8191f96094505bfa4bda7fc648555dbf5479ae97f679226c025cad136df08e4fb48d65df55370e6aed944502c92e7bc6712796e3f3a3841dc42fe1f89cc98f2611ff7d8c16c7b8fdac1f89098597a2cb7e89637e036ed09b37c6d6e732b8e8ec16e7e9a87abd443403196a087f8902b320863840789a29cd53579597e2a97ddbb10c5fe89fc95aa44623d6711a8a238dc4b0b5dbe10517b26782c2d31117a6302aae892dfedcf8485bc6712e014b518cddf000f8264bd8ec14e2e7f713feb25f476d152efa9c7b89a9983ab0f969c40038e4bb382a6a47aa1b7e69141804959bf0e91f9fa2eec46167db9185d531a550afb56958a28848e4ff7b006019ec56769ffc2f1516e681270c10583cf0a1343796d1f703e5f9e1e29f3aa30a696af5d2b0d4b4f3be18a3218d25a4b50f5c5ca11ba263ad803bb447eb3533efd2d17253c63e08923e71169bbf9f2e6bedf38ddc4ff4b6dd4d36bb9e0dceae55b156b009405e06706fb588acd422fbd9781f50d0b250b13170ee93d3d4d6aaa2805401f256ed7c4b0d88401758832421df531c57d0f86c1ade930d1cd3a45fe2df83ebf283503073888582106dac872ed56bd38eeb408dcb34c644c757d58d1bb0f68f81c011d7ca939c0cea4c544620089d9931aaebfc391a6f81ad46cfe64db77160542f8a7f32bb6dec32dc76190b40abe2029aefeac895fc7640b272778726c74da197853e2c2337607737f2fed0d43c055619ef672faf9d6c23e02038234e7d007c341195730633b53b79c39c7320396c577bb42b4451e08ad0f07b671d8eec428b5d747145417aa2c4dfbb1792a0bbe3e696d3780bd62851e5bc2083cb6792208258d6ff0058f416a7eec15ef764a71d431792a1edb82dd13051174b2e0b0ab5e2ee3df6e4f3478a7b828ebf26c19fef197be93595ce37359ece34afc7c9ebfe99ea0bd829f42f39e90a213c1659f96d84701848a518ea67bcf009c022bb64a380901b6c46db4df407ba2d76954ac69e3109351d3646e2186ffbb15a3e0de9a632fce659eddb7659a1c8df31cef96db3e8286a01a4aa93b5055a6788c3bbacee071fc70db92e5cf1d81d54f434f130bfa79fea211bbc2151459cf0569c804317381277b833f777f649cbcb28edd47091c68bb5b7bb28001b678d97d2256909eb8f593c9f9177e3aebf3db6d22f0fa397dad79d98220a777cfe08853de336d1dc3aa7bb9caebf0ac98c87e868fae441b95e723ff84c487f65ede2f12a1ed59bdaa203b11d3fcaa8bdf7cf6328a77eff2df7a43b8661339ae71f1ee129a7590ccabcbb79b669c0c55d2987a2859d8f025286dd328e1655fb0e4e3b3f7ed4d8639eaca0498bb6fa85ca150d4f7bddf94814ec896bcb5822b81ff54aad93d3f9b85575954607c7fae6a6d886b8535930f01f308f0df78ca052eb46bc301248c9a1a484198cd03a549dc575ae530775abce5d09ddf4c7dc3840d3c268316e245fedb4c102cf80eebb5cb30006a7cc9628533d9ecbcccbe3cf8f1a145f75d6ce62d7da52c351bdbbca5739679ff9946b7dc6d5370d4cf1002c4ebba48af4c8e718dabdddb85ed94c26851e5b357b8f9015c6d43e0e591d0dc0e0d5854c8111d1a2806f61e61ce402cd4b5ab88d8c84aa078c71b4a153fec7cddcc050cc16ab32241c016a14b660e639daf18659c21df11491fe8ccd88c60bee35976b238f6034e3807ec6e83e65e6a209ea3deb7c31aebbb6e668403324d2867f158ff44497fbdb4b08b826d233519fb7e4e2a8ba05d245dc31e8a884beff520cd8ffafb91f1fc8c3987511ff5a7a2ccf3e77dfe5a4cdc328a41d595af0d71d23ecad09a08034889f128b209e8c4e02a954b8dd3ef77a4b522447b408bed9452b1a83229479d636b9d357f227ca0156508aa857bfec563af27e0b98d1008b55468cbc418297a59aba6fa8c64b07235941d27c84cf7b9e122c4cdaa03bc87994b86c8aa60aeb52029a2089894cdaf7b612b588fa7e00f17751d1c2f18ee6fe5d15c0cc343c63dee505e4b72edaa4c4a769b3a00733c7bc04e03296ccb24ea6c9c57058c0c657f81bb11d971c14a63c09db16ad1f200a39f70ba9fb524f2b7468c6517523d5021ec16cb94b9e585465b72394741deb91cc504c655445260bc735db019dea304981969c5b4b0aa74c84cf4cec0f533debd367dcd79a3c11d38e38e46b8a1ddda0e7f16b3648b73199d38a05f59b09257c892ac5482c7eff988be0d42c3750699b37b99e062c2ae566bd23d229394c7dd599a134a1e5f7e6b43708f790c5f51f28de7bf9565ce633822492978e4d4d8139795660f1826881af5bc8aed86cb2c8a471a34d2e06e2261fb8b327760dc206f412c88ffce1ea43fa18d8d046fa1eabe853f3f80b69c5f6668a2d4873f934b8d4909afcb04f2fad1663e98dbfd422a08d3d7d37a2696acff205c2d5025f539731f2b0dcc83b5d453b02c383a6c620753a4aa9d528a99282f1d2ec4c51d616a8845404013650cfe0902d3a7015492d366cc80881146c78bf464cca7bbec1d08b4403b8074d0e3ab4ef10779dca51ae1f786d9bf6012e2786dd350395208f4e832b9a8d3472c5635c532809fd2ddc76cdb6c684dc969f2bb0ac40a862feba0d1844e086567e86024181552492b41918e1629a744714d2ef5e52dd2486ac31bbd222bd62f44c2a4529c748f3a5a7d403bcbca8fbb87e1bb47506e9fe6138af728b8563f726c6edd3c3d6bc7739f6d4640ce4f260a037b9f310138025b2ccdd311ae4d6882dd96327f38b2d1b3b5f70cf66154c0a81ff48adaf7b3a93d26cb25f4dd8ff9ddd465ab22694d602dfc2cec5f4d678376c3ce7f63647c1aec27de2eb7c8a39197af77dccce2921b3f99a76f7b0a1b6d4b8b9af14a5d17fd8ae315192b208ca14cffe4bf96839f1ad682eef1210373e7778912e29b5401d573247bdcc2a9c7a8b486be4e9d3891ee96eb2a86e08951fe77340b161ee9adb4935012bc523e490582ff4a58c7069d9b9746c168cf5e174018cf4694188bd8af48a11f62fb3560589d366049ca97b820af68fc7a45b9dc87cb4cfd2dd41eba3fbfd98e37173aad14271eed88a2852cb4962b5c13d46e3b84c6777f5cdd385b421e9d4f5747dac46eb03634159a35a7b83f7247752cba7fd001f5acc536aac6263915f3c8f04ea0f752e030118de7dd5be30f373925f61095fb5bf2d63b2bcf434a1ffa0c0f22b71a9303e8fdc7e90bb8bbd4ca2e142afc67d5a8777fe37c3b8946d8600812154f976b43aa6debde568d02d9a71d1791c82889099391060119dfcfa7d22682549692a95faef0422b41b1ca902f9a9c593c8912b35962ff69838ea88cc24d2598a20150a7b8d074ce71adb79752f832f1ab2300983a265cf4adbcc7ce0264ff161c57b03d1104acf3502ffbde3b5e4938124bfb88ed9824399f2e4e64e724b8bf13a3a2d4930f1ab474271c78c88705c0a7909ab060feee89288f403a3ebb801e9f54c309ae682f7e68e11df36007715fd59c1637c2878f1cb3c893f656e64eaf0d51b21973fedd305e87ee8f6789ab7e8d916defae93f39d07be2aa736a4d3e7a0d471ba0fa0de0dbe29955b76ad88ee3b214653e746772ca7f59d326578cd1ef642e5c3630056e795116a90270d3145505d98b564e5d7e05fb2104dda3ab9e0b536621e69f717b8f2c6c4f09cd96351555ccd14cfa8fc217cc648394fe7e600eedd8e798af32e8b5d29c164719324b42cec89772543f02d036770056372a807eda88a7c22a9ea14cea1da99b6b70a90ce5ab3838a6b9cc498cfa65d3360679722d93ac1f1a82deaa2a5b0084a6572af7d7e783fe58d81acb22886c0585bbf0b075890ad5afd2b67f94070128142ba79b4f5bda32fda8f38cf61fe76f62b37597d69beda476aa55d0414b64c93956c6a047ec60b4a53bbf10a704701ba3a550ec63748d86cce69293f73c79d66b4b22a79fd66accb9e016b3fe3fe6a6655bb8f917a2e7b99019fe34be801ac9288dd56784e966c7d6b7b0b7d8c49b71bc35c183b1202a2a8fd1de2cde3fa2f1737e5d652ff81c3860da92a131ea267e614f02906cc1710c9da98cf971fe08d31c0c212a43515a1ff41d4fd9fa2f912f3d93b5a8252625f0501a71fd92598b518ed45a6bf7ebadebec636c2c2dbfcd9a02a57bdeaff500435a9ff9ea6db7aa6796499495d5a376ed3b7caddfae19d62420067143ffe30e5b6879a9daebef37e53c2449a904a1cdcd088d3142115681704655eb09fa721319afd246c23856a81bb4aca710f588409fd477eb07d54df29b631dea269d045c8adc9c8bb74c264fc69587847e7bcf10b489ce01f3333f711a09928eba82a01783129f7d0f7bc84a4ee87f1e21332eb1a07d54d2f0b7d2961416cf7dc0ecabd3ff0418d64d60c18dca742240d4e5541a273a3bffe69e507bee8708e291fc82e4431430e5be98a842deee62a09a3687a817986cdcc3443cab36201e3cccca9db11531e2fa7e4adbd3d25ca849714805dfefd177119ebc7782836a3533feae7e26d6a1a4be4ca7a5d81c630d4e22bcd27e7eb392342386c5d3981c94b07d9ea3c5c88de7ae27a233ec724c4931925f044d898c667635d5e4ce2ecb91aaa7e68e822fd98edfdd8fb357f4c0c55f8e965abbc404236354310ecd5edb036cc9759a56efcebab1ef9e6d992bcafebcf33a9fe300c397c85059f27a6cfc9151cd4692a5e19476ab08bb710f74303bd569e41bef9843db36631d9998dddf350004444324a0e89bdbd1323d275241191d7699290ceae470f5be640f3011e3fc15df22f0d4d14f95ad20676364becb0010c01dd02a732070fbf409aba83feefbf31d24410c3aeb9d5059b8e1905a7037d1370a16a00bd3e888b7a0530d93e5863a2b9192073f8af911988bd0fc4a6dbf2fa5cb79286f00f22c92803c4686c4d9318dd3f1274f8896ac7b4b6e3ffc28bf59d19730ab07771770ceb2e8ebaadc7c57fc9338e8cfa67e663f7c5d2c6a39f69b1bb8d872583598928c9e199a9baab02a9279e69d03092e6639fca33f170b487e67889906a5b1098f5f35c7bb4600fc4c63eb011a0e5ea31dd4ce6ffe237a722635dfca24e6a2f6ff68bd0b14c983f1fed38cf53c85424979546bf6f63e8ca01c2bbd72dca97c4cfba4beff02e4370f58e8a30b925cfe017974b986f0e2f92cec7e5db66126a8f53419584b1c4768d6859ff225a0f796debdae1e5969b4ce4dfe211e51401540294bde692095dfe228a19e4cb009e116e40446e2ae25682f7454a59b882b2c0130cdd79987c423b6c935e1378eda285522c3dd077992f3f3977a618cf967600191ae41509c68ae5ad9f62625f8058e0d2a144cd8c9c1391a7cf5bf7a7f2bff673ffc062921c13ae298d9532ed297c45410f084c3735c926d0352f53c30304470a691ae2d1eca23061844d8584f652edb97e4bfc85301b8da4ce4b55103d8d9aa129f292cc79cbe6f68554ea0f1572e59168b706bfacfff711846f61bd83f3451e2e9d7f0f055235c9491b008d43bbe74ac8aad9f1100aa0fe3843c3cce4898e5c12ea7f162fa553849144ee27e08d2a4627474ee1087a2742e8280ad3e9e101f7b88c39dfca77dad6eca4164fc852ebd2f88a58b421777e9b742cad9a1165a15ce32d128f9cd54c9913f969d6aa1ff3f7e50bfe9b38f5304dc00e8e67b2500f45e44ac279a4c11cfbec9b81a4209a256eb2e85c9d5b18231b54291fbd864901a531f8eedb3574ac85a332c3f8fb5b6c85c5ffccabf76bfe8648f622962febc626fef5d6f40ca51beed596901ab5f46f697f420620c57a4e066229b595658adad4dd460a7c4a46624f712b23f2dd4cefab3e1fb282321917854f2548110e2a87c4afa9ac5c8bd59b22279bb936d760780be78541532302fed9106e0ee9a11e1c70c08a70524183388701704dfffeb8903f06ea71309f0ce1d2190dbc9688cabe9d6e3bfa2add3deab1124a13ea01512ded6c135a826fd5e040e1219462523a1bd7abb37e915f09723b60c25cee7968095fad60bee1064e6cb4ad685f317901f0670b812514e20b44ac8934a14b5ff250a5ed4be98a4cf2ef86afb2c957ad4ac8b2194c8d3c31102fb3613dfe43d050d5453945b2cf8591c53ea3c9d49694681dfe442b36ceb7b47fd5eba8a6e44c1657e18dd576c4be2faafbef8121a418af822d53a3c822e61d59ca0d1661071f69797a4dc5811827ee72337bc65a21e1ba91d7873dc81b5988905b56ed97b020f3e4a793eb5c4e796f39fa7165af072d8e3c51f3c04bdb02b47467e13e71d5a40b1318fc0466bab8eb2a45d02556f178df26ac40406ce027b23ed7404cf6691c50923038026fc0f896d01c16c6d45b70584d2abf867d13bebc6778b31d587ef2f2b480a69660788ddc449f7c7af4acf37e2291dfc0cb014a6cc37b6b1d2cbc279e16c84d04383f2829f57b680f4cef981d84b99e0a102ca8148eb945aa2ce3cd1fd560b11b06d33907302494e10f99b6f7460eb8158c4a51789e0e349a5c5bd8a24a7c147a8e310528c95749240d5b4cf1f9fa47103a85bd6c87f83807ae1e607abde50ad5c9f376b62f043dff3a7d130feb20a49e69d115242613cd190eab8d80c6d7a221f2d2fddf8170ecde695fa092f37f085b5e87c9ccacbee4739b1ec6b9d95a30d1b33607f4deeaec424ad6fa18074b73352a3eca29333bdebf23bf667cbce3ef66b04047ee006d4108770bce6a59d8699c7ca607e80c13d7aef583e965ce73436bd58cb0355419fc8ca82abf501a06d051bf4988e3a8e896b45483a97b0bacc6d9e27fc796da2cd37c42d5688b6f25b9a3d8c2201ca749a7364a9790150241c49985e3396fdaeb745139b2e491007248aaa65fe7f9f2a79d8fabe412f7cc922136e88cc876df7ea4037b828a4feeed6423ff5f5a2dc232c3d1acd8b56451689082bf7702af166f7baf2f06b605c6e00e0aed2437dd836f024c1352cfc4f5c5507593637d722c23a2034fed14c74dccae6210c1a83220706051e0feb428070b055781b99d0ebe6d2f58a4ac020f18a79e8546f4f3c76fdbaf1fcac3152e2ed37ea76d9254f6583ce93fad4455de5092763974a1703b9b0be823d53c469f680693e28f33b68aca45ea5a1b32bb89f04285d83fad0400e6e503e2a19b6474f019f60230e09e6549f4af307ee4396d412d07e988f150921dff4da6e723f3f332a80daaeac0fa8b46ebe88e397755e3cffc17ad575d970963a46cee2ac029051f9c45dc3c3d117e4934f4e17310673277a772746a1dbe69feb34b336f9407009df94c343abaf7b430b7241a6b0005d2c6e7873e57b4fc8f123819d98517eba1d880d4ad1760d0a1ac08166097528f523ba4b6b9c543bd24db80d8960bca5af5f5aae1b580f18f109a3de1cfa0e318b980c23a7759ca37966ba9bd8fdc122718e3d1b5f56f26a3893af90b52ae9fae6b3f29d46c90eb2418ed1d080a9db83dcc62447f5f830cf1d8f22201971a340a5b9deda1f7c021b75d5298d8c09d1418c2b89e4bcb5216b01528ba7b70a4273e541d68278fc120c4402cd45d8e56b655f7035ce6877e5eb92ecbd3a4a8ee757c4d72d1086e3a554d728bc4ad3f921f643075458c6ef6ecb4f65e2582cdefaf8b33ee6ed608af618009241b7bc83e04970d1dd1851af6d7e951e1b2970b3199a14247250c68be1ed5babcc9583b61654aa69501698b8ee134f6668746c5fd89364904d6a56baec6c1250ab0ee306bcadc68c8cb787bdc30fafa33dc54c84a92ea76941fe05d5735ce02797d16887ce1a9e560b04d50aaaa62b3b69111af7d4c146c05de003e69e406ef05e5a72e97f6bb90fc9bd427713affba580ad41aa80ad51d51c55ccb70b177b99ccc6dda2b91d053896536da783f64b60b4356bbf5b4c4a299e9ea13cae88b790891170dc64574f2a7ac3aebf58eb995565c9cebf9fd1ecaaea27e1987c608e9bf419844d7ba18ff512f411b17e3e430ffe6694532a87b5570de59667bf32c93edfb7c1485d6e55e175a792628a58fc68e616fb889cbb712c77a9d5aa05fffa8f102bcdb7c5c1fcd52b0dd1fa501c75e5f644005a54ad705c4b20a4093ded9f7f63eaf8a0c40d18ddd73bfe13f96ab0973468aa5141698f293da51b088d50cdf1320b5c5b51346670a032562bb32b85f9e3d1945c1db595bb170306df5bf5e4f07d4e6e9bca514a576bf130e14ed269b5eb49e0f237b22852f1463d3c85d6e5e1865047845ed3adf5a9a1353751e6d7990bd146686fbc250761d7172e2f26764dbcdd2fa33a15daea199f5a564d1516c62b607b7f28ad5a59122fcff21bb2ed8686f47d06e85bc8adaa1b86b4b6106ce9369f036f7d207dbff62e85fdf1e23f17ab78f98ad136fddf1e85a386faeaef8e564fbc0fb2cb286157a408e0beaf0daf39ae9630a3bad9522040562e6cb188a1ba8076e2a573b11014d4fda3784b645b0e8902fc60a87b25e36b8ebc5ed018fe1b19ad08768802","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5772c6c6da40bb47a5b1786c06afb5ed"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
