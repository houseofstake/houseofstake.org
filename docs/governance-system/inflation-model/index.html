<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"efb4926f1abbc95d27b2738b5f765e7b277e18f7192e0b1c1d7a1df7284320b0598fe3734af82fda436abbf9c68696a5608167433e19668f8dff2b1cc0e18ef73b936864aa1566b4a610d38b305e1eb2c7289d5940c01e67ff792330eddb663810035c6a40f177be7e3f0f519264a3cce182e700a19bb62fb65756a9a94e4fb238181b145dd9ec4a1f5f275c7310deedd7eb8cdacf76f5dd800903dc7ecd4e14564d15f255b490cadf83a67278b91c3fce4a1e82ef8367604f1fb983ce1b8df291a83593676f2db55220903e0c4d9e9a52336797bd9bcb3d21e5720da7c5b64bb5d1a898613de636e955464ded04c84021b8c265e936cf9db45193b1be85c665430021c5e4ec967a51a1fe8907aa1fc08c5ed5fbafcf3e25667d9174b56edb5ffcdd21a0bb91ce9f89583afa2bd67e546c0fb7f369cc330e11c871bf9ca60b10f482dae427c5abf6a5f37d11a5e0fee3fa7a4467963cd5b6e1880e51ca9ec423337cb9688c45508ed00c42efe7d25c6f8e6123916acc4b556a0ddcd8f5f1d3f626d9594bceb90c524ad16f50852e70664b9d45dc9932c8256076462b6670108af0a19411b2cac33ba015e7fe065f67942a946db42ff4766d0e46fd6b2dc420f5a8d8d2fe1d1a31faaedf467f15e2d0507636859869651370e6cea9da5bda5ea1db4773c5ec2e07b837410d6d770f67e7aac406980c55e04581c0699e72818a2a25006044295d06ce984ec1ea1f397459c9cb01bbc70d891d53dd868b412438b0fd47dfe86b004a303a2e759d3b20e0b6e65622bd6d7a3fabcd9b7c3e7e2e912ea617a22a0ee02e42e5c2ff884b2ba5262d283db48e9531a3514b75e30b90ebca572c8acce9b1478e39ab4cba0a5d1c9987f8818e59f7b3452debf1c9c4d89e4020db0e4118adc8e475c0efd56e9bc0db5bc41ac2ae778516af47da5e45e308fca1d7fb856ae26ab5274d357083dc72398db1d0104f87097869b0d3e24491e474751026f14966b7ea58fc6da4af9c9d6c58421302d021e578e0775a09df9698f199917bf4992486156f2c2c45d11d6e7f6a8bf2deab26012ffb45c71e259e24b8d531acf54f0729af50aac45ea56ee1a24c7bfc94dce3ca6f62de7cdc718758e5cc0345c3ebc48c84359824777520738cd88400725be4c63ef69fb0c08612b2d26c300c81c51481dbb1378eb108d8ac74d3822b5039150e5fb4913db751d0ed7efb2708cb629de26ba14fcee083cf9b3bcc134109e98ba918cacab05b7a6721836fb811680a335d4cebaa4c4dfd91367785aa3062b563ed8de0c10d3d121854c843bddece6c6479da6d1a69c93c657744bb04d7eb32f0aee3bbd7bff6853e1d8544c7ad6f97d1d1027d0016118c60b125eb3f53aa445dfce2662bdffacfc59f270bc483d666e80db4b9eaea08a013ff6436170a56f9c6226cc93b00dc3b0310050b6db3e92edca9b8cca466d5f8ec6aa0977ab701e04e0dde926638596565ff0f4a908af0089543a0f4fc0f9aa76ebc6af903e626526c797f689a22857091554debe5f4151bbde3737ceed39e00c2277fb3caca1b00200d813ac7a2d22cafd640d7f4de1fff4a33976c47d8d72c29b48bf6f28287a3afe7fb957ce0c1acabf977edbcea1cd623d7dee92710c8753dd89235de1b0097dc0f50a0a41535a89915a4db1d20583ed6e2745b6149d8ea671d3761bd1b5f942a053f89edc74bfe4f7503eabbb24cf6916af83df5dc67cac76129c0c8e508d9d9bb564bd3c322563103b85e123ea887e1465111a391c4f54e6287eccc0c9cc80a1444a3b44792b41ef8ec7c0e142294e195a21f3fa8061708ca0eba4069a8d17ce7f5f0c53037e68e991eb7216deda43cc51fd1ec5c0b72da8d0ee2d72e8b0ff3c6a34df281c6d447b9866a87f72484539ac729496f438d38c519f31b6064c792e586fedf686ab3a0100c88bab734af9809dd481a29e5ed0ce0a91f8ed4fabfad305bd4ccf7379b15ff6954f5f1d3c0b6283dc68fd6125e08aed1e912314cd1f9093ac4585c0227a46f9121f641ce9b209da6424f06c1fb4bceca274a897851936cd7e8fd4fe2e89292c8671bc32c1372b7ee7f4f3116e093e3fbd0f4c1fd27d02b8ebd5d1fc5bf7bb1540eb5436593d71f4141512aa6488a3b6ec563257a11fc5e1b6ab434ef9eb0bf322d6ba826a88dbb46bd616814414cc875f0f59d35fb94d3ff8a8e610350b5fc73dce40ac427dc1631ab4ce5b59fe794b136e2daace68e5e66f600f7cfbc1e037d0cc6dc1b3a8b522f890999fb7aee97b1f2d6cc2ad7f60ffeb582ce609c6f3b0fb2b2a17e8f097073ba298c3d79bafe03b8f966b0a3703146225e58c5f2d1e8878894bdbb360eb6235f4e52ce14f695b44ee77627d1ef7cef1d0457dcbd2a0713191a1a7b7b6a0c8ca4fdf51f680fecd25be9ff0538e7a4a0568cae735d4bbb93ea3c618018a39d18f25b1e493d41b726b6cb739c845f2b0701df61feb2bc229985a7606ced08dcea200d6193f237c5d5a0060fe7fa5ccbe279ddcdef092193c8fd05a6b7c3d364cb6574c737ae1e047c80d3d4d10d5b671e3eacd3111285e81bf9101748cd15bce904ba655305b67a51fcd3431a6dc0efeb5dd7443542931c3b29f4c9c39d74a935fc5e30ad444ebdbfd118bb4744542fd3affb1dca9932f9c120dec266aae133a25f8fc0db29590346ae0eda925810cd8b5d18ddb2c3807c218473bd4ee674ef7afd386ed3be3e2281e44d50ccf068c8d5f721a376b6fe9819e2753103aaf223bf0f6acf6716f54ef9426d9bdf421bb7933096494b0bdca5d81fae09ea6d55720f95ee12ed88e70c8e18155067bd2884c72c4d073c9b34529d6af6d06219bf89fbe27a697170020cb68cf74d55129b7572d00bd6b618ac9d6445744c586fb1b634a6c057ceaef8d4bdbd93e7bda40c998a9fa28bbe182106736f88663d30670d6b003e88676f15cced037bc470d2c47ad8d6daf341833fca8115e23a950a62ff65c621754b4afcd8f0fcb2f1f10f4a996341eba3cf98389c1f42aae18184fe5e6f379f23dcc070673f8ab5860e143e990aabf5277070224d0d78c7a2e1db985300108ffa83fd133b50f5035fd38118d5cf5eea17828ed86d7d6c3ec88e1a55a95dc9e9b34f3349d13f6c847d4e88993903f5ddd936594dd9eabb84946ddf9380080d1d31347cad0c5c7ccfb5fc17826c38cb321f45814c6d4462aa281a0504ec1b7e139ddfda1fef8bb92ab4c8afed1cdd84bdd8c79ee55f925f114277ee656edcdb78185081f43ba259f00219f971604f35aeb5502ad0bc48cd4a810908fabb17beabbac54d1d87c073264ca4b81895944ca859858e95433f41b21c28ef83fd4a55bca3916c761549feab2de2a5c1e768b3d56dafd55e5891107cd8faeebd4c86ab7f78e24496b94830ef621c463b8195a9f81aeffecfa307213961b5c34af682faacaf03e40980e454c93bdf2a905f0708c6e3b92fe05480709348fb68e0f4bac65ab0993a11b68c4be9c9ab7fb7748eb65de1dfef6e7a8e96fa301f366a381195814f63fea266794a0ae3773ae5a72394597e44cc226d693348dfd5158869888f042b8a6b676b6bd4df95215b0f2863d56702108a13ecfaaa4998251be966263d38991c1bd18fcf890ce2328aa42fd9be9252da31fec5e9c137f3aa82cfc31aa0fb49228151bdca7a41ba1ae0207b3a11b6f9c7ba1c58d2a8991dc9dea7f11d2badd38d97b41bb677dd2c385b834633b562e38d896c4e8230524df82c3cf6bdb3dd21eeb43298598dfb35a15a3b5f7eebc2ba637ee4f7133c74d226ba00b1018b474429c1e47647f87e859b89972a6415bf590deedd72e9d31f54ff45d1a7d66ef3eb3345ae4cb865d767e289fb354d9182b1d85c35a22adb3a665131c37e7e70ed1b5c1d9a8c1a86c4d436d2b9b09a9bfd4f9ebdfa9b8d9053cd03df0cbccad2b3c8a7ad68e06190edb5213ad3e4e721fca2a7d2a67f227cccf89f5e71c6f749e83ed19c646f334dbbaf6663d47d35ceb83d741272b14309d2d1edf405bac9cc9dd7b7214a299ff0fff6b01af291cd4254ba7da868eb361859147582c558f0ab9bcf59806a8edc754e40c211a17625c58092dd9f41aa64a41aee48a2aac40b8fd2c4470316c3ffa76002aa3f901ae9119405d9896d7523a65aee2c306003afbaa31c384bfa2d82dded2ea769397acb15686104322502f45075a0883366a45c8a5b820c381c3e9ea70b096f421a6b61f6cf1f2ae06cf6fb87cafbb69fbb4abbe9bc9bf8683f6b47040ff77d094d474b0c014fe616b4767ea6012275c711b99bae9cff3d3e3190cbe3336e46a658cfab3d1c27c9112f6d9d5ffc651bcf6fd215939cd3dc1018c32260dd1691f627937c92977f236ac78918f2758a3ad017ee0d3e03ef8f494f462a59fe9027b3e38fdf2c632172f85861c696c32e35ca23f67222e4a118a6dc23cf635f98e1717dbfbd6945a77ea41e653d972f2f4fb6d979da56fa4c1cd20b44f615c3c023fc3d88181739f46d63501c1482c4588337f93128008c010d3fb7f702799387b19de19c64538ea54d4b5b5ccc66671ef0f21c6d180b48d23925dd39d99eb21b005167295d256aa18788db9d007da1cfe823eadf70bd43b8d8fa28dcee12e4e4356350c556f4bab4b23f9612e79bb42bb7d9e6c55cefad9607368f972a822130f35e44733abea7a2bee00df3903d3c45140ca61e78e9bd3ff34d4c78f736cf7a46053ef3a1651886312f2228a2333d179fac9c3bebb23dac1a84be4b1315275e9e87e1c32217d6e8e1f35d330cf7f93b3b8a750e87dc0af97f33445683b2b9828503a31de890ec2183fc91ad92a64126afa1a1861e29e70fd4e9bb83464cf4482232cf7fbb1062f67eaafc4432fb15d0143f4f272193245e82dfb00a6eaca5e8cd4e8242e7606685b51b348989b74e7e9278a5a2d451a5b1074e9ba5976a06dfea350fc2f3f32e209e2d1674cf2801053b763a90c627016df2f5de4c2ba1cd4499673db318a46d197a16101b0a82eb7f378c0c4e26ea68e5241b8b0a103277bcc1def94c6cfa06348f3d7db1780d93c00a255294b0f2c5dcfd0828681c351a598d25ac27f67a074393ab72279ca33197de4dc4e42b982f016b337b23da75d187a7fdb8d64b6ce4b84d31123e873f01738a921eeb6522a6df52c5b9bcf29ce11f03eaaeb88c92b90b18075ee9914a0965916220aebe1f3d251b71b0cdb6200226890c9fbb192c4f85d9e31f53b529948a7ad6c2c10f932f2e5d9e41fb23322a18c280feaeaa852bbba5ab0f09896d5dc4258379bb35a426de25105e5a13740b6ce1352ccfcb27a61e7ad4dda003a1f1336953b47b1ef99c78f7756498b9cdc6a8bd78d9c0fe4ab1efdbc6d5b9e6e01133cd2ce7dd116b42d503b23d0a240fe5bcf9572c445342fe6087340829c88917d6f359608bc6346375b4250d475d2a090efcdba069a1fe41b7641f896be90131e877985769a78dbb4645e2ee1a9674cda4eaa45bc1e7b058df276fe3357aec41e0aee469624217f393f1273072c5f8661d941bd57d99a2d161ba1a6a08c95dcf503e37c5a8f48d7dad370bee54f65fdad295302f42259d6ae130b90a023d9e39b136c9122ecd138dc33483f7eb0303612176d0237bbfcb10d0b8e3fe1f6447f9fe97e8c1ed84da485cba0d2a153eeed43f1d5e27acbc271bf92e8694e0805c4d7caa953083ff0e6687a6c97f8e76bc73083a7091402beed43e7112f5478734e723ff5d637842f963ed6388275f8f2ee79b3eb30da717a60a581b06011621cfca11ea7e3cd525bcfd443498185322e8b521b7f62750c5fcd860a585d47fa3696d3ba4407b8fc3d71b19337bb820b01ef8a04ac7f58c321755f195d5bdb643b5ed4a0b361ab78c24d52a6f3c65171d01160d22bf18dc5630689e13f7aa7a22b1e314f9dbe1dfc0c79cf270f9272223085deda93b6546d144e4d8cf073cb91652f1ebe3cc5063932132e6c2ccdfbbd6b4a973309088862d7aca2be03469b809d032f84adbc38ea3b774e72c59990a49c63bb617949a4ee64f0f6038279fd73db8a4e33d21cf1336a97f2248958bd0b1ffab284a155355284db2b66e4ac5405aa9f3eb2e6ad89fb56215409a415fc278388eab79f936650c802e35159929c79c86e65cefca17a1ffb883860dceee0f18c68cf656b1b59fbda290d6f5a2ad521922d0f7c819a8b6ce2c8cf5475d0a7e5e23ca71819a114bd2c1efcb31e2581e3ed1b89f57871514763cf06a943ed908016fcf563eea3c011631ed9d8dcc0199711946f692d68457469a8166e4e771bbfe3a23488669430df4b8fd13430acad38e299fc744f9f8d51ee5bf6d5a3ea0d23c3a946b24eba57d7f9e4b3f12dfd65d476ebd7a2c17a2069b0667dd3ad655a7da4d3a7bacc715fd559214c28994ad6a7235de49f46486e92c8bf1e5a4c81ca8b6a9c674190d739971d08c6aec06c3749f5336f722dddc47e8bdcc12526f44d454fe75fda514ac5913237228172775b9a8b1c64f06b278d82d72e6adf3fd270093deb7cb29d26d715e33858cf9fd3ad5b1bc940cd494416ab67ee220b1069f3c2e82fd0904f8e38e18a5c558e2ba46336ec16cabc46a6864fbcad3c926262357c546bd190e3d49c963096f6148c8bd90587fcbdc7085d85b938e624dbf3a4789ddb2d4a0e3fd975ce928a8b15f10da8148e74559ec2975cc3fa1a99b81ab9cc8a247da6b72621b4ad92b230315adbebbebc77c3097def51fb9f16a627fa38e878ede7bfbdbbd27b13ac434997b332bba1571702d73fad72cb7b89bd54a9423ed99615e9e0dbb7868c5d5ba1e40184fc485d538149b91ca0707bf53886c04ce28a01e714d105c9869ebcef73b014216a7a05a38a25a99b9e9de189d0bbf83c420f137e1a8babf2bb0173e4eed5d20637ba998ae3bbe5407d68556cd483c83fec1d63a7727107b47f898809efa705e461e1d755d294608dac1cba54b8631e9fee48e7c90df24bc255ab36deb86e22f19b0c2caa0711bed63786ff309b02ba1e9b1bf90ce07f14357b6d5d6661406dcfb0721f2b71f29dcc7ef5710fbf81d3bf8245b22f54ee27d31b0e099e791cd74693affecdc95adee105aca1dd3ae5ce8fd772c5b9a931f195b07f0d62fd20f0a41d2048e8a2ce4e7313701125d533af321f1d77c95fd7c7e881229609ce6165afb88b650230cdf3f120c2367894fec453c946dee9848ccd3106d697bbb2fcc68cea8141dd702041c91b554f02c16b88e7b16291f66d2b25411e3e79bee0e32fd8aa4f151c9587732cebd4437bf33f641402581ec06c9e4697042f5db752c36745dba1999f5477f4f7fbbb67e22c8bb7e20701ffb5c37a1d6919f5e74badbb4af112525ee4fde51e71a68b8f92bcc737b0a8ab987a8d59a575de66229aed131df87aef1c41ed15f7c51916e75f82694701477f73aa87e2666c46d5d5918652c1e53812d978dfd434a12d4a15af1975b5c0a1189a8c671ee7332b998462b8c677e338b73d05b49ea37190c08fbb979d70ac5963001965fe45d057b4b7542de22e80c7047dfc74d8f410a20986d7a539b80fc6e8383b6465b095f0e42480266a2a8cec93fc284634ec3ca9d2ef91207b619e10712d1619dab4c826acad5be5508c731fc1884ba44c7eec67c921149e63f99992786858dd1ed762a44d91f5451a47fa7a9c986d3d3cbc5416c52f6c4aac4d61a1755aaca99e7930988051363847442f7ad664df1e009f92498190138b7dad9a50e758a366fc49ac287daec6544288d8cf039213d6f9186c6051ed3a71088b1298572aa811d87f4313beea8fa7a0b428f7919014bf78af346282aeab9e9ff5df9067a06e6d364aaefd099333adcf5d4b6f7ca8ab1e95b8c6a45723cdbaae8a07e52a8a4a088fc8a001ebc18f3bc72431ab30f58f550b3b9da49a3c075ae759c73fb03534a0fca7fde13a37c1e59ce428d48c5eed7c21e3034036b14b5abfef9e6da97d4af1729c1bbe49b0078f18ae72c312e8ef73874167cb425ca9d50f085a493ed3d2912dd5bf479a5c81b082f35e3510df794f0191624ce700112afbcab3f5579e96dd95c7c4d237415a84f787ae2f90f526c746d7bda352fd389c2312284ee733d7a9af9e4e4f168be90bb815fbca6ea44fae81954a2c22fc0d7ff49de19440099615ca16ff280b0c6dde5867e9dcbe3da744eca62e1aae800cc8486ccc6f10e39f10bf37054be021e6ae698681ad448ad2f97c836093fbada5a70f001ac34a35e19a036dda65cfe90601c9ba4d8ee8e8f65beb3e44884228a9dedb11cbdf369b122712d660d18d0d473e701156914cf334d741c7583b0ec0307b1cfc1daf59a900546295c7dccfb9cd333d967705af58497da98be0dcd767cbb4d75d1b5935af81830ab474adb01ba70a622b5e54772454f1d116a441c199591b9b9cfbc05ab084ee554126e1a884b195d5b653cd36aeb4fcaca75d08b70bba2c34cab4ebcec26a599cc28e6c73b6485c22b75657c5cc30114a62555483520adcc02b47f4974ff54f2c18a6eb5d0641827e90c8b3d1578d3bc1ad64b1402975166f61b78550cd08ff87f0f6c851d3fd96955cd26e560e5cab0bc0801872d2e11d81f4d4957192089fcddf4df3b4ceb60e33959a67ed340bd8564843b1434287d584b34ab77c265016076900a3e208f8be608860df665d9511a83bf879b5ce0aca8e2e9952569d20b599ec3f72764033fbe5d2d56f2951703ea1a8e3035d3d8c34fc106c91d67183ac216da5a3bc51ebd20935ca767ad757b21619e81532e8a237bceab46a0ed961ac2b23b057d2b5d2f027b85f2193809a848f2323a60007fbf6684aba93c688dd0d6e62ebc0b7728fc0cbfa1d54c0815e6876c2a4d8272e59d2922253c2f9e833ee9957e861fb0f0a146d50eb1757c72d5c037d24c510a96300f2c16b3d5998d5f785e2a0582017393b48e9eef16fb3779b1ad4a8d85d06da7cd5d8f90413a79809b6772d4e0b6152aa86de028ed49aa40925d5a0e9612010a9f4434136146857366e3a2d09fbdd76288e6e2f2f9117d9ab167e5579b8e6c4c86f15832e40e5276a69c2e37397147a46152dd73129c262015b6bcae618b8a8f5241f77482b4ae5996b6fdef969f91d20ed424d43612f51f93fb192481326d2ec756d16d2cec07a153d2f264a7a75ade05b79152438553ff94554237523c50319f7a9c4d7e90466f92e4056c43215ec8ce429d0684ce5ad179b8bf0ed439e4ce9fafdceca1d5afbc3567027cd099db3545a14f221079a9386e76336d43158146a25a6784c28ab7fb9f098d3083dc482d93f5aa2e5a7050ad94ed75bf22492d6d4959bdf196e34ef68f48a6eae24a6a0f2c9cbec864718b436f5cec34145593704b2d5c7b58b4b1ff16ba26b09d18058e1799886dfdae0c91de8829c5e35cbd2a67e511a2f3e3947e953d704df591aca6637d37034c664b8488c9109ee4bea2ceeaa6cae84c7f9ec2da3ef2cb0ab97cda8c71522655c81bb3732d3f96cc0072d28fc81f99fa8c1524792e49bd8673ff6262da86fb8bbe735ba7940c035734faa5619e0e18b85e81c3de226942fefd091753a0d757fa491125922af61007033dc66bc17dec85ef16cbb6928d29903ba68918cc0bc0cea3fbeb4319967eb8dd5cdf81477ffedefcca7bb2bdda4a1a211a37c085f76df4720cc6caedb508955e31b57396c97c9ee3e689dfb06dc6b1e5a5b026accef8e0e4bffce7f1c840beae6d3be2a6b825437b80833bb9563cdebd2b251fbcf79b6d24d2810de7eb6e9ff507cd8e0c5a2dd9cb849fe26d23d096140ef474aa3c9035866b1dd3cbb63869edd10404b26ea3d3eba1ce1d5d2a1bbaa75cdef21230fbb635fa91ef4023d9ff8d4a9c311229344e396d45214f3ba53bc1445f9baf9e3603f2b1fcc93a1261f2b68de3546aac01271eb717d6c3486cba9d8a97edef7f0c3ccdab9ae6abb2c18ea5dfad4b0e5fdbdb8490ff3fb3d9c0abc04d369b964b6af46ec311e861890aecc3ff03a5332bd8f7b67f9b12c66bd281788bc1ed04b6069b1b2c9a55b6f08c7608ea458a8b50990d9be4c7c132484d3a36f59be46228fcf9b9daaae66a42825003319d9e103163550850055d8fb26799e17db3f95b9b581ba13146c518c26548d674b9847a92cbae75798c16b5cb444ac548903b220c616259de83635dc6a6bb5c8d0af6df6e0d31059d75a520069e039823d6762748af45f6d633b61ce7e39859f23b62113a0277f00df5fc5e6c6f4c90455fe55598ec89d1a04c2be2b2f5ab4acc459356a68a70d4da3f749ceabaa47b418a2e127041b16561360fe3df9007ee7b1c4e147267c2ff94e5189bb611758314303d283b1690cfd286b88f2c25f138f52d727f6a970a465859046f17798b7416e738c640b5703aa64f0aecb611ef4a4baefa97f1825dce3eca6517ef320a0bbdeb33b8a6198462f6c24f6f94dcb0ef4a76c94dee00192f62a508885d7457b36a04327051711888aa096d3cf7b15c0f157d1d1f39b474aca38ed0bb5bcd715c007aba3b19be2151dd3087da1c5668c0dcf29e13c21baa2e7eedf40f02fd954d8fb2c8ad68520f9779642cfbf9c62ecfeb500e38f1ec41495afb4fd40c4612dc9e56a112b0a258daa51ca01f63d9a4209319163b8be4d3e8e925c38998a56fee8d22547869a2c1f10523d868a48667f35e8846c2a8c81759f6736fbc09efdaba0c3702eba99a57e1ce249c309abc1b138d85805f31d925e630b60d74bd5637d568ad8e3f8f46f45be563714a00bd94803d952dc5ca612f79175745df4a31a00dac69d2631912f5465ab39b538cb2443da08c2ab9bc3b59f2f76b2d01d2681ebac79261d589fdf330b3f90d9de76a4603018ae3f80c2f03306f20503d617cf41c43a5dada8663935231547187633163a8b5aa492612eb92885d23c22286493f10dcef1188ce70d7b7c8e76d743ed62ff7c4e21cb18dfd7fce8fe72513e9a908f766da0ca3be3614f6250df57cb1a3f3527555acb92523fd27db532cf089df2e5055183847ca9b5edc21ed98f2a4a0b0adba001b53115761e9d5bd82ee43b94250aa5b8901624c4e85465db8625b468542124c0c66a44647db98eaa4d0e91de641f41cd48ee1e17b4a3bbd5f62856f0be992e23f5c67eb24aae68c5531e4776956935864505c754d2e5c5328e05da17e4455a7091279306a8121f46ca48e6ee6d147d3fd0b0f535f6e44763977a882e0cb8a842fbc35fb674886a6206f1cedd6afca8e38b172d52f6ae972046e6892eacb82245465d07ef487a167a632f0e48894ea5b4e718d8db2b7d0e9d0ce5b7fc2d11a8d3820f3556b4795f27fd802099ebc1634b633964e6201c479c83aa625885cb7c5aab0a686745b5c992b79d0ba92e309efa4d3052bb6c7d2960ab75e0a25a6e8de62a70e77619456cd625df504dc825768c4f0a48417d506fcee93cf681717b1880554f8a5ee8158040053a993d15053feaf6651665d2dd1b36a7a4ce04055cd3753a1b48b0558af6df1e1adce3ad76aa19202051e566a15d6c61da3defd6e8185f22168c4e425dc43686aeb1abd178312c2b233e34cb95f3de38c0632ec9fe4a43e3f5d7825d4f67382375ba4e57d29377e5a238e48e37930b3ac2c39759716f098b01183dca3b575b9d9c5cb77402c3e36c107654ede5f63c0b3c51675f27ff21754083a8bf8d3c9463486fcfa208e701b08ebe6f63eb247b95dfd72aa4acadf90050fcfee43387e4ec664befec67ef0d7783b4770b9802df36a5c91247b88a21d1dcde34dd4139d04686722e32666407e20ca8c3f189e6b40ccaaabaef3edb79f6a49b23b60d1e2c78a1a75c8038d6b167f72375709e492e9fc3a8a4ac9c99440854d4a0899c59488ff33f63fe0f7ce27738ac1a71b87de75175276f5b2a32d52f432e649962b949b94b1f0c69625e4da916c58b82100a97c997ba710bbba1e0ee37c9488cd33643c19d5c30782bbcc09eec4c8680d290eadefb19aa9e352c5e8900eef36c09360118a4f1175dbe63b8b560f74ed16066366b203c64ddcc71678a250fa54dcb1fdac37fd3f7f83d0109bf5875ec01b0f0ea5d26e46708c47c7568c34e78d20a48d305a11508a2bd633b1f8b6beb18b99ef3ba114d7782dc4d2824aae88d78085e0c3dafd78cae679a15571f473fce177b344b7ebd6ff783706095ada09a0f49f3a7ccc8dbabb3c709e8c7efc0a7d39cfe5ca5588413e0b6727ccb4b1fcc2fcc673019a317efd14ee7586cb91a49e812c9488a4322948eb21140c4f11a8e78288bc8aed8b9f6e0019c3d5a1b2ae49c92729227cc16ab4ec0a86521f02fe4cc575b55d13a2a33ba7b5e9cad29570da9e89da32cec8f8a30e349a36047c841224fdb8877c6f553fdbea7f56b0e825afa61201f105d7d57632e394bd5f058bc252a367bad208d0c0d5910c3b5a797a11e4da2323564756fd90c4d34cd3b56f7545c0dbc59100222cc20774ad1c2aa3b35b254b47dd293785949d962928ab8b0c01340538fd634e74902c397aa92ded52a513f8606a0afc5ea2cb0475a0f5177a4def1db4a60a9f46be9e7a8a768954d6e0b11cbcab396059f0a3ee899f567ffac8788b55a4b04b1ec1230d345ce65de59a45418e3aeb54df09ef040389b3d1cd662aa6e2b65c6ebc6c9fde87cb32bc6425d54d50dc578b586b286e48f6d989a537578566e2ef30dc941d2a7193e8af7bd4470da9a20e38115a469eea4bc6fe34ba9ca6db8a71a8698c6695db7f34d531b55e3512c2d37dd96cc99f3612220bd9ecf0cc88c9360c8a3419dd9665fd6b083f8369d8ac389bf190b74d2f45f35f7e10b0ea04751858b2d1a5d0a97be88fdc3cb11ebe113f102876f6aa9c8ff9b5ad29eb1cb4866d45d4ff1834779b8cee670af027dd9c2dad5e6552da4882ad99245c6f8f81c1bd6f83ef1ef52a3d83ea8b7764fab6cdfd90bc7d4a6664d379371b3d538d077d3b7d04608d3be216ae9a4a375bb604c3558704c1dca82120fd0353f16dd6439fa988d03d91baa64e1ff710048112aa0ca7a6f32ff78ab99bff675ff099ede166319a07723ac405e2cade733265b6eb2f265866b8444fcec968a068303765f2ed4a5d7ae75a06b4a49ac06e1952dc3f23feb830fe7148102f31c6324d73a66ec71c2edcb2eddda6677fe5ff9e1275c96c2161b0df8b76df58da996fbd214c02a052f0414753080a9bba2745ea6c74f7ed1c2292b9d3d66967efb411b9d5d3ebecba0b059d9f688571c2943466b2cf00fb7996142697d3e5afa4bd0d92f31aa66bfa038691716cb927d02d8898bc10d8790655c2a748d1e3f674d72abba5eacfa9310eb3c13b41a9cc6da0bb22dfe042a6d025582efdf35d1252ecc4dbbdb82ba038bd6dd1cfc041c3302e864d8ad38baedc6e07117ae994a78ab94332f297eaf7defc8d96454a449c9747fd77771cca5e6004c8fdf9832ca6842150db80ec206e76a129a4900644ec7e41561ba8df564da117598059fde0a22c7c2f338812bb1a965e3423d22cb8479dd1b20cb155f867688bc5dcd05a61a2647bf0a330fa7d929f590531f23959e32077d2135c964fccd83521ed93b51deb9f0d4788951791f98b334e5cb5b05e291741569273f3bec20cb2a55228e0c2a1136852422212b22eff2419f5eb14abfc7aa86496101556c8baeb1e1074b14ee864ebdcd088d6d9690df7b94a1cb09962c5182adaabeff34e8dbe9767b2f8c4b8b235a6b83c41cfa002b94027e6f684dce8cf5bf982cbef992d7d2c12ae49e4af6a2d21e45763b38fad2f5cf6110a63a3916fe8e71a331affb9308c013f0da0bcecc87a490a4f418aec6305a442c66ac2cfeaa161a5e9521a138dfc66664b79da6ee3f1ab62e75892871ecf40e487d1c24b29bba2257d4aaeb7e416746033dc39d2198830ec361a53b57cafba785216f5c24e5ad8e7148f089091f07a38887de6c157938d8ecd0730073ee4261e8c9cb3e6a6896496a7c9ee2c6aa22f33ac0b90a64ef052aade00de31546756a96defcfaab8df311f4b9de9fc1056fd0228d2d9d4168053f9958762a4e5ba4bcc7925f0082d049d717dcc2ddcb13c81485fbab65ed94b1196242b0738d21642bac849df0127702c9b19e3855e9dd7d76e9d839dafca5f94e97280e11a76fdd1070db701d64f33de0b1549f3c7310d642ee0c92d261165bdb3554997bee8afd5dfbbed329823d2da95b1cfe0e5480860158a4bda7fc89a40be7dff6b0bf6c63f4bcc3dd4046eb42a214946ff3b910141b727a320b0f9bd179570ddd09c37dee4549017c255937139e939b7d87c51b724aa12776272266c2ba7978d6b913560071c034e667f22712b0590453040a398a4afcabd096d2cc55e4a055f5500cbe44a1ffaca5784cc7e4d2aee80ab1d72a22ce565a4b747ac6fdd3e530170d592d0a9aa8c06c9bf2e68e6068159f799a7e433ccfe220b78f2d6cf032569214bbf944b0702ac3d15723f65a43547c5d9fa3e163bceffc680a91aece0aa3b1784ff50b441f98181ee22e31f0c770701ecbe6f60f447e065cb4dfd29733bd14b082cd1dcbdc6506f915621f026be39ec4dee92e12af1fb9c95412486e2e79137eee309cddcb3accecae41727b8363a852ac1770b8a56cbd023974ac8f18861bc02255b56c066a961905e49eb57cc275b2a6e6842c1083d92f665426df6b13dd05f5783a27880ff9d0bbe66a2c6a4f8e09699733601c02baf70ac3826e9ba897132dd6f41c8d4f4017eff2c8f049ff44670819cbf1057feff81f24a1dd3f3186da93c2483bdbdb1c759b7eff429bcdb2a7da8d47e03921a57bdb76bc9b24e9f4e5bcc9902d8f0c5e194701c0959ccf5faaa49d6e970d304aee25f32950c4a7650ced23e6b40c991aaa36fb28e4177667d832f0ead75e5c7c41e0bb7d97ee06933752860a8f6c9f2180143413598985653de4f246011a3a42de229a6601cf4fb54563ab923c3b8cbca5545284dd73a63da9840e4fdad59f8c1b6e14aad2635ce891cce6c08318dbfc467538384f8037032e1a4f2f0223bb88abec11bc838c42a091b98d13a22726725395128f29dbb9f0146b25314b11b9c7f19281d14193c6a9dc36c384925daab1a02c09329e23f6c3043e96af9cd0d517b80895f96e70b1974ea08ca8353dd79d5b59632e70d6868f0f8784d33c073623837aa147bd58d019130a0935823d31f03bb21ec4d4942054da058f7ca680520788d86d1ff96b3ab02438a9f71a3d01dd659cdd018f64eca6b69e1e7b590f8c42849b22613d153a2fc483fb655fbea14438b5ade969be70ae7cd31374055bcdb6ebef6ce8216be049ac3790cfe32f91892e81c2dea97c13e27adbfc8f0547075310f87eacbceb8bea9f96f159b51061b62fe5b0d2a4edda949ebb166a65638359a0398a7a529f618db8eb7915d5cfb8a19f90ffac0f3c5b8e641947cbc5a87ab410996c3f5097e3f18e3eb56d8d44c9c976accc3bd33ad4ab29db19be7ddd806c422a6e0e98174d4ebaee476734b0e9137400f6f4bf03d76ac03922ae6b75c2e6f637dc11c756400f3baae40073f43c737f89da53b12fc5de85571407144deb458c586d7484e59d6b4c31a26cfdb3c42e6253b41808a0252f632f47daddf939353804c0ecdd360d7b07be9ff8593a2a63249c9eabdf0b4ed96ec26939263238b15917926cd59b6c32b6cfc7d81abd9f4f1b45856e607979b208a71c9ecde9de305f301fd55fd331a4d3e4a9536135aae277c5d670758e345b89f9a4a229c7c3ffc2f1de39f53ad56b33d1db6dc9ced170a32b9476464f62c596ebf448be47bbe75c4510dd572ba644486728515728a3311814adf10fc64c32c0666ad88f3f9e20453d9dbf3f599a02aa3bc090e8c50c86f72a0070778677a3e4b5172ab7ba1d08765f80b933ee4ead58f71e9e3342d1f09f8828f609da43478a1b510c347dbe6c11f4bffa9bed5d53317b66066583f3b75b58d2ea59ee6e1ac435f921881abb1a55cd714901ce8598cd73b43a2f3adc7e6a762f718b000b15539c67139c5f67d7c4fc1681b9c745828fd54071e2a30309fc5b866c7b1a523cd0b0cf2cbef24ee556c1c88da715db499b12aa198a4b55867acee08d2fc46b9e1f8437918fc41d4a1957b0d01fc8a97859d9bfc114a956a4688fb7a1187bc0d95713bd5917674ca3e4b267eea7911124dd6fc57dbf7c73e5b84f1db9b25bbdf0a99a889465db9bdf4dea06cc4237fa3102004f55f5141ee4e616f9df3a9e96f67aaad4b7bbd627b0285fad0a3e08a1557631a900685f9998825ff00bf460dd4c4eca191c43c479c6277ce888062375551392fe5dc980c81315dcd1abe8526fee4e8af1c37a180f362b843555eb4a5b2b928fbc1e58c765210a2348e73a3d6a2bcb9de1cadb941412a7f48fdbe62926b06750323afc594a8fa8be99a75be3ee1df78fe3bb08c8cb6141ee48c26276222f3f0fbdb335588570268a3531dccfd3280b12f20a32145d27287259b0144c429f1a60b9b1f891046991133aacf1fb0c34472d1982420e20d7821ea4b0a061a043a9de81383a85ad05efc63f0c66909dff3d5b6e98191efe405d0f3c8437cf6f55f6093d568d8ebbd13817fd8b7d8a001eff8523f8a4c57daf734505971cec207f151bf1a4595211b3266b7a79c449db8de9a7a369c1dfb406faaf7e812c0b5edae204019a8b3d80f66b09fdbfc22d5c22f008a7b9e1140a1598476e7fa2e74fa80836acc4618005a4b0977658c4ff54fb643f24bf0b31216e4c7a82dd27796948bbcbb9e42d2870e770c2292486b8b06dd450f5139f3a84db975174953c77b1f19e9616a9b248ffd7a3b87cc6a78e20344fd117783857b1e63a4efebb83e79a4f78c7e2556ef177016008164c2c6b20760ab290776d541ba182fe7f74263bbb447674eb4a0cf6e43fc85f9a0ee2ef33fd551ba4694d7864d2e5c5b9f833b4aeb0eaf11b7881d233be0f8e9d485bb9a5d5825df658e99e833a66dcc1a9e71589b41cc3ced62a9ef1b5e502d45cca2a1ca97ac9f34c552d2e0adf2057d9d2dad32b93fd49210566093c846d61100b0e2a317c564494c6524edffc17909296f12eadbf10ae292ebbbb842a7bdacd5fcfc1f2879a8ac85d21c448c0517fd3c21fb7f5bbbe8f88d7c9a742dc20242df7363ffc0bcb7198834ea0f8747cf2016e478bf10a9f297e74c39741a22b7c450c19d97e356af79e20ad06c023eabf68c3f72c54e1ab5b03f0a358ec2d24f9b25a68d03454b9916c06ed96dc743074901d3ad5e7df0b4a8e8f55a12a863f24968841faa40f29921f9fc4468763c1b1c467698bf8e3a932044ee36dbf89b5ea3adcd4d829d554382f98afb01c5fd33f6bcc447fa3b47b9634f2a1cba7e51de0fa7a6f2d00c44e73e5429c531059a174e0a5b2809d11093d3d17451d04344bde3da189b343ff68fc5a42b7097ecdd09d50ad72f512323dbf957cafc71d5b7657fc8215cc34c98d9a3bf72a486990af5799c55fe4a53890aaf4846d4a9470db6015a5fc8bfbe59ffd7b673edf35e1b4829618ebd83a264c4d48b2076c74f8e5dff852b35584d2de8bc63993737dd5da03612e249e3988742803b8eb4babb64ae433afe077169eb57e27c8ff7e5ee496e3ebbf66abbf657fd6d703265c69f785175fb0c94a62a34e677646ffaeeb7afc20e8ee33c07a4226420eae10ed10a5fa3987bd4efb7227f61b8ddc36a619d0875b34cf3e8f71097896ecf11ddd7d1a23d46922367129aa0fcef29122a46a2a35d2c4dc3a6609348d886db7e495b58f5dbaaabddc0be71d29664c58b189e504f18c99762f8f34ad55db7b42db802da3864f9bdcf67696bb4a1cdcbb505fa3fe6b4449a6abb8ff5a385a6f6f3f4ad439521fc2919e20adf474bb25f3e41df94388dd1c390c729c7100c7a544031249f62e61b6d9df5efc5c536057594cf3f14120163e326393af77b3a72089d441d541c629d7b30aa86e453d92b80491d9302fccf6fd42fcd059a1ea198bb94ce89af4a17df0763ec0582eb92130b90cb8490a80aa91b371f0cbef0ead817afbcefb255dd840a","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"126a08e53e36b703cc95578979034e86"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
