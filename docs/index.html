<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1f6d6e65271042b118c20ee5589703e26b2be3114e33551fad6b8c732013b5f7275faad24b29e46dda5db42b82be553783763fe77086f6091f575fe96b74bab15c1d8adacbaafc5e34b3bf2167ba3ca261598d3114136b09d215ec0887b1ed2fe3e85f472ef63aebff7842416651a965c049a53f4c1be7d9231543bb7b612028aea44544407d2f02e62cd54c563729e95ee7a0ead14a8cef407301a2811358640320108ac41e189c8a407259cb99c62f7c717a0e87df5be5e9402bdf0c6a358c02ebc75b327597dbb0c8d234d00f8b23e7474239dbef91b1e3e5bbe4195d90bc9b2747904fcb3309e42972f39c65ca6d68f9ec060b670550fea58e91dbd8d0a2721e8526b9da60a0b43d46b1402862ba0152c590e3151b833bbf7ad0d032f992135a47c34dd7bfbaf58fdbc6cb90a3d77f3cadfc3b8350113e7900cc44a9686896280bfd55b01fb0f204a222dff081a0a04b57c38db945ec4798a6de92b6c7a2999fc6995ee7c9b980abe877f3a70e89f7aca66150385a5e602231dc5704774e278d8e37dc31d3ef2471c80af6467f8694f089184d7cec50dadc4b1bd4ede5d5ab6b8b14388a08381250cefbe16c1ca1223927c50c0ce9bfcc528e3a2ab23aff23cefe9622b99b23a4ff58605e2d4bd41272ce1f2ab91cd74d70b375259bcba35517f030ec777e6ec056f49153bb8a732b66f4cf3e6d89d73408d5e8146b2169ba171e4ef1ac526cbdcfcfdd06aac6bcef7d3668ead43052e7df5b75afa00df4e5feca0e5def28b1a2e51137ff3c0790ddb67ee8777ae343ff7080a32a5b1d69073644d7bf5aa254014e54c9447e865ea0e7e9189a23c58b65146eeb4ad91648b7e3e6bfd6617a007c59a0dba93553644bcb80c331fc6926b3b8e70cec13b20797e09b3007d6d8749b2987fd6906978c50b5f877add60dcf53011fc13d60bf64c1f0dda86faa5568fedb5237b917ef54460f8ba5b18259d66bccb939a77cbced7e1b4442a7367e1f0ab258451ff8e50600d88dc945db92d2146232ce4a09b69d842ae8889419da7d7c78efcc24a1d6d45bbda6ce02d6c26f8cc128eb4f207c7449ce5b0cee67b018cfcef491fa65be4b21db0ae3988d74327ea203d4bb4933570872fc2d994d4ef582da56be018606e58a3ba6530f90b60f12d83bc9b2354e336bafe72969f6436d7c829ea57fcecd87d35aea501a0ff16f931c188d326e82f32cea7edb137f743c366ad85d46c955c020f181dd4f7c2bf77a03a2fc40d9cdb12dc364d088a23db42c089bdfb1466cf4f522b802055946fab5f8f3509fb51bb8580c42fd04b23d29ff15f43bcde6cbbb6da93d151e48537410eda6c86596d2aba3722253fc72792b43a4139bb081b4d23f78f7a58a563e818ad0d2f85ae9c18f37f2fc737bf602ff47e91ba080d0deed1c016da687a023c208c6a24f950d41092ba31d00f45eac2a11b0f8727d2c50cf3adf0daf97cec38d14e2d54e850719c2483951ca0cdbf51e9ebdeb712de00c5cd79f107a53f04f9f9558f358d76233f0245b75142264e5d89ad52007f8ad2958b7ee69a255d2ef0a84ad768756ed9df2a16fa81874c4630e92e86bbefcf58b33596b8a2776d2dd850ae945c6ca7868047815c4ef21d371fadf35f3b791d7c907ad7dc618e378cb227f5a900bd4dfd5727c82cc7e45740eb6f1d61d6852ac71d87d3bce90c6a5adc7987a5a35dd1f669ee14860aca447e45657f67b9710282bbefbb005606cf444e9dc58551df026dfc3efab3a8516c2361183463d97d2e2c2a9433f7457f00d9e3dc6a5ab86145ee44609433c19f40cd1574032f225aae83522a6c065efc4bee1a11eff247328506e3685e4645ac957cee60c6646d8fb7ca95836bb7ebb4dd2ee2738e4c9a7e57d9515e16ee29165b6a39951d1c056ee76be76fe78b1ee8032afad325885d5f4f99f013c2b6d0d9b4028561751319f4f29bbe83b6a4995a12811f75569b1f7f72d63fda2c2ba1add5212563e2c7832e83dc5cd4bf74da8610f7fb6c48be0dedfb6e2d8593c5292a7515eed2e31e51b09bb51893680246cf6fdb9bf056fa11c596c4b3ec0de2bb6852c757658b7d4f2f468b6de9f9f48ecae8e9a0aebe196e635b2d202e127f5c80cd37d38ed872351d6cae05bb851b22ac091f380169de611618949c50f03a4e74df1956fa7493abd6437e1498e0321b98ac970b310f31d545f5ba174de2d962f4c1168de9977404343c146f20368b1f22d342e496cc3766b3ac45b26143aa384b98de03bc645ba62fd24269e2e4fe85221d78f150863b47e8e009883224f6fa0bacdf2b7a28a004bb3e60cda67015acf68afe0b0b25e7196ffd496df9698c6296e1d5a44dff09c8a0f024d2e30b01f47d77d5e718bda42bbc406ef6ad7ce0448e4d8504b739c6251bf6fc535b1772f6a6bf5fac5ab9454e4276ee82edd0ed567978a9dd462aa4fe1268f41673d958a0efdde19d81d6189b560bf16dc491851dc53e78e54fb520b5915c6a0f7edc2a3430d050e9e6bea4526c94c36dcaf65fe94ab415936a761c104ab1cdeceb506d1d164af5faa6b3ba91dcc9d4d4ec4ec2979609eb2c3c9b904f5cdf53e49bf9ff6b10566763a92ff47cade554a4b53d03fc1f63da60a284e62f75dd2a4677c198d0e1dccf41dd412603bc67352340bbf876a8b719f6421eedb32f6e1eb3a9a2f60d1dfe35fa1d69bf98b2bf94e2a7c5fa1085b276d8538c19289050cced85b172d39fb4b21a411ba1d0527a27d29aa00223b544ed7b0dfaf3e7a1e8691b608df58e7e8b67579dd736addcfc751c30783fe6e1214349b06f7457d8d49fda751e84f35da41a1707441efaaf0779263904638cf854aec74fe83969938e829bf20f72628d720404a5858fc95489d6abf40d07435b45c9f2a43b9ec9bde227577abc77ea1f7ecef5ea135b7691648dfeb2a29e418d2bf0b5b9c2ff1f67f2442f1bb36d09ce4efef3945e626fd8a2edc2d21bde155d521fc38c1d25f4e362498316e77af9ed5be65cca07e147a58d3b69af4e4564fa0aaa5fc2dde610f21f4bd5f4b980d8600ac682c39e264f3715596119883dbfa180fe620f950ce9ad2063e4585466a95a6561dee3fe3458e7ecd3eb5d8adf2e7a028668924266a267993f58b87d6a6d36e66ef7868adf17d3ee3f965eb83c51b2f43c69bf8b0940b48ede4262cb8f0b8a3873221135c10fd5fe446ac446b5599ab5339be3810d2b7c35a877b883eeec692567b08f787d8459a35fc318b5bac1dc5436c06dafdb8e61aba5c4a63cc98f51625e10970429c0a35c4077360cd6bdd5153235feb662b45b5c499e59ba738dd39885fbb5499f1822885a6dd6e12104aba4fc98227184d7e17878694485bb2114df786a1f89867f8880362f402b994f6a7a14ef9814a53c4dc08a3f069cd764b2fae0b5bb72cc5854cd499c8d68702f3e487112e290e51290572b4148a454cdb7045c592eb07206f007d2b49d9da00f5f08db5be376e3566b8996fd1ef2332c33aa9478a30304ed3adbbe16fad866e0589a9527ac9c1ef964594461ab38a846855d4294d494f7e3bba3314d0349d96e40d062a2fa0211c9168385be6985ebcd222dc36cd15927018a87cc179d5970ae4139aaad03735f1bbf53d7940968a7e9b00aad9b5ecd6297bb78177124164cbc53a15cd4d63624e5bbc28d33bd2cfb3bfdf852356ead600ae3b5b027ad24ac82098b7194157dabcb36b1dc64bff198c7e6254132c872e1e6453ad95dd77e38fd49e18f396bf749abddc3f8b53e5db20408229d8cacb8a8321cf793083066e3821d57598c5787db86e77610ac32802ed1d24b80639f9b19c2294d2f2be5d8e2bb7c4eb54fd3f05209a48885994dded6a65f8bd1d90ad4831375538e4e46534610c7edc270f437265fea2794d9ac589eb4b666b4cf97552aa82c5eb54a81b42fd90cde77e32f472f979f0a3b7053a2366fd85827ad05f705de9f994d765a4dc92e9c75703b6d53e1debeaa81d5a8781bcea9635d68e47935cfa6984d055d23e4401d7f068d5106b02f4ac3f758c5a8b4794e11734760e7acbfe5dbf88d79a0abd3f9885ffdec9cf90182a58338f0ba5c44e3103abd1baa7955ca1bb305ba837de7f8d0a52352780541c99827337fef64ebf3ec7ac6008d7953f3e98663b2b1cf62628b7e49a51ea487cd9edc95fd66ed9a14563bfc17e33b590df72ba15b91719c516b27dddb81c921d05d050b1197978acb1ecf7c696edad58d6cd31840c4ff06c60b29ea9d9d92a742418a015dc3050fb8f34173ff9788ff8176c52b1fd879354a0162b0bf7d57c7264573ea18b3854bc4dfeb05ca259601e1995295f16c680ae7e07e61bbadd6f2641bc85db0500c82a7d2101c43276d85f06c84f097c464828f7066e636d5cfbf49cf5328267ef318bd1ebdf2f3479fe152b514a8c4435770ce00e762cf2147c9585e9e034a2b7d385f1753c2d8330e5eebd7fcf47db702768e438c23a517d450b755aeed4c9af8e583a03f855c917c2a72c46ad1f32833fa78e77e10de49b6c5816eb4941a915d9f95f34c3b955b651ffc950a42e6f03811cd0c5a68ac28ab8be0957db3a03d6f4e16c85e2e865a6b4cbebb2211f788d90f91d39ba21ea32a92ff830fcdf65c0589c144b6567e08dfcbbd524f935a04c338104a052993aa0671310aec758f55ab72a8c9dc592dc04ead161d9b4b4785416bd655098baab99fe3a590d9bdebbe6195f11355dae2e3673bfded3f306c73df8bec1ec826bb409785a5890df3395abe6b20390edb9de82e239f976531138e36b05dcdc7296d067b7154cd37f40c2d600298e8b9d19701a4cc514558271e73557a5b6fac5b6eabe24958bde310d8f5b16ccec3bd1ebec1b402dcdc422a15da2c06c762bf95b991d99bbae3af5b20be9fd0300d1420b5cef3c522ccc428eb3dbd52d276d05da2570962bc91e0557d87ccce3e08be939d27458bf0fb4577b5098eabb48c6a4965319643103f5eec4951c72bff798e75be0571be613e2154b949606ee683130af8972eded735b95a221de6c8d10689e85c78f19c2884439bfcd5875e181d559e7bec88c275a50229c724424d5435bbc3776c1eb369ed4d96e40c92fc163aab4e7827f145aecae0948a92beb4a0840768fcacecbe74dfab651bd2ccf0974a79a064b391e15b853fc95498d8a1718f3250aa9449a5a0724b3ceaebc1f047da8bf73592a9775ad26417beeedc4b0f8debbc8eb33a2f8a00ca34f33d275474f1db6a83d0e76e896f80be361bcce0dadcad9c9631f0e364a82b55e39e5087a185e1ee97f77d5d4d3b4256c343465ee2bac10ead6c53be2bcb347b869570a1f0003ce3705f9619de1fd42a2da8628474f5ecde7c363c23fc7d6480e27315708950ded46ff58ec532d14d0dd0a8d14ce875e022ff6b5e7e4ce7386308175f676541a2deec97a4f0c245bb39797eba3a951702b3991da19fdd0da9ec21d90716fa31c6bd100e0ae6c0079840e8da763d727acb6de0859b8145aeb967731778d235d738cbfb48bb2a9cc8cf65d3f5829c9799df06912ba4b31ad5129502ee4d93c33ac972dca52cc5ea9db2ac97873ba4e412a9257d794aa4f4841fc7e0f49e8bf7d3fecb6c1f96e446617a6cdc08630595d6dbaaf2e267e8ccd01f2f988dc6da2adc708c67fae2e23007ae63fab459276ef329eb2a3f70210696b8ee0402656f081d11bd3bf5fdc99616349a6439f6fc79bb0a9cee56dfa51d5cbb5c8c3de449e48e75230fb9f938301796d3b46c48174120de91a141c3667717a3ee1e8e4c0347c0785610ee48ebdb94171b6cbabae6069032d14f9c35adab4a297538636d0d98dc04c2eb6f57027ae41ab1ea1fc2b9a38a42a577e9fda8e1173f42250dfcc82339da9ccaa8653789cfa46962a4d398af4baf6a64f9a27e3f03ab8d2f57af135dffb9d748731ab0408e60ac1a1bb78d1d7dfeab25689c76f1cfbe4d45ac2bd8e2588b7583212b15e9960d039c65fec70c652928ae9203107a919efd38ee27026241b6f672993c7b48d63aa8c93ca74c8e32656aebc919c39f8c4094eb284001dc25e2b2ca8bc5be2a261daed565c171256607177ae74b96862114a608c860e985a12ef0682fe63e66ee3064c2cee73ddfa985a469619dccca18458bd63f016b289934fce7ebd3cdbb5d7c2544770655b03a85d1df7f6076af53b5d847555d30ba2d84159b95575de212cad99ab9e3c39711d9d6d896e9ed3589c9003c019689aa018e8d10791031e858877f3c2e16a8a41d08085e754620e1c8f7c170f99e5eee4a795f3bcc610f344a7dcb08fc23f7c23ee0def57d6e64870867256ae288551f7c33323991c3afe1b03a19506d790ee1092ef36525298dc9ced70b9a5beaa6657622e7223280b340c78446946c8d19f89192d8267ab42145465dbc440f19611d8b0d203d84c4e01ff7fe77cc1b40fddd89ec8ccf70381f40e97ace2676f134f8e269b8543feae917f349e4911ce396cea21cb13b694b8470f234e63ed8631c6c1851c0c97db0cb70e9b86ad8bfe8924258705416618352ba7d76095fc05db0467df56c89b6b9d9743c7b650d57a272a49fbfb8372e324ee072ef8a68b47e0afa6d877416d8ad3a6d4e7260ace30d8fd9ab0543a7e4843096accd1c60a2972e67a769dbf0f8c92b1de51d4fc3ba2c417a7adbe50c652be8b72d61b7ae1f4ef5d35042e55742f3b8487b6c32b43d46797f477aec3f169e55b85e2e9f0e237746e179f1ad1fba87fe78a428ffeda0fd37d33ab5efe62b8b53001f20cc1e6de448e3947e8ae08462f89e9d4ecac6fc2dd580c38652d13cfb60688e7238f50f1229e79198b8ed5f42494734eeec5ecae41ae852521278f3fffd8e5bd095f7a4b61da3ee32496f9552870d42a5fe6a8c1d6fb474e44a0cde9a996de7eb8329421a5a7a1e1b45b49b856fbce51de360e11e9765d919f804dee2b34a5f75a1fbb805aa973099b737e57dd99b9890d05a1d631b6326d697fc6ffc3fa7848d7934226fe488b293c4abf94fd3f87e1db0932d1b874b4a375e0d21bf87cdcd33d9deea1eaa93b69b55beb6ec2c7d3c4e130084f462814b7d682572058226dfc1accbe95a4559c5ecc520d188423d88cbf7ad0ac32da50e6c20390902f7d256cf9be751dfa293d6b5892bf5c16213eafbbee73981552619fbb36c6aa4e5032178d2fce9895fd58dbd7d01e1be3ae3d687913e7dea812fcbbe7efa5580a4ae0752f520b44e2cdf204ac9f16919a553767ba35dc8c58adc74b3c054f8bdb168a99c1550dee70b025a0accd49657fc269db25a4f97c3e91c651c45c2d06a359c51675c4616b8f8acee0b7e2e36823e83971d3800a07d774c496f885383d89daa50bb5f4122c3bc38874684dac67acadf670d1e6a7b7c09c55c67bcad42d2a61e029addf8ddd58ece2b813c206d4a25b2912a948f6ef93858ac58a33b5f47339aefc6813ee0aef47281e2d4b14aeb103eb55eaed0860c42a50b20ec063e865678206407414dc01120fbaa7d778a31194182426d86f8da26d87f264c71510233eb873bf8395b93b39445e064faf3e69f4375e1d17f6075b45bbead3b9f984487bc83a6fe57c57cf2444069a892de109bafc02e5d5978bdbf97d9b362bf6c6c98c42115fe70df04a8a5ae4697ce74ec749ad76c0f369ca87bcc38aad90ab71a96c3e6ed73a1f09a241e10d0811c08a58eb34198c3b43e7179d6dd957f37ddb55fd62e11a95f0f745b57bea83a673aec36b1aa14c36ee183c9ce335851b660ced77cf720079f0f4d87524a8ae8f7bb1fdfecfd3459f8e2f89ec283dc54d711713a0cf2caf7be82f20bced43307f18cb480ab76971b7ca5566d66f8cea2eefad8439e3f154f244d6552606b4f492be7220f7cdf73f6fd2dd47541e5c597b1375391abbeda6ecfcec696c358a126150db6242a792f5f833412a8b5feed5bfa10a202620e04ee83e3d4316f642755cf3937186e8e370d600a162d437c092a5ced9196f83b3c2a206dada020558cdeb3f44dd699c8ff8695bf7ce1585ed0cda907d2f6e29560654d2454aa16521b10181ae0effacde4492ccc804a8c040a9c574d59f579692d3998ab28782e38e45a0b2ea2e34be8d145c40a11bca4b5f1eed93df654caa4394be0750ed0d2449303760075041ef4375bbc424c833837aaad3baab1410d26d8a1297f5b44847277920e85d4f6a7c5f586db16a91bb12644f1a0529767367b92c8129632c781e165ce4853cbccda3517d3e156973948a7211536165837acaac8c293e1159e34aef122013d7f65d7b6dd865df0781662a6e613293e40ee7182deabc4349ad6c9dbe5316b39e00d16976e550ce4c13a8e9962570cbd7ffbc4e3f8e0725dd5365a22d9ab10b24f123274d94cbeef51437259d95c4fb5b51ae7fdb7a85c9bbaa00b881b11788faeb61dadab90a56afc55003a24a9e9f868d7020018a91abb3a879026d207e1e1281f5b973ecbc8d52849fc2f08555e575c867bf44b9a5e90eb2fcb4f1871ef1f83dd9f2d7cfd6456e6f968cd8ee84acb1848e1829df49694ff9492c3da71205471f53e40806ec823574d53de7869448ce081edbe2d405d38571d9b183763e8299ad6652a935c1c183b8f5dcdd105424f12eb23d9652147d2454639db22651811121214963dd5b83a0ccacd5d6a837f9396215f0a5c68feb44bfae98e1c675949d714f8a916e983bb0be8bcb0659b773dc1960afc97d687102abef3f9aaca400b142fc12c0fa55028b6b552dd6277e4c768fb9ddb09da52ca27fcd151b5bf485a1924c4b3240fb4a7f7396d2c80dfe76696cabbb827b832bdf45a5f897832654d8476b9f21c8c5057083c30553f1e946a171782b813aa85bdfba78d3377882376d708686d4a42d47eab99d0c5227297f254e0069f0303f39e2331ca101f45ddc1d11435b58a9f8d8f7d29aba5c3f6455e61498f5a91ded4f08db94101f717fe5f17f268ae38fff3e73ce346917f6373a44bed6af8a537b92cd81eef762c19c5bd849692d08663df86c247a0f0c6d0e9673f97db1027b1bf9389b598a5c5076c6f962709492370b2a4e41e28f43f11deb8c5aaed61d16cca0533c48cd4416d4709c28c874cafe62feb1210b47d510ee81276476f9ccf5ce8583970b0508f9a1c3a378f7cc9cd9b71de8436edce4adc32ff10f01b5a81781b143196fa3018e6ba4a2ae458b74f867fe3b91d7c81f809f448c5b71e86686f40632429e15a925222fff94fa6ab3b80991658fcfc1810e9fcb6da7a71033efaab8ac6d043a1fb99da9f26164e03e6e24e4725bc9e7734f0eff5f10ad268935319ca767e03d6475857db09d1aac07955627fce4e702cb8e5f9afed6701dc2a690444bb029a6626a9e041bd772a3fe8b96bdf4ab7040e8d26037b1da06c49469be8a3eb63c58d77641f49acb8c8f39f8ade0dc8ce39fa7990ac7e3282012e0867c99004a076b7b5b51a9a1ea5a3e977b705aa87b25cdf3f17ba9efa044908846311c7a3fdb17326936ed8fc5bfa012657881073a12cc82e3d83c4202060b7760f3cf2de7aa34767854b559dd8de6564a2551488e53f541c03d56252e37ad7f07bd519859efff68bb28470e3f617ddfc4bdbd944130f56946c67e10671711c2bd36692f1e5b4806f1235087d5efeae0c3201c48c8381c353ed28b0e17118659095ba6bec8931794d3763bf17bcb8c35922e64409ccfd68892adc228b2049bfd38db01b2a7efa8b01f3a8f5cfdac08d6936fcd6c7bc4ac57b8eff275bb45577dc2c1c420d73112efef83f4055d53df9da61d8943d498e4a52164219d3534686006cf497b5e89222cd2ac3b5bff19500bcc92225794c596ea0a88e29ac945a9e0f3a66eeb907dc3310cb843a592287897c1ed9d8114660bcdaffd423d740bed6ba5e304fbd00ddf643887c49c70b8f8417de5b8efc1cc6bd9d157f31db2832793e5cd7faaf344da3083cf4cbc50e512267508e4a0a098fe909d2831ca97751b4c5f3a5f4a1527f07edcadfc4f5b10a1df14a767caa1abe94dfa446284092e4475314f7ff1426870c0a878b3fbed33ac9e9a16f7c6d095f1836185738a82421ac23bc4cb5afdf795a4217a6388d0778b85b3b4f3be5a4c0bb849ad66226ba77bfda4fd3d770232ca18cf5831fc22c545206b2992f0b4d4965c906f0ad8bba23f124ff677f337efa45fb14e46d2613d943e72c78a54406283f3259fee87e12a537fc8f9511158cb6194e3281fea114ba13b1c21cc96c1b50661ceab47359f4802ea237fb99d027e03099d8ac57e43a56af3433df1c6a49a4882c8db554d4db48f285ffe466b9f3262bda16d02ce0df0089a33d5065bce4a4058ba188035deb19b2b515b349e6167aa1e24d7672bf1d01feae06c01dd39bba373af996ceca3117fd9a72795c1ca0a9e0bddb75eee4a07fcd6127c3b97e92cf08f0f5a3ea10d12c0dd981ef20a0f48037d68528851b08b93b3496be5f618b767748fb9f48d22b37e7d5c90dde3cc36336ae753eb587e86ccd7bd1cb5573e2db5e71b1a80792e9f807c6b559567b95c1e510833f4082c530597e6bd4b04fa3b5e2035d4ec85323d2bf58738a096971b467ff4afa0b89fb389a1bc06f0bc041b18fafa84e2120baed95ae41280932ae5a6ab6f4bec52a4f3199c8f40754a899a274cfd25b38738f1513508f9e5c5267e9a58f1bfecc64109e89072af99bafb0af2c91fea00a727caaf9f6d878bb6d586cec535a663d5a93a8c4c15bb188eb0e18de1b168be7e67e8855e33bcae8e467b28a68497548082a7ceb4080d68fb92e546144d59c71d50ae0df12972c2791c07c30da2fe9fd084be2a3ae264b3c5049f7a9e437d2e1470869730ece8932d2c858b35c96f45ea41ce0b43cfc691c3173c8d54b37198de103afd6880984b7e318daf41f12c408ddddc8ddd0f1c5db67e0a388b3275e7cecea153dac2eec792c4de10165eadd1ebbf85ecf9d978d7bba90eb46a79e08a0e21e1b6d7b504747065e3c3369cffd1d0af1766a2b1c7a4368ab987ffe368b2457f3a43c2724272846e7160fc60a89f279a58e6f77ed189bdff6bac6b54c66aa37e6836b3e125743d0d6e3577e206d018f7e0d8d10906cd428501a69507633f00878bbf1bfdd095c88444178ace8c73436ba603891856943a8d16d812e1fa885c5177743f2c8fe0a31e1af253beba094607b2ff654a568dbb061ad0fb37ac01d7aa3148b9c1e28f30d45143dc3446993dde55f80d514c4c9766481b8ae4f29aa1875d2e3d359dde637868ac8b430c8a7fa3eadf86dc1fa5f8b0c879d38eade23af7fce0089fb5fce87060cb0d901c97faf93e9bede28a92dc0e6d85348d4f717f2f5c00a69f1724f380f67f7929ebfbc99a1af020fb014aef9dd3f783ef138b79bb09f5c95c03e9f3c3f6f8b39d76902b9a96c910a6348175e766f0df2345ca7cc05675a0056ce78296bb03317e4743130b16591308d180bd50ac44125a070ccec44f1e1f60b1b1e7203bdffd8558329ee331abb94644975cad1d8d4be4138eab02901eaaf7ed5d84e526c9775797027ff52f882c77eae2a03da79be6b1142548e76a5d012b5399eb642e20367f48d0967b3234b0c684035fab8810e763b2180920896b49d973576f9211869f4af4c4b97eceb2b8d00b81f414e3e10790246309c064c9be801bae90707f26973f4545d9e85b8e66eeb1b36f3ab40ce5a24798592a00d0f7884e803a36e543eb457159b2a7bb10436f64602cb20776170fdc421ae20c6ac988cceaf7c506b0a8b0c41698f04aa022a4bf36023b0b4ff3771738bf32f7400726b6fe639236b274429f283de9ac19ff6fe6745f3f520cfff686be1ca77df18d6552fcf1e7aa047805482fe318f2dfb9b0a7fc79d25758657e6dd0a17bac5a17634f787a124ac92048339872427979b4e9fd604882c504f6a1602542beb9ca5c255a4030f2c49dd692c310f1d67f416f0dffd22c2ab0e1eb47a9fefb140a40bfe12c976a5e55319bd81d55f6825af4fd170dc59c79aff950ca0892f1d9c2481f4c8768ce7b4e487ab82c028ff8729388fdbb5af44fb2dda195da0e904f3ac95252321a9a883dc52040bb279fb496aba83aea64cadea64a832fbfa52c92c83e48fb1a8808d406da1b204d59f0b6302ec303f9a9d09d42222c36dd3b1f1be9b92af308e27782e2f07a32d93f5bef6bdf2803702115955b1e6d241777cf94f89cefd6983a55ff2d9d3f27d0889889d73fe8085e1ca0adabc7850b52ec8b15bcb95545e8954a8e3d9209be51078bef7f28f4e177d61549c52b083f0b8d1c3d2d68a0b238b4406dcba6df61d8bbf3435b14af77962c09984fb8382ee9f41324dec2f93daddf0ff21934706aec61efe204ef9708fb55738c2f2a3ff025c82de34a910a76d2449674bbeeadb93e27d3e884548f678b10cfaffae8a2a0b36dc9469c2253bfe2b5d25ddb6a9071e6bc86d4a7c660e3b778b5723ff7afb4ce2794224a7e49b29aa88b9a8b43959e5dd2beeb739dfd9dfa7fd53d58633e58b4220b6698892bd55798d7e4f07c042e3b1d92ab78a7806cd23e441822d6956237b509e2d9b44486e1f2c678ae70b8445a86cc44bb1b2cab07f6b7ee1c9b5a75e333fdfa3f52bb137d1ef7ffa16b2774cb06439be55a50e303442a5af70a453f0d606bd7c968f4da703f96be77e019f96d386f4e37a7dc2a16c5bc99747a3557d047afcc39836df4d0f1663e2acb73a22eab55fe3f6adec09611ba0fd226c9cff17d5c02db5a1e74e77a947e33ceae05a914a689d16d19afec73438c6a9d7a8a07c5dbb3916ef45fdf2ec710b0b8d15ced247919582e0e32e6ea65fb039588b251969f95f29e948e32aaa1065cf33ac6e2f76756469d20f057538cdc192197e2c0f004c4b5f1c8f9322c26a8357d5729e34135ae6449a8a82da07788cdced385cb53acc3cbdceb598d41372a49bb0b925cb3119fc519e9fa5ca623c193e9495fcaed89bd7213243f10381c5ce5f73ec359126868e1123ba793ccc5a82e3751a9865530f280454fe5dee77c3fadde871b2558c7e340c999f467e1f09af1cdab83936e0486d1888955e3b9b984ef401cc599b1d0706e489541b27822618823064c1286d3950295b9367ad51df1e641370c5e5c6451036521ad0a9692b6bcc3d77fd3a112695824252d002e85df0eb0f6d14d69a98c5d4e78f745e38b5dd8fb3ae7ee78a82944580ae1dddf856db0384c2c123f41f70f0683a25baa4a4abebdd07c8d338649a0ca30fb2ee87bedc6e620fe2544eb4c51a13deb9d1231bb048c5dcae8b7f9fa97596cb23f9f62e417ebeffecd1da0489351b34fac388efe6e163be188d1a0800c0122ee38a8a1c5308e53cc7d108dc050d7a3198ebf0ab7e14963d187f18bc5164d5c3ce75c77a0b510c12779964338f5277ff762fa6a7663036efb7accb14d597c154cdda87d2403abea5c0049887ae139706991f09ff61637877936e3ed2785c95c0230e6ba5c34324e0c3018994885a497145d9a786934b08fe464e1f731c1cd5da0f1367d44a973db2230f2f183bfc40c6048346c5c7fefb795bbae89ef11dcc87e9b5ea825a8ad76418169d872f3a5d5a3d83472041c5360b313a75d0c25b15a14a35548bc84e307cd2ffa1ad2be444f22b470f7d70e774d36740c2179766e0b8a49d37fd209d348fbc2089df15636077a8c431bba12b25b7a7a90b092aea5d9d8964fad15cd6889effa11bc07e75c44d10392684b95362d26b68c78ee79e8f4c0bfe77a06575f7c1752e47365f67314a9ca3190c2038cf1839cac5924b0ca7a92e1e2948868361d8579b347ff68a641acaf146eb6d52bbb55108a90049f0863cb6b9328b37449a838dadd0d57aee60a2da1a59982caa24b2ebb4de95563e59a9033ee417cad4ea78db6d43a9705c2c14852f25e2f38b7df8965932fd940970791a3ddd79042d9a6eca6e703cf0bdd5528266110db89ce61e01732128873a69b2755712d1324b6c233da98630ae4a6e3fca57bd00372d4c7405356a1e824dd4fac23c61da4564a4cc1c6da9b82ea87d2365e6d6d0fcf5454fd7123dfa61fcd224b8096411545fa23662df7634857137376a628d204007e5b538cab6bada1e474ea37a988889f44038c86331c5dc8f084470a6c1ec98aedfd57863b486938fdeff31d713fd00191bb7f98c7f51dc9b73d5573239c42fed426b7a5858ef3f4b36e9673be3165ab8f9841648da4adc5ded41544a42752bc74202827efe7f89dd794e888e3f88cda96ec2d983d18676961c25f143859063a68f04868b76a31edea7a37409f0049fd125d6e4ac8b3b6a229aa966bf22d49934296d2aac7dd6cf72e3b353019ae62bac21ceaa696325e12e8d62e1bc8b828560e25676b7f5ac68faf05918415b0bc362a546c840fc82405ff13c0d281049bb4ca89d963cb244fd0a9afabf0a901484ab3deb27b7f2090bfe265c02f76ef5b61b2185917c3772dbe0b1689d975e9bfa82b19f2353e05cf171db27b4e9fc5796b1db01c31c369a917897921fd595e2911defae660b3cff943692356a80fddcef6c482b3daefc0636fd563e0710905d0bca44c85c3ccee4afdce0636a2caf9c89da24b895835f179e500b5464206d25698d736221dc3aa9a178873413e8771f998f27618cd9d1e8c1be987555d30da05229098091df110ce4c544cfaf80c169db280eccdcbe198c353b7fd688b7805d53bf0f8e3c979dfd5119385a72a104f8ddd024f9e5b1e5d9c4a4a3b6a5cd36b85855d406753e2c3dd2e8267134288b9b159133b601f465ed5432b0a5874e64f2e3936c681bdae563977354ee149d82a6da784db9473e54e20c9a217b53a0f48f7f4809007975ad6db55261c71f01c17982c0e9d0b74f66adfcfab792d1ae31ea0123fd3b429cb55be4910f56b35e05b0b4169aa7b617b87e2636c667f4ceef7f74384c1d5a1b1b95253ab3f5e00e627eb66aecc87ae47ce2724fc93377bef35a50e11d22bf2bc9db826206ed0db492e68419f3030e657aced8b363773824007b3b3b71444256d2b23f61386b53b9d6ea417430632879389eca0df1447e6aa288962c4a649f9aa116782f0585851448edcae4002c9a8090d94d4c7eb2e31712885697668f450bfde299862556ddde5193993abd03f18a6e599ab8a59d3a67981c40a322aeaf1150672f373cd095a0195ab4d995ade8c5856e033a03eb3b83e193a6688b5a7788e41cb79c798af5eb7b0319786ec9a5a478eaa6ca91597fae1fb97184c22ea9d01aaeb85c4c3e54059fd6eebec8ce9c21dd7d93124be903e3a9caf463882df9f35e4ad1d5d2f530bbf865547dbbb9afd502ed62d7b70d8c6f2ffc3470a6a5c00fd6c2ccc6641223289d13c9bbbd832bf30d5ad9081f1fe8d3be1788e505021252d4cd14f2decd3409da470fbc7e53516bcf87a9f5cef4dd5fe95787ba95153d38f142c4ddebd8dfdaa20d6a794f23f46d05702fb702e764e369ce3ffb5053693f67d3f63f28f0cb8205b64cbefe54a67504355ae82d34433ca982db65f16c061406fa99bf63f01c291fc275a1f01b8f28b2c27d822ae4190dbbf59b93a44e8ee686567c3f0227d198ea7fcb6f87a61d2c5c8071a1323f3667cfee0188c4d1b550513ea1a366dfc4b3c3dcd2400cac48698830c80c04cba295f4949ff3da17f857d4ab6d48d0eda7af43a4fb6db34a429efb83f8a959915fd7a3619d6f25297acc28bcfe87101d7c9de8c362bd4a2973ada8ec47103112c2214d1fcbc751c62a78c484de46e0513483dea96f3580269b3760b83e385e6088898edc18a4ca0871676b7dca92080ee9a530115f76a3c7b911f39f25939e723010dc11170c8859469d38036c9bb809188d9a298079a947c1eaf52b6bb737e7bbc34c6d813265866e07019a510d343187cfe63b3116ec1d5b7c5b559c199c826351bf7d2ab7b82e6f13c0646d143e35b580b1ceaee34b8810c4f0489ef088e090a16e7065f9f9d7f5a2837235bb3c3fcbf4bda599c6857ce5b862085dc467ec26f7c90d5c42b0776a3f55056e841d9f1046066a65fe77fd7166f0db3ce969828b13bf1af5e6f7b94b22da3c3de4d9913a128c7b579156582a93729488a5efe9de9ca5504b867f63d0c93e3a9c778b6bbf27965960df4a084fc24ea6129f89b653c4d65b4b6f33f75647ad392100a160f7c37fe5dad568379faf0fcb7c99ff15993ee3fc26ec1974b47f7e7e159d220a766f7ec55208834702ff49b2a69abf4545fdb974a88602a8c60996fc2f53831e728a117edcc2fd70f9aac4da1fd88aca36625f9ca9301c6aaa2adb23ec75b75ddc351b70f8db9c13105fb0f61dd0af99756b9702518befaf45c46ad4fd5262511d16386492add95d47355113ff05ab39ffdfe7cf4385e45fbb2f74f2ec54bc9c5f5f362cc81b645cac41ca5bca38e9ec68ca660a8c54738fc995096b8044e93258d8d592c7bd0a2f4714a1ff4b1679fd236926b9ed8a8fa5bc3a881996119399a2a5ee7e08ee011dc8ef6e759c40cbccaebb9a489a0a1bf6d205795da9ab88c6d071ab4c90bad90e44b67d35b699d0893e1e9cf80365a5d8f1e8e71bf17ff616110624171afe972c353a95e91c98cabf606bedf1f244ff25b6363aec1a55139981823ac4406650b6cef434699c15f8eb517eb7fca47bba5a8f051d1037e92679feae6bc0ea924f3c762c825e829a33c6dd8a5d7b56f55aba1bfab3adf219f32a0282a84bc57d4524c9d0fb205771f87f119e5276ed4c46f98db5e5ea8ff35b08354046580bcbb6db7f67de4aca7d709f4810e0e1aeb4f55348b9af09ac8ff148af9d0bf6301020f1f69e53e4d248d2a4d7b3ae04ecb89c998c303c2c0f03345dc90a3a0a2eabd80fc3fc092ef34240c4c7cf0a1deaa1c7b8f71b0af8ca0a80d60f0b56dca8f1d3923710a447e42cc3a95afeefdc477e861200395416b6fc0cfdf6102267008a4e1941403bcc59972ec77d7a22812a79d2f91e8b980e9b4ad39d90b3c54c72be906d36c15cd519c4927f953906dae4bc4500fd82de07dc3217972b963244ca1312ef6ae117cfe7a04eec9f6bd010cd11e24e7e9b19af14306055eaceafbc123cbc011703dee0eadb7f60ed726800850ae220fea57dabe197eac891e9a69536d863935057c1c95da5dd00aeb533d2ea2123a8ade87b8476d8fb6bfc8a4b6610bb65f07eeaee470dce324081ce6e5713ec5d309141bc7caf2525fa0548bbd75d0d5e7bc07b569d61e4f676ff3d6d101a16ac31a605ab208f734347f8ee2639d693fb327a49affa37178ad8a91251363e0efae2d45c7567fdca3ab5adb64812717d80123afb11fe0913f4062f033aa998a8be7d5fb1b9e726f0f10c8e58a4e7346b86b15b59114b4d309f832f9952a27938660028cb3a08fadcf8efab59ad20e7251310a70516443a998551f75ce381202afab9e061e632bd8893ba579cb239d71649ef38cf15205df7136e9e005d97f120aea932f2f18acab726f5f3224d8b8f84354309accf54f3ff9dbe27454558745b60fb6c6d61a1c407b7cdc252912fbdc34a4a34167c3593533a3a31c85b30de61304632118fc3d80a22470986e8d90e1cf23017f9a08f65f84663e2bd860fc4a300bc815acadbb01ffb3cde5463142455b5d6cb1ce5fb449240fae083eff62ababcbd0966e8cf0eb2cfda90cb6f994d09dfca7ba41c4d365426b1716d6da3af7d94b79190ffb0feb882b8e68325198a7122359bc11d285df0e5354d6bbe6fed700cc53199e9418a39653948de29defb0b558c3bccc7516d038c280516e4ec0a9c9b97f00d6d1905f86aff0284b069676910efbe55895a97f59e781259e4cb8d62bd2b24ee19d4cb0ae103de6dac32a439d396ae87c3b0127a0f565da44a65524b94b208bc0270058592920a793bd0ebe77a862d255cec4fe5864ab29c3918f664635b8c7786c26c26b7ca62ba96362aec739a02498c58f3daad287fb1f59bda7a588d65ed60512df5a8170fd8243cc622e6f994b853570f7b2bdf4c22e47a965bd0e9b39cf7d2932368979ab56c56d30f811e5ccc6b21cb3b6caa4d4ffcb3762f4c74d8fb70229c67c2ff0f7040857588ec303af3cfaf18c3d20d1e5ceb011c9945398ea19c909db617b5b1b1f89da9679d950b5edfa02032827de4e2fa505500659d64bbbe6d6f29457954e3b499722ceb414c0146fa4a6f7f0c9080b9580ec3be207b6936ca04c10d3c90b4dd41935c1763b03a83cf9c3d82ee45082e6163854f79332d1ac3093796325ba8071b2595ef6cbb6447919e99c8fb6d1a852e2b60e836789e0882ec90beef83accd37804f19df3981d7eaed65903531ecfcbb5149cf5d7263f8586bf06f5eccdf55474b213c5af49c6951678ca3ed66e7bbd48de29d83723d01ada5de1ec600718fdeccffc93d514ad9576c8d4a38fc0e898dc21500f753b43ab030f52f6b682f79bdf18f394984d6d5215e18b1157567a7e3ba25763ca4bb8880dd2700de81893d2a89dce5f22ff01eb78d2c041083cf5d943a56817a1ac11e69ebc5bce6b3efc8c87d0443e442a24bc2a5a4b59d7d55b16063ad5224aa6a4d7308404aee827aea45b4fdc416998f2da00b4735a2a51ef52a67f6db31cfff4b8a0dc5aaa2d9c0bfaa4b48e32b4a6cc1d2ddb907069062267ce39dc538cc05d586fad589b474181747eb387bd896a4e11665fe47c30ff1368daf4a0a05ad554de804d6622080537b3e2f0e6736465af468f6b883236c2e8518014c6e596a7dd60f606f5d5b418219e468f08687eb86b50e00a1867a016d8e12108dfc28ad250742b43e918b033ef470db1fb0627c48102112ea4aec679bb48b7c5fdd31d3fdf94920da1ed94a6e0679719f0f34f4bd243b6c04603266bf1bd111674f43792979f6df373449051d2057df048d27e4ffe4e8dfa1ee6f75ef529a07bfcf5718553b520b852d8e9ec25338721aa607732243cf236a8b150e26036848b469c868dce774d9784b8d836207c519b412b7282eca7f6255fbd63efde903bbee38ca5e9e6ce05f2e424d59d0d5ed644342777a29b40a17cbfc23fab97f4a1c8dc9ffbcb33256ee5d8a6f63f9d3a7645a01b733e64a29169cabed18b01c5d1779f6a42b0ba94d71161e6fbdb9194e1914c657dcb888b313c8b89a121d5350060d56f6c388c645401422ee43e1314317bb21a68f9d3615dc72771b30fb596088bb3ed55964be3098aefd92186fbae9ad55fc53eaa2f39c332324d6ec0fc61406452fa0d24710856b87b7fa569cd54e3698e980ea7a14ca19cbfdfb470ac967c23bb3e6c5913391f704b95478b8860b5a380b391cc4a49dd0d2d02e21092f205cbe1cb9155beec96876421f4e2a41eed22df7aaefbcb948ab24a99ee79e5d697078e9b42fcc33e8b4a91ef911519010bcbc5bfc00665f54a96bc47e992a5e20b9ef138797a32e2961e852c8456943da34b99a96c85f9bb69a1e6ac2065c9ea231bed691947b70b78f0b46fe276fe4f0faa2bc945f7035d494f40bee009dbfe53bd6cb66a9efa44c5f165c274cce79366df0802b423359b27dad2ccf769f355b18eec8e5f838f4590eb468764632282391c252493d1d225773ffd2ce1c1ced205ea1b7f02811f013900b7cca7d15a6b49a87569aa27981c41d417487c6a37b8b3f7cf19b35c367cd080e42b28b442186eba2e1925ac98d079224323842ca6dcc5f94195e644de67307b1ab04259b3eec100601e0b5758ff01b28b14af338c4c921dd89bf81fd67a729f6574d8b459d81f2c4b9945345a379eddf28fee15c5d8168aee4af2f2626dd8ad2e0596c49676d44a2c0e1a3fda2db9dd949885249de337b47aad7836e428c010191fc80d416129b548b57b038f156f9b03c1a06e2ada9b6d1c44c6d9dba04a70806ee639dec3cee69a486e99a30532a9baaa057c1a578960d5ff7586028c80f39cbbb1891b573f61c18479baa6a1225be6f7487c84dc664bc50709615450a6e9605c833b10223409108dc0b46030971769615cb5bd983ae8ce7bfc58ded508a96f41d45c5f2b193be19b8d92da05215cefeb53504b9f83eff9278e039d46afc2288270b5bbf227f02eea4e7eacb2f9713f7ed0d59b7612cd1dda486658b914616cf43adc408cda5adc16de09d08d46a0c39d2580d61755e5d0536a44892f49615eaa1f7a","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5772c6c6da40bb47a5b1786c06afb5ed"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
