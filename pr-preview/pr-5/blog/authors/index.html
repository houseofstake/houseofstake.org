<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8fb1716f2f4917dcb810c263688c77e6c8ae00d33f4e799963c2af0ffdf3e577a4562af55e267d680013623d1704bb16ebfb10d91c26ea8926869e0a9629836266519726a9d77013d0a9e50be6cffe1e177f0b29d0743b38b4175fa476af1b8c07df22e5088bb5c9125c2b932a2825540ded9c3d775c5c6d66c881f9f34086d2063ed1f87347bab9a05a328fdc50ac39db2a8920f8eee95b058167c7e35fb383ef8a236db6d7fbd21831862dad27c96099ef9ff978b671f75a5ebc314527b267ffb9efb6ad9eddcdcaf11efbc1936df49a3d604299c0f2f4701b6931ad0a17d3e7363fea8cabefbccab37112349c9d163df5445e49f497e4a30fb81092387077f9e46eacfd0ab06b210c21e11145c47e75f03381fe834c37576be269f865e0ecbd0ccfa67973738ce5e8d404a323e6fa94b7f0c7300f680473716912fb12c4244f5a73b315655c582452ecf5510d5ee3966995c89c8bc6065f1a55cd2c214c10f9f3381d662eb893ba17169761d0f9b465243713c26d10af201162e901952ebb4eab2f754b24a452c0fcb0a373424d32e48e29938e192bb03e4cc192c978a67f6b5f5df03d9a2697be4426ade3421694adbc09de7071bef0671f3dbbc6be96f794e090d3c739b75cb2708815c46e7d85b61b288f1978c975744e07b106cb6a7651bac1ddfe18ea476e8fec613dd9f350fc8ec8ee0380eea15eb6da38b73a67915795c4c7996c43f34c7f1e5cdc3f0373009bbaa3c7bca249e557dd20c232905260fb11db63c5daade558f55a608a9c7cc1278dde79c35377e6f9c59da5eb6e3eef7f612b2fdc4f50a430be499d2236093e67520d815109fdc5fa1a4ec1e98f6ce95be38f971145610538b888b74cb3e043a6d4138c270b3b9de83904419f45a5a1aadb36b1b0785873b1ccfd4f0f4d2116093180deb12d6471365684b21c1a90b1a55b91b5504eccfbe5b2effcb74e736abcf5f1bb149be601817804dd1bfa84466c125041aa064e23ff70ffbc6ebebd06be595a05aae330f95c7a37b130e132d103bc54a146a3db96c4987ef3485ea8f600353c0dcfa69e03c9c9d36e982438fb511875b9fadeddcbe679a92110d9555e07ebd6eb0833584ce45c972806c24853a04d60a4ce69aeb264b620c572bc842b1b4edb99e0494ea10abe65ca8e83a104c5bc4fc0536f488b717feede27f1ba92f06efcb924b0b3e9ec148c8fc79940b96711da06c5eac12490d6bf427e02847e80501da7a25176721acffcfb08a3558f7cb41ce30fd138da7f4e19e549d6aec7224e6bf7dce60eab2b6a984a0a1ab0df4ebdcd8d5c8d59b44bd0cf98b5d1369ea2bbc490af358a81d27a4ceb03f0c25ec2aec712dbc4de5a76766e93bbee5982de21df86217e8e3aacc543520aa0cc48b625cee00705bd440228c67c76ef3b3bd2eb7f1a73a649011871b0a2091c3ea402239f9c690e457d5d7b096535722cb3d64d7567b32647c7c24d59a258023c692e6e2aa1c3d998fd5f387d972b5058501d4f2740399c8a6d26fefecec5b40b8aaf30f17f2d5506555443c134f22e3c4f99104d01fa50285490299c102014e17f3a723ca0e75db143d1dc6d4f86b283ba62592b8147b4a6b1db75e2c0d87c976f67829f616cf3dc418403b86fa81edb5d785c6a7cbbc3bbeb7e8e05d474f7c62d36702819ed5041ea65d6ed4caab81692bc688610cb7f1266fa4b3880c4df54511679003219e3dec1e4c41893dd77644dec5587ee04305ff8fa7dcf3dffe2226d1bb1eeebd6e5d22b3f02cd392f500c8a5a2adab71b70d618aa27d4f5888e8d1a6376af984a53bc1923438837dc58ec56ce651a41365788b9bf969c514c22a2148df57dd3c3cbd8d8a377ff03f4db5bfe6319517c5181dab7e458777bfa74e38c33a397a79959b275887660871e09ad01fe0b62c182913dcaf7bf51a61eeaef1f3bd38d228fd26a87dcd7d0fcb07f41aa1d80e675b9d99b9ab94d5701642487b012c763d08d04880084169fbc3c1d5a70a60df9ac095ae3cb0cce1cebc3a6cdc3218bbf982e66e2d6baf06de2b325057da73be652112af937b48591275e36b55809b9038dd825965d149bf263832c5a59e44cdd2bfa7b8e0d05130f58dfcc5d126642bcdb36a89e538bf4ea2ff0de2cbfd3db136599dd49d38166b6ab04eca14b3abdbc797c87a3e50bcaec6e1c2dd73c3563574baf9f7b7cebf819788eb888491689451cb38e3b5a92df7ac6cb0331aae6cd628609392eb70d5975f04cebc99da117f42ab168b2df0a56c4188bb5a7c836c9209a2e816caeb231b679c7a58799343c5acfa93dfc3644d5e19eaab02568e005174937637a6b1e3e150d9c6faff25ef6d3daeb04ec0772b5e69e00115b426d736e0d109a561564e70e24d1b8ec78959369f59908428939dd8337f78de4e8b6358ede3b66951b409b55e5fc0b09d9bae35ee183d0516646797fe25f261c9673ca8bffb141e45e49aabc47e499415c63881175c444a240fb29423e6533c985c74c5a5ab4c57f681669170d91b8e977b0a95c3dbf6e6ec9f27d9f76714cfb91781661093de328ffa72d1a9de5eff233945769b39ce142d6860cf69a183554612b29e7c7d799e449e709ba4cb38e7908e4da6b977caa57d88e4a118e31dc7a0807e4d7151376d375444eb01011e3756a70c649d596de9b990a3a6afa53be8630ff3cb9143f12d7700105f5d0f6a778aa86a6420bf83133ea145e233285b9dc67c41a4e1568c61140c2609a2d1b9788198df498cbea994ce56b2246e83d4a5011948fb228e563d341d7fdae5ef484c8c6ef356136eefd7ea497f2d478b160b1950cf5e3f9f4b3cc576c622ad642da50ef18f93712d48a3deee46ded2c302a0162b517ff3f176b185adedca8d9eb2baad53c69b4442b5dbca916129818004785f3ff4f605f457c2c08b44cec38fcb87b3377e44aa2fc21afbe57cc57e79c55f6276e1809f3a05d2bb33912d779c536b395ab37eb10fcc11216de124446e65d665c80fd07c6efde6e3011b2cf6b2c361b55e1f176deb1507c70fbb219ed8cfe883264c138473061b8e6cecde9f7fd2081f4a50e6e7b1c606d109c88688d6dc3b99522ca258842160a85647b9fb6e757c25d10af3c7d7a2031aa37a31eb11beeed9bbfeb440e42e14d3200a1ea88df6a85106fd53841961e85fc2ea8c1b418dde9c8237fbe3c5cf5fbca2a7ac68deb6e39981773e172c604b0bc2d3f65958140d4300f2a43684f0421bca8b32effa602cd8b5c69266e4c02996bccb373e0a54108b1d1a0e5554d133ebafc7eee093f39e71f8dda16520609c65c2918a7da9e1971f6dc356cd2e262bea3413f953eeb923f61eed656b25362ee2e1ee5e43246c6b79d1dcc2ebfad573acbf0d413241495bbf7d0661bfcc00623aa3498f359608c36704760cd8d3ded43d93d1e3042ec500dcfee76a56c631e041e8cbb7f720e814735fa0b535f46d79787b146c2f9737c04ea9e9ea2cc80afd36e18d00180ac33ff96ffc2fa1ee9a74b6f4dd95a276a60fe38634215b34b5f80cba98b7bb386a4744126967557c683f355db7e6ec10e4c9a3ff0486e62b5c6ddb0dfc61bbbd790498af877697b65bf73d703eb6926878d449eb2416dadf4d2f739b093c55dd390913ba0d7f9a00d16d220d110847d7f0b3c97654aa73cef54d76bd0469bcd91bc5cde69ff13532c7e12d40e6abfb730c808819189a6fc7896467a66a4346d3ec1a547f016e03c2cd8982710530a8aad3bd2024cc5f988176c5f64623389a6a10e22221aafca7477f029f1866de85716e120bcf5245a61e6ab9ea40305788ad6a1498f96645c185a6b78266e012ff879464569d75d02cf98d9044d5fc9db017962722f1c14e08638db334f6ba374005d8561de756faf2a87235e41da37e4713335b411ed12c1c7bfd0b40c36a95b02acde55305f4358598026cd7da15d07172e0c7564ddae452ee8132301680130de0157657aa99c154fac09900d8cbb46914d14dceb700efd45c3dcd3b7e46c82ce95d09767245aa2d94a71995a97c5c608fe735af48664adf46e93a0aa3631f833c7e93508d26cd1bb21b71c9c1a8ab41d263c04169f02bdf386089c26c3c21e2b109ba04a86f41d3b018f1bb8866d109b8440ac510c4b9d602d2218ad4ab9ffe0a383c44bd990b425fe03a5e87dfcb7b244207cd5deaec84294e039962f192efb033ba0c5a0ea5acf2a4cf7d7f999bbd71c8a263db30d3a41ae114daa404716aa31febe64507abe7e91371794e94075260b15bb24be82120456f4938d4b472d961abbd0c09a617fa79f506d6f6e4b068d96eba9cde728ee59adb592df8553c0d57c8ba296c9f06d6149d24f0ea9f8cd2238542537e4bc0b50b0bdcb1fbd759a5d417c73f698aa532666f7ada0d3f7a23fe0da3c216bcf8e60e48eb7df9ad2cb7d27b101b2929e2d5f57e69f794aedf0e588b3e6f1930d065339f315acb0e099cda4082e1fa1a5e49465bfe0c21604a8f4693053dbb364e84736e623db766743289f3458a643113e436eb075e11410c304d4fdc897e451323955885aea1191c441f35e9440e0ff6fd215f3d1dc23eab3e81511319c3b4747280da77ded2e78d4925c8eb4139db674eae98058c2564b2e9c6faf260649b3cf2b0b6661d89c23457bcafe23515f089ee29d99d7d6bcb0eb732bc2e0f4bd83fd9e2653ef4af9db6d1f9e7816084a484b4dbf73648361810882ce71761b9a18beb952ac410c9dabdbbf0560b39dda72f675ae929b72f190f36e8117c5883fb8c5865e490d8994aac382bf0e756c3bbb19f40b654768254fc4df7df40c2e14c14b826535ebd8e033e49a1132cd891f17749b098077284e8a10bfb33c6f4a3ba6581352a58688a21abab6d9e90659a72df372f6c114b6fcbe27c2a0af4ca251d820bb6faee13e7d78ac8a64aea8872d09358cafc6bed37f8974b5b3cc2d7186d4a07f2bcbc7c3c8760e3765868e5823dd44b86fb94cbc015a4e1b0950c066ee644195ddc0746506773711d29733ee0ab8c63752cfdc5c5807ac643b3f84302865e57767a94d2a74ce90f7c65017fdb6989792bce582bade6f4d1e091add81ef315c739788da7f5b741ab55cc3f9aa9e3bd978120aa134601c2673fc1a4ad6966d7cbb21cff2a28d7d3bd83ccbcad014665dc8f921be4b81c044a440d74ddbb8e4ac38e5ecad3ecdd1acf1b75c2a18637674761466f650de58b08955b84f89577a18ab183055c139d8a990d1c1eff07243535003674f48b495dc569fb39f935b0f5e8b6cbb65e45bea8e9953e030380e8b5df08073d32e76358f2d7d5d4b2e3305543ff7f5dabc8888c82dee5904c58fe29d05b164b257699ad8a73f4a044dcd12cc8646f00926d62ab28468d49c9164983b04a8acb423b59608e6d21f221fb5914f1c38c458bdaeeff9e3ead426cae42cc3350636ab1746da2b8ee191ada41bcdf00aaef7763536a476e2bc7057b81c7ee3e50b84703ad5ea4d2cf12bf672b52f4d24465d505c0710c519245f7d84698da62a9a3a0fbe5fae4271b84469d97888c25328569af0ec18c08f3fc0798f129037a12d1d2e5f09b497746ecb981f1d47644f0014f3873701674ff4ad611232398af64ca42ef653e6d849b72e4bc1a5b97a52ce56bb9dffe7cf7a37e763496a73b204292bc6559f762af4a4efa2a883c82fe3f215b0eea77c3301146a8ef47a1a93a68afb6feaccd87e2323ef02df2bd049a97da3d8a51f4e0bfeb91f7d9e86ce754f60c7c3ba253d9733547d65be8861c906033a6b35319253ab9c545c6a43609e305d42fbbc13296f04b258c42926d9bb92f222f56dee8d518bdd81c054de90e67a8d7e3e1a2a3257454c3e2f6266d6bb988046b96b85db1ea89b4530efc7fba0868d1d4d7f2773eac9191c0dfc16bf94bc378586889f7ecbe9112b5310cdd26755da6c4cf983e4add6d87cce9dab651c8c013b9eb3b9a5e7c7846b37ccba7bceb0c2daefac985ed97ae75696a3f5e128e0bce9224395322191c67b917a1aea4b0df6a386bcff87176438558e8b19563c82dcc27e36f155dbc0bc5e064557e400903180c8da4cc7aff75e65bd9d50db90b5dda99f3db849a25a50cb23486bf5aa76cffa14747ba12ce6214209142de32c245e67f0fd9b2901de4f01323b9b8e0d2bd352f1292e94a5df94ece1e0f6f77f84ff744e56d6848c045bafcbec336da599d4777a178a32db5d01e9eb5656edafe430df725bc7ce5b8a6d6e75e74d37b1a8552c1e8720d7f5d47b2a906f760f656da881034416e76dbbbab24c49de04b239df9fe43db6cb332700677ee2174ac43e21eb57fcfa0dbfe87ea3f9ab67a35193c0705378534a2f974cfba67b145058d4bfe3f8987c41ace8a5e72fd076428e1daa7f576ab3e71905b08d459b023e0b727841ecdea50c83d80030cc8c520113a21b149bcaab9871803c99f12d3ec9b8908c564a50ea7b0ceaa8417efce3e51bb5894b37f560646a5eee6d8c37618de6aee517fe0b5717dfb137b941e3481e14bf28968d5c5b033e844b3106a64d7a15eb6ef0cb1b68b1cfd17dfdce4fd2c3c22622e2cbab8d24333a1d2febf5f66eb7cb27a1752e5ac0dad9f0736c36f061852b24f63db2a7809177dbfe44f2d64a4b630569bdf9036f4656d309c73bbd93de2dbd53e6cc67df87211e97eff3dd528ea34d8a7858147dbbfbee5c16c77f6bfd3713c4b036085b11e97c3559c37ec4fbc402e2d7e95cfb0cfaab5b83921e5bad40cb15ed8479ed694473e66d7be3e6527c941c249b88ecf6329db5210ef40888764c084d12bae89aa7c1a1ae71e2271ef01fafb99c5d77987da026dc7c87a10dc16b46d98b34a3a98f7c759ef70e640eaa5f7b1ec22577bd5f9a167aa7878bf9b82e04f71f675255e9ee56ed7875b77e6b77d1f2e772c54c5f65e0a4d351b803edb7edf3f9ea1b48877069c08f3ba71cf0fc49ae9f1e8b454ad07061ab1836d343506495e2fe651c6bc509ed03b8d258844c810cf257a431b5cb17d937d77abdddaabf683c6037cafe2a22578c9fd1b5bf372ac2acb033f497a20c074d459554493d106bd30522274b873be6f9c838fa67b281861e867c474e374ec2b866406cefe690db84f17d0fa0e0bea90c5314fffb6d3b26062761d0d0d3eae3f7912072f9047d01ae3ee87b627e5c7ab3e28db99dcf612f1be8cf10cb0b86c1de25db1bea7f1ec05097cd2b05bd13698f2244031cd703e993dd7813374f2e9f0517ae0d94a3462a519b5ad7b13ddd5bdf3c967ba79b709f21c9286946d38fe16dad0f5c8b3481bc0fbf58859b69e8ca50c12ac4cceb187ec84e43a9146c1f56fb3c9b6026fcb5cb33acc35ea874d4c71f1ed85038ff4bab3e11c51ba3590bf8962b888b41dd9096143092e6fd6a709fb4dd89e324b764aac7abb4187a2954cf78e65bc5f8ccefc1e13b8fa9a4570010da932dff5afbe25eff706197087625c9ed9e395cc16c97fef2ff198a37c6389a569b185e6b02eddc469c54e1f0a005911b8a630ef2a61c78e5eaba998ede76ccf3ab2aa196e0919a3720f60392b564c022315ebc230f79f90e65820a2a80490d779649b4c02fc586f201a2f244f782b9f58fe27f1948562bba4111af25da0f746cd48433343b79e3326ed78253e5d28c04bdf573ba7b27e6456cbcc740ac61fd43e7de677e0b737dd5a94447e4ef03c59c1296280df9ed695b6ed4c2cf67daee4433f678ef7515c370f9701d1a704e8917fcdcaf5417fa413b83c8a0bddddb38db88a13a95f2a5d29d45d8213467594f36a1c79b5d232014fa9fddfffdc4fba1b17cd07ec4e8f95ffa84cbaf5adddfc73861d8af1b8ccdb9b55f94c86826b1f23eef8b8e9945406ec43c20f8879d11c677cb818c1579c8ac79c9f5e8488712650610a8240041d465dd0d60a74636ab5a36bdd7a642edcf46b821bb6a2af01a2e2edce5ef3b8748967465c28467da0abbb621965955aff1bcbc7bfcd3e681039fb01b839fa89719a6341b7e13b8a6e588f1da2494e9b7d3a98b280bcacf04a905f3e17c0a2682f3ba2c4ea2f06c60f9792e0d4593b1d1135eb574dd185972b69c5c48a2d675a76961143988eca813019e8d0da688f0b50c42baf64e8fc7f73c629b2f3a511c9cbcc1a19da160be46ce4a1e884a8dcc42ae9fe6abf80e83b9cdadf1fb9ca4cfe8fd4b33554d36c75b1fca8268420a51613519016160f0efddefbf03f6dd31203e56a142fb3ff2eaa0ef8c19935fe3d3b226a73973a6371367e8568ea540cbf8f59933c741effc28be5642ad9b6e54033eb2e31088bf92ca253197c869286ad0dd1eafe8f0929118e11e75e3023bd464653604e4892ddb81de0c0ff7dbb2f9a2f0791a98d20a47ae24f31dd55af9dd786ee382258c85a11b5a302aab040f2b9ecd53d4572bc184bb61b0eded48bb3ba4a6f8816093b0bd836feba2ce7e99fe61d27c3982061eb25aad474ba64165994fb56103af8746bd763c0973c13d81cc91ddbfe7913ed37d58300c201c412b8a20792f586adf3ea8634e88ff29ab108142982aaae9b3584be3cb47d21f5d5127b84917fe9f3f83ba81f3a72bf9f54e5200fd6c6948341f017103222a00035b7915fc10df047ba4701d48ef36ed63d2051c174a4dc2433eb9c321331f449763e57a79679977050da30e4b7e25b00a2024bcae5f8867d4d287a968ff5297f1185f0bfab2f552bf61ce337fc048a5923ad0cac4d131bbf9d93dcc5d465c898bc0e36927b9e63716b03f2e5b51f40be47366aca0fb65e4bbf194d39dd0f6fa4de0b2f2fa393ee17f5a54d794d4785638552bde848ed1e7a56c65cf721a21d071bd17a19ae2ead17b6793974d0dbfa13edb8eb52cbe4a41c3a53c07c561ee9c11bc86491ece7f8cf3c0e3f14e7e784bb74c1366aba9bd673fdcd14f2a7de1c38e0b5c97f9451b8cbabb9071d14a3a4806bc563194113daf6630c0c46fd2bad83f8c85ae92963980c23117b15293ee7d7b0179bd49033a58f3ab26fae8bcf7f1ec7be5e4810426ad9a4192f6b60e7ecd01984d78d565a000cba9628e0b57eda5737fa8945243539283f1bd255e566bc9c22ed4a3ca126e74a3bc0d0a7c4a40ad06115f8f25f3e69eb70f997deb9ac9143c382f5282b0a5145daf80452a8131083403cd7ff63c14295a1bc5aeb861e109d5a486872f53097428feed1f6f58ede5486582cd7c5cdfee6eaf4857c2a05a9487b569eec09512f81ee9fb0657c2d41a5aa2425dba7d0a02375492137f04acd7f7719faa8c9f6f6bcc710a1fafa7f0c4dafc41ad6bb2de4fce8a493268db943f27d1df73b3519818e78ef842d0d6eea7a0a6bbd6894dcd22ff7693a9035d8899b9d54a5852466961e1603a0b605cc1e7fb12b7deaa24b263a5aac983b13237b54feb0f1225153d23239362b10c97ffc44d2234e6a6f98401bd760fdca006e6003eda8975f1c5f605a345186c1c23c177f4dc84a723db9f1f1c8f32643a4d3453867a9619e793c1fcfa41fb1684273e51de2442db496059dbb985d1957a5950060efe34a55adfbfc4cfb98d6503f848145c3afc323161d793f3cc3b9e8f42d04c3459d5c01678e5d1c5e7c21864954b27f1447d2da719793e02602174be4ba50e52d1a63cd37f6ef52f8e7057381d0c7d2ab9d0e7bee65f48c60a148cc101ec778ed986f110941a5787170e32b4ae332494ded845a59d9f992feb9ad882928a048d14bce0a5ff7a799e257614aaf0773cf9c5182203e22fb43670b37d7a1945d38bc53eaf61f1a731b4d0d829e1442f40b79cfde5f51b9f448c9f00eac0ead8ad29a00423ebb123258f6999b2516bcc156e7addcb3c374a9cfe23ead6489cd0e1fd33190a151ed07744d6149edb05e2952f090cbba8d60132199b12f96319712d406c80d6750cc5f8d1e0de940cf4052b98ab44b3a612cdec7d08d4b56eb8f29254afb1f7f8903e0b5faf5810a7439ca2097e5567aace79e5e73957b4b9e27989ded2f606d3093d69e7959beea857981845e20f7d90b02c5d440a98f5db20ab7f738f615f1869e1b6513ba81615234fcf39ceb34fd145b122911e0c9f4da08f045b7bac59a399f49d42eac5f907f30178956c835ff87f49f2c3abc447f7bc49a6870858dcc65d9229035f35a146cdf714bb9b9ee34e3da4cc508a516cfb646645d4d62605f5b26cb21602de098a9d4a34873b6424b0288997491b79374b80652c5af83d297e83dcabc24b846b15f5518541e9c122c3dbeda34db2111450d10bf70cfdb2ca974fe051531f0528e5e2198f2846bc837eec1db133d4b6088ab9370bc96cb354515d9e1c7660ffbe21aa52899398eb2246cb8af794c7ca71ef18edd9f8b0c8b89db629f7c235f13b2e90095f3b7f602429b8a07343459320a296bf08553507d14e627ce994ef05f04d5544139ddb05068db3a425176f2b5a9431d065aa40293ba84a1777200a9aa4565ee16b68a325638b6d1dbd66fcc3ac8866110a461433a9a649a908b8ec0905989468dd8669dd11b961a1c077c5d854397f06aaf03b9ac7db66df9587827b63275fa4dbebbc1aef4fa0c453269f291c47523b5793d5151fd731a5ac738438cf74c35e4540cdb140f4de67fb39c927bd0085c7b275b2b14bc779557c136c539fca9371a670000faa14301f491ceeb409e0077d3e58e1b7a0e3a91943e5c966cf4bae929415032c10f5dcea5434bb9874dde38c9b9718f9fe769cb046c86d5dcfd6b784f674813bc8e142482ad1a97f0e1114d681c61bb66fd8c5c7713eafc706bdea55397b37ade30682fe2658970a1f241cddf3db80b160c35b54b759343e37b4c5dc45b7254e9510aaf83b4c13a284c271eaf9250b7eee883a42ddea8b41f4b47361dc6cb330457ec685d1f29ad5d97059fa726ac15cc742a738f2c69130b3c0145b0c675a60050c1f81342be5a79c71f6907dbda675f63e00b395aabdbfa34873a93de579233d04cc377d225e5609e8a21ee129d733c0a996a0d266acbe0cd127baa5bb47192898b863f467e739c34a36f069ad15125e9c18a2fdcd27d65af6c482362106147726f746605f98b58e3cb8819844308648269d653a44741e952294d67b9b9a77ac2d1731e42627d0f2c5fe4429492e1f5f002c45e20f61232a97cf406b46079112a5d15ad4a4517b3bad04004664d812d5d0e6574763bedf7c8797806edc80124d0c57210fc8e695fe1cb79fc2d0363bf235c9440a933e1f728b9f799b6f3d7bbaf08eefbe6243d99f1d356fe28222c6129af0b863d09f8d6d5c82994d20134325a665a9c11e55b26135cfea4b8c73f4c3b3370539ddd027c4e1b00ece19daa40712524877980e0b9665d61ad9c094775aef9f3f5ba248f1d2d3055084945c2610d63e3937193d040c14561528764cc4db09bdefd3ab98aba169eb718e9c762efcd8b0b97c48e02f8e99c3c3799c9d7ea5f7a9234793548a028e125519dfcbf3b0ee1b55eabf8963eca8883958bb01ae57e5d91780286275265da4d3fad45fe530fee69d08c7c99c3305c186db929f776b0727943bef406650cb548db88299b2d29d0bd412e63a44ef2900aab2cac6f85b5ce3ae82d4ea32910f31d473944a98f2da39e647e22c331e20cf4659a5b16b7725f4bd2126bc3de73d20903cf2825ecac2eddbad4746e45cc42c407248534c5b4848808a49eefa2d8dfc4f396e4ecd1e0437d7a243b4f3e88bab60f5b9eee20c3f68d000f45919f7e4d7a92b15644e706e99a35db920fd43801bafe89c4dc78eaae28d62ce7feeb94efc3f04b14af11012edf3f30fdbf8138ccbb9412fd895a2c0cc41417dfdc5f18691d19837abfcee8dc9020837e4759c0c556e023eee7a44a114b7eadbebdaeeffd624d8b16778623acc581f0dedcfffa6cd60e1f2642b13f13045ef0913b12509b6949df252c9580f4636baffdd470b3ac22fa251649b44d8f6d5603bb4cea9fdb3c48550f808f9cf8e082648f3928d0322719bd774f1bc31bf37247d8afc5063ae681cc1c507c0d6cd08b05730e9d8f9bfe3c832b3757dcaaf82a6042c650268735e5f240ba943793e78b327df6c726256f5e99667dee107fadad39f5f64c1b0e9ece208e583206b9a140cf97db366cafa79dd9d40e77fe45c162334c20cf26fea98d387c94df7f7818577c89396786ba9c13fc68efc4df0c5d2f63a795ea4413c4a8e0d56a45c341bac6689feb919f917a7d3cf71cba5fb591d4ea2549cb2f4ad5247569e74750e42389bf308f1cbc99672145e4b6ea9f187d8e33dbfcbfeb7daaec516f5a836f9dee7c23b0f5639a1392f29791f4c5cc3470ac004ada89eb3795774c906ac5ce660b36fb70258d74dbd71d7108a3573bafcdd92287d17cb7ee41f8089017d5a561d0d89028e5f670a4639d0a74c961af466229c2fce4b3603cedc79d2659d54cce0d5b5616a72331c1049f2099fd3a6cf9fbd6d86d8cc84fdb15106a1793a191ad261a03b636b002d7a400bf27be9a21919016a35eac51752d46d4291ef2ec6a17fc456023e38e8e63083ca5e19711f8b33f0b1332088258879ba9fb6062cd81d0aa9303e8edb9b7eedf3f6fe39831df3d49de9e829be760e39ad8736c5feeceba73c1c8f9109456cc360571ae1239c12a0e8c9392697915b8b8fe44647534e31e862a569a946bced93838c9fb225eab84a9912d35f347e01a682aeb09c5d316539ea258219058ed52869602a618b4ec17994e6a9806630acbe614f29728403635b43f3234971ff1aaff46e9c8a10ac271f2ddb8009c0c967f8a8f090800d7100fc4870b39563441be8bb8cd21d241936b6443592783d7a9a53e1dad1c54cd4ca71f39088425e9d70415b7b0a3e643119b8e06de0582feb894c8b6a0101b4234bc711b07afc71a907293a795748201459a21c054f2055c67fdf704253de353e236ae699d52f19814eb87a3bc65971c531fcfcd4e2eab1cf55b7ff6b85120c92e9c22390f06fd45178ae9c05a10c67effc8879256676d722ce0f0307466600f2c85a9372b36eba3ea34afc71283ddc5bf0b4b11cb36293dbeb616802a4543f13b2ef080980c8f6224fd1a352e9007e246bc4f631aaf55bb52a280c3f6b7dd7c7af77cfc251118e36cf6ec73841e41571a8cbe8fc02e94cba49619f8cbc97fd94188dcc4930423b136cea0b6d0046171eb48fbbac39409b117482a13693d326a9e43daa1c33ab6dbadf81a25e1233d799779b807c03275ad47a59250608ee512354d6cffaef1ce68c8261d804ea7cf9c41f3a3c11c404bbe6edf1242f7f087398ace8fb92f3876634ab0529425324bdf0885f2f0ba0459aa01873dd9497c286c23dbef78c905201db9d4cae962c6cb7da5dacd764180f4e99cfe3bcf4dfca7c7662fa5e0061e0b598e4c7baeb99f79f66050c9e4204a05f624617823a14a4892b6626feed5644e478d7cf2172417dacaddaadb9a483c1c6829885dcfa51e65991972d62a9ce34c52d0c0a155fb93423422e250458c86a2ad1a0780b3921b6c61bb5b53e21b30f7ed4fb8009b553d6feeca6bcc207f1bf935e6ac820c4c58c09981253ad7b3a46026e3e2df2fd612c49501a69c570a3ba634128e04237bceda4901b7abacce1124b865f47ec4fc428632149c5772aa3cd2c0391db1d42753ee7abf22dedc438ec0712bef8e5f2fe3d5fa39a07764c760a7a092aa39e33c6f18563dfbfc4b60822048aae3d282922affab3308a07affc3344af425e6f6b4e65601b477631c1806033f4ac8ca613c9313ee8798552c1dd2f0874dc0e5a1dbb6d963238e3eafa875b15f70282b2aa9edc8abee650c3cc2e95758b13ce069b961b5e066bf823414741f37cd09a946cc14c45b8ad26be84c330ea925202337d7382e45b3e512540bec0aec4acedff7e726e875ef3b9690c6a5f81e65f0a8b9d0fac3151b638a3e9cf79d2ea8d2481c94229a1ff27019bd70f1fcef22b123da64512bdc8906ce4d4d6d9fca83534a259481b7fb153458e6cc98c84590cdb82fbe978ad6fab9226d11e476cfabd2c1b7d742fa0348d3cc1b61c66458eca2572bbce7aead73bf5449817739cf996c3e69771707421977a6217ece3cc72ea9fe1d42232553d0062ff2a8465d85b826e81fd5d464062a50b65177939a56fc971ecc72e81f3b996da50e7eb68f5e1c1c3c815dc1f23cdb42c0774373a7c4eeaa5dae7ef12d6640995ac1c65c251df843625a321abcc8a7f8abd54dd7ba5da0bc193cc74a29cca179ab8a73ef8f4e84267cefb31a689271e13e41d8e74334be91b507cb626a6827ea746ccf54b7aa17383a8f1c2673ed3566e5bf71e7e0dc00cd11a31f7384054a89db898f2db1534ded3917329d61aff8acc3bf2ee733e315400be89cc9b6e8088660a034be7d16e48f54576f5fd9dc5597d6aa21e644c9068e47db499f89cb187e4adce076a48a65c990aec59f5c75cbbd3ec054867f6ba4baef1d31f3315ddb597328b0aeb0445231877fe27156d65027839067ef82ff48c7db4826eba1b275aaa7a29a059b3ebe94022b6fed1250ed921e3b7b3872f1a849b5a3955c8342c32f98ce090171207d7b5aef96b9b539fde3f02b5ae69347ea6ee1d7463e75a2e997f5b92acc36fb72a0833348295c2b3c650d6eb784127bd07bfefae5e49f0c4a83a7016582136eb5857d12b6b734eb3def1649a4a481333ac9300166df84216d51b5bd656d61adeb53c675e1f941ef845ac65f4a797db1e604e7d8aa06360ff8f460e51729f8da1bd46708137b43ac6a20277e4b6d04c40e7244ccee9481e50f5b5272273fa04a3f5e1a5a25f92ea97ff4a18965b22dbf865b8b208946831a566782b390955512224671f4a74d6d3c1ddbedfd8bf0218eff2e194774d788a2e65c9cdb8bd48f38b7b14cfe9d79e5ecc01c5317771e376fca6768440dda1744fae385f115384ae73dbfa4b833e5aba41da880829886884d4922226d28091d4b72ff90acb4b1ac56538cba429ba59e2a51aa1b85aff9795055e575a7bc09b9d85e56621e7c6ee666ed423c800d006568ae78a30e4dc093c71dc64fe6e43bf6ac3b50b397a715f8632b69ba77cb53731f3519faf57f5e68732f400156749b55ca37851d6ec858a4672151e6fb20768e8bcb86df5a862bd36b5a911b5de024bc0edbd8d3b24ed00e9178cb2ff0a28a4d7492a2a16fd32e781fff1a9d8bb20438b4d82085dabf134f9d939b19df3d60228a2890e3f01457d3dffff08008823ad6517f25de7aee1fbd13aa9ebf7b866f49f621babac63681c0acc44b86eda5942d19d54fc82f734585318c934c60b633e5f96c0fc6a747570b4e4e54786b51171a6452479f67d87ba34d82790ba1267c467d1eb9ecb9a79af63bc5d44a461b52747597c2d225003b47015919cefccfde4810279896f6b06570b8a94c8e5acab7a698f755909a35f6648103101fd94a661341522d2bae690eb782ae1a992b5eff06e4cfd22a5bbe0f07afe2ab36af49fb9b0dd821886f72ac3764fac8c9929cbaa783f96f04ec721f18c42c306ca6617bb7d29703e25ce126077f40093b90d525c4f16c6bb32eebf85b71ec6a400b163aa6821a2343f0df9b5b9a40709ba6adef5b92274cae0b3cc7fbe6175818746c79ff8e1b76d9988a7b1773954a145612f65223c4ef29eeeeb6cc35883453b70b625f5dc8c38819a446897f8e31ddb9e085762c69928b2c3d4cf9c67022397d0b2c6fe71dc06cdd003829b994517f9a11025d5f0f240b39a38d08418d1b504c94e35ec562d7c9b08b978228dad1ec5cd50b79f98054d0fe6e85dde6b39e3dd3971ea4c3e593811ba87cf29925a12041bc367b67fab50f49e72dfb1b71dbcc7ddc8ce84a5400aca2be4852e7ead1bc9fbcb4c83ae642ef3863b8731a070f0ce5fb96a4214a007e32cb28bafc1600f6401916d3462dcb950d45774634f5ab42b00488a7183d53cf647215306be5f7480a670989416abf70bdf27f3d9a462d8452fa3115ab6585cf524344c64dfcca9db231d0fa46b6d24a639af09ea82a7db46799d1973468ced54c3af204a7362db6819a79e9497f3fe7ea61f8e602ba0840822dbe27fbd81797ee1b9275d50ffabd25183a5cceea4c5a52ea4c5b8a1b203477ffd6a806b5338f5b0d96c72bf6d4847af42b9109b13a49e2a6a548b8ee6d1279b6294095322c8b40c021ed317a70601fd53fdefa6402f09ba17776093c13df1846da5c4158d0990d4ac105d208a4bb42260f8dcbbd7cedb4fba8396797b4d333c07031559dfbc8444d0adc59935e92ef3709d68b3caab280c5e22399bc63b2a53e0bf506032224cc2a96b610f8700efd8871e8832fdfa67b54d5837fe2305073615106a1392a466af90f4964078e3c56e6cfbe552f9e5fed439a003e973a1d4849ed4b61dfc08fadb33c1092660de9f5b8d49e3e174ddc4b031aa3770c8c4b795a913b16540d5da316ad5d67479947d7d0c637627725197c5dcce73dab2a76b87a0dcd0b2e5289790fc5341e0e7ad210ea3e9da5756f54c17b35c4b0f73e2e356031f7ba80ed6b339ef44a52b1cb91229d70c8a3c63ec1fed7b5a35bd90d04bdc41e5355486a1c9acd0b97abd95f363931430c152fc91c511b33fb2ef3feef853d597cef03fd0f1852da6cddd32602304e61f8db424bd9495ebbf80a429b084f0c9e80a79c7220a6252050c78fdeefda5d427ff56a9345645c1ba07657bc68e8d735e36da93ffccf84c2581e65279e319e6f43c5c122db941777b16ef1f5f74cabe6d37eefe61d03fdb2bab8c950702b4b96ff1a3e11b0140c015732e379c5c588b8e27bbcc3103a587f3f816f2c7fbdba11f6540df5ed612e5b7469565bd0f9f79ebad75fed070d8650550557f2d7c0652d79cb0aef0bdeffb6d8e4528f5cf91f7beb57ea9cf94870cf535fcfe17c9cddbb10b3bd656eb6551afdb405ad1b70c8b47b804fb8e0f0279e07322b7b84ca240856700b717b473de71731e554b3f528c5319a38b6445015327d5e8eb29a4d389f40a4494eff75b3a9159ac5166c22c7e28c16190e2d7a779f27704363482940dea597c0f9d6f43176a1fc398517525c8cca332382d28cff9d12a112c91980a60a12846f87fdfaf97a9f76853f4d7268c2459c1e83366587ba0f61ba5422cebaa1568f5e6d6169d1e3d4c76150ff539c600e27de13066e41327a8774a90777e82552c6da140cc179c5bb89f8c69cce7dca7fa99975d55c149d0faa93db68f0ceb56a69acd7551358b4a1a3bf5a953d8070b1a64727764548d06a30b9538ff4d7ffd0f22e9bfc4398e251262ba8f65f8c6e6d4666457e0ebd7b69444693bb3e6a90a1f988569bd6e5c5d83b991534391123522cc6bc089848744a4301802eba0c559f2687117931490fbc20d190485e263fe73f3c9feadadce3f7c848ecfb6bc9626ec8067aa20a917bb4375bc843b8b63f271c6cdae9c8cc3a0bce1c06cf89d7108a8bd261a583db6fa863d8f63bdc589d6b179b657fe2361b6faa3fe3af725da98ded48b719a306c4a92d297cc8bbc46f1ef81cd51d40a1520477281f02435aa8288c7591b68a83059fef64b7f31760ac4ac60ee3ff12ad67cb947f9cd5b3a5bd83be3f4e28161dfb2d87791082f006a5fcdc61dfb313008276d8722d34c0de6c04a6c8fedfb4f2331f04cdfa7de152fdb76f31d2f1fa9818e03adaa3130baf3158eb6b33f1141cfec4e153547d5cff7ccd0108cad7f9bf39c7bd587ebe2e19e3fb08fd50778d5c796292d6b1d2b013544744044f31bc333e06eea1546779121884ed3e31b017f67487dc2fe28b25e83ae5c874780a22cccd28a20fc363ff43d5d682be2883a7f4a28e90034381ac208e02b8ca13b6632ffae7bd8e28334838163488916123166d88835abf5ee28309ca249d5ebe4b5f537df2143e6095ddcfe5e3e1f0e0dcfeba82b9a0d32e0050211c2bb376ab31676c249041a964a3b32d66d1e88d34f299547512d47730a3f9ceee4810a6a3b102e7cb6dcd70fac920180a92a440092791950656f845d91a48328c923e45aa8bbaea445811046d3985d82e178fb18910c910dd01548a3ac5116bfc7b8e5c8850d33058c31e7c331602fd48f99859041ec1ee5954d8569f8a3006dbee235eb70b7147ed5e2c43414fc0f8cfadeebf2cb0ce9a9d9bb89f3d1760a9212a0e5e4a1d492e47925e8749a44071a9b7eb62842cc33f0a8695ef8a83daa12909606637dc2f0c5a8bc69378bf3da0b3d1f6936bf6e4f9df3b9e2b5661185da1f763d9310f78d63fb79894523dc21de5a0ee4b726a730135b687ec487e27649f5fa5e38248abe64c5d417c654f4a337f2fc71a070234930475e6854c65e8d9119ebfe12f6350f156c100ccf153a3278f9ea9834c520db90ab099466d47643bc553ea60d75554dd15bb57a173a5ec997563416c9471074d9e5e1197621af12e7939f3a1d0f09bb5d5c370f006df06763c02a356b759ee033567aea24601933e57565640301c89bd1161574cef18bf7212a8aa396d3dbcb98399c8451f720f92eff720f62932827ace360ad16df958598f3a48cd34d434b3b3c0c38541422d5e001327623d83150790b9e6a256b49575dc4e949baa04503bff464dbf0dd7e8c9ecf2f0ad80dbff4c01552158459f35dd4b23303392062441aaa48597d0975cd8564a085a6b1e6011001a8b289b194ee741f032b4ec84b3fc04d21150d9c795204bc0d415ec9c6c2ef8b7996dc46aa768bc3511fd1bcdc1c780ee711e5b31a3b03fd4f1705cc9b208fce5dda020e7e1b3ad4a25519ed3db89fb92c5599ab69f9121917da5974d0791cffaa2b521d7fa70b8f83362c85cc98a2fd1f67f31838b45066ab93e99a905414b221e55dcbb1c7859da09ca52fc7c1cc175018902e4d7642c9e0b7919ed5b9ad0d0955e8bb387a6c87458232714be5afcab42997693a7b855149755a2b71c71aae7e1138420d66e78f639331db59cb0c2425f5fd766253fe24abf2e619d2f76d679061ab3a819593bfa19b5a55f9f6ea05829614472c1a10f57362e9aa7ff609c9f8a1f74c8b0e51d144003bc0296fe5d542535482afdb25d59f3ed1c00dcd2e264f84318608defabf8e67407155f756c3722855bba8a7f4836ae1ad1c60313a02aed638107f9ebc8e70b0926a5d6106179d95fd8f98385c653b0da1d3c12ca3280e2c1594ab7d6affcd1b52377d710e3cbb3c32927f117e3894b4687da0ee100e4f448046944a326d22aa54fde76d71b520a699d01436e29fc984c1154c8e8d3c6859d5c8753566306c255a66a48c235c51a7341e5b8d957510b1b1e000c05844613d4056c9e3be9a0c7dba68f6a60e6b6f52f9d027b551ea55836d9de3971c3fea98bd88fd82085248ad98ae50b3b927676b9d4d7fc442d2fa4895732c80cc3401b45890e8f0ad49b1fb10d85c88cfdd24913d442f36fadf5ddaa93569fba69bc87e93b6ac412a6c57050c1d6fe6dfa614b6b35a94b98bd0ed708a5250c322b44f5ad542f82169b3f65222bbf5bc6aaa545f812206092dad1be3ae9a9dc1e14b3eb6e49bcd234af494c4173bbd4cda8d0fabddbcd1b507f987861dcbfad064aa6d9b4552fb945461d0e9108fa76793ae7c33973173ff6e1d43160fa243cb8cf436985fa4ab52d789e04ff961cf456306396dd03fe140955adfe7fb77f1cbca64f7b489be655eec41a808a9891b277765f69670b3b8d7a9864d49bace37bfc0ecd45008e57654c10d7d6d258c780410c4a311be73cd247ea00eb8e3614c2c9917281e1830e1b3012d44f2b2e6d44588b86c91ff58ca7649a473e72d43285778d2e4c52f1d11a7c264bc0bead0533ba3006fe51f0ffe486431c3973df273687c50805157754d6611c0904956d51bbc0f961eca8513cce76522b9e9cef10a2352f64c745be09302e1613608a22e5968346b34962e2b7d49bb10bf027e30db5d3d51700356b67da89438c9ba4f50030831e93358980f275d273eede6db20f3f2949eb83590e8153201b7f4bdd488833cc67c5cffbd9f6de87e5b6ed32a7fc3bd6fffb33653ed982190f97327c455a1ca4bf755ca66ed5f847ea27e4ae3b4a128d3a00853d969882b723cb798d9c22a91d7c76fd7ca0ec48073d348ed2606b15c9217da5f25751a27501250ab930677727b035392c622c1aed52cf9e4594cabe2844a612497fe255ab1614ae635ea76493aa07bce538ac2e13531946ccd6537eaa2a99ac158fa0ada46be1ef9dd63437716f49f5947a79651915dda3d3f70287941efce008c2a3ff7ff097b49572ad80fffcc4d1d75a324c5b47008f969e9a4a7355f6378ad1f97eda9d5f929d4d1fb3ae7d6248849fbe657411d24b3e33524874aea62c0df97f5c9cb2c991381f67da73bca693a76c57aad5492435b4c67ff0036ed82e6d9ccf382035e493857b0a0427b50bdc1297496973f48c488ed853e7477bb148fd01b48beb9797b3cba0c368cff83e1eb374d333b16742039c6ebf39876edd3c5f1a819c4b362e6e65e84d32488d6681ea53ee13975a71308b70f2e46e9c2e846c74516e09dc3366157e437aff1cef617a77527037f4ba1fd4c164fd559521af3d02b4576ea686801e8d4fe9b7383f109dc9980e1234b86ed32b52538e220f1fc29d815a9085d7654817e49c78caf37c34a5cdfa64d7707b46c246ac077ecc73b825fb9a69c30816b6b58a542139064eb42d98038d6c3271fb664277c331827b7c4090145ba89774e946299b8d44a326282ac5e0888f5f5b5c2c77697b7f41e5c00735da5a7c1c84c533c4e21ea7833e4fa65d844413d3df443987eba2a8729de21376297f00f6caa2389f6179bfdbfe3f30adec82070510c358465432061936e53690c2c116beb29682fc548ba95822a93cb27397237ec67017c1a3c7205e409cf940ffa16938af18e736a8d0a4f0738a03859d17194d19175214b9a298858b7278af32cb0870451d0ff925b99e2de47dbc91089e715a2e18ffc9e6a250b0c33a06de7972692e589dce296a83d9879c3f559eadb397924271491e157274b49e6888610bfd8c4728c306996cf937eeb9ee987e8e2d0bec92f68a71b9bca52e31bb082509a80b1b793c3ad4611dd8411014421d2105755cf2b1726641f51526f0e8f153e1aadd6bf60158f843e437058cef21e51cd136b43e6d6c411200dee157b7bb22200856c8b845a19b809af484c7171ff9a49cffe68bcef27db11551b3078a7e667dabfb8ec3f7c298dad59ea85d7d8c651ae8ef0314fd27984a0711972a9445f1388131194b3f89136b1ec731831caec77b73ce4ad564161ffca65ef7b28363c740417a2f4fef7d874baf5e5c9689f74e226ed47f0986cce60b844fc87a8b55887e4cc2565488b6a079d7a970a39d06894523f3f25eabfc08308069769fc5d6743d0c74316ed397d1491a0723f636a7facb8262281b953f401fc3b5c5fbdc81f09cd6b045a7f18c17df61c96c5455ad73017bf18737722e4faa34c55138daadb71bbfd53bf0033c8825aef927df46bff21852253f18abe8d06e3de12ef5f2a0526157b9bf0c2d259e2cafbb5046b83e4a7366cc8406b5f4d81d64f98092b0a7a943bda44cdbf69e2a3c885c253e8472a8424fbb54c2005549b6ab3c3b31ce57ec27bf3bd9bedc0de737a446ea674f1209823c5de8f6f86bd7dc960aa2b98539202f901ff57b1da8ca07416563d1f00de0f13cdb2f4f6cd938b43cfdeaac0ae3f87b13a0e1bac6ba02ec5a451f2a191c17e1e401722decb61603ec558174aad28d7d8b17a844f71de871fcf2d8a0ce2af983ed74353f3d267c62ae518a20b8e818b8a7001d8bd557fab908c0f26edc4c137f266c19519e9f0ef6c0c2c762ff8dee492480d9db82b979c03b21744636a2f3c","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"54862202a349af85077d1830ad1e6d11"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
