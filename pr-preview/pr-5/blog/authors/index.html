<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e90a84cf102506465a34071c68173decb43e165a22866132cc25c8e7c1708e90cf47fb079f782421232a937a3ece07c22c74018984aca1d9043a781442e4d22488dff5c83e49ccf43eb6bd74d666fbfdf9ff5db8740c448438a69e5ffbc8af59b56000fd6a312f4c460580b34284b3565d1c4b42fa0d3ad461302d1e3d3912fd25882376a9c95d904227e16dad18bbf9efa41cd96d8eece2ee0a37204e5f0fcf3e76af8e0e177c273afdd47575d9d799a7d59def26c799da1362b69fa077e9d25bf27c24a4c7abd29cbc5d6243f52ebcf0b882f0b604aa8fb06b4ddb5e96435f56fc3993203f5e6d56a9934b93adb48f4e091f2f99347b5e6db4ff5437d9920c64628b9410cc44a251c5fa92bf4479832349045acc6d11507827fe24d73c8226e87c0aa46c9ef3c663473ee72315f439dff3a988c3117f9b67045874202534be1eb8477415d6f79a52b89f436c92f69bf60d2be3f59bdecfabffa180c5fd8e24649b1bf75b0f3f253015238283fde6e8c59b22197e811d75e43e06a51f2ec13d72042f0ae4cd0fe8089cd7a3f21e97a959b600ec9559b1bc627abcb7fa80dbf87d70f15479eea48dc1c95da204760b3db8391d93e6b21abecd2b8048da970a13de8632d9ae9715a759c8a677552bb3fb85b0bdccc5f17791cc2730fdfa109e524d01dd3f7154a6aa10f1edc2e7cca9390e2a3efeae3cdabb0bebaf907f6e0a3893fe48cc34017ca2282112072bdf6cb346cf9a4c4ebc228130133ccdd122abf1707c745ee3063b2b6de4983f247867b9bbfe0e0237a514c959417cd2f15f7fd2d2fb87f2495e6cbdefe6feaf8dd789683d639bb63d9e130bc6862bafa59cb6dc3b70b3f833b73779c12cf047ccdaa90b37638df02497bf1e0120f171423fff18864cb856a6213490d6a9451197ab5639c248d62fe6b9bd4ef06bdc76f74b8720dc86af441bb7d071ad523ab3df7dffff73464da5000b578daf86e424bcfc3d661bacfa8c0254afc867929d71bd5b55ba354941ab445a6389a4681831338847483a5b337390e57b7c774112ae0176162ea6dd896a5c2211b272d5f612b9a0fe3b10f100cba2fcb6901c7fe47d467389dc2f9ebdd889828737c69e6411c25731d9121b18668570bf567d8444eac1f0938f5beea1a0b6418ba7efd7cb22ba8a069ab917d426814446cce8b9e9112ee8b32e44ef0966fa70d17855c708cae1b92979bee94757f0a40b28c04bb5a6352a7dbd18de9bdf99cb2a7324f13c85f898619a503923f3e865b9cb8351b586f8af86cf83a58a622aa3b36fd37de08f172b1d9615e14fd036673ca74b65be8d536f56347d74a9561f3106cf03b834d66a112cdcb9e587c3f036ed633185d1ef16779255ab4fc2350c5f85a74cc67d6a5567a8443433c49a59a8b3f2d102c35374d4b107c98d4d462d62e6cb568ac8bd41034e13ba4d4700b7abf293e26c2d40a137324b18ccb7ac3fa4150c7aeffadfcf6ca60d1be2bf68b775b514940ee3f5ef2b5a2c778fb3a28c930ba6ca01c4fe8beb65e0bc181279c8779b1feabfd947382815184be4466f0412d487802fbfbfcb0ef150f662aa0e876540f5d35f0022c7235e9af5e70e8a029cc9a74b8316c10d178ad6c8cff9f91849cf9202381a3a4268fc984f5cb3884b6c0d1a697ee05e77a736feca91278e96159472e5d4712e0c051f97e38ae25091e845fa90ab824b349b9f47c3df37d485b3d33db09165474be982af5a9afc84ac9be1e4678a22f6afe2a6ede55847f3023502afbea36f00a6ce6552aaae6f0b05b055e3069e6b9ec8bdb389d6cca5b6eaf03da2d221d1fc44ce7056c13794481d1d9f992eeec0ff85db622a09e0852510ac73cc3bf2dd2151372795865f731bfe9e9f90c07c75cc24a18cc08fe8c6fc94ae40f08cfc3ea2b73bdeaa3d11fadf314f84afd10997a2d4f618250e611678f602afb70f11cb9d6ec4dff9271e563390a030dfa1cda6c81b29147df1233cd69e97d9621b25fd8689610b587330f420ab8df4f0200961bd4127e5a7f3dd1130b100196dbee09a3ab46e4957075ffb24f1b419050109e62e6c004870fa2e28cff544dfd9e71e4a1500fc9937b8985303d726a25b4deb2635387f2d1a18ddaf34406c0bae829e4db389ce867daf5f8bedb522e9dbf01542b3d57377436e9086905ffa080f0f979835657bd0e7d1da559441ea5d421fd470a0c7e6c36b15e2b2bf902f182e8008fbf123c8231fe31063fef0aa51b9b6a6fcc791c4a11711ce4b9c97afdefc279aac2d1e42cd04f575e84d10f8225a14baef6ea8e0b9b2b5bdd4c8736aaa33e0040215deb79158806e1f0a1152356297167f49340713ee397aee56627d0db727f92cf8a474e806ec97845aa30260243f4585df804909db6a98b6c4f1629330d06db2e78c34c4fedc1167602c0b362f0e19f399e6a35e8f4e3e4038746e060aa7b0e272f7d6122f0db78309bea4d5c5516164d0781b75539abeee47fa35d278a0e135fc79440b5787998b1a1f8282740846a7f9a8925335ad471837d9b7df5e74224dd73e42916570db8157cf7e387b1e5ce669f1a780042303ea065a48cc3d943fbdf73bf658139e380d887891b6aa15fb7d36418188eed7182ab4de7f99de67c2a8366735ff3a0591d7f4ec9d5d5c56691cc587e7d72020805326ea8f66cb229df0b46cebea36d307426c033fcfd1992690f9efdda8389a8e0f6d64c41f754438c3415f139e9c64f8f19177e71d0f20c4dafef7cb58e9f7bfa3c3b7c38211441f4291737b193ba847373c4ba6e6e4a164a134cfffde16ea39595711a5b066a051385a73f78b9e053bc8e2d79e239e703bd82974895a583201731c94178f3246c678f89ecf570f3c0fb6d9e507d1354cb006fbe2b7075c59aa30d901229970990eb1dc8cb9db656f33e9030711bd41ea5cb7ed082b06a28488be171351abac8ec5e62631f15005beaa4f4b6a8a720d785cf865b6a2fe51e89dca5a6da782e561bfbdce61f748cdb43799d47a2ef5e9d42c76906d87958153cae8527ad4bc6648781a15ecf049709bb86bf14fe10267d028c1893ebd0c841bd9dd4865905b959143f5938064a40c86740aeea13c68752415ca503aa3dbccd7225b436c44dbf746dedf875e9e37dc8ab6fbda4898d169385d384582155b118682c76d2b5260ceeae4a0d1cddbdc7ab751c58ca65dd09c99bebe1c4a0e9390cb9b808dd13215dcf2ac90b591e616fb63bfe6863720fb162fbe4f1fa1e120b28719f9000f3ce69f97fdaf7a4501b014e747fdb60012c2b52b88af20be4e8df1754e00a4b0221f8eb47ee3913a7b6197d607ff307d9a48c5a83701f3fc1755093e918197a1afa7db32894199597f3797c788e0670ffe83758a8af2d0b9f9d505494408f08ffd6732aff420ee449c3394c639164d0f751d4b7c5aff23ed042a97dbf9a6fe7725bfae98f22e4bf32d2f947c431c838160f86a1580789345122696d956bec46b38aa500909dceee9760693aaaa8257434aab1111c71c5046832c3776caeeb4ff562c3d4917b5da8e2d357b5bc4ba67b0b50f43caf4b5f87f2f99567ed7c529a732326ae4f2a34eee2166ba1790a70919a95f685a92a8613236e53c485e68dec87a7047b524451161d134e75bd22e764d51797f83ceeee63915b64228e96f93999e9eff0ae656648c9fe2e2d9bcb72bf53682455c7d99eed73edc3e37f3f3a982e63a5447a63c642a435133bf1ce657c6dac061ca1736f38bcfccae01905df7d491100de428b5548470a387592881aac9f2c04d2447499cbe9467918838819f3539dc55eb3cb79573763d5a6f4b4b536cd3fc92425d752a04c50ec7f2233763402224e5ba6526d6c5d8a6d4816530c9f802f536575f2cc79f05422b0b398fe6094ebfa0ab23b4368a47f2df536c9a10bbfdefa4a59274a144476583508687bd0e9da57afd826304d1b3dd236a19f0d4dec27917316b5e771f38c995c75fc026d2a91ca6f9449f90435e57a2292d5516bef0dd71dd52c3e84c0237f3f367d31e8492cc4e266b8a829b51a126682090b07d6bfe9a8af0137cf38c5c6ab9b09dd3095917093716951ee205223bbad1dbcf83f35bf689ad6d2d01fe70204bebdbd47cd4e18b2c2739187d28550b8719f757f97b1c69d7d5f3f8311efdeaab3b4c23abe8794532d6d959e398412d10075e61051c4334f899e954cdfd69d41337fc306febbfaf00d2a414badf492d35bcb7473fb4602c2ffb0d990148d2b97daae7c2d820ce8dcab94ee4e28d5e1fec95299d0eab41fea124db2867476bbc8483273b2634dd3127e3b7ae4e7e57f5889fad6351b97076b6c0e776e6faf48a36cae7a9e907f620fc0be46673ae3f904affc758503d81159469880fd3f81d2127c542302198efa4b2babcbbfce40b847261cdc8c33a5dd21b030744140f43c6fcba9ce042645c6afc292c4eee5019ccb0988726e8557769785742584c4b19cfa8103745f4bb3b6c25a8913c6f06fd6dd704cc1c0afe5481e51985425acc8660779db6883a513f6c4d1929cac10896407e5dae7336048f05955f3d577178b185ff6f2ef9f9d4cf26f5059499738188abf0d4bcea1e74dd7089ff455b405e287fb2552084d4d90a15c01a551befe1524297c07012c236876644462175cb58c88e2481d0fb6a29399546f07539cea0d65332be2aaa870116d82f904975d72cbd6345d802610b1f05914b38f0c2328e08db5c366c2f1195947c336a29f93010677bd6fac481a80d9b4902091642ba2f08fcfe2eb23556b1ff44f96a687b61570554c94973536eec40e39e5bd119d17129a889a530fe0ad33d79f3abe92eae7591e2379fd2dcd0694fea833a583bcdd97b7a5d68e20b9dfab02ce009544f8eb05496a883184da00ce1a05cc8aa33d11172b6eadd27e8c2d3227bf2ad8a3569b602308bd33ce0c5c08dacab7b5593f463a73c94df7a7bfa1f19f8c7b696d6b4bba1c54e03354a644f15b8451506b0d8b649adc5ec686eec570d757caa5bf80cf4c6e50e78fcb4368268e520b32f7e043f9f092ef4b40af738b988f86042714dc35765912283d17456a4f3f2e65fa7225e08850d610eaf681af372755d6167abd34ec79fd1129a532cb829cffede17177267a4989a87661fb44ff7c39f208c4dfcfc4369cd308e461bf2aff71f6a7491a653e243dcc8d347232b940eff9826dfa151c72470730981a3b6c65209dd9d22fa6d5d8627e20adf4dc5aaf29df8f241ed6b1c1ed244aca860a56dd57cfdda02c985af622ef542b6e985b7c3c7a14720038fe3249e86f8f6375bff712376dcc2283bb9327842780874bca03efd2be9047e6856e1a2ee28b03b9cb87d13519772ba5900c48aea7299938b716997f8f01b93814c10be70dd47d9bfbda158f1260e20ed4b712a0b9b3fd2b76a8c21f7f27494ee11eafbce952a295cdc78ee2665c48d67336c8ccf13e4728520b346daa265ccfad8a1e2b82e77da97b69e2adc4932d60a5ce56478e774b097b792a46fe150225fc80381fd1b38af84502784f04cebaf0888b2145420333de13ec78f7c64e4a022a7ff0646cee63e822dec9d1416a8c44be822c06ec74c6c5ac39fc955a9da57156286afbb8bfc0499e862d9703d157c01644e9ddae6d65f5ef660c35c3a83bd8092400f8949dd5122c4b3b05ba4038eeb59799706003d28070411a0df85230a9b29478b25391279fe69b5b12b873cf9dbd0cfb55eed67c40fa03208d524354f772815eca293528e7b1ac259d224236ecad31e30f726b90b29c2c27d5dd88b1e53a5107800b85b274dd3ee4cd17c99a8e9892058cf8366676bd30997ba9b4052199947fd49a8c5f8fb964801337d9a2e561e212340846fafcb23cbf962452601801d24998945e566935f874fc28b3f01e69a3cfa676aa848233640cdfb946162c203732f59d754bc6e038b1eb2d43fc65aefff544acf0390e5e6b5549c505880d7216f922da52cff4107c7eab01570727566dde51f7d12a8e6105fb175936db185ab1258434a7cd4dd1231b17ee5a726b95bc6d2194d06d20df7934f2638e036b52583a894511ba7def51c2f18d4b3ff75ea52c3e137e831fc8c82a66eb56a377110e158adc8c5d153343cc9c2211b70c8c068447fe2ef091234558339c338ad77b18d71b231a4e081ea67a7c8c423e29a5a26c3c84c02c755e773839369299ddd483a8c04db7bfc2d91b88485f87075ec232edbfc2065eee1f844957b9dea81b086085dc8484ad7a4677872775a6d807fe0b95897395422f1751d7e400ac44f553bff0ada0deb7374cc8bb05bb01bfe0b3f6465a51c226705900e6d4859189b15ed2c019998cc57521560b60ceea5a5e349a5cf503c96e4929e533944a1f1694e2ef41c4f38f0823d5e3bbf7a3cb9c942e924af445022cf80b216ec1e26867b14eb3c1c6226eef24e263d8a0392174152b7a99a9c9f00293afc2f07532c0492b6b457efbb8522e7761bb7126757779157a926f4ba2b1827fee74ef3a582d826d717e123fe5750ded57a802c02ab93e7a4a6b53018d2386cebb86824648f33792f91cb39fe17a1ccaf897ab828b8129ecc6f98a905b803b22f7bbd351f3e3f5ed956b4e28dc5a495192368c6f8ec73dc62ec5df93b7f798bf73d9e0a2fde9c62a725a22ff77e478ab2d9aa1a6d0847ba7dd86c0c08f2a33c88311518f4125f4a0b0332256aa8254cd583b342c118a77466d940d32ebfc51991cb51aae47c5272532c654a32b782f218f5b8d689feb5d896bc1aa1a5486a14382c78d12eaad45a8e1158e234ee0116ecf8ae7fcbb29e6a010bc1b27a8d0388b86c73ba5ab24e598e7657feb7edbf97a475efb0d5eaf8e1a9185281ba0f4ffc9d0e90e2f6a2478aeb604f875c93eef8d298464bb46ec042ed19c8aa07801c248f268d6466994e6c98f59488e140eb1cb4900fe60d03c1d50a8b84c424cf7b736a00ed69a7e2fe6d9b345101afe8bd662e72278e0c807aad234d036b1d5dabdab7e7758d9284512991a9fa50e80b2548dd0b4cb3df7c43e739837f6aaddf36ac9ac4b4b31bb8f02ef3f9824b23da369ab36649c764ef4bf2a9c92eee3f85f5768ded8d76ee4488e2b8760ee12dbfa3f06012aec772270a09ab7b116e5248b6268fd3c124e812ce55856a718948f944610ba782095c9b8c8813f63f85c8aff0672a311e8b6b0f585926cbe7df0bb7cad153acf99b27c58bd1c8d26768e1dd3c3a2ca91eaa339f1b7d88a644646adb1773548444dedf79a4b2b6e207428a4d3a96490e6ee4eb08289a383a8a36aefa2bb495666602b639b73280ac971bdf730969d44da5b157283a67fcd43195739d086bb7ac9a85a50a4e65d6403d6fa88293a84b2606af366ed0f1004183f3e13ce977b093534038768e0bb6720c8cf14e35b35a37f4a30dbfe6cab5d03fbe483a8cebb96e5d2848e8506949b85dd2e903005bbe413e24ee7788c2c4f906bef8efeaceb20859507f1fc6bb6c855ff92709aa55d10dec785e981bfc30fd0ef79e858de41f269cbd3e95ee40577b3c83184ef3ccfd8e48b3eb294ae49e395fa8d996f693d079427dbb0418871f78333cba0fe6551e8c479f166670fe65b8e7c395324994e403b51f4834458f4bf23350352046c0b5d3fe7bb16dea0f46f3a47010a2dcc78c89ac4a918eca31073123603f929b6233d506d9fa9ff897d803924745c18eabbfe48c454fb36708083cdd10f12673df6dd40816917244b3c54fa691b35e31e8ea8e2fd6ceb588b1310ba4f77c45a4d8b4dfea1c68676982e25b03bfef04925db4ea70871fc5484536e1b930b64d299efa6ec0303d246c212498221d4d490f85a5d20c7290d542729f36dec1df4be34025abf00ee83d52163473a7773dd047a91c6abc5a63a2a98090eb01a40b7eb6d37c7ebdf0e2664681ace41d6109eda7174a654c4209198b4e1d07ba20ecfd881fe2702ce524eed47ce34a32fdf12b92a22e4aa5fbb569e0258a15faaef0bdd0b5809bede48409a20b7df8d93122aaff9fd1b2bd7ff1d4b15f13c4dd8bbcadf2c59349d430e99830f5ec623e413eda196ceea613b21a23dc736bc1bbfff5dc71b47d841925d1a8f844f8e40e9ae0df90f634f1c6cbad484ea6ae4e19ed3a6b81a2277abb2e66a966ced032e04a7f06f85b749752f49852f85cf37a87a90c33b985e5ac5a0f146665097ff415d2f1b40ff64b5f5db98dbe7a1803a411c87c1f0e1c58cb55e7b5929ede2d4895e976ee8b9c2ae940b95e93cbe20c8f32495cc5fd0100cd6258c8d2a13646fdeab81b70e45c440f22e1cbcdfe9421582e914815b066fa964c447fab3df773ce28549561b630b829f8205b9e7a4a7d1c346892e188305f3d20735f4be69d6faeb7a41a96e62abc41a3d63a113fda2e456b57d71d8f761a7a99524dc3af879eb789a203675d9cc92182a0476d9595bbece67a6828ae8e171316eb4f84d58c7a4f8e53fa52ffc7ad619532ed9e53623e7252dd466e9037fc3887ccb36669555934dccb910c2c47e8c4f959c2ded0c81689349996cd2c6ae4032c5ea5c93902b02bd64ef52ec687e87021a54d146dfc020659ae1b38fa9b2888fb07cd81d07d43729672effb5d2c2563fe15c95ce8df1abd89af9ee09866caf99edaf89258aa78d7092bfe710eea2190d6a632973df3699190c18b6b2bad12053a3a7462954b85c0680ccf4afb1f734fea580a582ef5a83796f96b00be03f819630610d713faf99b973851027ad78232a185c303cb153705e2f20f7b33f699ba77cd450de7757c39d0c4968d5c7c2f9087dc7749ed22aec54a6c52d188b210465eaab564d1c6b79cc55c0444bf21b7dccea7c615f8f8612854c73d54b7d79f96363f1cbf7971de6d5d4c7a30c4fd134f1c55f88ba285fce54a8212b0981d16e05028120b538dfe9bf48540a2e9748b33a0720aca8e68d79048172bb67c07b465f83995ca964fe5643361f6c468fffcc94f9d19ce8e5a5f760c5e9b631d824ef5b212525312e1a5e7ad9b5b2bdee65bd09ebb5bc9db39a3d3f0d44f2f3ebad97ed220dbf04bb51d79fd5fc8ce7ff06bcd70383c24d02a8d41170d383be50bdd38edb879cd682f16ee4c50c6939aa14cc6bf4222a4c39da84e410d93b93cd1b95ac163151bac60027bda1ad960ea09a72eb8fc604c124895225b836040bf103be04855ec1b3c434601c80f7a53fe819e254cb7d1e3a2e6183363bbf3e3c5c781185ea3d196b855286afe9ee5567a8e7430618ba7e6146c9582355ceb26a1ba33a30c24808dd6aee8e6e9a4fced90386d8229ba47b31cdcf95f47ce9eba051827c42e5de02b25a35309da39ff1a4775ca0ec20d0617a57d25829a7591e82cb904722669b361bdc88aa1d3c3dd2104e0fb37dfbdf201d610a355861e78081630f4a2a88b4b65c6259435cfea8ca8c99db00ea9da18640aba9a57e95166f9f23fe405d3ac1807a9a7257ed6f54a92bbd7f5979efdbd04e668107bd0b3a1e9bba70a899fa4572b7e7f9f39f6eb35b354f1db8276f09a1b104cdde0954c2c05fc39d4cce2213bd6f0e17d174fc46c8850eb4c3be457a4b435e5fb2b7a571ce12c501d7baeda0b81c43e9eedb4dd5650110f99f3d58ff86ae2279c5c4b8d33bef49a28575144580deca315e434ef042efd4360be8da33ce2334a5a569ddec0e2319cbcd3b3d3c6ca1a0aa09430036f9f6d941115417d14d3b05be82d3e32c9b1bf750f0ab99b2fb3bffa1734946cf34f46e7bc267911bba240f6ea424f0f136474d3d16b21238e46085a2f92575fae312348cfb76c5d4da89a680abffdf3cc599cf6733257dfd6da1cf7249a4f0e767964783070f999ddbcee658a94edb227f6d9058142f82456db0d7f54a1b1faf47124292d1416ed0b924e6f4badf0441cbde659b9efd4ae750702a125766b8078e42972de44101a0549c1d69796251efb846a25b83243154f888de6acd0b0523cbf4ca017fbf6ab1c96ac63699476160c538c650e876e101357f2386360689c1099efe27a71940f47c756c415d1af9d4dfa212b75a24648704a42073e55b1faf06c26866b61a1f74c720c046508665ee2db7edd0c091abb1956d1131290f78363932c21c3b60f0501baf77926bac5796199cc27c15d38fd160246dafb448ba899661a09e65dbb4c0147fda0aa775bb05561285b15a5d1b17d38c920ea85c943c09258b80c5809edf1203778f80bcdc70dfa712d66389cdadc38215f399e9f89a6804e653d1f81edde1d3fa901d59c2e9877d4d1b7ee577a81c10e5011a3194c94eaa0b97cefc7ff86bb9544f5354bfaa4945f8390da4df973c71138374ccc45ff9c24d85956e8eeddbe0a536b7b0dc35b9e5f50f40ee941987237661f8a45df0ecb27d57540098e8adf5b1fac6392c837eed0659f240dd8f411354da21f87cb35a840188ee840001d54ab90c3a78b9eb7a89cf9e2c9fc85f6c62e7dba46efda14e8b398ca8046b84bfbbb32d9ef185fe1c5eabeda20c88fa06bfa92d0ce3f126f32f75044b15437ed6bbbacf868e580aba5c14b671cc36225cb99c8691a9821d0971e443773fc10bb99a0ec7bdbba1488b21f8a32a24f35dffc90bc7179fba55759f28201d300af6eb42eebb4c03326b3e05483aa6a1ecd926280f8374fd08710874a35b9adc8c04ebbbbe4a576553282778b3b18ac10d35c4d11dc7ca9662bdd942fe0be0bd4d2d2cf69d75909baa11b688faf9cc61f3e4ef8d52308952e0c12628c70a05d6b19e72b2fb5d5b9a10c5937bb58e525d7683b5993b4e2a66b0939ac5edb77fb441f2828f45f3dd462d30f68d3f09af42da02ec3fe9a4945de1aa6e2d409ac5a5be24943e61c7c68c8ed8badc6fda5d658d33672f10a780136280445ba276510cb0802716b0d1a4ad3f179302262bb7e92a2f5186587b2066afdd2f34617452008f5cc923ea6509a58cd68f71edd17a677cd225c8d65afb8ddcddd3727b5b0d90b18d0de2be1d508348248c68b32ab47548668b0f3aa36277226f0ba779453326a4a223e73a617dfbf00abe3de6c759bb27a2955486933d45758cde6aa0e2c0b0251fe83797513c3523528ad18c487f202d94adeff687d3a40a235c9b96d04b9205e0e6845e9a86761ef59763c77d72fca18d2e218b5cf7406b0b05bd6b472f74caa8aa9cb82147eb5e8789d0c2f0b44515c16a9620cf0070e7ff0d72e3863ee914ec24e676d995477d6a9bbb853ec353f3c337afb1b9924be05b97e1ccff7b08d834cd5dfe1c88b9976ceac6ef1b702b5852a9495ae51892cbb616d0bb797f8503d042f10d5401331bcdafdb5614e249e265516e4fd19335fa2ba431281ce68bc8ab3cc51dc6d708a45e41574e6d8c425982c9e9650fad9675ac289050fdf0c1dc64de05f64d04382739b2073e125ddf20c150648c47ac7c3b9db3285f5b619cfb74f7abaf70221bd90e4c934515547c15438c1ffbe0bf28f99f0db49a034af7fbc97b98b5c0bac0150f7b4d00ee68d67da02b453a9abc2735995eeedc95a3d1ded766b257d30d0a3f46c98648745a1c96c0a9c096e2726cadfcd8ad9823b591cb682ebe9748a9f5ed9fdce0d81ca3be3f21544e7604c3f65e870b1cd3975c0f207ac59b47e9ede85530dded76cffd09d269966abec34f105bc5dc520ea7d24895b351e545ec6ac2d17bc023440248f2104d0f7eb66c33910a2693b470486a844e1f825e657e37143217c22e76064d4f83e1c30a2f34bac40a9468310e55b375450072d7f0e852be4358b43b1a183bae892e07218196c7f122fe7b50ca546f8b1c4b71b17fbe320cb349bfe53c4865c3a2c2b25d7de4e00270a2d6de16b5da7e68f723d0fdd438e4d0fce00d62d4350175c14f023931460471cab5e87002e25299d2377a4754ea1f6ccfccaae076386f7083314dbf54d05b62d8b83edd4a097a0deb66a4e2023df39da217b8b205e3fb10aee687f13b06e018d4fef4223b481fbcf27425c5db95d6c6b086d3efe45b3d988e5d6c7d3554127ff2270fd8e6b5d9520cf9f803001b3f985d3bd57d63a43bba20e07ef8542a39e5cce91b3e42210d481f34ca62dcfbe53bb5dabedaa49a200b3e1502bab2bdff4b6c618e02aae37656f36e24f5aec1ff7e29e92305bc9928f5fbd296c1a088c08a7274e195cb53e0599c7b5b320af36c9663a39540188c19d56bd047ea728189ee8592b29e71d20cd85f64b457cb30e111559fbbd364dca53e04ccf4e29df61479590042406ca94db876e8c5e1287f21479c0da539f9e0110e3cd265757a61cecf3100857993b380c86092e3be1951f24b5b3f937f53b4ac6266acb1edbebc419cfb03052e743b0cd979b06208e7ce98bf1c5ea29c4868bb6f48b75794a1961a176bf68ffcdedda9f7749f77c3b81f67fb4940293b5f2ab1a7fecbbba0638302d912fa16423ed2f9549d0d95b956241b94530f7018fbdf33c74915e0aa2db3e20508a3fe3e49df79ee889d91896257bbf67bcc5820b12447a0f8301d0de2c4a9ed41ef5e221639a1c20f4ffd5f9e9e986c2ab163d0d152982e1e9d025ea01b231d455d2dc74294e3ef6651bff50fec91ce9da5869348d93c61148e73600d5e8d77fd545ab144123e4106ae0bb2b1f298cb791736def8d79602ffce8f4d7c9d024b800ae7d08b090672e507e40363b0e0c432c442dc8184f77255ec2b62bcec616f69a096a85de7b8b2f1d7c7647332a8374c691090f16c8a1f46c8addb1577b197653be7075c63820beb3f98f38ad74fb647526300a5f72d81804fd1e2ff52319c07d1f650041e008ff8dd85a7dfabcbc028971cf8c9068f5aa8e02dbd94a439940c864cf1cd812e2602ecc8ba5bcc935870a19127c4c9ae98e8a09cc0e6f912712395f3370cc584ece07bc0434e90bd919fe17b6843b198b8a253cc3841f0ac09258498817d157f9ef207ce005585d8ae9ed665c3444c01fe52531bc2d0e3ca2e486322148cf8841040616e6411ee007ed9474122c5fc886beaa89b8ad4f7de069468f7ac6115c600b7307d74379de7f04ddf149c8b71bb98db958efbf7b5ba2209007b2d3325e4781665e33766c035aa6a1848cac7d918fb6e3d20a91caf688792bbc1780f84c3fab57bdbc71bd52b8088dd12123676a35decc98887f8a08c905337274f5c72eea2f4902416235860eda34895c84f19d20bb0170803aba21f8514c3f74ef146be6928321fcc3f30b1c1ca757aaff14e25e203168b7c9386b82e2fcdf9be613053185183d4f649c1a5dd9d98c686cff11035a159205008e73be973d7c13c300bca0ca69cc66d8735898b9390730e20699d8ec72d72481f6b724968f370a24d6201e9978b600f0478a880e02cb3bb0f8fd9d3dc49e58224e77825ef8adf296e973ac5f94174e5583f612326f54d2dfb7c46e6c88c6b66a02f4f3bf4daad57868f9330c613105881f2e2d5e6c48f8794350729433c7dffa530a065e5dde99ab31e428aef4bfd77cbb7d44c509c62eac825de9cee368c3b0c450d2426a4adbf1a91bccc3f860dd353b1ca770251a99f7b6232377751af9be9187efe2ef578d1a0d265840c302adcf8c07235d81499c7f1970e3580376ca15ebc221625fcd4952e16d0a8fe602d8d31b23b3d8c533a7c89d77ce9ed680f59e3a7776b0843206cc1b3886deacad3641e6e45fcbee9c909a03617b7bda70e25eed267ddce39142367c4375b5c643c9e33c3891d44d35e91bd8788d35395ec6a12a3ce8cecd0e1ae886f5321a2c64fffd6b657670fac88301a1461d17fb711ffcbcf16913ca3619e580b22fd871c8e839823705417e2aa1b8bf3eae9e8485968a56fa3b6f7036e4b2abca37e97727b718ee3a6a8caf62f79eb212baeb633752848630f1ee193f3d903fc6ca9e7110c57d1e032529ed29b02147167213c07d6e79f850dbbe7901c7756d1feb5fd9b3989618663aa094e721e7e2d19cb802a251028f07f7abc529777f1a1e13f8bc9ff2df21001faf55ff232e3bc31ecf97d6d6e5e5965143b29bdaa50e78fb45349da51efa3cf98cc4af039d90b8a54659bda654e385ede51ac3801d511c6d876408ac8c6d5297850e5415a0d3a80a4a752582b3bc2beb11da8fc0c834af8a9959de8e8f95eea428a9c41f03507591eb1f62116bebecd35586e05d933518b80f5d53bc3e65850038c45e2c0fed302d3a57fd21162a3ca4f98d0d4a1db3df436a951c0f14dfabe03d606c034cc767c304c31ce05f4c2e1acaf8c981584dbbc1a4dd78c8a3cd53b7dedfb9c9604d3880960369db59651b6582490267c0882ce4d452ded3ef36a05c3335b59d650a5f6c2c9b359319fe1e9930bdefac17fc1f602e5b809b4305652b3636f9a3f1283c7cf37873af6de63052964ee9487fa0ec558d64a10a3bf7a8ec7932e93eeae5e9614eaaf7c175f3f12d16a19e436b8ae3fbd74d0a77f6d718b1f74f8baff502fc87f112960072ea905e5b36c492b82824eca47059160b347fa163e5c862cd03c4607663e3c57def339995fbd94aeefb02464be3c21bce5346f6bfbcb36bea8ea407d1e1a5f1059d21a0e77eb14450f0c82f20a4eb1f619df8810bd26adb47e538b5518dac1ecae5937ff98364a71692abf801c54fd352fbba814f237becd263ba2f62e5ee0e2ef801a03583393c71b7cc1ade032a15bcac8640c066fda4b3e49144bc309fade449ec1730a4d41d01445c3b46dd2f079c47155f242566902cad86f01565634b379398810f7f85a8cfe5be70dac6b439c102da81d680a74730ae36eb1ce8978a477d5f9f8c96d395f004edd2847de6cfe4acec815bbc662b5018a651fa4bb5908def43e45945648fc590dd0d18a430a518aa5b99a80bcafcd559a1b36067b888081bd8b9653e38b6717d547e3a0d30e4744202650ea81093759f93a950d13174f0d532c8b21b03c6620a14ccc47dfc051048a9104c24f07c163485194e5bea8b98124ff80c9a70239edb524bc50a775505892be6a584f73c3516bc5764d9dc032ac05b6a64c7ccc1a5e6e99ce5dc3118eaa80e0422773f591b291019ecfbfd064a1c1e9a0869d7f24c07531288c993e012f9495c5b00de8a8b39810058227b7b4037a76cda3101e20794ac2211bb8afdbe58764798bf4a0a0b5e6fe6534d27568c96a48936220d294337029f49d35ab13aa5d994d05ad99dd9ab334cf8e60e5001c56dc26845b7b5567cd0564fd23699a4cdbfc6447d3bd5dbc4c1da491e07308992db4e43290950fff81feffc83409b655ea141bea38cdf7c007849050b7c2f774c6a541cc6c37652eee934ec16fde8f7c6862cced223cf54638000a809e3a1e2ebd083dce5d860cc8d40dd3b1f30ee91c99cdfa09df94cb805f8568d49be98ab9d5580529d97da169ddefbb0903d497447d6d53a46e26295e208a471180d3cfb2d9a6a6cbdb976f3035565cc83340fed856be12ec78c32d4cd70ad702c6fa440e5e9ca92b5c01e68dfb0ef6011e39daf2b64fe299383e61d6e2aee2caa0da4b0ce4460d09939e367423bf29b6702ab3d705b620d5c34780e6c9de13c9519ae805f244b0bb19a7c70080822fbc82c78c98e6d9e66aac0f064296598278ce3f5e53efa57e1b68122734f38445e211fb18345c51fda658834b858f9b13eaf001f04514c654de63e9b187911e65ee62484822b1b9d4bb3e1c20ab27fe50a77c6847eed1970e41d7c103a8a0fcd5f3e81096880e668c47b0d83c388cc8fd4b4ed29f09fa3bd1ce32edc5148a7b54776e7dbd4e27ddc0af233bbb39af7e79cdc52235e1a58d8f77e5381be52b8be07abb24fd9e06eda5b81aa868447963f97eb266049c6329fe7993fc325e65bcb220c9f950ba4d71806790411b58ad7c2566c630d432f4dc0008364884cf560b5d3fb87a021640bfef2d721a3fdd1e4b41ab96f70e54a9057189e7eeabd55809c5c8cbc10c65d0792639af563af561f4ad3dfc4c38441127c412bda17a48d591736825ac275c119d779a921c82cb3dba481b8fd9eda3d15c99fc466d44747d6fbbb0fb01ac55e6ef9c4d0bed51e4c7253785917eabd64e98f89e763c32b967b135685f53801c84f7fcf29082a476d15274f6bb5313d3e9d81ff4c529bdd6ecb8cba6895f1cdb96078e6c3d6d20b000ad2cb312ec5a089ce7f0c1c19157ce3b1ac0fb3cac118f21c241f5bfcc273f14b4e14dd8b6c691c823ed3bd69f0c1fcb32bb8181c22d8a116cd915951e60bc43af76db670590af5768ea1c944a1f77f067e547baf12c29ce7b61ee7fe919c5063b780c57a0d8c660024cfc48128a3aa0d98806ba68daf3cbf413c5d755894b9b41fdf62cfb29fbc9fbe49cfe00580902c5ee16f614ca878833af1c066aac1e858d58538fc603ac39df7b293a672ec3dffc4011ed2c3f3e8c377b6aa3d735de5eac17014be4159b8c33979d0413cb3c0ca59314ca172917451d7145fef1d746ecf34620bcb11340ff835d32568c34dcfe6dbae08a41c732e626e9a131d3950ddc2cba31a351ad0655d822011577609528bd6d496a77d6ae39f4fbaeafc53a272116b6d196b8d1c384babde12573f2672fdd14f6593d791e7b7cd76389fc09166dd1c0b71a9c83ee9db38ae4fd5037b4a978b5d2fe520cfbe62f104662fc505272c444812d9e9a1b5a2b093f1f10f38a4a4fab86102f52de5340173ab7a6d7f100f8d5aad20ddd9c882e91b453131fea602f9e05128ec0142853a180c636caf3462f8c48957d6e9b491b1737742b2f3ea9cb1ef99bb4d9c0e3d973647e7ffb888211d145423a2d39b3ac898a437e469f238756ac1b3f634e7c1d58901566d4ab198ed7b23a168f60fe44baf5fd6bca07dc475bc599e33af3b98ffbcc1626a9424a14ed0036734bf325a6b56655a864dda43eeba6431a660b995dc00dfef8f529bbc4d9abeb7eb8a2f5e928fac9a2807704fe25be10d02bc8d4961d24fe2d1e5dd9225db1daea90562f40e1594800de1a32512f015cbdfc7e60b9df727428c5c3fb0c3e1e584358dd1b5de01d3f1b011e630d9b6add3c0a777f46fbc4066709d2cc4194ef337f076669a8d783dd8d5f177526ef7d331f1e2c8d8cbcc22edfb286fe91e1b17a01c63bef1fd53fde664f4dec155832f0a08032b657caab0800836a637586d692b991f203316280ee8ac5934a6345f32c69e5fe7877c1a5ad22a3d89fa229d0fe6e16b820f74f902fce9d60c26b5dfddfc53c012ce10bfabd338184ce57a097f649d5dd64c7201693050aec19f893b924728af9d237ae19e55a2f85020f12872ba60caf28b802dc8223ad7669b4488e6c18a513a9dcaf4896a01aeaca656072f2bf44d7512de205d42ad802f5344db7617df2de9a36a8a86c65416172f8bfd44e09f0ab6aa93b163bf44648905a2cf8d1dfb05abbaaf561bddfa2ad9c39035efbd4cfba8f0500ad79878f12e2eaef44454d38f3d2c3f058151a4a8ec743134fa6906f2614aa34c5a0a35b0b9413872e357ec8fa7efdb9866f51e2c7083e1dff683ff9d04e3c8359c42b6384d9ff7862dfd8d9d0c5e04fee530c097db077f01947669f9f4c45b7b5fc295dff80e4bccb470bd8ee6055d3acf29a4810a9e388941372bfba88bfaca3252b99dcd6e5ceb654e21874ca89060e130c41b7d0f149c2be65f02a890272957d59a509c8825ca3fd19172992d8ee6a5eaa3f7dbbe591db6ea38ee1d4f7a8f5c5c69833d1658e9b6a436d0c4aefc05a6bc6cfb2f16a6b47b5cb30ef0e180607d4537d226508c975ef966120b2e732d679b64e2e10c08d4d4ff204c01b3903269e33b4a5f49416c9b679d20d9bdb1af5a2c31a310df78fa25eab9e5a8b19589198d2f9bff28fa7f4a72f63f89b8b2c6bf512d0f85fb181d92d09add94b953b922db1d40a1073f7eb8962b95dc3ca2b09ad6a8a553846c4eade12fbedb3ab3f7afde0d39db77da79443f0ea248e63a9e6169965396bf48325cac61b9997f95fb8e8c8b5e9f4e357e7db0d37ef29413fe26870ebb81e2090b6277bc7f138d35395ac36691178a8500fbe0ef854fd3fce86186601edfd81e2ad172450301dc98622e2bd0146e9ffaf7d0a53fd6bbc1a7f121df4d8e71a02ea0aa3bb7526addcef7f11122d704c9a081237ecfaa6dd9fe63299ef999bd42d2530aba51186e61b54a744879d6f4c32912b63353e233dc490cf1192b8e6bfc66c566030a816e376dbf8d7c1983dc25fa9eb98dc43707f9036e2744b09fac0c5c7e0289ab9cf4c144358eafe9112a34a073370b69aedb6f8baa2404ea143db40b94d9d7770ff13b8780a97cdcc2ff3cb126ff70deebcd37391d5a32a6ce427014adc4fbffc8845361c41e3bc2cf8ff058c8dbf230b92e90b3ac1691d57cd9fe582a76e6ca14c2c695a40f62c173ecabe3611ccfe1efe94556280b716777d9728ed54ae2a1991cf562f4b5bc8ea12a2ddef55cdfba75a9af93bbf0625605a3d6b9d0235a8e440cd4b25d9cf6f96fe23b6e7bb570b57062cdb88d718a2312c5cb1b6b7c234b231a1e3482f6dfd346de6210e34d1d0dc6964a5a4a713e31cb6a85175c8df8e2b2f3caaaa07292f7e0245b985d06684082c48ed7998fb1b5068efdc2025f7a0d49317fd73471cfedfd30fbfbea6ae47dbb6b2b9a7ad7d93412b80baf09effa9832f0c9a0e352bc98f751b6e074478040a973d844cd4018be47586e7cb0f1a05030748cd28dbbd2790c1d38a5bbd9d710e87891959cee1a49415994c1dd5b9dbfa8ebb9d06eb3b94f284e898ee9e94c1c4c6b996a4974861806378d748873bf95b0f3bb81a7a95d0bc7c506d4edb4d8faefd4f0683afe8671adcdb7b4d9740c25e30b8aa7699ea6a7b7bfc72f4e3d3db19158014608a3eb2eadfa40d4a6513ce7c95dfa149cd3c53b7914e565814900ffcf6a6907bcff2061802968adfe9d91546be3420d1b80306ef436295d2a744d11d4b99281109f75936425f21fbe90d3efff4341f75f1d13b8269fffd7f9a582b6709d853e25675ed65360f5b34a6134d6b17e447cedd03fee28f8de3e6330d575b07e6648e1fe6d6fbf84d619cbe0ee46b22b1df46000ad94419b5bdfa74bc132a6eb082fa1b1e327b812eaa944317e329e2946ad0e549014033c3c2e4fd18731e4ed77b6a6a656c2804647b49776bbcb044f5beed738ee4830b8ae6f1e2bdde51bea731a157b109dc35c9c3b544304d4f982c72654213b59df932261bd8d578f36b79a33701d158c5c46550afa66fbb4293a56133cef4374f357a14cdccf98d2bd300d654e972baea235ab328aec1514317a0db5fb720798b08572623a929551b8b49b00dfbe2510e33b5c0b4c7cb2249013ddcbc7b419d639af9260aa8cb46227175abbe000860758f9f187560fd960ad2d5c76075ca4951197c6960876428b1b175abb3a3b1c3b3e3fd024392d5b9bb02469ace785247350cdbc3e8350375a9ff82a308924e73136b27b32e881a06490c61094940a36da2f6e9025679ec73ff8c19dea3f023f9fed65d65707266ac39f50924df6f205957d0829d9e49afad92de9051192f9eabd74b8af2e7b0e88611bd96cbeab3ff9fb6cd8a98d18c264f0f850e6676f5fbc8793057b77f3c43048e318dadfa33f8d9ba5c708501f504b63e0f0d30e03e60ec716f5886ab171f460cdec69a6e47503e5c9ef079b0042298cb87577e445999c582cb0cda4ae63232fba76c285179a10fc703211d7b390f6f58c13caeb48dbc955cffe8b4fd6590bcf998a984bb9a678ff51bc0594b12e5fab0689b4a5cfefe9a68aaec902c3084bd48f26ae4b32eb1200532bba1ca18f31b217496789802fd876e1cdbfe88e07d0aee2a5ffce97f927a72bbbfeeca8d73e622b8d4b779e1ca621ff75f15b62644c20ab3de7eb3462bde5e3730276e07f00f515ed542314c94e82d4fb705a57164e8f349efe2b7d0c295e4d5cf30dfcf30296a5376258cc68aa2b3b1d9e7904bec13aa6065f51bf07f0c4fcba94b0244c25400a92594440936effd92d419269d3889ee39a44bffc4fccba6fa3b3a68e25dbe6f211836b253273db1b2b30104987ae0bad2f6dacca1a9329334793f3dad79cd67e9ee7147eafb01a3ac9684b94a41ae6433a13048f52b47c1d48fed753c628fae0075c7fd2b8d69c3b8b624fb1339843fb48c6d5a756f0e61289afc4ee157f0908f535bd55162be0d84fb008e4b09591ad29c7158790dd90283711b94add57ba4f97210b8906ce0035ba12dc2aa4a6470ac9906fb1a7472c1d6c427b39e11076b8e2d2b9716d969c2936ded0ab2790fced780dac88fed62ffda1c6c6a8c1bf9aebee7722729f44a01146f2ca216c8e7ed313fe831c0f7238dc176c866d8ac2f654d706fdc5de23c6ffee065b3207873d5745e7b370b559737f5740b503cd54b596950d4d9169187f5f3d1298e74df13a7b6b9634cce12562bac206833e4cbc259b6c0e6e3df3aaa1a11a563bb1e59a16c456c87184031e0eddf406166bf8a666df787dc821421273472c76935f8c4ad631c7004b3cf008438381e9ced5413dc6d3a84f9c60c256fce331e79a512441504829664744dc886a0cd4d7450b2abab5c1042378a528442cc9dcdc492c0eef19da53f912ddc86e3dd32d0c18b40a9273588320feda78db04998309c32b16028e5772f4d2577479c837f523a3ab20450551df1af0194ff706078d7ee30095fd93590a93e24af679e0cedb143e8faa336cfe9a291a5f86ceda30bde1800b5f74a554abb94d9caa671220de2a635c44e481b49ca6d9899578c0633e2f6ac8531afa79c453192ef2689d0c40eeb7be707eb402b49f61cbeddaa687df1a273c47e3b240e0edbea8be17d6dfadd9eec27ed4b729ca179cff29ec65969d6a6f427d8133cc11510eaa66674fda0c084bbdfad08253f9f88b657e68b51f7632f1c95f19ec1aa3912af34011da55f2ed24a3a38a7d6a6caec09da5b69f423706a50677e80bde082e0bdd77ad220d4352928140c64f0e54cd5689d4b3ea5cd15749f1473e1828e9cfe685be7ebd739522e4fb9f7b9548dba7429f4454e98a0edeabedaea4761aa49d13bcad36b4598e40524d86376dc2c1de05cd5a9380dcb424cf13d8df382194e822ed2ba556bc14980b17a42d3a6e7b666c14124b79ddda9ee28ea749e7d5972493853f3f1c98dbfbc984f5ee3ce546dc9e3d8075280316374fce6c1a539df4de1d045d0593c837126e243d1d2910ed2b8eadacdc1ae1cbce37646635429daf79a7551e167996935c63ed8f8538b2aa4f01842ae567fb1db19b1409a22fcc10823178a0800dab83951298f46d8e4772ffd9d32904234663e7723f30266762d174eba3edb3aaa6bdf5f00e261f6cb77eb5f117528282d01b4624b8b951d3524143a20a131cb30a9d3efa97ecdcf469ec28f97e4b0a80279911f4c62f897fae57c8e373beed11fbfab0c1eb984087da3967191f521c41f43eef929fed85137b4cb0517c326ba61013a2cef57944c0d9b6586d1197ac2f158bc520b23d23fff4150df751ae4cfd608f9ae0f8c6b0be53bd7bb8f06c3a6db375a05738a9d73fe2c2d9b699eb380602dc5b6bbfd3cdd652776e7201dbd0dbe054cbf009e12768608e29018b0079264ee98dc3427fd5075d048f86b0c2c3e7bffb9f34113c4f790c4397bf33fee2858534d433467a2bf4874b27aa562e49cd2f37629d59e49e3c9c331b4c95c2447be87feeac19873e5710bb1a97b53827a0a0f8a9cc8a18bd781ad8626d791b59563b5d6fa72751404f320b21d717b0e436ee03e4251a6d2c33ae1ca87edaa51f3ffc8d9f660f2a477386747e9d1a5de94b0806919168fbdc0a2d33e415b323380b50df5cdc411c3cdd0c3157c154b34463b54a186ebc27e9038a41ba649cb7809fa7cff69b2cf43af671fac1","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"36e668e149460da4f59ffe8aad5bc414"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
