<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"251c40a7084394d355304842039965fc6e060ccd89d2e05996ddf49dbc96f722e642597875e1c83f62e42d06b6f45cfe0f98c263b7ab2ab65e1cd8272d8c15ea528b265d21920b1b199d4e62db28d86022b1bf9e309e8f56950ee40069129b7d7290ea7b367c20737e2a43d19d4f64d243b72d0d6bd6ed5d18e9719351c7af42c196ade91206d1630f0f7fb734be990681987857dafd1140f4fed8016c25caffa25f93edb3f8fdacb862efc624df5016e94d7daa2f7bb96aafcdcf4543af098ccf9e91d925ff53af73a9d50c3eb6f5042203a3cd76738458a8d541d93a51a1d1f04e2890af3532ea55bce3ca25a1a03252d02d9e0a8cbe82685895d87f582b84dd4c63ab734c50385d3f9d493f7e74b73662bd7a0e6c9fde0e64388331da407c53a59e524014801bcef91d0bf0eb41db8b26fda88f5feba7a88d5345227d0244d4accad0920d14af66f2ca7ea710e6a6ff4b33541ccb4f5231bc0700879ba39340ccacdc5ada62247971b83e1f6c13b9e40b97c7d0871d536a2dffd726c5e15656da0365d5a21211584cb6f3cd25d2d55f4b8e511e09d03ce71890af3a5c50a19f8e318585aac6be8d856c56eb5795d34752aaa145f2d24f90f22814a351722d2cf783105ae85faadfa6b51de7c7df1106f7ada337b46fe546cf31896eb8a0cd0151ea813afe07ed7f89be9ed9b3b0b0bcd5f8d6f51be06534123c88e2dbac2afb2e5c85bf8cd3058a7009f12e536c3b441e4478d3219fd7be2c0b94d85eaf2b6d6ce6834a5780169e637230792f1b3c189dee4a6c9b2d4bb76c5dd79f7f6289b25831048cefc1660accefffe610b4e758fd5a20aeaf61644b39c663eb75cdbe3975b78a3a856b1c5534b3807ed39dad31dda8aa423d758b0a0b08903facdeb57cb503c9c458f29a14749f1d67727c9d1158fa5f057196618fa9f41011bb8ce98d3f39bdf6ebcfb13cecfcb42f5e797461347b00fcd334e9ae6d601d6e7df12b62f9ed03eac208088c62b18a3e95d7914e2a7893c5d45d632871fbc7db85d29e134fc67c363694ce3a2206e8fea8c00cb4840619bfaf1dc581aad8366a55fe0ea6948f012dda6d5115b2bcc9e4001d25aee85f50c7711ac724fa1e160291cc60b2e4e1cadffc6b877e1fce9eb91b84e2a31469c1cd15d6725cfffad4dda596fc875e197f5584c65902d401a00e88c3dc1226117e69510ab0f06a79a14e3aefa157d888132a2d5e58644992c0e72024b54b0b20e5d46be4c42f332ac7c4fbde25e2fe0fce185948809e727f4c43cb4147f1e3c8096d7626fd8c7b458cea46afa7985bb35855919e9d2c4a57eed5c723ff0bed236ce06d2d39b39ba0526ada682c5f27e1b2fc7347c405ff8f2610c050ad48508156105865513647223fd8df66c5b0c0a69f05818d46bd75721953828b5395a6b0decb77fa3ea680a926ef8f2537aa85c8d6a791ff13d348ec4b6575a4c4dbdee6d760d7bd21f6eee7f6a395700bd5f0d86237405d1849532d463b2986767905347520a48c9e9d03d2cd5cc9210bde02b9ae9c4f50aec8483f7783397b06900e6c37bc1628fb3a70a4c8595dac9f7262a55efa53060b3d661bd18be737c6a3b32acff6ba574d3a878bb169425be10aa9a47314aa6ba22dcacc76f543203123fa07a1378471c5a6c61e2ced391e27b40415f1a6b5e4dd3e6dea7cdfc57805f211b9d870e71a5d29a20377f75d849b4f53f628181a903e8877188204bbc3ef44124e5e60b4fb05c3d675fdcbf03bfc6899cb3bf18a2f99cd622204c18417c1df3d98545a5e5d8e9b0dabfcb4839b4793521333a1353acbb8e489753d5edd56c8377a454fbb0a83bfc5363c6e956b26ba6b0d140e3b29c10a578ee1f443f60f15bc3927ecbd8cb8a1c5c2a6f2c9bac4c01d794a4150068530c744f0e4d5d0316de76cf13712e64d00f2d528108835c35fbefb85171c65293a34eca3dc6d5dfd08de2fbbc726ba92e85892966c445a43f0d74f9ce968a4e444bbf11318490736b967a18a008d81f37b2a80fb120378bf83221cc852937366f15b6118cffbde3989c47a225d7f9b02acf1afffb4759ba2067dd8b7a45de049b06d5006d5bb4e78236e8fbcede23ff8b163d068b918a7ce08aba1c8ca992cf86a0aaa61e8fbf2e86b7066f270d90f9510cd404aad9985c7dfdff379f3a1fa0be98a732ba6e32068130ed3039e26490c8014ee33b892a087fb275106a54e0fee5ab49b275beee5be8c542a4d290efdecaa6c74807f3d151aa153bfaf79adae623ce6359120a476bc89314405951c46ebdf87f485733604aced3eb6ca803450a0f8828722d28d3ba250c682334b979996897ac357a484f205cca03c3709c5fcf527db77969aeda81942f1f230f1959a6a9f59e331859f75232c7c4e9ca894940b93d408c1ec14ed7ba989bc2c9b046c915d227150c59a50133903cf8b5c5289b535cd4146d72c7e9beafd620e853f79c4c61e3f11a3f07e51468229a84a4bceabe68f986b22193593e57589a903b87721285dd4715cd35a0f4cc40b2fef3023e9eaabc69475d554561eea33556ba5d85a896eb91d8586163ac2e6a1da857f5298b76ff6517faaa91c2daeee515d61f1189712c5a5d5df8139b1b2f0d7e893cf9e0b23d4c4b0043088171e9c4af1c084e38c8c9f5d49c3d37fc46816028430287aab1e4a3504552d1b98f629c72dfc93d333fc40ccb44960619cf70b526ca439fa605e89a10cce7d8ac46238488b60636e1db99e1f01aef88ef54f554ba02fa5915e18161e4ddaebbe269698873f8207308eec0cbb620b03f962c46ec5057ce54de8092dc81fe9157e2e049fb9206dcd4c2751b9d6f61d78faad797733bffcda8e2d13654172f594feb00f054e7166eaf7b157cf69a29a068a01a713767e5b6a50259578cb47733cbec250a57683be465a7aa95629d1acc880b422cb3a29278f111e0f23b38dc933ca3ebcbb33fd3b304b582d3c20c93f85e69466a24e8514b321dbc40ac94716641c39b175b2038b661e5bbd3a5551a5e0e7f62b8138d73b2f2b8d11eba8cb6521e09b3d87ef15791291a8a966063cb5d47560228e5048426f21c204305f2c9946e70a17bcc821f5763446900d0563b0baddd6ee4c8035fa4ce09ba8e430ddc05546743747cf52d0f0c247ac488a35bef03f7c0048fd470a5b9933c2a1211e452615afaa52351edc28f7e46316a540e6b8eb3c43ee704efd6b3f951a4e0b52643f446d8cb7ee4634c9b68feaeafd71d0d160361b7af60386983c41edfc3a254960cd917e3e1f13ac1caefd94b105dc58955aa34b39623e4294f69b82f33f7595e11062ea9b27dbf80a267572f542f3fcde895fa90d02951e5e89da5926fd040278ae075d5ded775e084d5421bc75debe793f310881fa7cea47bc735783a5266b190993d19d74beff5ea40fce3bfce763cd4fa5318a55ed71a47d0c3b6e9778f479a407dfce523d4e612c16b9b7eba1cc3fe56b8fa3d5c5911202bda77f32f9c336ce778502c67c3c5104ddca2f3e411ad04c9f5ec787d5e020af567cc0e88e3a5ef732c01563cb7d1756c066146d37ca9e0a1c159a4fe2d229bd49b471e7f428c5fbd54b34bc7f7c3f1cf8fe6d9e12fa5b702746d5e6ee413dcaf316be337df0fff54f0e66601d41301dd65c3cbe369558359fc0d88a186f6fe0a7a6816f5b57294ee87602687a2beca0ba18df7135aaf7710273f2b345669e68ddcbe9490a0770c6b64f189b4cccbc5ea6d04413df733e81eca893574486a7e83616487dfaf82a170161067ed66d1fcb3d562a590cdcc6d4a44e3cde988f0bd937faedac90936c068ac20104fa302b594e4b7fa5bffced401b9c1d0661b68d5195eba638c12935c1886fc36590c0d7f919a29181e1914e56d6587cf3522e0f4105d3dbcd266bbfaf0592b7cc22d371c85bb0ddce1297a07e0bed9852748b3287d30027094ac234a6dd415c9ab6375bbc86831424d8ed5ffb0a6e450e5f6ec68674c28cc644fe7af7bf0f4107e3bdfbfbb26e3e2d749820463ec72cb3c3fd8ad5b23492c08bece00b92a399e8874a49cc432b70e0c0a84cfb64206c87ff0a247c3c971fc49b5679b1d8e74028c269fc933dd810e20ed7874288057409357fc35070b8c6f2a36e1e63bbd916c1ec7fd3796dcdc8f300088e5e58c397da444abbf5c501bec975fc52942125419940cb944a934aa62af6a0a5de26af8ef58722abf0c7fa76d6314cbfd38409f53f34b7c689f98151cb4edd757c9fa6d3b32d0b7c7fea07851936ad589847a5e219602e8a082e0dcbe60622bcd0d6d1ffccdd69f5605bbaf3a17181a52f2f11b3a4f33a9a52e52cef350e1e0514451389416c6632c48a4adc9cd490540c8dc14d7b1aa1eddfcab70e72eb2d4099c4f66cd7f6b331a47552a4435eb0df4e572272cb713c987c26603ab00f6e6d8a82d6336ab58985b0eec345562196d1ebce9bb4f7af07843b00b73a2fe820f727776283c64a738dc18715399989cc62244e167918c3b8df3857a5403fa2c5c677ef7c2728c21846bf5f2eb428033b7dfc5dfa55e643486ddae02d15cdd9a6ccd4178b869aba19641abf43665867fd07e27b94b66033e1abf46804460795f1623e4417a9f2881adbbda5ea182d37b180b20fb285ce6ce923886fdca682b33d65e97f6e8cb4dd0ac4f18abef0c7677505334843650585f7d90129d9eefd3f847ff2c82e68b57785e8ebbce224a1ebcb4cda82cf8432837e7ee9277e789c6a3e3a70a547fe7f62288562e385e25ae1012b43e120a77cbe26ac4cc70e616230e9ed315e14782bb125cc6ce16de175186c6fced68c1423ee948860a3d9b24605e11579b87d3a4776a37c782bb449ee8fb10f9d17868a63fab31a61b4fd966cea175be3a23167787690b7830c4501d8abc6b39b0d0879ceb29fd6dc28fc689a59ae247e0bac3a07e0d9879dca3b6422ce62cc59ad31f3fb9735d4fc68ff15b6662125f12ad5e318c2f1794005c872d8baa1e589942ae653b8e78c4f379d7a2c0a0e47cb87067501df91e31e0a2f782d03f3e71b4da4e59c37844cf89ebb0b3270cfcf04f9a558f477126509b4d5cd06abd6876d10575f14957fe674ae2dd495e873b9d69f4774df0d68b9510b182ad1c41e1cdb3163be3a590b8ae656bd10ff1ad6c2a85bdf5490fdeacb250b28cd90bacc9009c0956d17391d88ed2e99c3c1ffae06c72ee4a6dffc6c4bd36928d79ad74cea257fb591b376d2397e30ebc114c23f1f50df98ca82d857f3d663a1c55a866c35347f842ce09079944f22a994c0c14761f82698f347a16459cc9adf0d932ece2678ae6a10b26d0532613a996079d2529efb5171c04382203e8b80fcf980e0ef54c9a55a6377541980a62960e18dfd398e1f7e0a245d7a85ef4c8511afb492f5b86ff7908ad78ce708b2726d89f503b9771ab671cad8a38a4a5d81936a1d65f9e2101324679d6fb1d21e57da0d960178aea0ff21eca375c743d0d4a2bfa3791bdb9fcf7a2a583302f45a816751fdf44e33cfe0582b514ab7cb32fc7b97c518062e63166c76e026e4db70f01c8cd6a9b0a3aa5b149bbd51bb9203866140217d32e2923726a6876f3b787ee8e6f384a0e8c183d28777c2ce323867706578cddd8e0a6973aa59432a4b8a458590d682e65a6171e103fb8c93ebc03c352d1bea121658b99742ef34533c7d29b13605dcaab9f7a6c849d1aa2f07f36dc3fa8b997a6d56e9a3fdcd759d9866a423876f6c8e74f3ea50675ebbed0c8ae5d426aa26728686b14f4e92e1447180d5328a93cd7a6858646fa4ad89697a98ad5f36517d8723491200b5758bad7adc18a8e257fe89f3398c3a329052c9cd6059f3505afee364e648d416cc973a544a7a743538095b864e7b6cf39147f385ff1570dadf22c20a8610adca81e388a9f890fb03c33fca7855c0e0d98072e4883adcb6886e271a2178b8f8073bd6253a70f7a3276893ca6449a4bba221cc02a1815a1943d892a96b368f42b79e7f0e6ac26952ec93b8eb078baaf2600f3e187e503dcc4f5e0a53f01c4a400832a9d17216436917cd3329290bf3a41768e0a07e2e5f4e5023f59cb0276021f00a2a46a9bc15b3c47f672b9a4c320bda2233127d40f7009f0e7e2bf0dcbd8d8f0ececb263ddccf64cb5ce6901334833254b2d12f489f306f92bbe11fcf14697e7f56acb370ef2b1845a267d7148c42631751259f4e582e4a02c5b94080c23c53b16c14ffa9400031cdad0ba3743c2daa768d95382e5a77b0843c76d8dd72500d0438cc3f393091c5707049019aa70626a6897b8e961254e2977570bf340f4fd6016170c1db3bf0f057ce7df6d1b5290191793f1a2375ea9f3b83b0e640d81309057ab372e48990b0db984f669f15a7b216cbd6e15fb4d4a6a7173f1862c2003dca51256eb460b7eca79d3f4c51017580f3445b542e75ea093bd1b615a8a437381babf21e00fe8abd9161ad95eab0047d3430f539bd4063b6103900826559e14c19935e3c71749e51851565fb4c23cd1d8ae4e7bd688135f35a7712086aeeea94ce626b8990dd06c1498698de962e91a5172d3270d7a64d6c5627076b7e47e2298aac3020a4950af5c903cf4b41bd17346f654bce57c44eb12226fc594d44ee6db2077c3185bf2b0a38b8f269f1cef938318f1debe00d39a03bbbc834902e0bf5c7f412c4d3666c1595fc4be655e0c680ae949b513c3bd6dab4abb85116c819d72a42ff6f3e2259cbae09f020d1a0c70e79214b304962f9a558571882976e8165705f964ec96f1d27fd665b4051ed92d49fc67ef1b8c23b741f306379bc147eae5e5529102831ae1a867600e9d254d2dd98d6e38dd9cd0a76667b2e5e28320b3e95d26d831dad4a9b5e7c8b53a49da8d1b029cb606c3f72f9642b60b504592421c00a6f6fc497c4dfe86a324af31b4bd13988d7f090f188307bc7936c84d900dce12ff5bc8178ed506b35e5f0d0709ae93feb30726acc4fcadd233876f564a4f0b746ee53fb70dc47d6b8a6c1e0f3ec0c642e806cfb42331a955378c93af02b3c84fb133a42e9062bd60821d51d00ce08aa5bd8c842becc0a78e32e327b3accd0650eb5fb9111eb6cb8e039d204e424ed9b146c7acb155be5868ffcdbefc14df89730a7a34f2f41803da82692bcb8e69b5bf375275865f449aba09ff6512e6ad0bfdcbfd732989835dc662f4c4b459a0d906cda5b15f72ffce305e60d7704e9d823c574d9e9a9f3b3f0e6577e4e8d83d7c567d044c4eaab0907df83de206f1d529064853a403b7ed029d5e0f4e8b0ac7833eeb50ac0194204316cf3a5a35d33b0bb42a0e1fd99a12ab954cc9c9cc50bb4285d0ac31eb46ba4643095680a0a37e38aee107e93daa987d7e43a704adb82f22ee4a625cd90ba5cff22e553394207ea6189c94d352368ca1d25ebfd3680674a06eba8343a026e5640712effd300c7535d085c5fdd0315efad92e66a8ae01be62dcedbc39c2fc6bf876cf395b35325e69c2eb7e73a8cbc872c6f340e46d370478a34052c140771edefa239052c7638b455a14aa788bf455e812e0e9add1a509bc063348b36f172c7778b8722f6ccb54aa9e0bbc01bae107fbb18abd635b27a3cf18fbf6adac0c07bb5bd72dda44c40145537dd2238158ffa68db2f68e4e68877d38110d5f9d4659f9b0e8cf6a8ce72ad25c61669dd867c951751a82157074a2c2cd9b925d614b3070a0e426b2468520e833a0fddc0841265bac0a0f6746f742f214d6fd73d7ab16e140d1984a2ebe01682296121b4e5308edd33b367d78119c25552df4ec2982a0ad6ffad737135c1ec50df4c39f529910fa5c4caf17504f0c1ac40873d3800d0d8c30d1d655a6160f4c9c4cb73ef5a9a0d95b77523f42426b3351b8e5ad42b7f7845a05f9fb55efefb86b6cc4d1cb25693c696992c27383807566694eec1ae6e24f5d688c712c7702c3daae6e82eff658468e859fb32e7c2452526b0aadc329175166087dc406b86f097be7af0e42fedfff74e02cd809fa4c28fcc4d540b71569025ef41380ed4ae7a1a46e064b0ea05ddcb42c7a46bda26bd3566fe9a720f58bbbbde5a7a26e12416b923aef97c548c6a93394145dd9c38210a219bdde3a42049a5d76e584cf4704a9233fe7c9e584c995c874fa6f21f985eb6de3c037b3e8c7ccaf07f39b6920b00d0c8cd44fab010e775ec4d06b6df4061e38598d4e9e731e01c124386a4724b250c081f0a7575d9b0005a129e29345be76b43eebb40323e745a97ea1a57d57754ab4b3996f3c0fb6af403fbfc5d3e3e0597878b17b63ce9942d6f2b2d892cdc32cf584275af3371fe1fba686cce8e292032f89e44b36d3b82444caecf388a5c49c4145a0183e2d90ad148a735caec9cf578453b4139f64cee21993810eeacdb1a67c37cdc96ba98e41a08ccade420e9923f1523c2702af9d72ae7576e4cc7a0d6057dc4111c22652b4d8d5ea6e2253049d669c7ebd86d42aa01cdf2dafab2de0e87661a516443f7b2068dc45ad53d770dc0577a1068c135247b81ebe2bd9b4772b2b10165f7360c26558cfa1d698ee7eff2872d85bd8f0f648a8f7d5a114c0a388333adbac306f256ddeb0cf92e4ca77d89603929e562dd3d07e44cc5260febc423d634ecb0324fd62ec89602446924c4db5ec39c71d61715d65339866328f80075a351a97de1d17fd4d3a240919d7464aeb2736c4abd3444ccc53f6dd87ead0883ecdd561bfa481d29f8e3e4c5f3eae3408bb892956347fdc2cb493088bb3ef0fd338a5e848e18459494b5441cc41cbc65351a17e6cf3b671ea53166f16cac4c7bd1c021eaebb18f72a36594cf23fe6486a9aae1ef577e69a6f5e4451e2712c2667f0c353c52644df2c3cd653f9a7f70364e06c8e5358f57db779834e0f128219f78cd75ac40d0bffcfd2bba956eac01f6f9368e2a9acb7181b54593e4f336ced761b469699d927995568ec0a5e5cfc710c5563b92ae649f924dd39716d11f43f1a613f5e865d8ce02aa04becc1800bb3804f83316ee5e6dae5a1e6dc054cfdcc355cd9540777df1c56950574e98d40bfff9f21f0ee9d105cbd31cccaffe20eefa5733dc2968583bfe52fb5f744d8fa42d678c8661ee1fdd4afcdc4bc8918b6235a0f6e5ffb25f9e7a6a97c723bd6f668f526ef384bb588740c3caedd7ec2f2ebab6cf40ab142ae92226adee714ea2d423e5f4c4ca92e78c2f7b001ada615bfddd74c0ae064d840d67da345326c26c39359149c6e7fac5c40861ef85445e931227ac65a216542fb32649cb8e79f0014f36560a488685c6246cabdbd72357b3ef412d3c70f5592785f1426fb1f2b7853e3a82265b4e6dff7aacbfa57da00155bac275e1a5a0a87ccc49db8c0a77e6a23730be74c313654ed7709349a0843e6ccc2e8d4c07ed51b469b92a7712919b9345ea57dcd0f893fc736164904b46aa852e400f1f9fa97065372a2a35a96903b7a7a2f379514e57069a2bdc79bf04d6798b34d937b703a6acd2bc3e546139e963b0a836fbe3506b47412517926bfc335db085267c6c67ac2a9d02cdd8d754341d6727bf0553c6e9ecb265fe2fe3cfce0145a7e4841be8d3b795e2e803035fd4138410c858382a921c2033c3c68a99707d259d86e14cf31f910a9b04eeef95b6f6ea696cd1cbb450badb40a6e14b7a1a4a0be4ef4085557601645ea54677be14bd72d3dd77be4fe98f930ded180b967f72c0863a4993dc3da557123741b5be49bb19fc959e484ee4e363fc43ce384e886840b1608004fdc589a2046938b9b71b9058255c9b7933fe319b966af5a24aa07a0d10fd4e924286508ec02fde0f32bd7aaf343e70f143c7ee02e1e7aa223e8f95cb9d4519573571a7150206a7cc38f9c545fadbc699a872fb03be0fdc62d558fc0b028ea7bf0dd64b2a496e25e7b8e29fcd41c11700cbae465030399143051aa36411f1dd616fbcab15834afdf9798deeedfc3132152ff1fe2219efd868b477b9ba4bb6a4aa365c0db9d90696deeb75d4ecabb1662f145a60310509e4cbc442ec3d88f88559d729ccdc6132bd75595dd8e7695f5319383156b8b0ceacf1289576f42d51fe0709c7e4a8e4d366d3bbb11d547bf4a382cef53f185e726315f82f1aa39617e19d5547385cd4e3847cb1790aa1d8b5ffcf9ee0452158c79bda12cf5d5638a074d5ab031197d62f949db138e496bac89f46e06bfb5ef68073bbc6f013ceaaf0af80074fbbdcbf6a708ca5f72fc2f898e27d73de7c74c1f38702a77b1a5af035910f405167d674b3aaf03ba1171246873cb02687eabaefa39d8a97231a36ccc01a07b81f9fedce5f983d38aa14453114d44df0014a81d20ecfc4b0f6614fe37c7e55dd5ef6604c2c299c2014b86376a3b057368b54ba0ec49077dad7fe49e67e514072f97af3db9dc5aee963f4135d2a7ed8d282c8970d098cee8cf664e8fed823af7471acaee3e8b80ccbffedac845042782303dec01b1f2d6d44f169e693539eb4c92f7846d766ef53554e9a0ee32c632fc5dcde61b764f2fffa352f785e5dc1e433ba019f9b90bbddcc61863140ade82df17052d328545f966065a38e91f96473a7d8282cd7832ef05a40e6439e802c9c6a4575362d69b4e615f7104b71828b096c2b7823dd029207de25d9fa97c245e640cd2aa3e1cb39066cc1989bf5659f58530175f379b76b7942ebb953f58058ff74578d1b673fd54f07df399509ef5404fe0b1d41365f8e6f6016b3fff1ba0ddacc6f03159a7b9b5b439e464496ce44b8ba59969f80be4a2171d823145cdc14859ceae034c154a3fdb34348e052017f430223ac0a8e32e1aaea5c6d9d7b0675ba04627f77fa005487be095cbd5b2057f672d502627180a4c69ee96297dcb6bcb962fe96d87f91a5e7297b2b97a02c5fe74965cadbbbd7dd81283450d1c703a9d28f4b4c5cf49893010cb0b0c815f5f276f48e05581ce353bf8ba9b5514482bad8918554ddb4f271ff7ab96036419599a2f5708667986278e2019a4b39001791801ec27e25fd87b02b4b8f6e0d0299a9873545e374ec0d78b7fa7152dff1908d17c7b47c9bcec13f6abc069dbf0c31719a67ba0fdabc195ba7869662ed488648a3ea48130d48c7b5b83d2a59d0e68501d7ade08b31564f22f366afa5e9099462757e6b260287bd2ea4614191cd3463d1f030a42a862cecaae0a41c6acf6eb41dc10b1c12161b8aa729043a5225721c2e7a83f83e42c75c8acba11de6237e7eef19cda092ea064450089c7ada7987dfac42fe9de4d5e8ae6cf351e5ddc3c3b54f6a42289459c8952c84b19e26933b53c51a4f184b9d1555279e681f02eb6a0956b420525cad4a226542e95c1c7320960bc383a2f21f964787dd7e6cbfe07cb4c5a839aa4bc3d5d7ee970d5b45fda98c4db5f205f155bac12687b687e5aad5cda331774e848f41487eab4da64423896560ec1a8a92b46ae98792e2576d2e97a568d1b36afeddb35b8664d0acf749e0f62e9f6ce09902051839db76358049bc6d972810005bfa472d5c09966353d05652bcc23799ed4ffc99d4ef9ed08982db7c1083f5eff515e0aa508b7119680e5951f120fa625cb23ae07c32f42a25551aa41a25dd9050226aeab085933f77fe50a84c9c14baa118639491a9d1f337a8fbc987ecc393b0a28c750a69754b6e4739506a567ab2b17f7e388ab9d72f6e4d7e19a57ae73af0d057b1ad58601042b53e4d93f5041029d4099cc8a0fe24d7fda8886f058ee740b38271573c0278c1b9831a288098a664b0c79af0f92f8f6fc673344602cc8e0c5fe4c4856bf2c8bcc87675f2634a35cc2ce6346179869cc705a9dd929fd0e6aaf54f8160be3f8908878ad5ad802f3467056642e2d260ef576f411e0fa07d857f5d0785e4dad2057f66457daec03b8d1817c22ed0a57234d521197edcaca5011c7ba460f95f963cc3a49c4960dc9a05a69cb384a452f61e8ad6494581e9519dadd7016f0331c9db70d58758be92c2c0dc1ac50790cf819736f347fb0c854104b65c95c11872724626fa65c51b4959e440027af418ada570a02f884932a9a542b158ce593260da3e5e87b078a4cc3b395021f4b2f5bf5fae84a8c660c0a87778e03f9f269b1b37f61ca82631777ea141ff75351f1c5e387b2970b0dff4bb66a9d78b04bf801cd92efa3ae4909c858c8db990cc957861b3e84e51b81906d49832ae59ec1513322f15d2a04b8ff67e3a47b9c6060c01db9e8379d912f9e7f54e3a4daf7224e6b8e2b7bc46e1540cb4465ab82597c9b3297a43b49aa14762842c45e689bfd227be86504690fd868e094edb9a3db02a150bc89e982b93023f18fff40cdb66d735c0bf25a6a002cc74483b2ca475411cd950317e4f471c9b01770ff880723fc25157315f42224a8495f7caa0d13252b28fdadcde8a2488ee7f007bd2be410c795785245219440c468b39703a2a17bad42b3bf0a18224d3e27bd38dd67661e1bace7601e379e86fb4d68ccdb9138c7261b5ee8c7fac0119f21bc0629cba3aa3d2439e6e545decf7a4419abae7a6096871d44decb15c4d5fddb31e719d3b82a0e5135e97ee7cb2db7a1923384dfbf6f149d2a5e566cd841d0efc6cc009c3222fc11aebc0ac98ffef6980df225b78e713f6d1307ecd00afb208eef89d33c6b6968cb303fdca76dcefa29cc638164c4c31a086ca44bbe465ce3598bfacaec457edea33d302e6374a6b9b81518d105937397b911db1d72aad29c247093a1d3caf67d97a8a5e0e91be0999b0f990a5b2dd53515b8d6189d985494b3b152198508fd2a86ba938a0cb7ae80ce3775642734e3f7b142c36ba234afe1f977d08da6c84928c3b8538199d4bd976b3be84a82cf07275f4da5a3bface7b6a3298fce341d40fbe71e8b8bf5e80d3df0e6d03e89092dbf6b36750b58a8cd5988ceb8855a7b5635238eb51f6fdadfa6895490234cc0e3b8a9064188ccd2cb1849d54c15621f19e64718f0d13544081e0c797c1ec1dc4a4453dda4b4c29780ef7710045c601abbd6617fac5158bdc388d7686a9eef210d802a0e16813ecc05ff5de6150fd89fd95183e6db12b9c3198655c22f91e8736caa166f5f8451b31afbcac76d326d65206c5afb918c94165b89592ce195c653bb322d5998ce1da811e1edfb2a4f318e2ae3b5240b2f54273b72078d19441b6de3443ed76e837d24ab3066a7c1d45bc07fc244cd7faf8805a532a1830a7398cf2520f83135aa8fbd898272dcc3131fd545641c3561dd64bd2f37c3adb3619cdd3ef82587ebe92c657e4f53b37b8eb64e70289a788ddafca645bf16e9c7b0e5520473edb16832bba107b5636cef1c22688a42a25aa5df9968eaba01bb8a251c46d3d60c7253be5cf03ebcd3d713c3ce09bc941dd1c28e8315f392f6c0c906e156eeb0457a5e0ef98ca067510acaab87868209ad277036c0376dc427e13b56fc9ed3ee6cd68e8bdba25db690ff75d99de1fb72dd5948f0adc2342820e8c0f40c59e6f979034450da0f63e66a8ca64164c7f019a8f1e91feeb7904e3944ad931c3a0cf188ee34a9d7420bb45e4a22006b483eaa76ae47d9ce9a8c92af29ec18891c747039c82e7159e413c64db974187df2601d70603a6dfbb39a1482494a449536c57f6873f228e149d9dcd0aee8cb8bda1ed88b31ad2f3fb40815b6074616ff6c26fe9756794e512c1817d9c58d16c2be8d45dd7aafa2f06fc704cc3176603394c081b28a3710d38efed56c22fc7151c9c7aebeee2b61533c8e40f03e92300803acd5a68595bd608161ad94294840c2733a5d376a37823cc21fc64968abd1e1eea6802e15a301d85979fb9847cabb3a36e6192d38b7dcd20edbb5d29341707f56b64618b645170f15f845f7e2fcaca10487e7f24bca3aa5302436dc093343c17bfd7694333e392886f2e21146aee62c7db722390e8a00eb463e0b297168a81dcbab0714892309b5d21e4e3ca9d5ac66e58be9ead1cefbc9274c04bafb43edc597f4706b6aa5afffbf215a4fa57f5b271e0449a361424a1ab74b3d665ff1277dce60b9f3918d37076e66cf529e00b16147d48139b502daf652b8d6fa3c8e0ff2347987e396be363b8c632695a530acdbcbbd1e08ec7c4aeb730b4621c642f7106d5afd10a282ce33e21243db372c9b422814904ee5b7e3e2a08230a221c8036afcfb4f7602cdfd8fb2bdc2dde0f7e5b76356e287a92b90a7251982eba9f2f1f4d67422d689e86fccd3beab9d3f37ee1087a142dccac0718c6eefa3f2945106ed5f9a7abf829b4e9ce9b2dcacbc75fd8d6a6c40897f1eefe7c83ee7b32b04f279ad72cc4cdb95be0c136b874a0dda06c3ba41f8806708c982f2ca387b6902e1ba7f1dbe98e64e02fd58aa18371f3668f30cfa885f8dba14ea3725ce6b96f7095450acc4c4b16213e10843f97842e0eb9ff5fa90cec46e4ae08d1d3b9ae36e08a3d76bd683b1c7cbb00b9b9d96b0ac65ce8ef39d1232c75bda4b308054bf123ef4a8aa3d49338da4778c648fbef2c785537c5bdf107a44c3a1aae508b3f4fe2931a508b494d96d5ec89101516aa1e017df7645e093d1b7164104b46009da54395b9c2e01dbe9db160e06d9f60499e3364047ffb561e8af2a62a725289215aeca00c520a0c4a887c5c618fcd5005c5ba14f4779b5dc4dcb521e2c392c5a242d7e694958f89946b003b69893ca3fb9490589417a340bb2f90e35cd4209993a099968b364c2caa72361cab5767b45c2a0ed4ac607a9b0947a4908b97dc0e6c69a8fea12bd862c758e90ad2361e492a91acbf82813073fb8f763b94b73c5860aa1044f84a1097ca23081e37b49ac7faa329f69d8b6b73a15c01a146fecc74a6d13db4b82124f4b0b9f9545f37aa98be1a6126afd280e412e48234bcdf3617fdae5e2a5808170b17e274d4e1a9322dee6451539340a713118e0194f4373db8b352153f14e25c12a4a8b4718c8c5f1daeea9b8014b39a52a8763614d7ad01dc57c54fb155df4ea1993c3b5a53b5e6e07a94c86b904a2584b39620a601ba300243f48f4c03afcc9dc7bc7cc338de19966b36dcaa3921115fa406801f23675bf69100bab5b548363bab0687c778d0d3a1b6a4e7828ccd758086b1b7541431a0675f974addaaabc7dcc3d4c69c9b939d40c88137599e837a9958bb45d7d9ae6febd941b44af13d885fafffb54fa5b614f6f31dea1970ba1bc9a34d9a9f501945c1d8b4bc3ef8683e16d0541443cd1c816ef229516f67f0bc68975a5f16200794a39aa14537b14ef67e4611e562dd90da504bab375a1a3e51949b35a1be40948b530cc0de88f9966d80c21de205f893a13cedf19e471c5276fd8821f97eea809289585c91a2321b8f040835d5d6322aca4eaae67f65ab00358aafc84f662fdb37041bc66d55ca0b7a29f73d0f3ca41f24bac0d84319132f52cb261da8172a79d2810b0bfccdbdcf2d0941bb906e9d45a843bfad14ba441a50175ab1f30fd8ed771e69af2eebf3808f9b57a3f15b687132c7de5986d9fafebb1838b17510ed869f40f49cfe729f1816787dfd921dac04cfea074e6d5da12860ce8d5e366b29be86df6d146b5c14ce8ad8996929e03695e53d89b06003933b361fc875a25cc5060c7a2ae8e038c9304e904e90e5f2f384df40404e89ee6181e8623568c69d4ea5f2e55f5d476fec04576d1f648b12f9f8ada08e569704c6564d2c45c254f20bc0a4a7b46183aba41b0ea5d275b2154f90e6f4c1e586b6a50d81c0567bb74fbc941a9ac528e29eae8b61dc9c493f02d7c9236506ca4932e3ae3f3f43a45973351caaf29252188466a391456362393a10108e46404031a377e44da7b957df6533bf6a3e218510ecdd7b40adc90a6d70073868a0a22c41954ea0965e47812772cfa801430d33c205dc882383ab0a572cf1336f55f2732d3887297de3538589d618e2545d49154935a61931b28d862b58416972c05c0b3527bfdf960569dcd9e3c6074439d1d03b5083800cf0a8420e854aa71d589749b4beda2e47c01952060dd03e3198b978b7d5a02410644c6d5c4ab4eb2a6c8abe737ed653f085814d595e0438f9520b324cfbef6814a290a5dd40249115e22c75fb522d36ee721dd35f5efa81557e385b6734b92e017c95dba1e61385307f135495aeb5995d5d285aebe5c703f831221f64b371187b638734c84690ca999bf7a6f39b9092648e98342f855ec5a7e77dc8d0d01fc0335bc308e4adc8d329fe3c927e0e05af8b138d143bfa798608fcb09e41ad673c571d3377fa5099780dfeae67ff4e47c64104554eb48968b2ec09cbb15cacb149067519dc6311b23ae66d34d636134863260115620e33c6ffba770500d3adc3216de115d0905c8adaf7bb00295b991e006d4e4573cf63fe432f66cef90061b7e1644e340593bf3c30f947d002d611edff61d73bf6f00914f011e9c2f3405561329df9d719016618b21ce7035f818bcf4c334b48fba86d6b1367aa7f54325a6f14a7b5068cadf8c147638c88fc4f0bd0282df0700259030183d77247d8bce1b878f7fb0f01cae3114d5afb9950f492d32868522c731e7c28b5b10b532f0f5b297ed9eb2d58fc230ce59559a3b6081dd2fea52f242640403663850a13151494313d7a75d9a295bff7d97602c0a214c3f95df9c738e8de48587d671ed45603345026595e3f233f91953091e1db3e5c51833e5468c22dc59babe251df2cb06aff1b397e907d7f000e165dba4537e9753e1d83deeb5ff2a11d0aeba6b711820f0939f0658950a1a5cfc3dab67ab750b3493b9f9f0fac40dd07c0d30813cd2bebb4344faa06826875d73caabbd284ff94acde47b3b07f7ace33acd188f78e302a84887009c9ebd12f96aecac7e0e0bf8567c7e19eabb156e37cd4c9232c025f7f80e4a90da1f86e0288af487056dc41eda287b8fb3d058f5f921b862bb2c91c4b1afabbf4eb71c4dbf532d2322969127739506ee9bf199bf1a8a0dfe9c219d87e3e788a1a1f67c233c525c94886346e3db8f3be84b6dec9320af91cfa8e32da7de883352c43e28146754c9bc10f3935d066b91fdc551959bc7fc15c8570e8f5ec88fb063138132542b1c19576c5feee9e25f2ef471561a465f18dd07a63eb05a8b23efaa23b7aa2f6a13a93ad2a606cdfe2920bd2624ec5dc96b18452b9a0690a299a2f29f8df3b65b601848788f31e4e8b06e37542ee1d95375c8729a069e281381f872c5a8c963712578e7b754ebfcb27fc05388688eb6e7827475e09169946f0670b2ca50ecf2b8ae5285c3fdd3546f2914bb3d2c0dbeb5e7d04e2b01632f6d1e627e571f2d98c01fffe66821af798b39f81e5fc733511befad9db5a333351bdf2225f31e4b16b8b5303ea04a8956048a7077c19dbe95180e19fa5cdfd1b6f13ee2a55dd3c5d624242f8ef859b2b11ffc98c945aa74938e45ec53f519a529261a3c177c59e0b8beeebeedb858ce6c3400804215ed310075c401418f737b10deed759e2a770bdd2e33f72bf284d228d30b4ab9f8676e87e91faf46116034314e8f407e02b84208724f293fe1a84e7b02758f95c5cbfb7d2ba802e985d24415e562258d3fff12967890ab7797e6f733cf872772cedf1cace4c8229937af878b4f8663bbdf76961c22ce959b757a0f1e7fdc8b38e4363c72fa2b30c962872cd6d253925d4da02191f1a51a11fa585111e7cf2aa5a7053042bc747542532ef10257c5f09b6cbca182a01d0a82633f67afd72f054d20a712d9f2bb967a7ab288ec45fef58bee842670addb32c60a5f65f0015eb90f5bcee09bb7fd7dc74942225153200007ac94cd29c567a19d5d2854dd1604792ba59b060a98f94c270ea9f075c25d4805061821adee4384e97bce4ca507ddf78d261cd1a7224bae3e9ffb8ef2e51e03680b5bd6c81680e5fa1b076461650b2a491ebf88e095395d4c51288fbd58e8cbd4f0aa5071b38ecb4963503233525d479603e0436d37dc137929ad37599767baeffe82563ea344bac8e684336f07cb02661fe383407a902bd9195c70e81c63e6423e6bcc507a07a7b427907bfcc9d8f389030efcbb1521e3029ce6c1aeb3af473ca05d7fa6aa631d6ad3434b9be60965ac223a24fa91c8e5c133ffff83c722617faa6c33b8b7c83a662abe95d191bbab39cf6a8d79eb5745c6c16e9a6c5b1cfc5effb7b2430cae67a9219bf2b0177e47eeed2ebd3f0ddc04dd23b05cdcb5fe18d1e4106653caf20b361ef81663454d33b126ff6c70bc683df5dafdd3e287d47cc5676780c87ab9ff9c35c98e947838ae629f93d3c086ccea4757954a02b86e4857b4e8a5dbdc753adfc8bc01f0e1b200dfc444cae605d43fd362356670b9aee05202291be5bd075e7d1fa0114f6772ef6af6a9d413fa571a3cba9cb34f305d15a28f181050eb2be3c1b1a9b7232d6603f0207397201e5fc1f34586fa594ef45d261cd7105739f6774fdbfedfe18740b1e82acbc6466030745d6328a4870a53bf7d06fc0c763325234db135578a261d7d9a3f1080d1415ceadd15eb42f3c9aeaf80bb69998d15cdf311e22ab3faaa4905bc101da34231a8ce6358895f2c46b61cd63204ef917cd67d939e8dabeb338220997a64ff74282e8c83bda0dc692221648c7bb4da709b21afe1785250ff7dd9dd2d6cc6af49def65746e1801a2f437232017d22a42e70e2162203b41f583d61e34590b09e17dd273765481918de6ce6f00af66cf43f0ea5a8159d2d76bd08f874ea72e3f31805eba9c70253f8b55a56117789c39adc9b9704c50a033180e14bd92493987ad7982e8500ecc8d8425f07d05c3799b103a628dcc383afc753648032dd8872ce6b75a8d59e9b456aea7ac6ca9d81df40e450551cc453279c7b0abf252e735238349a6f0c3171665799370568724fc0e94452d9e47485b5859f9bd8f399c4917c7e91f5aab9f64682b1a2f1471db1e91ba9895d4742cd902755d3631023baf13597e8a0d9567d153ea5d6d1fc79b3d4c80fd1c20806a96f80ecdf73aa83234e9a876cb0acbe1ade1ca01dc0dd1cd87d5398a35ecb73d7ef563690b90b2842e20d76562f83eba0708e84f8716687d2aaf76ecf8071c89f531e589f8e96251b505796c3d129017ceecbd380390c5e735e78000a51681aab2fbbf50ff7096e3fda062ed1124f84f6d001c12237f1a9e8064dd9798726427e916fecfb78be69899b13e4ef8d6395b8f6bbe718bc17b2d38df48c015b89868e4d39892fbd959e845cdb337c0d2319221113c14ce24cee76d3343f2058820c3fc99e4a74008a822be6c383f88a21c26d0bc50d9e7d02509748e6933639af0b651b47ef87fb6706fed64e6f5130e70163d989707806f4a50a7c2e9c0597c8252b1d6d6a1f14dbef34d0c8666f4b34adc9ad5c68ff53560e8146515daa558c6b2bc135b33754a3e18988dda827d633382e00a3e1a60354dceaa7cda866ff4a5e5d088abb367e7c1bd4ff218aa04f91ce3aeb9807df3fc6c5039208c785e25e165d3f8a9a89eb73b214147d189f567a16c410edacddc3b4bad4c9b159e1a7c6a1ddb8cbc43284a62fa13bab467de5a056e1238251742d70f5f7dc9ee324b05aca7ec78552d98ba4c2a895d520361e981614ac252ebc573b0158b754d5938c9d802a052bdb9fcc44328517c24bbd0f1a7050bc0ba7e4e7634a77e1d21b05850cc8d9d1467650c1f46ede45c5addfe1e57c58abe52eb03d14bb7230b4b8475bdba3d7ec097e96bb4adef928e7567bd4ea712d33fe41e1696ade54cb6ead8c40e878ff7531fd7e61fc69d6d4a3d7c69097e509fa811cc04423c0aec8207eb556e16d66778474fcba7bc88949422344a8fa25e9a37aa10f4c48894b3eb5606505997350a18fab191266f21e5b7b3ce2457d17ed5c6a2210a476c841a0fe6712684445b297c28783fc5c1cfe80d55794f4245842211d5273bff093688c15291da143dae2a6f8e402d9a3d5988e4de882ca582994ead60b30470e5576a6c85e16738edd93b3632a004396baeafaa6265aafb9d9cc8824e93e497dbe77cfca41e1dc48dee346b818b8638f3357bf8fa7ad80385c61758833237b31e36422a1c62575ed2787e05956f95ed7ab1789690fc5b79df71d3cecd009177a103e555c327a37881a2f16d348bb38f729e2899dc903d61d59a299b8b9a053bd4e9820ed741247dae71f91b3a9476e1463fd8da1da8a2f26bf2df7f7b1708b9fc3c44d24623a88d49d8c0504ffadb9c1e66e38952027c7e6b58a9e4ea433d288d026eead0a59e66ec2b182ead4aa830a2e3315de2d85acf98727ea817c1f23df26d3c13ea800c912d26eff439217c400202f098852375de7a161f9203ffb06f7aabafdf75fde20b0a67de926e652ecd404479a68d4614f592a1bc61d8dbc9dc1b3a79bc020b713ced444f6e91cbdf9e1a5032fc190ca38e66f3fd9eae28fa81897ecf84e203244df6a03a942399d567e94671eec2dd9e1fab1061c246e7d3e742f2d404928079941f8c4f14a0ee22f3d48e0cc23756a66bce5e9c8b7b2c4f986a4d63ac32fee8aa60b4cc724097d4c9bbabcf5568e7e095249605ddc6b7960cc1f68b26c1bfbaa80a9b82fadd807ac941dc43897fd4c320cb094388c3a1704af4ad886a11a5bd7e14afdb473b39688ec70c534ca9796c683d415362bb0947eed3ea1357ad06342e3c2ad7142a61056c14812f01172e8be577dd53ca494c126820020d8ccb53ce63b7422942adebaa72616d72c40f76f88a9dfd79d4e8776a5f7c01f394647135603d60b68c0ecbbec26f77655c4acb50631933d60a634113d61a03250d111fabdc533354dcce2e9d98ac43955c986e2de14bc02de079754dfd40d1cbee9b2a09c7769a6b67e74839af7d491b0370b69e5c3c603f2371d712f449538bc787b3a5e1f0917485028a09ac89a1e3608786ab962c31269e0f69b5ff08931d652f2418d888202d1eb647e60471490b484961b7c2e140a108242f1d1581e33e96e1b7b3d690e2cb97ded31f6865f12f8a934ff783772784d202276a11940484e39ad6ab26c573ce983d50b4885eaf32ccc4ccc8bbd32c9752b31ef0de17673164d3208ee9c165538b529ff7f9c81395981b1a08ba093b386976f8675e5d3b38afb5d371fdffe1ac4c9bf583c7e1e6929bb418359cfdb7c832aa3c39f52e438bfccfe96388a7f357b4d99a8d3d73f991fe5cf6f2c223cd36f742202b36b0eebbfcf819b9289c04c3596f70b19c315878041ea301aea070398b10d9cd460c0fb421a5d2d7a35f90d94b10498effa5fb17901f0f6edc64890056ff1fbf0628e554c75b154c9399fbe25b1aac4bbee17ce8100656ba46c7aa1c45c8ea87b893429750507049e7702e895489a296abf1edb23f4e1cb77128568841406981355380281d3bc6a37e5f43a57c826de6d4f1229218beb7664c67725767bda1207825718a6f91d2a3feb6d81c232628e00461456aea6a91294bee88de7d9efe4a5aca59028fb06f78b52a145d55a6a1750e8d10b9411ef6f4e72a56612377238f9382f06f4ef9580bba1f55222cbe662fc27d455f4d4c1f040c314193dab717ba94393590bf6cb3d708ffdb5bc06b296409c158ed659719090d493fe83895fd0ebb82aa9e78e686e0ac42423c1d397f44a8392c3b05cc0da8f798301f0f24dde97f88842037a233d04094eec02cb62df039fee8b123c1218c82cbb6cd0e1534435d9198dadbea161fe93d8932fab77c8b09d722c63d0670a6cada5a497391a18db7867176050eb3d9642b23f8696bb61f58615c605ce234c31dca7b5282e0bccc90feae0ebdcb8ecc","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"09491b0867e61bd0303e4a7186b8bd6a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
