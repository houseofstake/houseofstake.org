<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5a500251043433dbf0235f491a73a6be862cc1dd4d8187dabb24492585a65f5cd9f165878530e1bcddd856be8fe164a71c7afebfef094d44b79731947b46ab513f70594fd0146fd33abd156cd769f3a1c4b014999afbd6ee0fa6eaa8b20cb4c2948a9bd175db0b36ac475a9fb4176fe1a2a0b327fef8c7339c9c549d1d5a6f504e8957e9c3e13b5a4a4426b857257d947375ec4ec1e4bfa9c7703c2718263cd7c3b691b68839256359e944d061ed04313b22cc097cf4a9b20ae2c9a7817de3a8ddb5f8e27534566fe6220aad2957dd0c2b937d8bdad5227ee2d227380ef4ee5ee8826550709aca1b3b2f09644f088596d68e6e109d4693a0eebe242c730e9fe9ffecd92c338d671af98e5383025aec3337b7b87ff7f65bf27ab038e7455e5794a0687abf8c164514c98e6619ce5d99ee767e35a526654a316cc9a959a651537c91ea047fd79204884bfa97000131454a7d3154ca53ad93b842b2fec411c976a519ab220f9df45574de08de32eb75e7e09eba42043246619122ff518ff7c585bbe8339769af81aacd5053bc9a59ad10c740a6fadc833304c10223aa0fae86587bb2f9d94e011dc35b7af221641434ab6c134d9404cf5e9bc807cb0f3762fc1073cad97754831f8c454b12ffb568fdba57e7e9e0725fb75ddbb5be2f778dc5901e30c1a818b02a2d2b551781bf27cf64439fa58e38dbe3618b0ea8be48d138bf320720115e8a20a9788d3da64fba30ff29c5255373b0a9d99c610546a5047c36710f684fcbcb8c1dfe3a1df3cc04310e6e1b0608993065d782fe1f0eefca9d94e4830e2ee9ccb31d7148b462802328f4cbb5bd9d18410b717b705c842aeed2ec020c16d4d6d316ad855aefacb1c0527bc0ca4cfc14b00a7a373d2eff936c14dee9c780f833d8f5f8f8fd6862a8e4e11a3c213ff59e0564e44534a043abeaf71a338516fd0888a4592c90f75388c6150bc84de195e7dd65fa7131f2f986097a338f8fd1ec5d2a9bf2dfef72347dbcb276d285c138a93fd6fe269b2ecf1bdc772bcefc5b8a0b243435502ea74631364edc0e3ea47bbb1dffaa8b40790f5cef63880b4754975eefbcb3c6d8956e95f45e79426442cbf03a185da545b2958343cc28e02643f6ce7e33d9d7c68a21bd0c53342ba1f978efb2e8abf9a57a95f1e61947ae3e1d6791d383b72c8459c7197f3f975a56b01b2741bf13ebba8667a53cbcb46c538525e7c8ad3f53414bde79e31d7c165e10c06489ab067609e24d52d941fe0b165e0048c7ac6414148af38e566fa135eafc23a0383a8ca06a9110a0367142e9ce235b198019626cc6a594dee204c5e80ef2f20589f126323db67050615bb62eeb1aa4314fc63c8243e66d5f046ccea697f3f5f68bf9caff599ea3fb322386e2b3e4a8953440897b31d752462e0401b5f9f882607caf4c51e536e346d8873bd980b251defd8fdc5f35cce1f9ecf1a441643fdcb360abe9c0f0d49b809ef77ae9c7964c54adca2af141c0bc55615133d012753eedfe99602a98a927f27c018631d3d9a0c09ff2e7d85bb620751e6a7269d15380e497f1f94698608cd50a597b95d25bab1b6a748d2cdf05ac2d93a105389896826dbdb850af062ae863763dc271edad72a4582c092dd99fb8f1bbf790c16dcce6507f76632749434a8bf0914228d9ce34853b9cf11f2ee553550a21c8051c4aaf6cb6c132b082c0155ae81865005dcd92b932cbabf95fd6f063aacbd1866a00005dd488d152a22b9271e11c94f794eb8113d512e1059f12c0470beb9b0cfe74094c314adc0ab5736253fd81c704a289d4aa2e62715ac74ea5533e43271b09b4173ea3a28d9e0b03cc0a9769d760fbbefd780d10cd1ed2ec83cee521ddbd87175cad26b2cefe42d6802b5b4dbcae917e2e31d91c390157de87b12fef97e201e48f2a398cb7ef8261429aca43c7f7da7773f18edfe9e45b4dfc1ebeacc045f348fab75f6c83786d0dbbdd6f17cf997d6dcb8e075b8e595bf256d390619e98829f07d7819041f017194548579cfa09d259a5ef23c9570e6b900c57ec9ad0e61048f6e009a0a2da9c7e55e0000f0540b806a7f10c827ef14e66dd19270a6a03001a7786a07625ae0b19526e1b741eddc72481b135d1cedd2537e27e05d4b255da4c34dff4ab4f6aef67e42e1d207544bda0d4b6abd72678b048ad6e793a7fc82f542c1bd0cfc777508f7d6bff04de25f7e7adf5c79e77204e97f44ee6fa2513cdb4a410a21c98ec605d406800dab85969eda072ab8f0d1b685545d3c129b2eeb1a81c2a4787a6dab4d9db095f703d4059e1ec9415aad3d50b1cc0200c2f53903794a55c7bcd98b1d50653b2edcec435377f8db090332df8e47847464c48f2ee0d6ee8471520413b7a6bbd4a7ff3021766d5a4bcf3bf5a12a1c8a59666e739d3f55777d026d11dedfddf4f7c1e941455e6b8683ad435a7ca8fabac388f61baef67d8be4e1811ff0febf2b853f1650fcd54819564ae9300252d7edd47fbb94f457ef6771cd6cf19ae6971ec19ce4349f8cb14dba209f63f46039e0a1109c881a1b4a30e6cafe03b3f0685f84bd0933194c7485fd55094efed0f954e3fcf7228a73fd8e03c010d1e118b2aec77585289bfcfa89defc562106b3b98b3ef97a1e4dfd9787e9959d7296c26ff270e88313ff4e853417d6871f70d0534e041d151347167a179d89f9d4c1a575b5495fca164f472d7938089880d4831297da2b2495dc9c18fe9087f4afbccd6df97e94c9ed00fa45908ddda826e27cc66fbd11b6cd88d28cd36e82549b84e4b61e14a3caa8d035fe890394cc9aa7eda4c1ebda667c4d86d8de29552017aa0a9b9430b230b4ee3866a4041bb8969f80729cb7108a4c81b6e2ea7e41978e8731410c50d4bac72644d1faacbf559a4e54a74702ebaca36ae1ffe64ceb482c30da136aedfb59cbfa0b307fe0109e0a917f9b18bac48375a9cfd35a93e253f75b1510ea3ae137ec2f159be9e52181a1a173cdd360cb33d212c8d50403fce1059cda99a51bd509429f9fb4220de499f47d381df9905549355cb63b4dece80c52514a6b519f41176fd208814aa10374feb2492ca9d62a5e2a00a8fe53c40d0b3346f2312988ebe26d48e2b683716e4dfc369081117b96d8d5d9aacc9a6745611c81b5c25cd387d516f05e3e37ae4176d7ab172bd8293e95540a47e817cfef43957fd51924663a6ab407dec5e41a24c2c33ca2ac3ebfcf096973c0bdedeea80633dc94b2d0a5233781c22a7b96bc8451a24f598b5fbd1251d15f60d4fca704688299202b16b9a96413d5e216ea49d5e46b014f8164aed4215ab4d48d0649c8a0e06c4c1345fef16d41d37e9ce3ec6a9b73ccd2ff5be89ff074e67db576db5173e06b10c10547c25e1a8e63922e01bd0524c7a0285a8ff2b420535e501cc94712eff408e4aacd9b537818a73746c87dfcda77ce34ad2b603f448ecf3c5413cc847c5e4571d3ffae0515d13ad722127e3d337a9a51b2f5ac3965df21814e64e4f738cc064d5029736b2faacd7b67e1dfd5db7b9584b4ff63368e368ead0af83883cd86b0f3910887038e3c2cda60b577e462c4cb35c6fd5a51f00ec3890913eae27154e0aee2b4b3be6dca6cfd96c36800c5b43903a4f62d24338b39d5366b425b866326e33b413c762c1b16746084bcfb2b43d6eb5d80c18f47044311ff72b757f3a62b9da36a46726be7962b9abea359a52423fe8356e3401843d9fe22bdc45a2a7c93eca47d2fcf5ca125c33e4ca986d5d68fd00d99720d051da1efda1a25f01ea9833f50cc392669973ccf4a2020c567a69542c4235c46e858b08a3522697fd94034e137ea5fc115f383cb41db31415fbca8d9441c2654293d0b8b6be3eb79d181a9653f3170ae733658d50d0022e35143f6395e585161ff9418aa5180fe49bff0578cdf08e2e80ba7f98959fa527276303c4fb8f0b95c62dd70611e8fae98445bb5d807d68e0181c193383b55a85860743fe4da7ebf073cf54c623c3aa8608d6000f93e25273bfb11f015409061ac1edeba8a80aa7875804c215f0d176f4faff09ba426ab4bfd6b5db2ad79bf644863e2017794dd4fa440fcdd2d07efc033443be621ff711994f828f537017fb151f72625d60464299f1da2c3e7e43156247305705df0103191ae458fc16d43b3752f82b6d47d65a850db5dd471a3995b058409124ca8788c1f2f80c3cb86e36e61d055ace53b00b59785e6c20c6ea3d8effd94faa8841f6b635ee075c956d4edc9382c663d780dd4e461c97dfacd8c8129ae7f68b9fab805a94fc8baa55e3832bb149e349040dd30366c0b6f4a42068ee903c2857140ff6332f83ec6eefac85baadf60283ad92a513e5cb57e2da94466dfcd56fe4668b85e0c7329c9bf1b35b9d097c440e5bf151fcf73cfa18694b4a3f9438fd742df9bee178deb23d20de59c94bfdebcc1442036ddd5dc9e727bb09c08c0f467828fbd252907b9ef6dbbc5b785790b90431cd1a348ef671e220b6db3d75a1dc937a7665c75511cc74122a995519de76bd21fce0829268747a32a129e964d1fbac446cd0ddfe1caa5301e07e098eea1b2a3acf583a7898879c218cd9f8b976d26232db79d0b64589dd7f3bb32c6ab3938a9173aaca87b5ad6f77160705237ca5740b7f75ef4f55041352a64be09fcd0bc38eb8914c40e7c54208e0cf12e9e16972add45c6c991e9cf97de2b3b8eb92322e4e00b1d7584ad6d0fc1a47bcc8bb8bdd886c578e6775d4587c77dfc6bf2c1e50f4eec0c71fc45ecf789da583fdd85f3b8fe25ff1a8ac0c307d9daa255c30dc0f6baabe82d79b44f1723cafb24408d5be2426bf49b20d77a61fa9344a4088083db342f273c707d1ba18fa8e90d6bf1ca24ce660dc350c22ee21cdd60232ed04913669a5494167786525e99d5588e120c71d06e8403028a2d888977205ecaeb0647446166f43a5502d53b1216ccfa3f411eec55083c658476be34f55a98bcddd4a05efa321643cded4fbfa65fc42eaffbe2e08c78de0eb750207e0445275fd48aec4887ef4a89cd2d23ca859b0d0760cee5c0a0dcbc524e442b5fb529b35091885458b7a525e78649a1e73f7d1f49c1166a2d21d4b78d519b77b768a584dbdd4ab762c3e2c36b869609174fdae6b25fac9d8b8c685369fe7ebf961b36675fe9b5f8643e4f5ce4b5ef38416edea82098caf688b6876a69eb0589723b2b1083b10124a30b503293b3d17ce356fca87d9c58042d354d4f5ec9115f7a1ceb039bc46441acbf7dcad4e87eedb220565de38b58ed4fa409d847659bc1910c05af03a300c3cd550bde6cc5cbef145d7b5e3df1bc275348ee121bc8e1faea6e139402ff16ba03f9120994fb46c601cdad8eec77a4565a62cc9b479637589b3d086441197fc0ab768de63e21d87472a6809b78c4970e457222445dca9c892457e595ff8535d490ca26e87697d2e350f64bcd74499d17f02638806311c4778501494c3fca25329dc6b75a99dba21fb8454f0684b10b7e1c155de5647d936ecfe58e27f28481c748fffdbd5933d73f1d4e38a6f397995abf997f966531400b6694cd7f51e6e03f046137af72bbe80b0735a2390e70e4462ebe12eb0ba9cc8c9da4898c2ee420355577834fe312a3b7f04d2ec421351d1a93340eae53cb8a6768790851a12003ac298f6f320fca69dbcd217e6a92b791e903dcbffd2b66c17ede83fa6f5f77d79d3f246fcb22bfbc06eb951535120226e76726c4d1161caf5b92c45ec7dd2a0b39cec1de7ef95bc6d9e6a1cc86dcd39bbba09658e442a9d43cb9c4549d3a66eb5eddf58ff0735043b54609ff19e26f07a5bddff1e904f034bc42182ca45fa8de26a6d580bf6293da3fe750d294ff41db573547fe81b5b910653f7a567e7ba976143b3eaa543689b8c32d53c005de2930a5b2a01cce9b26d6f5f4b4ab3c799f21dc8e30ba33e2b94b81f78927508285260558c626b7ac90079f4ec3e6fc0b6a84acba304bce3b0f69b9605c0245eccb23711e00b3446f1310483cc442cca1376cd73562dc63a9aa4371e0708c2ee90bdb97e4d62ab59319dfb486b14050f4143581857a2d5d5b4221898db6c902b89412246a1513e05c8a80828adfc9a080a8ab9a3c5fbfb63291132c9d67c8a81f498901bfcc0c00ee37a0865a0b0fef9e9b09e74adb3c33b7b505408fa3e895e849a4c1df5bdb58bd8657b12c7c1b4becc4ed456e7765cae1073460a2656e66fe5636d83d0369fd5d6f751ac9f7d1482852670090e7a4215a0187dfff45ff01379063203703a57be31c64fdab72e4dc40e5926b719cebcd227a4da1ade76dd187de7b2b97c9dc4c0b9408c5d30a0739a8837edf67a198843541c258e1578d187b226277b8728b0f8af55ede58fb8112d43284e899756492ae2089c433f6badb2cbcfe810240e9832be9f4165d41b23dcf05e643eeae5db227efe56ddd36ac2153b91649bbbd954454760a0246b54fb848b52c43e3fe4f095bd7f9fc0efc8f3a9a18800e707c0c11aeb718c2de89d6d33f5f5d1cae1975d458f4a575cac26f7ee7ce5ae52011d28d094624d29486b10221d62894fa9f05288633e7db6fdd8a0f2f28e5707571b4c5a76994f3912bb235e364a8d9609f513f3e89d5f32c211bf4850ef3171f3cc6a6a4006c8d4916c766fe04e619341bbffca9ef560cd288e611c3ab2eeef034155824fd1f950a4910d30476ce408c4cd2e587a4d429cee4eb9a52197d39942922e632608318ef6ea9c05f64d31dd242b2de0032e54f84e7d5526195ba1c0408095ec8da5780767bbced66f6836ea7631e6a9238131354e70e4c248310730e190c8c5fc755af6a1a48c495f6097ba276c82628c825d75313f8caae3ea8943a47207bb0ef2504c6baba215582102c806342f460d77591383fc017dc2b1592c908e4b78c9aa743e1017d5a55992676997d7f0aea428903a79dc6e4d6a95350b90b4085db4d5e68e39f488158b7781bb46de9abc96bd6bf1497fa217871d962e0b5ee3f24094032957c8506800ad844825e711a06ecb7a02b9045fa76155e4942a2f72f7e948072743ca69e1590a94e42c403cb888c67d16289052308fbafd342745c90f6fdc162f5f0580b09afa83a2fa0237074cd8df9fe140ca80e344822f187ec380c366a68ad81bb65055503a8f33d9e951f1b118ec57ae1c38d69c0c30a0102f8b0d3c4be3647c0a3d344fb33be9d67674721b5f752c76d0a6bb375a0bcbe104f8f0611aca89fd15fd9e632d49ea113a99bbaf8ec527ea88c9027b4bc3530bd39c5b03012508bfc5afae55af91a61c5f89b11bfc46ec0a5c5f781aae6aece6150ba4ae57e931c0fa362aea6e9d75619162a03b9d62608844dc77b332a562277b57ae93fc2fda0502f478b905271047f8ec979507a99af50e5a91fd9b3c1f1ef65405d4b96fff8ee1b680a58c9e018bd6c1d5283d2aabe5d5cb7b3c15bb91c6711894fe3c75a6e6249581bb07b94c4f2f0d6ef96b69f627d2be710151fe6602d0d438199afb9f650dc45f208acc755fac55a0fcbcfb074ab23918f4216b5b510b15a875e523683f17dfc8d5e28a43123e524b980af5e93f4b1abaf3be3f9654d61663f42005bb9ce908f70e03fed67baaab28ec2c6a583518310cfbd3a04e8bb5de5e7c5d26db2b07e5405374b3ec30d5709db4dbd7cad955a1bc58dc1665a00305fd1de0b0e809ad8ee5f990ea8bb84a08db513a2a69b459cac4555ddb89681310d2e33f8a6211c0a722139871ecc820b8ee4bad4012cc41f9aeb32e52def0f13cca6bdb259ddb340c06a37fe4233a2ee43978183c7c02b2aa8e325ca7ec1956161f40aad9ff5c63c970a7842c8050780c8e85b1243246fa585d376257d60929091138b53fbcbddc1fae5c11d629ce181bd4949833e89ec3dd568da21f66297e9474243cc9e96e8b7a31f4c5b0c71c68ee01c5391ca5c9ca45bf7cfd2c39c86be70bddfd755fa637f89a46e23aabecb8ff3e80d90eaa543b6f293094dd42639fd7e958e4023ea7f4fcb447359dbbded735af0a9f9c0734228415ec981e4cf03e39ec7b52e998bc38073c0c918e1a54542fa4aa1952fbe3ab2e49ced3ae46416a3cd7ee86f3836ec508133827d4e9ef70a205aaabbc0796feccb8c09873c68d4fa1eab1821257299a754f34f9b07bd9547ee6e22ea813c46b6a35d972d71a0eb704d7d857b303aaa9bcf50f73bd62765a7e44b6c121310a845334cba5dee64f2fb72c0996ec4119233b1a63a1416b49f43ce2e7cd4f7cd6e7394ec148a6f341f35923d275a405fee8d3786e87b917a8cac2751240b0c03f810df724ffe7c0016d53d39a095f9b7330e51aae2ec4ef749e076b536a16f873ef2035bee8376efe3b0f09163b705b053277ccaa42fbc73222888fd387be26e6c6b544c515d3f046ec7557dee87501a8d5f22cd7a7e47adf9e2dde6c4de46ff8b309719f3df0a763c08b570281bcedfa56670ce3f48f64b332c0f5bd54b5ecdd107927b08ed3380c74dbf6e0683aaff74a994f973faf7610eeab0bd67bbdf3cb92afb9dd4658ba614ebd760f67515864d3e10aeb3f78f807c1f4cd063fb8d4d162dcc7b5936cfe16eb31c64c4713cbf66ca97a0b5a5b5222e5ebd5bf8a132367d9d0db0ce08d65392b6d9bda186ea82512ce22af22962a51442b68d6b0171ac5a05bb540d9bb2f59e4795803c22c51722fbe9ae5e4fb5c113f90559c046a45acb61ca1b716dc3f8852e9593e7c7ce76b25e820e0ee62516ea033f5d384a2d9d879477349e40966d70db96f43f95ae587cbd07a53d46f4e10589ef9dca125496a57ee16a5d7ed02d9cecc67242f83eca9faf81acca1293960c3d994b85680dd87e60548cdfda71cacb3908587a44a9a8065cdfb3a03cde2360b0e89f7181fba3023ec99eba535ccb470646dcdc8f3ec1018993971ff619d11a7e8758f34610240165b3617adec680f516998760c93131d8b67525e11345a52de02b5533f6ec969bb6525e8e32c0d1b44e382edbe87f349f4f14e6b846f321f8e6f15db96d950cbc841f4d256b35bc2151317aa61341fad8c9e7a02ce307802d3c7f67b8964bce9b73cf9435c28d900610e4f59caedeffb4aeae4b9188de9b9c1428f4012eec013ad95813b698ab67a4dcd0a700927c0f2def2d8a60943bff013b21aa672b8f80ec46bd88ab7bb64da046077b81a0d84e489f9ec47f917596540e353b680302971237250fd09d236a1486638d2f9ea656fd0e5323b8d58d87db59ba5f771034e34675ce12f77f1af89a5f60467ed01fbb5f0af69c3a14017336979890eef17ada78d7e2260807c8edb94285acce564abaca9c761851d97b23de69217eb759b5966e60f367d958f6fd6e4c552dbc1aa2943bac068c37ca71b4f500e6e1f815337e545f0b7b26180f8a6a30318895d8cdd8deca6706c6f666e119878973bfd8327a3bd5b1ed5ee4bdfbc1804adcf00a1a91d3e308e97ab76a751c9465b71fd044ad9a600a139c8e04e22527983f20f989fbd5a6ef1c4a60b90d834d2feb0261be96f8f87b5f4ddc022e35dc693d6467ddeb053351fee76795399258cbec70eddf7d8024df461806f9bfa5ce8d1ec1a435cc386ab8cbd881b82089e2076f5ffc31a9ad2d9c9964dd41135b939bd226563351fb1fa74131e82ccbb84e1562ff2be235f3b244062a2c6fa14e5a8abf1318c6586850061683b3cb527d79dbc436fd77f0cced39d6c5cf133288f63928dbe0779ee4998908dc4309b7d12cf225940ddbf8f0ee612b41800d45d00c13597708813bfabc0ae705ac60f2c3b63ebabc1ee490c4dba7bb0c44035cf570c54da8824f3cd6819ac462cd5659b93c7dec034f0d65ee23755da90ccb53448f500cf26efb06f1feba545b79b0c45814e9cbae0ec8ba00b041920f27ca8020b170924b2209d38e23caad6a794acb9ecc206ee19c863bb9d89482a27b9fc726f5906ad9294d343fcc81c74c9e6cf9a9fff6f9fa3f46fd028a0c89eaf826ad610ff37f7346082fbfba6b01d8b05fb0f7de37898b77e03f70c41004ed4627821731b1c78374a0a71e3563728a2377fc48357486e0dc02e32246bbe33416ec88e039b96cb75905bdb6a39a92533e83b6a28e74793140ab46a34d11388f43df39ddf9f99c6bca9ad1cc9bf15538be32193ac694feaaf92bad46bd49aab39a7556ec4e272ca14da2ade02baef157f7e7c4b9b82808a8e3f1b256054169d7738cdaced007154e1a92e769ec3bc9f3598d5e5534ef2b788047b5cb73810b0355e1b0e1121d5518facf8c39586d152b15ac0ebbe28c63b524e78d8bbbf740f55eb9f80daaeec1fb6bcb98bce90f7ab54c4849ca3bc4e093dce8df103906d5958130ecd02e8da7713b81c6508940e25f7f8f69f1aaabeff9595d3a16f87689cacc3518c485ddaa05f7717eaa9e4f3c2a0b3379a17c9975fb5dd2cc7deb44e3be41858539a2919b2f326b462bb4c8a769ad0f4d11ac4774af7f30bad0bf21472e0dc1657fd315994a1ed28713aa45953b1b9e41ae513caf60be69b40c73489485b2720d4fba725ff4100b02d6efaee1ead72c7627ad9426a2965327cd2a3cb3ed05948a4a14f3772d7d5acc466b8fa6bb6adc75814e19a55fa9d8dd2531d5d0eceba528f82528ab1b08eed24e01fe423d7b1ddb152171a07b9b09f410a1b2465468e1485d3f654513271b9f3b9c75e39a3fb31dc0799ff1a97dc772351f13c8ffe5b2051d6004b34e39a60e7ba2d309ae75c86b68cabffa2daa360b3e1e6cb95df7bc655096fbe9e1c0f4888eb017f4e8f0d80f0efc650a74108aa30e44dd7c2fe59289fd15505a50711fbe143b3730af8b4c9037ff0e86dd2a610cbad238312d817ef0693134134be2c26cfaa02e81af2844dfa2349dc7f6176c96f6d4e226e73a5ee84b807c0532e9de5e54eaabca94544b7d0f9a006ce19e4183c70b1957474cd5c4ef6dc406525c2af0e7686345c3a2b4f10c7423a60cacbab846139d7e1e6e68125bdb103f2f895789c573aa21aecd5dde4f430723e16252f8f4fa48ea421a6ed7604ec57ebd73bc5e95ed89e4e7c9253d99990457475173870c18ef34419ec33b5cef5f9a177cc93965f3be43f18b1edf0b540a9beb50a83b3e1b223eae26f1caed3dca333bd04f4b0e6cf64cf7b761fbb9b07fa3553020cbd335398d05eadbf0dd11e9e97ef6427106950b97916539c5824384faa61b3c856072fa0dc1f5cca2d134a3d86c4a371becee8c8a5e81b2750e7be3ad14514398c3670e21b6a6722910b550e0dfe7051faf29b67f2abe470c68b6a39c8803263d2f3349c40d4ac992963aafbc5fb652da7cd64d820661f139021c57a44303ef666b10fffbd95b29047290cd4fa9cafff105c29fc44484033bec2ac8797ce73f3898fe1f8369e8eb9c474b28b820b7ef457bb0648a8cf4a308198bbd50695c1e93b59b6cd03e98023ac2942762d0613ee11c6b97be92e2ba4463be47fecb524e938199a163b8ce6c0ad6ff44c76e948bf4038b153b2747ab0698d55251d457905a6d2d1770cb00c6bb5b449cf133c27eee5ae26d3059a011b1564e4b961bf1f54adaf3d3430d4183a3d1b2493e0c92bdaa9d6e2f6d647181a42455ced0362274a32e39406e9abb59e46539ce2a672d79ae2f4fdc336462e288bed2ca6c2882e0814a84570720ec453638db575aeef87ec0b1877ad9ce5af668ead4c374e2ba4cbe5fa000d61630ad2299c1bf077f52eab0b61dcea18858aa06483a374d41031d196b373ff3e571c999b98354d738bdbca01a2bdeb63ad08d61c8962a723c1682866fc5014d617a90f5a3024cc98a48033315fc92efb7c3c03d60ff1bb982c832248471e367eb976289e9198c5ec54fcd65cc51d04d5150b9c495665f95b4424f753fe8545c1763a40ee4c2c38ee0f3a6aad854722c0770d380b44a42281d0d86f3fca4b7da355f831c3905e92348ad242825b51078d9e427b87da382e11c6f85c336489f64d4b71aea2771787ccd1f9f7c5cec7bb395e2a3bdf7bfc7e18508084e8198fd5c9ffea272f7c00cb2039a555b9be1665a60bf887ab958fba6363a6ee29d2f1704145f18c26083e706cce562d8214bc6bf6ae9f8e67de7834f5afad820bc107306e6cf2074222152e84d6f36ea4934c582ce94de5597ff8779dbe081ef8f8917839b0af02b6bd8c27b7565900f1c63b8e1a8f89d79b2ff8615727618c6dd8cfe5dff2eb616cd60a26ada6fe03c4e830e45f7ff79a06e41dae69a634cd42a82f663f65888b46c8638b7aecf892a3e3366ebbbde7921674c600f0c72e0686e7e72d351f39fc5aa5daa766bf2f9dd02b441c534bdc5951b90b8075591c9e5031c0ec1fb9a31aed6a23a6c1f887dad8ed4b09db01c3015ccde60f0acf6b6362731f273d475159bfc4bd25db2c3cfc1ea5d8383aa4be2843dfe6b98a3ad8dcf9304c2e55a87e1d16e8dbfee55ca7e0ca0c2f51013873d715b20ce8de05e64eb96d131fb58acce90152e5f46c2dcb013aa986996245afd96eaaf9e068ebb89c69c735021df6659f4e40751f99af77f0b52a6e90da87044cb421320428b187fdea69a7b503a60323ad5c177615cb40e67e362c60eab0190609dc87b8d7b9e171ac750c121026641a9cd3e2dba14dd4bd533d9bbad44c1657a88b779b25ab372e339681bbe853a560ebab3ac2a11b64e694433a3e86701dabeb547a44bcd5fa8d0762c73d1f035504eb786898cfcb2037c065296a5bdab4fe29e3eddb673c996462d5ac7cf446be56bca93f6d0f45ded993e6818d72e378a89b56bdca22e641fd193a28ccb04dc280b8e917ad4726c05834672cdb40dcdadc7d0240d8edfce5f3b629f11d85ee3d295b23c5eaac531d5de52c3d12f1c551e9ebe2d2e41cc78ce92516f96c802902b80a4193074fb0af28043bafd5fd566755436ea2c3dd0121fbe2c7308281e785c5ee5bf9cced160e7f775c0d7bed9a63806dd1c9445cdc86b948ba443602b5417ae71c43466038d746907b36cca924b2f2c03c3fd180a53abf331036c933c13f1f898ab0b1bccd1492fd473c34062f03a9167a1380e4cc86ed9ae80f68dd416536a60e4b6b6da7f7dbb8689e579b6f52b5c5008128f2a9a2cd9110e601ac5c16b7991b6bb86f266dda042de92df6a5dc6fa59a50990f6e2563d4d4d7abf6b30fc354e887b83f44af39ceec8f1a4b1d3169287078ba357554837d5cf9b949d63eef1b74ade4d5c273699d5a1d0b13db0222564cee8f1cfc5fa607f5e9761a31d81355502643088c5d31b493ed788789f1e7bca264fff0d17b78d2c1c290fe3a6db916221da47ca8d527ad6576a41824e44e91f87bcd6a16ec2a8e8ae9e035c9c89b83c8eabd97b9504a8b83bb2d7c32e4d2a9b3c9c0d3dd8e709fda31b4b358cf0f3bc42a2941429b80352bf2bd73edc50d512b2aa0bfa8669be058de01f0405e45990f7c41c79202f9ca7d83d1cfc616a7bec353bb2b86f85b15ae99a2dbd737d283f2fe5fa0ad53a3cfa35b30ab37cb7bf8d481d0e79e39cd781566ec83e753cbf84d413456742edbafcdf14c61dc93b06fca40f3ad0df6240f4d7d2e3bdcfbf69a488ea0e5c5231e1e9ea99e8ac485427d1ccd9bf213b2ae66a31be2fa45e35e662808009f28911edea601207984537af81b1a273a9162b605211827b7691c5db29a08c210119404bd81f91b95157e4176a949f1dd230b24e42aa670c964732613f6e72f0153cb81767e9e63d6ec95a67c174223197e08556e341a6520b1a920c81f2db08cebaae7264ea0d13e97300c3d957047ede01cc38742319a0ee5a5ed57124dd27bc58deed76982d34e21e346c14d3fc73c1732ce3e1c9f57a9cdc276d8e50a6937492c81104edbea3907c209b7dd32cc885c54bfb6a7cffd6fc63db93a9a571126ab370b9f20cfc229ce4710f382aa71a1429424d789724c31bdb9a5f4e2733f5d55ba53e8de9ae9cc58c38c96147b64450e7e877b678b7867aadf82c8438118239c5cf9d1b5dadf954846d0523140eb3f555e7a0befbabccd18fa327be176e392febb961214c9e731a163fbc90d32b71672c20b94219ae8ad243ad662b750d4b3b602816f9b41e32ddd35e5448176d862dd0b6e07a7740518e0de7467d36e76e587e05c22c110a86f3f96716e7a556ae6a9d3200b1b6abde2717888c4d96af539c860454cf5a322c9a4502862d6108f43b3efa750ec9aa408f19b84f8a3edb6c74b578309407e4ae9cfbb355379de370ea2a23db1f50886d6bd9d87b510686b7092486dcba7f792fb7a3c26f35759aedccf93ebf103d4a8434cb1301ce7bb4dbb443a5e30f15f4535dc2bc6c65c33bff60d9afd39e8019a6d10843be05595c06e015d1dec4a4cb9bcd84a4aabc7ad5e78cc0988e826301e943e7e1b77444a48674f385fb93c643fdce6fbb94a779f5c9942dc5e638211318a57bd235c8ea7abfc2d5680194eeb3f809d5786f126d15f6780f48aeb80a93d9b0fd09a2eb843c1b81ab35030d3bf1f57183b266a634567d4246d3a13f2397e47a58b4b024aaa3ed467fa4e8c32592b008c7b562da883064c053e7d176e1dae7367d783f9b2c647f69f7818adcc5b75f671d2740aa24aff4dbf34d4d3f32af5fb37ba6792aab34c53dd995c043d2a8cc8d2c3863616426dc58be062c6b1bc8db16b9d5a329ba694b8b194c088c3fba85e7d8bb3e5b1185d6651cd2aa40b7db59dcb8a317e3406943d188b948a8107c855bbc8d74de9cdc7667920c4de8e7cd4a3b034c0933c064e68af8b9554694781c6341e76a9f5a4c88d4a971451693d3167691f687f08dcef47ece2c8a992ac87c4c4e72049f8d4cee562d82ed68e455c92020e8ff011cb8847f39ab7642916ff6ef49818de840abfab4e8f3ade60e1f608881314a34657420f054dc359847bac3b855c8989e6769b445b7a563e3097f3581cbdaa24f0db34d09628d0b01b44f54764d945ed3bd94c32c604db1a959b3bfd54b9e03d8d2e198ca85c82b9d983a3df210e4f7758969a17790687aa5da79fbc88ff25b8014a385e2ca8d3743b5b609426b2570bc2a4c648a5231559daf33d633c41e823e677f7d3fe79400caae6becf752e22b235f195a0c8d8043fedea2019d459bacf8d3e9b4741485a367a438dc5b1c50ff474c0cabad85c5db841a766bb35dd7faf03ae7774604d82a11171c03750df7fef00599ddcf71e5bd3a734474bb574425738f4aaebafc18ea857653f8fb2400f22ccb1575c0752f59dd8343fca93043237cfb8dad6502ba9083991e76a72e60ec3bc391664daad56ca661a8863f9ebe406041eacf8b7515c146272f5025d1356236d1858ec4e085b985d77a1c3206b98c8c31f9191d624d6f00d2706d48961d11c51c076ccda9860014d47b98714bb6ae231bf85b436b5eec53df235df1580489c62bddfab319645d760a77c22b8ada5ff4af1f67f4fa8530f864717150e6e292432499b0d3775bfed5d4302826bccaac709acdd73ae011242a078d30ecf2005ef4b05e0403f60ee2fe2841abe1744ac51ae28eeb2905e4fc9a4f217f8fdf0c4e6c511a1415525e85a9443d1a12cd848c203b759d144139cbbdf76c7395b1ac007c1f4edd9bca61cad9319e3697308a976adf7170b756f51c2e989ea610efaafee3e9b80428ff4651eecf36ad21310e59d824a183b106792626d52a1d2536a2823617e32599475ae3a6e100d634b68f032051332ed17f0bca768ca2757af8c6a06df0fff5c429781944995d0a23297f3f106db75c09ccca60188f84d009cae9b9705e737da369c3ffa54b2568c87b3262331cb17eddede3aa16d6f46977cda7b4a6f9634a6ab7e510a595aa60a91b66f3cd33db4b73d11cc4f8299214dbe84a9d3c6ed1606c6ad90a65eac5406634e4cb621a0f086d3fc255fbc2957b9ebab0e1bc4213a36f4040b1419134c72aceb1a4573bbfc49502af35783e0fa2abb8adc13510f3e55089d01749d75a2da614da46ae0e39b8b24a6b08db7fd1005ce37dabd7502d3406f15664d23e71d85caa02fe01ae7e39f8f8fd16717503c91cb42950f44212ef221761ca6db99c7ff9fa58ae8e687ce927bdd352d3acb6cd2a56b8a977b9e1465d1d98c926895926370d80fc0b480dc8ed923f64d283ec8615e564bd565da0b3cd27e05e7e3f82aa0b9153ebe0cd9e955bc670d84ab800f7e5bd711de093717350bf3995897109a1395251629586f5991a531d86757a7822576e1206dc15c12e75caab76ed9020af646701f8396d03eef98f594566376788b58e2d706c8bc2839a2cb7dab7440d3b1a49b6187412e29f6d23c7a418f66ccf2743fc9e424e47e4337a528bf77f95c213a98e2b517a6eb94bf472fdbd445193f02554e211aac78a5eca28b76ec7998b807193ab147c53ffc40fa2bcab57a3ad4a51336b99f101fcad0d26d21b94b2093697702914e2a284f5f5e2c6061e113958753ba2f7c86004f37fd548f90e7f1249785a19de0676356908d2964802d724114bfe87df6046b3b8aeeb0b7a8c6831a0d43d503a8f1d83f20055510b56b3a9750a7d1aa555b60b7e1c3d8ae9509b0d7d78a5c94070e5b362fb488cc05e89f2326f5778053bf30c4d0a8fcee8cd16b74d41a8d86755689f93d5a517c3aeb48d7437fa2ac1dc0837a82d9863a7d194e06e0abe1bcabe98348cc5de1ae77c41bc6b50597daf986c00989d02d518b55edcb2c8d1088eebe6fc326a512cf45c43426fed78152e36ba3cd54d0bbba1e647ef5f6d202ae760fc90456cb5f19979df8d44ceab0a06f55472fe609c9251af193d0a7a8e4bb89dee776e04438c9bbcd65cec8ca0bd8d1057b1ccce5f99c217b74d6a6686e333fc7fa90696e662b52267e0a06897695949afd5063e6397013e41978aae0636f7c52a3aaeb7369993868f0e36bf05eded1afe3495e1fcc6ba70f917a7b9be6479ee50c6e5b37980d90da2571052caf775c8e75f29955e0885d9aff7669844d1ab4b6695a7cee254598419f2e124fcc9a9a1ad5dd6aacf1de653712f1a4bd59258bad5429fbe44d0ef1d869bb378c25fad399f55db41a1d7ed3e8c3dc3e2ae4fd6d088725ecd670ac9fcce021528a867e54415ff68eb7d1f55db433b5bb5d85340f36878556fc64f070b3358999fea2332b13475818de934701097d35e98f26f37b41e2d6707b40e0078679cbbd3d84ced7d6248747a7d52509a78e2aff5ed5c9408a02b78c7cc38fe155857e7e5d6e6767810d1931cd2c154ecd7e431fea41de189a5ea70edf19a37ea76fadd5ad04dcfa8c119bbdc1a269f5e2db9b9451cd33343d23edd67f99443c61db8eb74ffe085bf14ad8c59c54ba4ce573609b0eed525ed55b843c31d916bd31cc82ebed7ede525987eac1f80b87791e618fa9ac1504c1b2b80e9f72d838087f74024625fc277ababff1f37892b8f5c942292bfdcc8bf8a613af4e8b234095d9dae6b18693796b4a286e3cece65cbeb07a8d9105eec92005ff860b76a966a976f79dfb3c6a78741e9d4f5cdcb183c44665ef5d10b6f04d7555716e56c0ba3e9ada48cf749a066748a7346b05adaf95940602c59be70c4e7609092ef9f9cf0be389f5a3a722907748a434f0e84695758c4f87a5eed8ddff58b03eedc83c16a418a537cff0f5b8c922be698b73849949d5e883d3bd97585a89442631549847e79884ead871e65e9ece009c25c5cfa3daf83a2ee7040eb185056a8ffbfd1b1c1fe6b7f6d5f0ec47348fbb0a1a75a889672f957fae58a786c62647547114e932d8df19fadc2e1679c30686c9889b6381b08ed017d5d3365a65c25f8fd7c70a3f7143dc0ad4f0585921d7f40151c525cf47267e6f65ab57fb1e4e5ef9f38508a0286a4051ae360d43b1bdf7483f0a3bb5a52325a799bd6e16b20123a6411571f15ef50620579b501b00c73b59ce7ca280c924e6f3dd23a76a45fed823586b2202cc22125ae157b7e76a6840164fe398c22261e59ebe03b44d6498df683ad511166e0c120cf3eab97c25fc634b1890f76a62b0ca83d4b00ce06e5afb5ea5db633ee4fe0d549b1624551fe4af7a04184cbdef50519c943ecd18f5f707b8a58ea4024ce06f02bd28e140b622381c6d1b3feb7c54fd49c9e1e6ce3078f2c98f62d95a7316bab5bd8c1f94ca4509b98eaabc260fae7afd819ddf80c942dc8602cda8bed001f8ad926860c5dda5e77053d20c4926e63b79c3627c34eb4c54cacc333f02f1825aa9e51c7c6f50529299ebb95740b988441e41587853bdb6b01cb00e4febc77eafb9cd8577dc566dd38c75ea10bb7ed6fb6ab51dd69b538e34760d3064d94f64ea0db17784cd3fd37238bb91d7af14709bc61f95899d82f1dbb3a7e35c2aa13d7d258710694f615123e6861879ece0aac5a5fc0beb5650758605474a2b916fde1f6585735d9e2e7310ceec132db767df905582b2a91c76d96eedd42d73865f42b362cbb855f497fa338c2e1eee5ba6c09d9fafe4620e4242f5f81ed083a03cf63144351cf480f7b280dde2fe902bcc130f4314ff4c6727a2e221e337d4a529c1a476b0ed132227947b935c23593feba06863512385561916aec768dcb35056e81a00f16ccb193cd9ea79ec2f956173b0087174c0927642635f7d3c5195e87fb94d28816a826fed3ea5c21cea27fa017451605a6562866e5d0919d73dda347211b7794295614e83fbed981349bc5f58caf6085bd0ec555c68e71ade5658a2a1e5081404a6dd81b8dd546867993414d9d67639b20bef8e2aa44ec5ad386200f6ba2f8876db106c23c526a5835143677c29a9e71875d7e662e7250429cc73222109f3a9cf1668b4ef935125f7685e5aad2402ad85c30fd5d1a2c3d76d485b1f6f5bfd653d998c213c34d71fb882060aee68896934c76715952fd7bb23a3d273ff1b857dadd3bdda11c5ad3d5acde7564b96b6360fe3aa7ce842b863a5ba5fd1f2e3a8f60e90946b59d6fc6bcfd143509246048aaa458cbd6b005185967ea130bf83e1d5a51190fec5026eb12c941c667310a337839fcdf999077d0afbac827d1b74ba26fa45110a2895ad24abdf6adccf70ad9f961022b1c4d96edb7502039dbb8c51e56e02546058b26c95f17c1181a173fe4a8c3fe917755d4c23d0703e8f6435dc1611c0d0e41aab3f844e169ca04d24ab9a7892cce630fad69b1455f0df84d4899601d99dea2997784f641d77041dac95c85b574f8db24101f86a1c358c50146bd1b548362fa5982b9110d18c49bf12f6830c0cd9559a33e25b7fa305a2758caa4238d3d177033605eab3eacb7c528e3d6ff1f49297e077a451fdb661a789e24292be6bd82d738c7d973bf0c46f22035e7a19f84f6fff53fe6ebc551fd1b5bdb4e203b3bd8b9d15b9983b64089ee9f8e3c2a2d671063c03f13c4a54e8775fcb97bd9b1d65e29fe25e097c47083a5b28219eb19eaa4454e70152eaca3cda779039c9775ab40414db4e9803c24c0d6e59faaae75c8f7b6229ba209980fa80b4542c1b8803d9f296dcd11806820d8961064dcfecefce907776ebef512e22035a8866010fa40ee4ce20aa7236ad58bcb4ce331cb6d248732273378f72b723d785bb95f5a7f91b4cac72a27bdde5d960fdc5322d581063197977b6067e3524a14aafb3550ec74678d8e1bab949370213848be0ed0ad947944d08c339b0e0e8a395b00e01627341233d6893dbbd1733e2a87db0452d6d413e2157b069d8a1e9fc20f4900ba424ce059f8e1f380a13232a123bd6ab576fb64bb0cebff0896abda9709bab2369971e4eb84b862d8ba78aa43777e025422a5bdcbb6e0cf8fd2b516e8b3a110471124fb284515cc974a8b2d369018393ef79ad79dbcc293ee51650ab82da13022d31d2fe777e0a02af281d554ee4dbe299f280825c963d8e9d15029e910941285ea0deb4022d41acfe25ab2b6c6d917c1ad421c70468033ce531c524b38fd959575af3a9392e06730c3861698ab2089f1737ad64a7b5004e8c190183c2956fb2618cd9779fe9213b43e6cb191461c77b84b85083132b63bf4e5fd5775635b2b1699cdbbabc2e0a7d47b2f3ad04d9fd4cdd38d7437331759c2b9d0e0299d51b1fb3732e240ca7b0311738acf5245fb0430dae0436d2e3caffc3ad5d43c2b002ddbc825dc8d12d624a2dbf1fdb95572dcfa837f1b3fa291dd85f71de5281fd6b1f8f6cc1ef8b13365f1f68c6ec5afd0dc63324b9d46084aed2d89aa2fdfe273189d7c779e38450f4ac8627fe57a42b0b99427b91b5267efc98f31f9dd3ebd89cab30f436382b132f206ef908f4152f0feb689b114680a6330d735d5eaa498ae144b631dbda38d2eb632b69e820512f77db44bb5f05efcd1c4f3f8bb3c04bebfbaaac19a3e8e000cb0613625cd17296d673c5270ce6666fce20c2b5259797fb5168825a3ee61390848734a2fa7168ae6bfdfe5b78d71848f51d3bd0c01d33073332ab37adb2589abb63877416da8f0c1f3e40b6e0406209059792bc80d0a7a61a02f2e6a56a816d00d50686fb133b3be7cd4683943783bd201a3d4688a160826e987b0c236092da290659603304c46b9aa13f5de414cc745ff9704217af08cfe3d3539c6888c74067b8dc4b52527b21a9ca55c757c531f834ab830a912171b08c7314c9e93d2c31eaff","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"084efd878934c76a68eb51b34d2b9e51"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
