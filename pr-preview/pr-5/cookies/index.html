<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"95aae7b653bf20d5f22079ffd769849a07927765a988b811fddd4f91cc5a34b488c4b3d818ee54a702081b0a3045cea5c75ce3011245f9badc1b59fbd420f857fde33851a9c7a9713c9a217fe4e0c844e551f891c5e2e2763920a2ef91c46dab747bebe69dad6cf14d4b5407eecc846dda149a8084b5feb662e08ccc5214e35af9fe6566effc692fac6ebd83c6b3a6f2755474b92def4ca35fccb200cf0a5508ac754ef40bc775d17f3e5a9c69f8b6b7d6969d4e4a94eb64cbe546eee004d44083f12b9cf16cc2e8b98812a938a8220b30100e22d50a1534705b6cf490d808b7b867907a52b95886ee15d5b0ab6ca538ae3ec3a61f5bed4917bd8a09dbf4b5ca2b5f7123df755e094a2806249dcc82319534aced0f8e2caf72d355069b585535084c5de2c0b440b3203c2290e9d5113efadb371c9970ad46a84d3d997eb31c4bff5203256662513df890f39fc259f573b1e034f0514c06c1ab58e696b0f782262539b40e44cf3dd73600258eba340cc7f0a43575e6522a3a7490db5796c7e751dba1233e7dc908e5e096bdf2849fac21b3fb95bfe9e7c10d82d71bc9b635fd127f69e770c96212a93d537582d04f00e4a45905d3cda0d1e8fd227eca3558dc4725a3616c016d5eb545b2bfe8f7368a19a38a3268f1f96d7bc3a7220abd1db07a242d70434b9748057c63a43cbe09efa0396ba288e2011c155e387f1def7b30538b2b001e340627addbdbff4e3e7cc47a5c499cab68f01c29f4e6c5f74cdc2eeca035f2cc6a144c1e6c513a9b73a0fecd2ee51b65f77946b552aa0c52eb8c2c89f8616fcb8bb3de1f41ed04283ff12182baf9dc6f546cc6765defd0be4ce5b3d60efae0c7d24bb1b048c04c00e602f248ad4df93a3a77720ae38183cbb94d932fb3375fb73f4b8cd6a643a511dc87ec123a86f94beb56848e4feaf9ed7db5a2e39933d2590150d5d6a714024076a355ceb20138bee45de4d1280aa7e25181973cdb0dea6b585db29ef90f61dd4f7031dd3c3b17f4300d5b09196e61564246af83c9aff75d45b4e4b8152654122e4c458e5c269efc1c4b652896d91d6ac584dabcd94beefeaafa9f5893af6f6a3842fe90de7e2e8cf120901e6dc53e811bb55996c6e50cd302900cab938346ed377e9bf3f82f06c1c8ee030f54f5a79f1d2b35218ec3f08f0c059f4c26ad8bafe95e5ed6e28f391cf964e070de4be1bc360a7253976656cd2d59707fbec9db74939b90d81a73ce9ca126d9b4b1802b4711b51955af46b3d32121462be7ddd155f6e161dfc6034b0904a99840c86bda22f873bf608824e21840eff817d8b08bb9650e904f8830421396eea7562d61540460b0d7ada022800fc7d8daed3d995401a30dda9385eb120e554eea5ed5b997ab18df6b6c4de2a160661f45ccef48fd0e24d55b5aee91163a00628c602b932366f73c010872a3eba322a365511cdd3de21df13832a3e2f4311f7259d8dd2c4b18e966da38d051d45ae62319ae4bc5911615b1cb2ce4dacffacd404a3b73cad26738ca3c3e5fe0f94935747516c0cde0967ece0f19dd0d5f446595889b7de1509f1d1e47f0cfb41e33cb1975aa518759148ab622f8cd1e79f6d63c881c13b8203eea6be28a689fcf69426fc88276153d68b2fc94ab8943fd214d82a8c5f0747ab200e1fb53e4c5b0dc0ac0a34029ff25db0205d0e497dccc8d6b40074403ce8340dbab690bc224ac3a4307f1f8c6ecd44a730e52b6a3972460e830ddaf9516d5333ef9d2971abfcbcc42554445534384ab53b80a3ce4c305cef1b228af1310ef045182b39b9be56cede1630bf794bb5dd7828cbd6c4f742460253a657f1593da44c29c79776c47241dd23ae0cf620b16f8b91f9728d4512690830e151a27bfe176f6978b56df5c6d1e21b3a5e9400b233162065013103ccda03f21c775d0cc5c099577e52357b1e0b383c4844761f8e29162cc25dbe13bc67a41cc27e8248ae561cdb1b4870b267339ee2fbdd71c786fcf14b703e3a90412a3b9ad0c9ceab4659a200ba2621b88ec07d25de220e547b1a9e3635b39921c40abf83ee6e4f536d1e6963c0b52d2d4d3ff4b16f762c1212e4f877c1fdf5a7f4199459c2c0dd8339bd689874ee1996a257a34f0b41b97a9e8b9204ffff4bae43da6290263a7e13a0fa5ee3b98f842e857302f71152ba96c013a5ece093007f07d38d2fe404299cf7276728c62da701afc8c9e4a1c1be69d845f8d013aabf22f129babc9424feb4efcc6b713fc2f1d4f98524ec2e8a53e4217a8e2127d6cc6d86573f8a54f31a62793e2a13e6825bdc1d730b2288d77969e508460f8417539141a1726067a6e231fa61ba7624ba75f9dd0a5530ef67cbc46db5d746b27056d7d1aed5b4c09b403f09eeefde2466530f68f00fd68e52c0af259fee4f6b639924b5dcf30c3f3affd6862b7ae441130e2f2b380d3b42377c88c965b781c26ec279f3981acb902885ddbedc75891a761222062926a829e02f882b1595ec533e5a90dec589843ff848f8622cf248c8b815581e02837957bf15257a775799745bc07ad531316c4794e5e19170f550e12c0ab620b7a99d236a7f685221a99535cf04ed852b7992184057abf8f9bb6ca57467345f0a068b8289032abb15367febfa95cf2bd69e72143445ef1dea08ba3e45dca1a97700cf3c5c5addbfa3c844d647437e81f7611fad1c4f95fd6163325d65b59488958660d0848e023c34f56627d43d86531e9b0838e9be51f6ac6877e33a9351b9fad0b9dd2b65455d139704af34610a7d8c575bd2aebc77812b1cfa73d79020604b0fc64b944898c6143e3ce5f5f6089c52473fdebc8bbc278d452708aa49d185fbfcf87c6934a8ccee3572602ed932c1f25c7b8356582b310e4049598890e3d8cded2afcc855b5a40adf1a0af09a73e2edb4530f75a2856fca9e61256ce7dcecdd5596acaaa78dc895ce5bdba451411859debb5c97f0cd6d20ef70413972c1e6b2a1eb6884df06a5d09b55d1cf77e7d8a6cd3decd10687fcfd134cf2234386d4e68f52abdbf1fa65479bff921693d29c9ab3fb1be02dba34da812bc1d96353ebcd079c66416188c7d14505568baf8b1016d1da0340d7364c0ad10688dd16e46e87941d94c1063be84eae5f2b508fae52889c9adea20e8293a8dd6ae915738e42ebf359f2ee920b632012363d520fff32198ab0d766f4381d2a446c136ec2ef08551c5c766c5ab1f55406849d229bdf075008ac3b12a4c027633be426de1e1c126985d0d672ba31115e9d9d9a4714c610e0563a09f760db7eea3fd8329408f209a19ab2d75d2d5265798ef3cbcc5e5532ffdad19535389bee77ea741ab70fe11c60820165bc95fb39eb0586997f8465880bda9a2a825487c1e4df949a8c537bb85deca11c71064c347dbf61507f085dd936823d47962e927c07439f7a8a12a7fd022795f59b35f307fdb92b69e823915741fbd0a57556e4701f8d9f4c7d5f89f337d6db0ee3d91c2f8cbaa267dd10e0766de55ad5a40fb87b2ad0bb3ce1be93e565ef4afc88b6935b94f0e4ac1bcef70e923715a04a4ed4f2715fe8af849037a070ecbfb4e87606176d3a4e51c7bd12b573da6ce19eadbd491da108256d907d3701b6eae775765e7e77926f2e98c56c4c8e440a1d193d133e05fdc4a5eaeb450534a60c58a3c4d034d7485581ee557bbdf9139755e20c5b82eebd0727ae2b5342f5562cadbb0713e6b056fa42a5898b4f07ba36c50b04333689f5d05628de69ec2d477ff7031e8b01255156bc1a098376c5ae4cb28ae8587439e8836f5e0d0620c666c1825189a5144884d9263a5efa28a8bb9750278237fc5fa3f617aa0c08256d70dd61500c84a34fbcfec9435554e43978fedaf85d605a7e070e2cd215083ee16780d800e34a31438d3b518c9366c5f8b198080348c02686b8a20c5ef55601760cd008a04e72525e7ac660fb56623c5d08161185f6ba37fc3ef6a6c85974aa9631cb2b128d87a48fe4397f529fb67e71de52f4179805ec59e9659c1b2f05018d31652767f014f7427d7b57d5b8db27f607a5a3210bf1806ff9ea73b1fd45934c22d5df483406423cbcc6ed64e2e60589bba0f6f98b2d0db422d876114c41ef021b7151b4c180c88a7d1bb6db6c0eb72db9198b283acb535406f6da6f162b29a85636701cc382f86da2f11628260524897ec512a382cb0302fd0259fc8252e3601a079ce86c06900e1f385ab1dd0e8f499f419357a2411b3704c75fa77c7f4c1d229e34a34d02a794d1cf4e592ba5eafff11ebb8ea6f3afdf29d111525e778cfc09f23005a1a366ed140bbfff5784a5e42a397beea663201bd30e1210986a75aeebe29bc6321c1b242e6200d0fd09c4acdef512cb878cf7cce7928a205429aa5d8d9b7617af56b2bdb0b91a85b0a3276e515f1fbe8db33e5de2a44b0c1e747fc188ffb90dde2b23d8ac84fdaad7adf09a4a0288b12d3061ed6c7abc73d6a4d8a41eb988ca0d1c7b9939d4fbcd3bfdd73fad38fd4d47e55fcdea2eff9ebd7040d19a3f49b18f7795c3002f119f5e1d32a289f6bee24c17d39497b02896a22827022a5f59009eab418bf457563b1d25a020e7e08fe6cf816c8f6ee60266b3275d83f1f1ef6c5794003c4a1ebec085c541ce2467a3a5de580bdfeec493d048e4cf90cc863b331792b3975597058f7a63214009ebd8b8224fcc9b35b5bd838ae156fe8915e842345795cbad5c0ae46242ae72d54d33e07cf4242e9bb8aea7d9ea6dfcd2acd765b68daa64791f8b580e77d4ff63b3999a406fbecea853ddeada708a2f360c45631fcd5c63bd623c79e50e8098a0212c1a67704a613af2f6bb7c2ae54bfee995bec78fd7838908283509db85eb8fcbb5765f15b78fa053743f78a7e6bd246d785314eca866504383cc991b6c2244a55b69447c53b0ea825ba217b1434a75f587090786392d993ef05fdf3cd6999559119f7cb111ccc6d337b388c56b1d9df4244368b5f8b1e23b808934eec836fd17e15989e9001fb3769297ee2055dd0cb06ebee5a37d34d0fda988da806935206050ed2a0a9bbeac8f02db89032de7919123a827d400c57ec1616566e408cef993c7410d017e16a45070e81120cccec66e18d31797234a6b4628ebed0973ef33efa286af33382ce4e65c190efcef39aa045c2b0d2566a1fb623a5326867693b16ce58701cb5869e3d7ea8368620ad211736eb6d6de7a9fc9ba56146125e5454727599f265ef6d5e3565837d4dac9fc37eed0ded269ea619f5d8b61df24360afa2f0431954db4307e07ee6b0c41263ffff3b5f486b0b02c4c7a07fa5655096f70b4a1c852773a8bb5ccfb6dc4504f0b52f05d80efe03c36899f93b5c6c6df1f0e0284dd3b2ef7e66b6573363126c2675989e507f03f0b0dbcfe69002b8addc5e7239c9f30a3b5ea9d1e0954d24f5ef3777b92d74ebbd98a2d3f1ac13f964534fc0a8b3f7a2a987f8dbbed89f8b5f2005698f98238a66866fd00c22327405e49ff21766b62f94b845010f8092867f2176769816093be5293245b812e7debe64502251c7a62e80717b81fa0548e2308a9abdb9cf39978a6d536156f7812f771562638294b3f9837691687c3538ca284f72601753feed1b6f28f45ac71ff34a7998671ed5c51ed45c552ef5b069ad41361a656b8fc39b98f1d32329cea6b7cf0d15aafdd7bd4b807f8c6bacf4e27044ec4a8c33980339cb6e5c26a603c080fbee783c4b917182e13f63feee8803d0dc22e73a1e4b9fba8db34f3e9c662b73e77c4c779d7cd3303d3aae36cd6b003f9f80757250e25df693b9541f6190b1cd7824a575b8868a7e38c490a13f33535391497a93ef1359b0345041c6d0af388ed143bcfdf5fa1706673465685cbbd925ea65480e16ce5ff566953722505868c0a9f3afe82d572e6cb0cb1874d4b5d6e34578bdbea91c937f43d685f12c361747730935fc2f3869abaa936d0a3ee06c20e28a62658c38eea54cf0241906ea1eca5d868bfd6aac595b90634b00b078d737edb8ea950b7a3d0344993df737d230d8180c39855c201d7578dbe82e1e19f5fa58b487b5fa4a270678d15cebd0f92a80ec693051e2426f474810bc86dfae502d2ca77cf18dfa13438a1ed75d8bb43b3909a03579c424928c68eef4353eb10620596b21521f29708059d261550ffa5b121895c8cb2b3432e6ed52c6b18aea0bfd7858d414fcc7824ee2e36709c89912c424e0a8477b90d596d8c272c9a46bc8ccd31c1a4cd1dd1f27fc600ff956f08b682865c24875710fa67a1b8e388af6faae64e0d5ddd8364091362d294d535a16a6e76bc2445c80b1a6fc12959593575c01ab586b20e45a8ed4fa07194a566dbdd936d93e2afe0981e8c4a170861d6f52336a93d8883c1570067f443601b8464cc6df57022d682a042ed6b36c0a18b35944d7c8d1853916aa25f27f5956abc37983c6e9d059ebc4cc6ef5cde82a9f9d52ee1f198eb9a52ec9f143207cfeca496a3d5347e21e21edf39a5e039328459e3a0046a8c2093ee105a550d06d7cebd99ee51d744948bb075b746d4cdf4590b22d512e9b19dca8a14f39a822768918140972f2417683d0157d696ad1d0dfb3f6d37d496bbb96cbe864362984bd6d00ac5c83144c73563106736dc124e502d73ed0cb31a303ab77f105a93cb39aaf89091b30a77c89b2eb0c610db26f07f0de630b3474b0bb42941d675c2d7bac8e73afb613deedbcc5c376a6109f0a00bb86e080ecd831b6579f1db840af75b6b6bb4f91618508df1e7e058f55a3d70a902ba58595d08f3c11f58bd4b56cdd6069fb6a9fefef276cbf415d17eea1aa322699a1377d70be4b4afb6a3c27e851758863c6e67af09adb0b5b619437005be997bebc45c923baa90dd6fc670a5bbb39a1643975e4e55fb43c96c3859e814bf5b04d246397fce5aff33583da1db3f1c233463c134ad9846808de3204319c60bdedc68987e3516a8bd374409197840dfeb292d741c36f668f22361fb5da281328a0d6d965be7298040535a266368bd14b22a915333fc254b042b5b770425f524b1230c84a0a5a7a425938caa541ceed86a2b08fbfbbb1ca38685fc77d4fd84fa270c697e5415fa33d98af06d616f61d0a7b4fb100abdf9372820389f3aef00ab14e9e7b2d3f3eb5a6165c684dab2807fcb6525e03ae28c83b20faf9de95f38fea05a9406611317825d923d2336251d64f27133c9fa9f4aaad15ee4569686541ab19df62052dda9e382b9b348c42be6a3d3b6965eba7ec9c901fed65819ba4f0283d6abde835b410a7091598f9d9785791743952779e8f67412a4ae6d8123c96de30e1fdf88ecc8428603b73b975e013e952810e0f38713d00cdab57a9e2f7e4e793c2e26037ad7a61087694f762101c87dc59e6d05161284ec6ade9d5a75cd9def681ed2961e50ee899331eeaa09477321a65fd75c89be8fc17e961c5d2756ef34e82322fc693d3c9da427ac5c653351842d1e483373e00dd867b6bd761962871be6716c410e8858cda0721002e71cc1c2fcbe150fea5facbc55da74831157a4399806960dca9a0e4521b5f6f747cb08ac4f8c07ff10fa72e2f55b6df7012e6f5c22b474adf085d28bd91698891cf813a009c30301335f2c392cda4302aa7af5042f70f091a44ed689357ece50b8fc742fb414bf68c5ab749542ce38ddb4f31c988ea4d19fa429d51c4991662c5036439916e9a73bf29d0e02cfc4af561374b87b21d769acb5c7d01ff4aa281430ce8392c8e0c97a30f88766df2adb2dbdc7437a037b6b64238a9ef915f42c1191b150fc3491946c6a67a6de19a4bbdfa3c54c784ce0386fdbbdf108a90fa02b7f93b5c5e2bee8636d884c7a6d1a70d925c52bf046ba95ea8d0fcccf485eb7954db4fe4dee0475eee55f9188ee9496e5f7513c4cfe3066fe58b06b840dabb71166acdf2cc42348ef2ad2a4cfbc525b6b380e041acf3b226c9913a55deb48c20971b25c7c13a921abdfafca7d3d2b6ff6204cbcf45a8760d526e30ab3902862e53d80d9f106575b7e35f6f0ef3e787664f0368fc88ecf7e80290e21bdb552928adb1838aa717da50cbcea7d673185f1c072d2f7cf67c650857715fa552fe359841eeecb0ca26c48ad9ccc7186b5c9ea09b49c6d1246b79cac5615f6b92c8ad9a14c02a0da7b681ab742c9245af6e23449823d8d625d4575b1a6a0c32b549b749a97401f891a66be8fc6674e41088c296ccbda6334cbb3b21b6add64c3db4e82242b517f1651da3af3932a88cf9877fff01e7bbe077963948c6a99fab1a26a864fdb675c35da2cd13edead1ba32f459b27f7699d20ff7a6cdf9c6c7107eb8f73804d51564ae0dfadb2ecd1c025be3cadfff666bca1488636cfc9e92596a77569e903aa62fbdcba5978aa4cc24c4940b8a5b2e57a8980fdf6edffcd3c8232d7d46d6405c150d7fb6a0ca84f28700b6e57ca653504faccb2e73570c604f02084347b225808d8e3775277379418e637f58ab10193e922fa6e9e7c17415ca54cc967f609439aabad32c7e07e1ca73b75e39b6af0c097aabae4a68c658b6b2db6145c4efb8e20d17a3dceb8463133868d6bcd1f688f2556ca4c1af31a64d422f41ca55de8ba40c634c8e09a73deb231c0a76649210d377b0ecf97b8237a634db07c188aa24227d9b35ef4e04358b1ec101fb06e0e10b13c8039c51a96b3c2c211fa7ae2c5e9e32f5045e6a2b4473aab79d9e40085ab24eccc42a21d18118e00fddad603f4316e176288630956c851736aeb0ce4db18f873070f9bf780195561cf5934558d39254e7726bfe660c09af1d8c4996e5019bf721c899188dbdc434c15f47617c36ebac38513d07934a869dd17e3dae8a62cdb5431711dff27e11d2518e3ca76bb5b0c3372874b12020f94a4e69e04ff94ae4f452bb4f73ed95463338f0f03a67f9aab4ee66998328dcc1cf99f8540cd25dda46d240e91eeff97057789bbdf365e3392b2ddc0a97502a20bd85f3c4c19c82566c802bb3afa6aaa700da4262c00aafa2c860cf68089d06afb9535e258fdcd87f7392fd713d0d472f3b8ad102795bc06db8d3082448b1c084a89dfb1460c4c139a7b1810836cd02d3244eb109e2ee061f3447acd31f5fbbd4abb918e53b443ce3f04291d46185b2bea32d1c979cedd3b57012c7892391679a941b373c3c72164b935df1409cb55b9d419282cb21c2061b0cd48f7f80bf64be04909b53c0a28e504b4f1ca59497a0410ad5e2f2393102e4487d3e41ad32e27a8fd364db138b820ba966fe00ad9cb27c5eb74a5451175b4b5ff8e38f0cbde187920d7bf3d7d360645d99c22af4f4bcd380b5dfb8e8a728bd733da88638e3fef066bd0e239fb2ae45ec4b5e31033b47e20c053d2d64bf20187a3884922434787b803873c33417ec0cba1735f7d2995d6d6fe8b3e4f400815748448d8d10937d7f7a8bdd080ab825bf9b016ee3cbcf17e7ff3d3224656b62b2d06ca075089bed3878a9bb47d030986c4aa21458b78bb87597f0d0eadde7b630a4069d6f218b407d5000c2578a728c6afc58968cebc52f98766cb26077be024c602eb80d21961af0567594e3a13a7f28adb474c8e852cfb9989b7218827c2ac619bbcf02ea50aa6ed71bb0deabf77ebd8a7b46ccfb6e3785daa9e933d1cc3332cb3326fb6ad951bbfa06fddbfaf6f58258f43de62fc73621acc635be14f0869d496e8413b70b984615e4ce4bc63531c57a39f26f5313c27fbf0aa05ba01aeabac86a1c19fbec909e8924f24f6f69dd472477402f2d2544a4d8d0dc6db9635cb2bccf9cbc5fa070ec04c20771a5395b805e02a97f0147299809a95572b90b75b94203e44b2c28eb5d72e56d09c26db8404b5cdec3f37297723f422019c1257bd4c2f1f098915efe77e95b4ba189ea90a19f5d09bfb6202d805446234440213c4a00d8333981f4c49151bc485b59a4a2c747b47b7d1332b4ff9f0c87c7679de8af201f918d955dc9e00ed6ec75b2aab293a374f2570f4b6ecc9aaadc9343b4bde31703f56d13114c3989a8f5a877b59373b8ccfd5ea37525dea18c6abe79d41979fc385d4eb1ec94453a5cdfe61019f03e5e7271041c25e1af42a9041b04fbd9f3b6d775292f24c2fdf6a1482ccba57baded74c722ca13f0f9e251cdda85f3285b2407701fefb43ab9aae10b6162c8dfd0b2bf97bad60d6c866e8016dc895c942f3520b0d983f5409d59d30be42fd50698b17b7774fe0dd0ef6cccd2419188a76c93a0fa4dd9938501b092456bf38ff0c372b16d0419a8f3712912f103eb2dd6bfab52eb2d23bbf32f184ab04bd6dff8c9b9e5ffc4817a61375bfbd90df398e27e1494d4f898ee69b37c4319d76a023fdbf991395ac7a913450f2123d1bf76d3249a46a242ede3ffa2b96f42bc25db21e9f15b01e244d2e7904e0ceeb78609a72360094bbb376c766c56c4c545a4e35152d18070f42065b1333b2b86725cf7c97ed1888027a07ddde82e8423905ec9f7de6f4d046356ac41642c9b3f5f2b93c4b602f83a6e57245b2eea20f2f3d2301e4d2ec0b7b4548a7b6a1642492d5f8b77862a223790eebc3ca561eee3b39f8c2535aecce0094642f9ab5c1576cf4e2236f1a0dfbe5e3c1a63e49f64aecb4df073f6957d212678efc5ecb60bf8472f79ec70e8f993a6d27d59c8ecf7d5ddade91815a65c60010c8336ce40a64a8dc8ca5ed77ebf4cff2e20b70261c59ed6eaaa1c75eeac51ab3aecb3088322cade21cdec5ece3850bac4d6428932d575a5fdcd8f20e48b6d85d2fa79c1ca33e74db9f73dd048349d034139ddac4cd147f3d0b37a085adf87411607cc45f2a34997d2d8d0395ebde30f7ea7b29ea25f1252b10d0d9804ace09070d691be3f7167e201d4f23d5fdb7ec2f75134b957c57e6d29b0441f84d42456f3876c974a73869dde14bb8aaf70a6035b427ce261a5ee45534a0b56f9b384469ad43558ddb3b6f2d1eea50d9ac39deb0300f6af1e2e07c660499253ab814ef9b05437aa41466067ed592cb57f81542f083e29d4a36fbcb6b6a1731340addb7de2c7a610c093633a1311d9c898122c93a75a68fe7f7d23295567ad689473232e197dc9743154738c766f77d7cf44176a7406679956de86dfadee0275225213a01e2a61f16d983f68e86d5c26b3d66eb58f59d8942a210911d560141592e9154f5449e62add94dc4928c5f8b2e7aad0730d822cac37a8bd1074a66ddd7dfecb05d509803b4126d0d0f5c154a0c9c09929524775c5d77e19ac6c8a67a7b4ff6f1674e09bf8b209a031f04555743ff7495d62114a302b4869f221d47a83034d6de253a25a5369bbc6a27ea965ab2c166bdc393fbc504cfda8069750e633d85c075c47b3a585e3ecfc813e733b2860603ea555ab22892b23b9c9b125be4436ab6827088badd8cf7e9c28d7cea4a6f5f91c56edd8655080963e68839d9b9905c14751247260c459354f91c722b13651beb053cb347377964b505e5f07a262e5977a833e36277f51bf9ed5392e7766def415b9eb1925d3983eb5b9618eec89183e705cf7a9c359a4022afc7f68e463f6c2e3123d8789ca2e603a53c12582d9ade5a2ca0563eabc46afb4b758dff9d1ccba8c31421ed95fdd1d5e9120458b3542f28f679d80154eb041a8c2e76ce37e4beda304c6071a74d4f524761262188cd40252d1377f20bb8618dc3a191d384bdf5a743a4f5f6fb515ab6c399d11614a98adb65b5cd001a851b5f9f49ab8e62ece46120a5199e5cf2203aa96181eb784b2bc1d5fc682723ef28b47ef75faf949e6d20ae46393fd88d28fa73ccb7a884aa53125cb49c039b1e106ac31b977d8797fc54b35c077441e6869d4942a23fc0e9a99c078c97c5ba17f8fcee90423a72b58e59747643242787b31cb38f8011a010564221b5d022667454eeb63c7a8d1a9de0dba86adfecf7eac8a88a6f033d23632d66d516cb9f333cdd5dd237c58497a63e0ff2862bac12c97dab0caeff7b770e4dafcf607ac3fd233df8d9111969b96a86d888245552613adb82ae8af26e73e9d9a6b0c07922180a6e800488509138f29d484f63dcd3d19728659ec694a7598cd4b55e71787dd71bf96ec888b08cdd5a016006499e5febe2ac0a945ef55a13863a3dfc364ae7cf26010f68b2f4e19cbe17112450973c041f9cf534e9b6d45593b6e3eece7abfae903bf3d47666da6a40c4cbd9f96b02cb310c2b390245fec98f43c7d5beec3536d5d14666515ca28d51175e174dd51b5f90d61d5a3414863d8bf22ff098d1e92a49d07494d55a18d6ab6d3124e295f3ea3db0d1ee692cb7f6d41305798a72c441fdfc135b300c6b23d3d2800ae8cb949db3299e4a802d602265504a4f0bfd02fb1833e53ad207f852e29b962c1010144bd532cad2020bc6d7c369c12ce0a107395ac072c95bddd76e6aab9b29ff90f6333113915eadccbd0a1e2e56c4d37f1725c9b919942e370a138414f0899d8a00e221b15320b4ac8868894ec9f3fe9ac9f0dfb34d862bbb06e5e6548c081a2bf8a684670f9c2759b8159a10226f7129f8bcb89c6650d252f152b1b74d17c3addce0ca8eb439f2f2a073e16cc0b48f7b831c54e17b6067f61b6bd213da367a7cdfded29df43535d0e1ac563fd3e3fbd0776491737d5350ef852ad0dbc6e249909c589d1d64e179871d04833361a32e4284837ac8177556660a6046f056e908272cd3b965cd6719fb82ccdd381fd95abd0ee4a1f222dfd2c66ab78f707575b463d2965d17d6d260167a964fbf5c48165cc0cabeba8469fa6fea47add21c8df5dbad82ba03f1fb5806dfce3739d7cb9d60c5edca316179a2190a43ec7219d71f1b1915716decadc10f843e365705423e82b048101d2264f78587ea88baa94b99b72fda874a3a950ba3641d79ec33e9e4b412f177a5a325b351db1e2326f0f693fbbb87d2010703dc03bc7a0bdb5c7a1217cf5c7503ceee74d92eb21ff3d2a058d6c024a96b1957d8dd92e45af3b7cb0387679ba5221944a5bcaa4cbaf95619c405f5983e266b1b2863e965aeb83b779d7bdecd5ebdf30b3f47d9868a174ef6c13a7bc62ed385fe21213d78e7f7fc5240734bca615ba8abe2497dd5651fa87ab2a44e96cb0795aa65854ba3ff0ed041e9aba73bf337db2049a099f7b435c3f58d4dbaafce018b8073c78d2245afd49f11fb3cb62d64f33524961540e239b4c37b17cd849bb91520c4f76c19f1350161e017784b7a7660948e2453775f891bf8de08f619a7a78da5aa76b2c0a2b30e7b21b5e3b07f25452f0ce00e3b0c4399ba650cc61959aaee8127ae2d1a87ca8c088adfb24c1c71e09dcd2cbf2322a2246560c7fcf6481489efe1ecf8e14aa4ea953e06bd5525d05c1c6ff44bfd5fbdff205599fa4ed1a7ad01b5c89ba1f75e8352a8f39b196968ca353a62804b9df0522825c231d23f4b2f3b7aef28c94b828ca170851ac6bbdf2b00bb08c24ab57edb035c9a8aa67a3faded1f909f7b0cd9994385dc259ff60355548b27d8c852a62f180ca7504c0cac7241b5c147962e9506e53194ab563eccd9d44af44b9ac6c110912d7021c45ba59b96ac596a8598a5098da55883a32ea340bf946adade8d8509d705c87531da344c3a287e69cac5fc456d89c2f0f19e04335208eefb4557a57fa6fe63c6cf29b9d6d61db66e874e8cc78916a01e0f1bd515b729613a72fee7912428fdbe2007cf0e5541f58d6dcc9b4d1b3a1c1a505aecd04cd0531638ffaf0376b6e4b7d9ee06fa67973e7936c6adce026e126c7ebf99eeacecbd6a8f304c8609a3fd32a392bfd7bb2c667e0781299b8521ac97b64bf7f490c00049c3132f7d5315362cab651486312361bf1f6dbd3d9b15abdc677b4888b36183f061f9fddf295aca8e7bb3246234b8e835c5fb94ed8c32e2d98862b7933b4401c72c61e82251f4a99e2fdce3e595d06947ed0c5483212030a3781d27a95a0df561e6968330b16ff2781638030710c885269330708506338c0b5deb11a178ebb4b6bd8900676ebeb40f76af4191ac45e9ed017829a129e85b91e9a1d9c1ed46142d5e7d7be79e474b87880360d58cc204fc5999562bbe386a4f36a8b35f10b810970aa88875241f11031321602cefcdc98994f5bc46679c7837abb39d9ae6b56ad7b955e3f7e6192806742014a75c9d043a4bf837d3513661ad3ee23320731222d5f63319ac95d1c63b34dc0dd4ee9406fd71a690d7a25c66aeba2c4529c1afad5f8d1a03baa40bef5f5f0b17cdc656f4cdf9671d65d8b784e31f3cfd74f90ebbcfe9a6256753f32325aea69ba64db31c5ea225e8795e02da673abd854deac995662a4a7632bb3f6b7f53a0f7f8786b0cc05e2c2ee2f701c8a0ab15979f334307108b49e39323287849d43283cf4c2664ceaaad6f5b411af6a6cab7cf59b24c79fb0faf1e1b56d5a04a16ea1bf4b6c80a9ae5fde3c6464c1f1661e09eb99f73907488275593d08dffe51bf6eae8f967be4434d527810538f464f281fd53e88f335a7fdb347662c70e003bd9ba8c50f57ed2c5ecc06807b3b8b36186c604f2df662944537256c1639e26d84250ccb54f939314a6eb478f63a59a28373bcbfc71ea3a663b8be7c62541ce22da22ca7b816dc813a37fc4610bfd2eebe97422213ae9f69299390020137124f73bbb8a647c1543c2c8825908a89d76e9b90dd49b4f0d6122e3266d4d1ef512066d1905fb80db4a6b2ac8cc26e2d0f2c857d856a2f92678c85e5fa276130b11b8c339892ec0cddfea7f49eebb47607ffed43db21436d03ac4dab8319ec432a893b877c6124d273843ae29270887fafee389796d1756014eba0b3e6a818cad071936aec0eba5f13c018e37f4f1118602cf795e6eb8006fb39640bf85f7aab19cc541351c9ae1be6dc1772c21b75cdfa71b6803285cc4d4326e2490958788f87f17fbc6d285538921d4bab53e70be46991aab56eed23f4e778fc58797ead30ec14941760abfc584e6c7940b00f32cbfe16da1f0362a095bcea493143345658f2cf177191c4e5bc415f81bfcffd409f4eb8b017f9ca947e19ebf1142557e324c28ff67df72652e1c4ddcc10c92a3bfd11a5308b1ceda0dd21c88e9577e9ca7b0491b57f0c59b51275b7e29e7961ab4546f3370c2facc40b78d2cf45305b3625be24419a972513c6213210aaa13de63417edc2cedd0ba4f58c36ff97c8800d643a1b3862247ec132a38868b404048667cc9ae7b510b6020666b7b244513e75a4c230a5a341c900a832edeab877f38f0ad214ed3818850b4fa8c3205c7c504390a9fa3fcd96b87578a08377319cfeef1e7252981ee8c993dfecc3cbefe166baa6b09e707dfff3bc267966d9e1394b6196cdd11276306df237f301e971062a66928af312f00f2816b2a351ffeb70bc82dcb435953b58770907f1d53e2a87843f933681ac1d041a43433c44384c3eb271c9ebca67d1563e4ec31160a0d00b3fd0ea54d311b18abf499d3e03b67fdcbb93ff16fa2e50996ffcdb72ca559a5e3258e18b2c236d5653cbcf4f5429515cd28e4d7bc1464499a2682af92141fb7087d44fa1ee3e6828262ee64dfe17c851a6edd79df2577576884d857e875f0a9b20fc845eb8f9bb0d29fe5a3fe005f1c0e640b955989e845ba53f74d53d13b96b724833e0c39c065ada0a9595b13f05aa0911112a025071a25466cd37977a3618864087a56d5a507119a36f481a5655f51340cc9747a7d168e699a676ddd609184a9df1e19e3bae94b472f01009a7590d864683c663c4d32da43e818ed608e045cc9c455fc93a16bdb547e2efa3749ee4a40d92d2ac6096e119047f81e23c46ab114dd5c2f8867bd016b690f0d8c4e8caece08d9706416d57eabec966260a9b0bd5ed8ff85eee83f23af80be6ba9d563570fcfec68f4d911995619c6af65055007b9d5b3eb279d0862be065ed946674ff0ad462b76280cfa9833946dde040ebcda8cf8dc74601da8d333d780c0ad7e11443ea18dc624a90994d8665bce067d7da0fb756917b5c9eb5d622b3bdcb6b3620e9a2a6b59fd6a2ae5ce29ce457056c0e6d7fa960aeaccf3aba3cac564cc3a45b372fd50213d16f882100a3ec344b08e060b1abe3a16b62c79c87d84b7cf8916673357c5913b3fe104d7e618bc03304e0ac5edb546cf3c2c0bd130b154c0ae8ef279cfbf791e8d5add1148bb9ac02663ae830fdd0717089304c0788c54bb464c97b67b3fc1ef2b7504b09ea2e4ed08dc4486a8f59e6ec8aea395fb830a5b5d0fcfdd87340cbba4e5bbb5560ddbc9d1ea8d40dd81020166f105d90e2e99d82eed48224ca197bb6374437d0eb3b7d60b7aa599fee17abb3759223af889c750fda7a84664af7775f336dc9943c815249b9259ea259ae488faaaa557c5b3d5090d42509c48571c2fc83d33269ec3db74830175f0bc77291302540ece67182f2ccda54b07fea7e805997c5324474e160197a11843cb328700e224f0fad5e96fb8450be3816354662b305d166ac18ffd19b6c4f6a50035e08280cd5c50e87adc5f4084cd34f53cbacb6d411ac88f4d3fd5d002a501650de823d3edd569501f5036a8ba5066152c48236b35766338a69ffcd70d19364aef43534ad976c8d5d65e14fd8551afaa5677e094a20039b53ddd6a69b3aa7090f8368e3c5599e9fa029099579fb2b303a742073bd7c57b7e2790db85b3629ce07e37389ac7121285dbe294ee40583b52e4c8c02bcc7930be02bab2805b267ff7435822819b2ce7e0b41b140d3a5eb6daf7b9a4a57a52962ae253b3437bca635a724ce0731711a59060a74e497f8875b2211a82ed0c44429bfbb127a8e245a05daf443faff3bca5fbf603b443552ab79aa1372494bd30967ffee40f0b8b7092198135f20a420ac9ad35be9b2e3cccee67dfbe4c675e38eebf14350b7ab3a2a81b095e60978a223386b531be5757d13d65cc0c272526014ac24ea7a064342256734f03c9cac50305ea8a251bbe8c35fc4b240747474e42b3791e46c1147b0af7cfcfab4690f60e54f24fe71fdff68d314cd298b610eff969c3cf377c087e7f5414c3afe62122ac2a17898c3be1de06a47e84fd554b535967751788464626325f5ae2bebdaa471c8cf38244c117a58e8dbd8103af1b526c5899a1589c9f638ccf4cc4b9bf81a36d416deea4d57d40f004f2f65ae5b0f16d64168944b948351b723aaabdfe6bc5fba1fe4319a36aab2fc9250dcf3c8d809312ae4d5571d1f9a65bad8b41ab2778a0b0193933699b460edfaf7e4472a8b2ee81215152f36a483e8159ddc67ec2ad8417bc8b626e97b8d65744430ed353b36edf975734ed0d72e964b913718fe85c4fd65b8f89af2d91a02dcfb13287f7344e13450bf9c1a246c1fba380f7f4ff0f01afb4bf5f4210351a0ffe93710f211d3bdf5cc9e21def7922289962c1689f3b4f3ce7dae815b7d570a2e51b007158d1ae6de0bb297b0ca6961bcf07ce467edae6bbf4476f346757acf9edee9c7e793903663bdc6a1834c46649f8b6f5618be5002c5dba974be0446cffec64559dd323569ade557890c5c6c5ce16d2f7fda7197e254b12387675a5686e838c792bb2c0ebbf1ee8a8ca63d41b4db300d20b1143612f801e4ebd25fd7903f0ab2fadf41bd479d437b6ece5e6ae2f326d003392a7048a0d2c50368d02ebad7a4e35f63507f70acbb090c03ce736e7fea96d88b999a617793af6588100e02347d640e8d5020d20525d12ceb898012116e2ebfd5f9aac94a761d021349539ed3ea1afb81ac01af74e634228a217b39c5fb3f15682f20d21eec7a7819fb8707d45c52a998142b0a2ec4961251f87c1a70b477e3fe719dcaba945252be407dead339271c889e273368b5c2c1a3962412919853a1afda44150d72799fc3a528fde10b0ab8196877027bb4557799b11c8a06414fb632161d7bc17c6b019ab635b9deb5e9a7d7536e71e538946191a791b3ae25e64de8e73d89b7b5429c6ad54f16840a3f3a37abf0d384412252ca044288ae6e7d64b6c9ff86d7c7697f0a859241067e26415d8dcfcf9f1a15867bc4b16dda2e4bca13b0cbe241d5f2ddd51722ff5eb67a263efe8a7b057eaa1c014c37fd3fd90500eb098eee067683433fa448075805308fbd637d3eaa9c2cc934d682535c85f2e9355c00ea917bc0e0cdf9309b50513c5219d9b38a82d37a475e7bdf27c4b56bcbd405b8f1f83a6a42123b366c6f84ef34324175da363cee47aaa9e3e10a366edb52c410ef9e854d1aad25f7cc96fa67bb5aabe7a14973844501a819d5a821c94ed8f4d648e96c02147c5d1c7a33b7cbd52ef0de56a2d09fae2dcf917458a4f1d4af772073834fff6d856e8820fce73668c36a2a8735353dacc9d55ce7d4f84c651bd87b0f74ee14732712ca690bd40e9fe29d7a9831bd7d875c1c651c7d3c156bdd410affab0f6c7bb7c41ab7b511a733dbe3e7f3436b4a16b6cdd661dd86979ec077b88b585baa0ba1d87dc2d597839a454cfe20be298235ad4475938553519c09b13cfbb000feacb3ae5aab362b1ea29f824d02359f4730d969e8a1cb118df3b939b2c0c86c928b25e36cce322bd1e95199931103b760234c00dadf3ee06e770b4393c59849fc1e263ab724a322f8b60a595984558f5b6ec8d3e424e75fbc07b5c653e3aa989e60856e4e4c2b9fc65deb0916cda62f089d42f07f30b57ecde02fe57dfa8412aab8d261a1bb21a6496bf0de3ac90487dd9b04642285ed0412e3d81561af5361cc73fe04592c5edc1dce01bab4e3d304392abcfa46cae52c051a0942ba40879329bd451063103473c88b2b40a35d0ffb17784a8a94fc28b843be822364d4dff674eee8c1138e7cd234d0d3401639c75482f52e4984d662d573121d77cf87aab8fbcd214ca59178bf8b8b7f1a8c61ce32c65cf62a19faebaaa8508000d3e26df3f1debc0f1495f695003141c8476e56ce3466f56ab67a6db9dc2af368513e8ecad3a4fe50bea8416d3a32e85528d3bb96fa0377b3290965fe72106158db0ec3914d75aa7bf9496a879d4b43364967ec97de1098cc4dc54fd6965506a9e03b9661ab58d4dbab560807a9f5b37e961aab21614dfee2f8adcc72d9a9f64050781c0935a406d3ee9d695909d22d891991067df93e2c73b66dac4fe43829dcc13f435294d2460caca3b3469a7032b4c29526fed4e76cc0439adde607cb4d5e16e32b5135aa00bd6311cfcfbbc7f7838e13863ee1e67a4639cec0aa2887c73266af0374eb431194910c92b6723e9e6a91d555305a1ee54ac58cafa19a218600611ea05fab1e73abfdc1e826f3ff9d14a042198c3ae0e7fd736cee14f6d155b4374a142bfdeb240d61978fbf3bcec13912845e2038e0b07ea1698a67079c4fc9953e9fb6189a9b8a0b86fa3f965ca1b72f6640841ec212e83b3c9c1fd9903c374d70ad3bad9c0a74f004c37f53aebe541c7b105b3fa7e1cc851361c353352e20d1fe4f38411aca1f77d89aa7331dc9f90fa5076371831435b2f9ae459ae920b8a0f8f921504e4bf7ceacce3a5738c523f021003b353e7ac47297204bd00d445ec0df8e0eb82dd83fec3a61653b0cde58582e5e46b1439ec36fc725ea13dc69d64974dd26cacfef44d1791035cf91a03854f696519a8207a59066db04d5a7aff51f986e5d5afdca51450bb9c42a5a5810652f2d63e85d9ec8a6f25cf94a419945e698c90909cebff907e8d1a150d96451d1f607e2e0f5fe316a1ee581d7f14ee407a3c69970d427309e6608d8411d6c2298e1f6280d8bdfc3721bcb7a2e4f59c4019f97fd4596266d39e3bf84a1bbaf5201a95241c5aee7366a544b057aea9541b80b28b0b6866d57a42335cf4d9429d7dc83f70016d0b6d7c30ad3cc4eea76c03917dba24ff47c567358068e07d7858973a3cde55a24a4773a5edb4eb8de5bc4c7dce751de54f83d967437c9518d583f20147ab7cdb02631dc5779ebcbfe690899d8f5694132e929b4ef8593b665342bf891e038224cf4fb94536573d21466e56b08ac5beb3d6c85531c4465f647b83519c7eec3e687ad25c1404b4673a552d68cdec6c2a156584540be33ee41ab6fae1ae4e7ffbde2ee195582705a816f6ec4d8f50be30b0206094788611b7f62c171946e17a1705b72c3085981f9ac4d4ac93f90fe502fd02d8915bc524063fd458ca9748bd672aea308bffea6479faa9939ad9252266a79e430a198652abaa01b8fb33131173abc98cec8ecde603729f263b5469d5a74c3e4b8490c00368fb0dede2ebc3ca5e46002864d0cc8a7d30e6b68f40bce2b2f1bfc1e7e3794602359ed0b4160f55ef084db18c9532bbf755bdba0eeb95733f4d8e00501d49ce8f31d4c405050fb0b0f4432528662dcad9a92f6c47110ff0dab5d2d80fd88fac5290d442f55f63e1e5c026d3f3de9d1af884eb9d6fe0fa8722e0fee8fc720e915b81814fabf418d32d7da02bd99d2b6044d0a71fe120a8c999a53f666e33ec7b5bcbded036307705a85315672ceaccfc7057f720e1da670cc1fb3e66b5f89416d0cefd39761faef242335e0b3343540ecb767933f363f35625c968eaf51b323f84648181362ac02a415217be065873d74fdd3b30a85fb0d733c4264f8d93e6ac258c8c7926707a0e7fd5a51d80aa3b7bd789a54b55e235bd7dec80047572446feb98ed0590219544a37b1089f78d70e78a9a154d0f855c2c9eb1be3da716fbaf4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"36e668e149460da4f59ffe8aad5bc414"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
