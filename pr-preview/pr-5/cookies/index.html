<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3330d430d7640c3c5b3dfd56a554ec4d0d1993acbd3f032c13bd356bdc8acb1bc06590d1713c9d1cdf1d7f850689873ebb0c7d8cb3c81fed9557de1e781ca947c4f43d505bd23e2595b6441e0b08a5da77dacdbbc244a1121fe48d082822f5026c419198f2cca14f7435cf04d45f314a95cbcabb7194642cf22a24232b894e545f1c68e6dcf5d8aa9373cee005f55e2abbde02ffc40a6428a11cc9da7e71fddd857adc7ec4e1f1e8b4762ce6127ad81eddee10c78b67c81e134d72a903450d7a6dc584bd51a89c566eb75417f1f086ee24c2a5111bd1f2620eed30a68d7d4585089d66a9f56bef2e73420566a75bdedd82676be5c5d3e3e4654bdcf300bbd5bfe305ba5ebb9c8b0eb6bb67b7819a7b4dd7056c7daf6f04a42d207646aaa13733aa9b93e3e81a54ec12eb856a71f07805277aca38a7b4849db3000efeb84582ea9aa371275f51e76edfc40357a7f614201a2848f5414e29ada01df938aa778424e9767d9ff14411705d8dc5167e9bb8bd75274578ea1c3ccc0bbe1482247388334fc5d3612642d6f756e89dd2e3f4a22b4a7026eddbc3056b8005c870773b538487dc7f69bb4f11a98188f6fa97b613853ae31e3ed20d4f2da0146a217bd53c383b5fbac04c8bb54c976047fb7fe1832ee91fdda13cd6699cd936ca95289cbf1e47e9f11b877f47fcbdf4cb64a2efb9dec8e81a380faae0273f5eeb7a712ea6debea6321654892fe2ae5e1278261285e7a1f1a7494a6505178105bf187ffc2832ee38fe167ff79afaa2e3fcf38fe0da591d64d54c9f54f2244a0798fd3ea0cf770f17a27699c3d361bb1e8846357bac37aa630db18b4ae1cbeb0ebc44687f582aeafd845fa53482cbcba6754bc64987cb902d5f08cca8b70673a124a3cbaa8d76479e9a681f836150fdf489b681205cc8c446c3699fd3f48a327d6ad77bafeca87b910fab943555d81d496540de5cf6e43421daeadc3e18b72c839a7cc48a3ee37850705eca121396d06a5d87e2ae84e493d3a15c5d34ce1f0664763b49a7394f7a6e0e92cb2d98fed176c7f8600e5e23ef3b8b0084f800ada911acf94b088a7631b3f131b73d2522ac841cc7823b22ffbb65eb8d163f2eec6a4e7c76a8b1b27f4ad7ad5a8275b8ce674766b44fdff4d1e00344770ca2a8a0c881228f9186e2e25cbcfa51db7233f4f5a1e60e5b554ac89e57f4f682a84db1c8976e6e564c31673cc2d7132bb59c2ca086abc6c41b44efb317fd4277531c03635a703401384afd598508dc53f45baf0a21f14a876fbf6cdf1b2852bc02d3353b08aab21bf70f96957d8bf96d0ee16a5069415ff8caf928b82dc5387697796f008ece22ca50df43347018a8a03410c03b3f3146e2e6e614c845585c34421d4755686bf570890facf26d1db80a65301b0053a2d261e9a4260e043700d2d728a322b01ad95b6cedcf259b5df63548f01fc221d8824f47464ff2ec4407cecfed17eb89b7f55f20de0202e0c83ba0bb8920022f450d6ac9908cebc988c1062a620a35335c087531b4670f5f65d8b48c1d3071dd97d9a7e47b8eacb9e24b339cb0811ba5626ca52d4b04b68528ccf184f9c74358d9bc4911353335574f03ea9a92edc0d1ff72168c9f36eb1cf2e355176a960d3adfbaa352919eaa56e03e9bb7f94f70ee32f8a628147e80e5e920f44f1c3c82961e3bb28c5263b564f5cda6effe9f527036d39a81c9e03afe05b6c637600694095f81788d37fbad82dc46b35d3e4cdd6f3abbd3120fbda31546098796e4bd333360a59084aac906c74c62a114fcd20f7727daf56c71adc2121f524c5c5daca0297e5a33b4027e741d6b60b4f5401bdf5c308adbc21f546400add3ba8f2d6eb9c8aac923b1ccdb1d7c85e1bf62e5ad2cf45ba4c667902d086acf480ca8460cb001130605c531be1126dbe5156f0fbadc1baed2f58807e81fcc234b9dc32e79f80cf306062cf5480f896bb22a1982f0512725f6ecd9cc7d5c4f50ae15c503438cd6079b21bec6ef98a6b36a2b7336d94c63cddc49000bf8619043071770d13244cb0030c53d2009cda691edce8a899d3d6f18897fa4fc44e0058465df251417c5194ea72904108f903181e89b67980aa85b12fa24f978c0c97847d5913b66533f948840cdbce5105f3d8bbc5eef3aa9df1fb3e9aadedb6bf9a34da8b579ca42941bbbb812f116c696cddc43c2c4d8c46c74109554a4cf4de4ed3ff7b260b54366985816e4bef838ebab4e14ff9d9bc20f1c2121232e6d32db17ad2828b21e678fca493b187c67e4a404d25babece5f6936fcf9fab0a92cf1a7543d4fe98d0681ca6fc2f6a9d9029a76da3a8897a2e4219fc545c9897a446199431dae84ec24fb2df431a9bee5f32690b04552c14bc4ae0fdc0da21cdc7aa38720668d28dbddce1de2220f10a3e2712e10feddeb00cb56a8c8cee5c8dbfdb86a4b739c575643318b85498173623f651489afafca4e46a79e2a206adc44c08d73a58e50fdeb81476d9f0045681c75f0bc61eb790e55610aa72bbb299920b2ac1da24c9f0c7015b12cf9c8fdfd20ecc4afde887de8f78542185b340366789afd53c46e9987bea4f7141dd78550911461a0293c265d43244db4a854b3a2a3453988ef987fe5c53026834cca0278049623e664d12d7f00e26a4008c55f09b0d0dfb7939872a4d429bbfe3e17d647154c68eaaf04dbba7201dfe8f45356b61a83fb285c12a40c6dd7d61e19591ae3514f3862fc7b67c8ad07114fc8180b763da0c81aa275206889290ea3238e055184ca975d14ea0452d694d77a76449cc5b9b28508cc4c5e6515f2b64075a84252edff5dabcf36e7b9a2ee9b775fe0df29208675470f103b941abae2377aaf8ad020bac39af5691a397d03b8fd1ada74b3749d6d7dda08941c4d077a6e6578c9e744161fa4c45aa699fc91f2b7f2b64a8999c4dacf79b10e12f8dbe88d4a2dc07e72ac3686b613f9912d61bd65febcee2abc89693bb38b86edd57b6f4224b921c1782877af350a75f53e1c171becbeb9af16103546dca7c29c7603476f321bce8c332976b8be8dcfa6f0e4fc903c5322b3b015ad808f3a90d215b775f19d876835e3ad38611a7cc0dc020fb467e25c0769c66e357b7103c4a033bbd987b9ba8a12181a2d521c0a92a9ac0025db3595d31c5f9d01168c8a1c424fe459d78fa4d6cd9ab9d5631656ff4e36340cbc3f74990f77aafdca4f80c2e0d0f938368593a0c4c3accb44ffb7d919165f60badc3b847f6421844ba590abb6703002be536c3053b6e02dfec453fd5fe88f7013041bbcb8eca9b99231623fa75ab3bbc599f789dd9795807c3ff306b72edb67ac2d0ee3fa677219d55d6ba5067dc3bedf24ef51a38aef98af47e2810fbfafada9a5a726b1e9dde7725eba8b5746595f5bcc319b43147a0e588dfc306efc849099cc3eb680c713b12a8bce55dd3bba3358d73a6d34c277a5fff324944e148f1614fe7e78579b1c33bea4dbb548fd0a844629cbf598967f713f0e7032127d3e94ccaac23060fc27890d15658ffbba364b462718609bb86161aeaf29ffb7566d9d5f0246f6a4d94e389aede59340e6c7ed35b971c15fcc589a3dd5bd31cae7115494efb4665f4ad922751a7098ee315b0c71163a85070f8e50cd165e7748512a58ac99423244ee320a216a1ff6082301bfd926083fcc673776fef91c749416c5cbf23ec589cc371d3948c9aca6ad1b2158e23b86c422f1109de54625a05cda2e996e785625cb2360865bb19d36a497a0bd8704068446ee6a30de5b0b9870048f8bad0d93989470a9d44f9ac316644de889637eb8e6f66f9aa777d993d066a2d26fc69652c0f74979bc923b3578b537b55407f5a2fd02d2623eedce3e24fb1ddf1e168df69c28dcc9d07435a08c893fb5023ae670d7e2a14c35e60e05c7defca8ce20c8566c3c63bcdfeb7312a88c88e2cfc4ec1407e28dd76b94eacddd1bd33861a7a35b9f6cc8c7058fb1213af2f6597ecbf3e718efd37356653e28ae651671810c5290533c60a6991fe934add0533d140b16377859a5815f76b35aa49d3c38ec765b61c7df1b851719178046e226e2c2eab6f8b452515f706595376225a685278cecf9937d830b1ed4003dd37a25f8274992d855a490bd40ef9a315606a44985e483a8614d6be4be89161f89adce0a976ebfcf1decab66b7a30078a042a445d583887fbb2cc36b516ed0c8dc0beb2977b97d7384394f8e5c2dc31cf58dc8d0f52b14d86040e5a5f357de35eb507d67e661a1ed36aaf3f5c511fac21a03f54f320fb0f16af406e44223b38d350aec6767193984574318eae367a1a0ee407d167314e5e9925b6a636692b7e68184e7e5d6543b7070913654b4d77a5d2affa968899236c41f1153b4ec29801fac74aa58e51b97f0aa09474ff68cf7a56bc79d7e529f816183dea77aecf954986528f0d88ad195f134f9cdf900875ae5cb7e652b9dd31f4c4ba21c5d3161b6dfc0808cd436965df9686132b8bba48e587718b07123097038f18635790fe9e6d79e71f63c1c6c9ff84ccd6e6c62370061fb3ad0698114c98f2e0249b335d6c2892025e580b73b51407e7392f5691b9b91bb927d7520c24a70b2d2be50c95f7ffa078de7df495a1351e6a0ca0c0adee6cd9c1e07cc43b101ef34b3e2cc2f7d78f498ee29b2572f64e238ad68d7557b679a5f46fe46416126fc0380e05781685988800d35388dd12da94f47b054447b6ce0df31d2b76562a8293bcc8548d3ccefb8b8dd1a34007e3220c5b426992332cb4ea89d2d0c4724bd9130d53ea18f198e284c72b18007ec2a1c9d705699594ddb6df35f3dcc7c4c994a5590b485e950f1f2299e69a058160b32f503c0c53adde3874ee7eb6f00f8284fde5ad871fd0481f43ac541aadf24db5a77b1afdd00c9c216d8a80189681849e206af76810f1072cc94966f29a9de5c5e1e927b011097928ffd7bdaef7d0675145874fc5ddf76b80ac923c154ddc16ef542419ea37b56d9d823774aef456d4668bfac0f64b3acaa967872fe64e8cc486f57e006dfb883d5d922022fce63ddd380ff7949a6776c9c4dc67ca3d3d0b1214b757f4c491dfb07aa15439c399951cc6e6d67d7232deb824ad826b5f3b8096356c6e91676a9d20f52fd67c81698eb2a8fe55aa84324d630f9086acc8cf755f286e571902e38e7fa29ade8c0e5d737965f09d5a3fbdf0facc8cc829840d860ddda936e6382e841db1b68ffc46ba565393d05ae49d77dfd9d616cc52413b05b4eb871d02a5bfde01253e52760e11ab2aa7cbf9c072e982ee88aa8165821df2afe16a41e7c87fc2f71133e09067eeba61a6c9bcdb548f000814faa7b9c6e78f8ac9b7fa0fca40d2d5b617cd1b4034abecfd0d0a8589ec02b90b98132ef94f0d930011664077d6e3a108ec42c50cc95cc0b539f33fc1cb6bda941799f6f8e721c1fa1f687cda77fb83d0b2e2098bebef77a9879b9dc9be576131f481021e72296d0d0397e6179e463cd3d261d7f1be8b1c2f32acfdd43edbc54ba14b7f77a82b5fead3124aa477693436f8cb8115ca5fd6d79c0a4a902e771af791874266c0550fd6a7a2a54e7e4915d03b3292a2458402a78eddfa7192519e2d4493f39ce2e0552482c116fd8b488263a826044720bafe6e58f58888e3a353f1d06bfbc68c309740c90bbe39742166d1f56dd8b14fa645d27df71800add3b4ac618b2d111e418604df56e231430cecbe38563325df625cd71eaadc1eea34fb4f5fe8df8d9d02e17411434aa3e6bed4cf6da6e38c890efdbea2957403874b60dedd50262ef4c75db3be2eac4f46063605d086f9f48f885445dd09c034f3092ce109d756f399f8b8741b21191632a2ad3a5413363021cb4cacc73ab09614229e5f68b2bed27435eeb969f9cc522a206581d25c0f3f85137c40f2bcb05247003548188b312ca65e559823f5b3ced8d8eba423c57d4745ca0b78a57702b8deeb1ca9d927d9f011452e3bb85fc59aaa57a710fa6e799b6ceee07e4a63ef83f408de6ad7b5313e438e9de17b0d21d97eb52af160eef31a1687db69e7a7fc0318c95974c0b30f2227cf101560b443116b98ee924136c6483ad7453607195a18eef2c6c3ba3f30d6c86153e10881d8c18b188609b68dd37821a5bdc1f380f6ca52a0dddf7a09c72002375fdfce9971055442d079f7efa12fdba44fdf41cd7a57ac4b62989f55a3ef3595f6bc51ce3b026ec7a2f0dd2baa0c327867bccd090aba77d78912b5cd578e399d8786d651bc0746e88cacf677a21b06c3e7d6b90d672c3da4ad5d5ecc070b92d3ae0bda4f21c51d94c185c60f9a4ae770bbb31c337342dc7a2a49fad9bbb0a78756c0633078c72d210d882aec2f331149e72a1c74b95ecc2656362ec15f1cac877006d99af215adc6f0514ed3d450f488eed78b3da234f172fccf4e914db50d8833db7c70e39a952e5866ede1e7e235fdf5b38a72fadc58736d431689f29c5d3a92c3599d503a50cc7b57491f9b18e5b532d3fa7b1a6e9f54114148a620048df8163c98e4d1091c2291dfc393a89f53090536160139dfae14a287447a755714985fe619b9646cda856f499fd0a2e685d02770238ce0621e7055a90c36ac6f36dd97fc27cc18f5d7cb33687f989e375cd97510b56102a76d2d5f8f15ec1a9bb4a70db446288ec392ffa688562bb06c74605d09f1a414d4c1b3b2e40b0422a5df3630131d040bc88f22d648cb3e427d0edfd69b4a0e159536d0a43e12b4254041131a53d1180ad5b3fed9bef8ad4de309a5c80883e757db44d8cce5fd1a3ee31ef8750ae41f8eccbb4e9989ec779d858fad69f70d318fcaa0f352db908ae002498f15d5cd325c49667a37dcb93cf3f0d87add4c4a600241f762f05af1d7822786f777fe4286b80d12585d082c816c1644adb3a64b72401c5deb409c7598b6aaace72ae3b00003d595308f34578f928c9f1fa30d81002647e05e2342320201891f732ee2442c23067f00dd1a5bc4b43acbe3253355e6a4458dc868ae506293cb95103505989b8c24601b112884e5f87e6e5fa66df4d4b3367fd90f0933148ae64c99011a85d81bee82e5bcc3d52c1d3e01620c525ce139ff42c5f3f129869b7e243fe37b40131a332efc409cfb02cf01fe1bdc8e5a44c80929d09a545bde96b439d178c2648efdf3bfa6cdd7f122971c85db531ec04f5bbeba6344ee073ba8357c1e82e211a42d90b0e6a6028846e704b23be9faa409d985780df979d3122aac5e4539ba751fb9651f779d4870b1e72593924226309888107b8c7d0435b63bcdbad9e17eb4420d2f5c962af03fc1ac9db197467c76869bdfd4b0e7928782b27284f2cc0fb1fab506ac37d6ba2e8fa4a1cece6143a14561f69633bab1ba53aac09654e0573321c6168b652ef1a1180848fdb413884b6502ddfbc8262657d245dad639ed1d16633880b51273057004b27a903ce556662c562f820f7b560e2b5c545c69afc405d8ca5ba16875d68555789c5779b5bc7af5cb7b71445f45159c3e85e1306fe0501d61668e23133c0a1868d184b750a6bb70d678bc4bbfb6577b304ce4b4088d3ac1a7397fa7d9e7ffc92ab77def080d83333b6267d5d06c4ae6e558464536da1ac4b1cfcaa5798d2fb3bcea5ab00f9080ffd47b4351812d97e02e07f25a61b1fc40eebe265f7d1522001c3f107349d7fd64bea8fcc8fa0e129bef66c56d9cc2df96479ccc5fccec2a8281d4888b4cbe2994033ae187cbe644c803f38df3d941a125da342a22f9abe30dce416a3f1ae26d51dd78da4b94b249784b6da8779c5481a50c715bc30b10b3435157b3e5ada98d7796c065cfd93f99e3d233dfba29642e31b13a22c5d0ae412a0cd851217de7f122e2121b30fe17fdabd99bd629305e2e80559a7d5c08567268a321901d2a9540cdcd1a5276e4c2c19591ed76e157f80a831a86eaf027beab44db9a1fc12509543af74e94a1a5b6ceb2350f06d4db6e45c8ce64d1c8f57b06f584076076a2559291da60e816239eb1df13de8d7a497fb833006e591777267a4aed6388a2d00e8909f50e89e82fbe2a4c304d92ed42e646b791dd380ec043ca8cae05ee357c2898db3e23091ced4def32dfdbb169905d49751e10744dace8dcf9e73ebfb00335aa28ae4072e1b77dc9fcdf0acd5e6be665391500adc2a5bfb599e4545c14df35e40288cc0f56776750118e9972de298dd4be349c412d1ebabe1cab3dfa85fd84b02629104dc66c8170e6a505f2f987796e45f86c26b06422a5fe4f0b0f613e023365b384c20c73b46e46562d4dc13fdcf8926b91d2023b69a2057a0cb800f72551181d9d3e04a05e6265fde234f63f89bbdb29c23e5a27de693064a8f34622baf01344e60aee2c1abfa30b554d2a55887bf16243d38eda292f1e41eee09d4b74b83bb5c147cab8ee0caf0a27e5d807796649e41a0b2977e00912e8d4d1b99e0daf2e8ccd2f88c4c1a005861a0941a71af5b5e81df49b1ced539c1f28e75614ff53be092e14c324a4b27a4c656a23b954ac226003dcca28e9345f2024e909c970fa10af124ae8cec498dfc30e1c5ac098d07be8cc3d144754aef5488e3e42f9fb05eb39de859439464595f168d9e3d4d6dd297f5b16a662c7099e42a2e7def205322cf2aef200d88a337f94c263cf76c5a93f9be06c2595b8e11ca29fc977dcce1b4ab77d7745b29799217d5b0507fab965a71be4ecc8d2aee3c67fbc008fd2f76970742baed66f4892e2c1bcd4972eecd29369f49e7ffaa657d81eed0beeae47c10c4b9d5c0e9ffea1962da405604db3485a0961b9d8a02ed76f43bacbd8e35860d31e3232cad08aafc58f4d448f2c1af14704626c30526b6456352830cea2f1aeeff187aa46fcdbf9b8fb5e50f63b84d4001b5eebb0fba18d9f2b0789421d5954cf61c9b0afb8693adf36df964c2b6709421760efb493c8cbbd124b81c291677b0759b0f6bff2071f10b29965a6512d8ff657346a0d77d0dd2c8b2466913644e17e39220d73945ca68c58741b5a040531144a499eaf5055d7a58c7720c180ad87c36c6009067ab3e4b776334ad92069d4d68f64319571ec69a296f157a26a2d37b59b6ba74c726c6e7bfe2894993efd3c5e4ba8ed9a67bf83793957ca5d818051b775e950f9dc8c86bde86ce12824ecde2803bcfd81edf3e83903aaa64ccf304f29b637db040bf3d4ecd416b6de8b28d2896e361f658ea127b938bfae3e9947b28d6a041a92481977871b0fe20f6eeb758e7a65d23dd8315e88f75580b9cab169557dc55e07f21e8d96ef6f443f336fea8b69f3c971b06b2f6c55236e924287a9f1943dea2328b51a3d7536b23db5df86b35254eb02820fb465b9c3b72a665ee13e7ce1e2384dd3c80a1c44bee89d6d6fb691028d6f88091d75829aab4e502c18fab9ec638a8f9360ca3474635bdce92b2c795d2e8100f3739931cb68a4a5154ac0e8f67fbf982bebbb59238e3469a8c6c00d475d5b0e85ae8fe524ea5e02df2e5b21fb41d46385b9b57fd6c115a73c90daf6e328c64665ccb403f25895a82cf55a458f59adbd8c9e8f767879d0ae3e1a25c4e11d7215c2acb341fc56fa0cc2dc6a008e217aaec06d944424540fa89b3be4e82037bb20ba7ca0309ab3c4ea77bed1a7a57f8b2198fb9c3f1d272551ec7ea31e259bd99170324934f34841e5e403703aa2d6e07035068dee3669acc01bab670b41afb60682774386f6b631ed757f6fd16e39b0ee53492a2387aee39d37be78f0ddd130d134b22039f9763dbd11b77c4d77c3d3e2b77f08501301b29ca3320f395e5f5e935416c2097fe409dbe4afffe47fc11a1a6783d3af453386fd4af89dbfa68a19bec117538efafca09128ed944ae7d667a505b2192a0b5b0255d599cf90428ce72b66af1e038af84409aa911b4361e8bdd30e2dc6432835cabf1dd0f0652f22e395703196a84db41e8f25aecaf623a8bd16ab282964f1a7f980193b95fbc7232e436a7e007ae79e1185fa02c1d5a60e96602af5c57eeafa5062f9728840679bb079e1ab96bcd9c492a1bd4edcef85fb8ddae52ff0e087d99138f587736d643412d33a225f9cf430c12870baecea707fe888aaa136af524ef0d57a2ebcf86e793465decc332682da48a0f2e55e816af92c75d222eca83127fb47812ea9aebc2a80c389e0830604c073dddca7dfd82272d9526e0ef214d3f8361582a31a90a21b0aa1381413f169f5987bbec2b75f48b20ef845a0426b7128ca376ed25e30f6304fe14fcc164965308c0ad0907c031c8c914a9f89af0d5e164a2d8b237cb228c25229d21859d80c83f3c473f52cfc714bb83415ca613d01e264e6630604eb4f08d557d8ad8dc211efd40b37f1d1ed3c091c067fb7ddadabd60caab52ff7a195b8a05ac5edd7622e3d6410f5a03d2f98c7d087d27a89d846a9424ca5587048d53c48dbbfff84a5400d872d38102dc906c71f26d42fe15ab1d8e7174c2e561ec6eb36972f80811a5f869589ee4115cb249356dad4fa8b22aebc85d5139208cf8725f580771ad0e0b558fe9141ab7d02c9b2d36c6d82f05b07eb8c87385d59330ddacb1c2a5f4e8aaf27f0204ad28a891d788e753c901a4fb70d99c166f04992c970bfde957b7f5854cdc792390b09c15c671b0d4026620f741a9baa8570b3c32e74e4a09259b0f76610ed49b11dd30d540fa61563abc11ec67ed35854398ae263db74d55703dcbb8cd21bd29a70cc1e8c71a1e67e2f72f7802df7d56de4063188a28dacccaf0a2a50e53d3aac9897d779676da7a6e78a663002327c33235ee0187c434e0220e6b662d6685ff8be77dda09d0d8424e414f1aa71d2852b588fb389cdc7ae623d62dbe9f62a8aee2a84d642bee1ae4570c1714ba94bfee2e32692d137253909b58b5233c2e87b570aa7dfb13e9701d2613abd7e9718b299c2f84c1589589b4e5259295df4c7b43eea4816b5dc33d52d98c2537e175b2cb4d9b9a5d4e8c8e5211e6f47e67fc443e80ad726ab72c53ca478255fd8130307f29e57ee19e621c0c37acc1656f71cbea7d9da0b61b050916f7d19340b1cdde10a0e25c7fb0295c06a0da57150969be4521a5586b8b18ffc84f6ab98d842becb4f3cf28289020633fc869c9eeae6ff1824dcc05e423643739e24cea0d8e2753657f2d23151f941ac463d688c9becf3f0c5a77a1529b92d152465d65b6c71001aee1709318a1cf72572409114ff13f903213d3069e1c905c01a4ed50a6b59e902372d4710fe22bc55f823fd61e0893eabb0717735d3b260fb0d4f7bda7564c8066436e987f2483244cd759a1fc64163fec3813cdf70cf32e15959f8529cffde52b2df4b4fe62509ca3a4748c6c17cbd0d330493564700f368a3c2fe817c3689cb772099ffe64ef589fb80663841cb8eb67b73b7b31026553a973c9e52736c09d82b06c9ccf4be40a3b8c28a7c89ba5908e00fde71c13211055abe18f755a545cdd4e13988de7b200ac8b373270cb3c88a8353640c5a9ec01e18867624e3158a6e21a4bcf0d61aa772a5e0d4d1f6e84d5bc5088ee12ca8aceba8d661448c7349af986bd986071ec25432ce6eeeab628434d13b1733e54992cef458b7226bc32a992e69cb70b1465683776f0ec462c164b2af8065c77d0fa503a21d84c957bf3b5a44583f45d7d60221ca3889155ece3bc76cd879defd92c8881badff849babec53371fafb4e54e97bd1ee4f7f9e64468a4b0cf9ed8a3b97df530821475f97069d9810ee695b3b07ccc85fdb297074beaaa97fc476ecaddea105b4a6ed55faf1a692d286420f0804fa28ddc28a105f023896f8e85c6918c9628f720de8ac7eb0ab14b7f453ee3e52e6ac5c44c6bbae6efc3406a38a138c8a3b6766783d86ad781fa0f5d97df3ffd32497ef8c85235bdc1a5c7e39820c83ac4b93d500f4daf765a0231f31a4319f764213e9de6ef01ca9dcf0dc0e2d80f50811af7d740e302868f3395f43d13fc0b44a7bdf6058c90bdc76721e3625126114ef2439420a648b1377f48af2ce4e47150f7a896ff4da13b64c9a6ffe7319b2f6fcd5d3c56be4d5d2f7096e395f373de5e1047a51ffb5a946f2f0450a8c902bf0dd5d9cf2d267163c4a9d91872dc921e6ba4692d92518fa19cb3fa274f5cc60a50cbdbe7dd9c29e62f697b86c8c6692e91fa92569f51e615b654096b59885106fff46d491f1e6f95f83374daa1d775c4bf1aa23ba788889b91cf8d0e224dfc4fa531b989809ec435de2cd2667c3285a22db3ad407b708179485dba5f25403b16ac5488f9bf1e87fa9e4a97bc48b925ea2647dc0285de156964c3104a0d75c6152d254f7a125a60c36ad0b52d814a0427d456a7adecfd73aa003c5dd6c39c8b5b2b5a4dad28190295a6fca31ff31950cbb622166dd8bbfb6198bb74f0eb90c8ace13574b6e0fac336b32e1e3e728d14d0cddc1c0cc0f53615150811056b3aa21e6e7d95bb2b1101cfe70c663f598780588b7e41097fd4606fc87311c61fd04d18ea2e0ffd6ab6f9e4b046d787cd08e7505b3d25ccae5ebc2d28fdf8b3f2e97a935af432da10e45573fcb2fa0ee6bc11698a254a251eec5ff20e2247d781a05daa4a927ef68196bde98035369f4ca3b5d6ea0c611ed361d537edd2776f30bf578cd20f9a765820825100c2bae053f12008d4c1fa23805a73cbc314a73364860fb7a0f23c1c95204dbd955d730340337c55d84326d8cedd8dc11656b76e0b2a234114218fdc455c30035f12259406bca4937ef589df7b0a42b86d65f46e07a3a34f0756d60044a1966c6c24a6ce2dd7e198d5ebbc9ff473970c503bfc27e7514e32df5b35ff1b01d712e7863324ccd23484e3ee3b3dd88f24744adf656d5e8553ab1c1b7142dc56ae5a3ba459f9acc04855c687c504b69fa9f0f90cb1fa9f51455b2430829a0669f2447ba930aa2188ac2ac775b94e98dc33f78a1ca05ed7cdfc3f9bf4759e4a99be58b94ddf1f64273c7fc748ffd79c9c37f3051b081f550bcf230ad0461852590e3ab7c68811ed0da8a467289c439825334bfa2f53578b075af390b5d4dd18862640d810bac6f37dcc9f0ef2c1dd4da56cfc8450e0695fe564324d0a48b5c615bd69eb2d6d683947ef1915eb9eef405ba5f00c7915736df469e3c3be687360345e62763b75e2c1c0139db9d55736f1b935789a641e753769b9eefcde8b2874ac026cd10d19a114805d169488d2786f76f56ec69ef5b82b06fca7b7d061db44a178cd4fba99d4f34fdda266ada47355039ede921a7566c384fa70677c1acc76bfd240f65837b28a7bf860f30a88a192146103258bf565226adae989c81269c7fac8196ea2a93135c5970cfa85437c43fa5382e11518559c590de3023049661bdee116242ac5023716d6e5b531ed8e555629eee77815e189220302bddab868dc2f74ec4a86322cbebc423b2b0b39868b5f4c9797b7cb01ebe943a02dcebb496a9a9a5c3ea7396e10388cd9b6d22a7684ee54c1ea36ebaa369b468112ea2d72cbcd71fd119463559574100fd5e491869cde99e17a897e95545681537bfd598839f43b8780779c4ead30df94dcd59a755e56d77b0f39613667109d0734378f9e1c755b790127d331124fb86a4c00363fc10dc98b898f0f7adb7371270aa607768c02ea2812c59bfae4182f540597a942b18fa2eb7237102dc42b50e8907dc87b5ffb9ad20d95a1225c7a318f9d8b7d0ec0374e74d6434e6b45d54d58ecd0e9d260e4f6ee7d101604a0e770d973e4115dea827844a78876053a433a0463101a8fcaf1b969258337e197672b1748d26ee44e0279c5643a5cc1b1129e917b7cc2644fb58be3035616061fa9e065db4e98f07c98aafd84e52dc01472deae1249c7e8be131d273c5e03a85a1e511a510ab8bdf462718bd8552d708d4eef7fb94041d6b29a3ac9eadd30b03be8344faf7d0e1021a0aeffd45cf34bc858a7b43c9643bc71f962db2aa5aea5b7a83cdd0354a36d81e885b8d863d7ba5dbe49832357da5b455b5d7f575377e4d77f47ed73a69ddc6da30c253a2775c23ea46f54936cd7e2b606086b06b3ca5d72a03e31cdcaf42f8758cd57c1a2fd9b5a859df1e898a503493deec3f570a254f983167848c767d9ad6f0b1608fba24e15e0f1ff8e85d12689de32661137c30409f06a1d7de5679538f8717cf9ced1190064b191031c973fd8b672c2c83f7213723a33a1573d58b154b3b4f7f0b44264e08d5e470dbfbbbd6aecc260f1a9e674a3dd5967cddaeeccd129230c35f8e088bda1dc13de575411aa011dfad3c27bbf1089ebc5932b4c0ef0ebb3dad8ce7299d383470ae202330e59d4813b987820f0a84224288c0023d91c9354d26df6d91861af4f469ece48a9e0edcc246abe8fc9ca53db12e3b956b61465bf03f395b75f90330d396a6a4b92b0aeb861224676f62c0f7298b30f5ff762f411f5d16c6bada0dbdd2cbb6d4b559bd2313cfbaf0ded0c3d17c419c177136c06b2efe6eb3dfd555b038aae2dafcdf7b5efd6b78c23440706d0824a7a8d69d42f74cb57b26c5056e32b85286348d5e51652da0a4e7bd56256f7e6bac74e8e80bfdb7de884fd013d8cb9ae8d0d0000955370fa80adbaeefb8c40f9323569c2af512aa9c3fd7366d7952853f1f49287bb5346c5c02857804c6ce39e5997d99a7d5096c7c1fd71a1afb826d0c9991e22e2e76a79dcdd593f4fd1ae9cfaa8238ecb529e1efdda976d37d3977030a558b5636e58a7fc5e77909d887361ecdf5775e79ce3bb4263a5c09b05692cc969e6889ed727c38be42a3dec29df92bc16d8efc8ba15c4ebfadb6ba5f26c7f5a2e9d24ebbccfeb347effd4b6d655065f0c3af430d505ce00f97940064259035b0022675abea08ce818c01148de9d6077d242444956c502e933b45a3a77a38cd9e12a280c4e5cf213a4af1f48401b3d83050bd2704f71e364a7757055d1d58adf67b82f5e6b90e0f3604ada02f75fedbe672f03a00d9224c75009fb2f9cc32a1519884c6be38f8e86aa44e852806c57ed7afd9caefe32b6c341936db523c46d4e4dab6607ee127805709498147a38a4240619a4e48c3945c4f570c94088560dc68fd58be8ca04e6e5f56347fa2174083f62afc51d61c6ca4d2a8da416f84ea1671c7076dc5a6ba2e89767afe45d05a91f76ec1c24b03e4f6a9180996723f3d8766ff1ceb20f2bb5cccaf2008e2a34776f73b648e76036cc4c5b06e29cdd6be9d28c5afdc8c287908203de667a007d4c4bedaac6ac32fadca7a2371cd2121064ce411d0255d5dba1d117ba76a02479d580c060437ec2bf1c6e308f617c5996930b6149a5319f0d569bd2d182669de1f6b46668db7a3d8e67a4150e8f2d79afad39940031c2e817293a4641d8ee36585405ce0c9656087b33903cfdbae2041cc58bb093ae1921e03a4f79f152d910fd6633d6018c2deb9f802fb1cc0056e088dcac8bbbcd5e19e42919d23c6643773ae24b67d279832492917900905320f010d07a10deac1e3088fefe21b8ef9c0cb21eff6928d321e299d63458583528f68e8e946711c0e34dcc24b0370a490ed8826b79cfd7715df006d00c3f649852a932c5532b834c27ffa356e15feb9ec1f217d1e1d4ef988d9b80967193360b43e3d2e0d9ab7c4c80328629c14f2281bf94b9b06607697ae2b7309bfe9f389fb81dd04fc04e89ebcece67455253aa36be32cc8da8443cfeec3d21a13e3d5cde5c6e316ae548c6f0c8c5553d1d4ef815828cffbdde8ff6792ea6da8825bd78c5a93117a0731eea6bd7de6c114717e5eb6050d8ba173f1b0895868e306cea51c1c5e159e1e1e4cf06c36943ceffcaaf73daec57a8cdab814ec6a98e18f708f3d4bdef26d27b7cf2c0329f97abf0b3e94745cc970e0ea95c0c921fb3f921fd2990e9dce2bd9cb235c4dfee655b9cf14db2566773ac36fa2bb9ab72afbf083f2f6a3ef4594f43977b4fba9002347bc09710b4738b32d45ff27a8e78fc330a25f93e234f8f76bc7ef8f1c6f38c69fdea2c1adc2091f93bdebbb53722ac7f0b9097f29f5231fe62b8471ef4cc320e8bf869cb5f058297d814402ec17f01ba7069f688ae04c1379556ddf93e91a882b0515282e471fab8f28e9a68a5f957b856961a860e02fcd5c083b58ceb568f2f46a91d0fc7c6574ebc37a381381eb0d87baf5b5593fc290c75a1ec426d98ebe0acdb765e519d20f071da8874c28208190207561cfe008eea3d7261eb75dc0a185ce76e3880dedb7753b411686b13e5a546dd951899d9831a511d4ec1f17ffe000450ae3fad3bc44cb13bbb59896fc3a571a8b8d202d1b21f1c75e0d0b33e5c8f9b28bdd6150a08e12316234887a55c3c0a9be11849d3e9c6a74af4b99a8ee502c8ddd8c5b4e82d5befbf86a783e37aede2a620aaaee553abab7e0c150765bf812d089a6d8608d5a11758338899a28a161be3cca3153d73c60e7ad67870bdb4bcf72de842ceb2fc597a566603ee95e0e0014c29459d6a209a57ed368e12312dec92ee0b2d161531c3afcef02bdfc76d816849191587ff42a8c8905c80446edd014d805bdc97df03bbc9b39bcdb6c6753afd5b49140a3aec7f2c5b6466e043197f8ce3a77262984443456e9e6d537c3823e0ca76fcff7e9dce2fbb7319b34706b150805448a56db300d2bdab96a9270c4465a5ea6f3c5bfb124dea698869b1a9e2c8a1310d33b9dce7cf8e523fe9337acb8738918ad4e4e9802e2b879201aa111ed5aca4f0bcca01cfe60abf90b327aaa681cb11a40fc8ee1e7caa2a189eda0413a951911859d16634e55bbb581db712e7490eec08cd850df8a3b4a2c68c10d0b1f5b8ba0a77d1a3c6cdce8e99bfaf9c97067c64cee861f151b44b76c44768849b52d7fa2c73be0d4995e39bdb5341ff487bdd4c3f52a3ac0c8aa2b3f969c63b4fb6fcc5438b00273a0605ddbcc55a0df44e4031dcf9c4388fa69ab502839a44574c652f5ff14f957095e6b2ffb6751955739f636b1afed78324aaf16a01f9dcdcadbe1930c35370eaf3b79e7e6d04157495c3ccd7a8edbbca30a16b6385fc7c654e136b05554d9f8ecb33af8c0515f13d79108ef77b76a22d0b1891bf671f89d4b006c91bf68cbba95883c09c65a4e727928630067ac813097983fb904de5881b8cf1b6a2bbe49f5356b0a1d3dbe9fc59cd34446458bb22863459b57b592d6b7fcc1e15a7e1a339217c3103fe8ab6960ef29a07f75b498c99cf4f6b198e8a1df70c932838eb4a07f22b2107629d20bd87e94c3adafe6eb879b651936cda2af294ef3cd9c2ea53b14a9b73f66599ff3a54c921643c4ea6a3bf796b3fe99695f4685afa0d2d3fa898bb2074eead906acd0dfdb8acf0ce1c66b14e3ebd49289cc267bee7829ea9e28fd4113b6520c334cfaa31137ab35fbba263f47d1a1ebc48504f5875dcdf0ae928817b37bccb587e75f42abc55efad869fec8a73aa7d12a04c7f27dbc8d6103382fd225301a09e21304ee03fb9ff094755d2f5bc2f7a22a2ea37ec9237b27c3715c220ce4f4541ca59da145e88a9687a24279a81919ce2a6033d7004878eb8c81acad8836eb3195b086e9cacbcd18d020718ce65d6eb9bc40b7398110cfa10a2694b88bed031dda8e22ecf2d00916c522b0013092d363ff3f7f885b23c7470c33d32eee5d44be781e822d1a3a6f10ead073a0128ea482362a48fee3896e726b7f707d9887792ad6cc91593e64ac615d138fb3382331aea288c34d6719111c3b40531dc1d281bfa259f0556476880c6ce8fcdc7916daaecc9c687c5ad3b79992fbd6c03228e7f567a6fcf33efe142fa7bd53c0a38c35e6aced0b5082ccad72e6a80ee7fd39c5655e32938db0f4375c106772a5e7d8fed13eab38fd7467f9c6ef742a8cd432511543aeedc5dc2c68f21e676c52414f327cd2f649534fcfd9e44e25be5d3baaa075005e40dc01797d02b620575340a7fca2e49c7c5b695d7de98d2d2e2ae767b004a71700e7efa726a489d5ec9658857bc1452254e73d6fa439800121a8277230c87f91163533e8694915ae6f661806845dc9357d332cda0914206d38ce7775704e402466760655e6d9f77383ee466710bcc46de7abbda3cc3797a80d88241135387ca3cbdd0febdc336b177972f3c8d2094600ed7f9944fc2f807b6aabd642b60f2875f64d7eb9e2f3d89c0df664a39f3d97a84405184da800430e99e808ba6729811ca08cc2af8243311e9fc6db06094ea0008bb0ed7f081c7ba982f263e1c4f2842c38bc0925c97567028373c99e0bcb01165db9b9c3b8a46aed919530f81c6df5b89f88eb4d08c3275be429f0c186dcfddb820c734627077cfab158353fa3e9311669124c34d20b67899be36c33ec891bcd35bb6005e4a893c3c1d30e6c182719b4d301306c9f561e0f9400b495c80171738f5599c9a8d10859c423c708904a2482f08f237aab8bf43b78f0b199ca2def2a87e0b170f37135be169f048a8c68bd304a2d65dbe913d3561b4441c9adaa4797c42f2c64276b4586b8c11a81c19e17a291fc21ee9ac57386f5dc4d63a005fcb6184ac13b80bef99f68ce9294862f194f1a5028604827c59d49b611cd0c9c1bb7f67a6da3ba1d67b0d788ddcb72661303bfdc458cd035dc60d02ac223288fe76ad828c0b49e71048bd9831cdad354a3fe86c6728e89f139084ae32635a1f75812883e47cea100a045cba9f056b0f46d785617e1ac17f8ffeb1bb4a54b17c82ee409c64b8e32579edd59a6546351222a9fab40529f1d73d2de2b852cfda8bc025db8e8e7153acacf19dc96faa8f9829d980d717b8c23d78a987fba8acfc65ec1b85e0422b4a17a06a972ccd7349752be6e6932bb00ace9c20285a93e19ceaff5333d423daa9a7e94b19f7eb27cd6141c4551951a76b8787e07a0879bedea2dbc56529ba0f1074bac12839376369b6c10cbb14b5c86f734ca86502bccf800f718e02ff51c7bb5af2a5f351bd6a8284639740f8c2917ea8067ccb98b2dfa0bde01fa4622ce8995e5a07a129a2dd7bceb18b56f570a0f39b52020c4cb1c0737e13b3a94b97fda16920626168162b829f1945f18837922831bd23c1d50ff2fa797ab4e9d27ff9e16dc07a570194101d819dba405fb29824a0974bfe9539755ca91496a1b9856c2ae00ca73181a5200cdd1f12a3120e5228028de692cc8aa5e1717f0ea3e6b9a32c8d0e1d0383e525c3c49781cd16a7e892e53bffc3958d636b9410162c826ad11f80384a3f8190e436ff44fb05304c2bf9b3fba715ad22c1c6b1278788d3bd88171218818c4309c885e363039c3ead69020519e6d195a74afa0cb25fc3eca31f921d7bc414c50913422a24ab945bbdeb43ab424f59cc607e95e0dcf05ebdcba46acfad9a6f7c2dcc7b8b1ceb9a9b423c67baf6e574cd686cdc8f3a8f424da1693de71861ed799fb807db7a68bdecae415fa02801cddb43c552a911ca9e9f593fc3f1174dcecd1f030c09ba469abed1854d4dfa76130ae769199aa31f01dee37f440f7cd5b55891f43de0fd14a34e59d7a371787e0c21fbbe5d83095571d468231e46a7d01fa5e20f8cb951ce426aaa590c2fed479fac1b6007792e7d29c389716a0534d8c0764420d1e19de1857a857609b8de8f855a948420effb8e30f8056bd56770fbb1fbc6d17ea60ce9deee1eff7ae32a1d02d0d75dbe23baf81a860e73efa73dac07c8600f5541dd2a6e0a99fae575dabcdc097937c868591985eb6090b5dc3a51001b980befdbb7e61b1cf5eb3d63bd039a9d490cfa3ad8100b29f969bc265395159536f5ba868f39594bebbec8e0ec4bbfb078ab514913af56fed000325b19a6af876ef3ef2d28f1e5ec88517da763d5feaaddf9812428984b715d9c788a9fd6d8af18f8773a6bdec7c2ca5d2ffe90b5c2d15aa4cedbf4b192ee10b899f1caf2c7f59b84da53b320b50410cc8b793d4a45e47d81c483e20906486719d1e54a03735f76285abe5f62c76ea757fcdacb5dd37588e9dc6dcfac08a958e00eae2a42035f04d4d4688b582fab7a45b4ef1f321c3e62e8f4a2b526c8df154a6faff84e8d955b0027614fc5aa1d7b3c13116a8ccb8ab201289918a8ef53c954976ac21eec5e48576d7b9122d44bab21ab2019f323914907a81aad487d59d6c34ff7420ff16d2f149a57f7625bb9afc59b3f4b70a9df39683e662e175632d7564d5380066423b66443ae9ea1458537a6f4f2701c939e315af6a9124fb26ed8fe05525d289f605c3af73a15445ab28edf75454acd93016fb6e58f6dbecf6c2878576c5cfb8a893f6be800b2f214d007b713a6a6c206a361066d05d231058b5777ca03fb4d37098ffc5fcffeba1177f5e3d5ff58d9d4aa0627faa1d83d0076ad6ec0f31bce602ee2941bb5b8e65abf774cb12dcbfa704f0d693a7b5de4cbed1a0c22e7e0e2c2e792c5e0575c722390bd5e2fbaedc298a598c132caf1fa1571c85ad58add8a278ca166f54f87e064081232864ef3de5083833325b13a1dd242b3de32d0cb9d7bc23f830e95d80222003dd95db34c509dc3c864563db3f4a59c557abd14be335c1ed00b60b43ff81472635fa86d9340be166a2a4cabfeccb9eff88149ab289afa192de92cb88000811e532a6eb5d0fd36ec6ed15286b0619126ac810240cd7b74776163e07b9d2b902c5be72cd890355fa704441855e553a16f966911982d767f45f2771663d59446bfb1a59b6b8421a28f","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3be029b79a81f6301f4069e0a77bee15"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
