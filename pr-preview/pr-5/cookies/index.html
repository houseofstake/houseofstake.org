<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"925dd10db4ccb64b819bfde3ef298fbcf5159393caf1a380b7f362237e717da33458c16d7def213be81289ed76a25119627a868c5a65e7d71e1526f5896be8e5a59f0b970f4938c99ba09bfb6d30cc6a79cbdb11713a98f79b0f5c506db78934c2356b8917e25806cfa857842d19ed427e55e0e9ddba0991454073ec7fe686a62146ebe779bae5a1a3ff6f079f7368d341f1eb020144221e61c5a9c0365ca20f24d9a42bd05f324c85d1746532fff18b1684a7557c03cfb6b5807f5653dc9482bd089c7c48ffde4164b4a96f0b6b985a2083e8582eee0c2279a1aaef4d8b03e65d2cc6100ce626dd8789cbbad28240294b4e75d2c7521b80dfc5f867586ddec28c1fe580684a26bd2200d7b22863f774419326bd414ae3825edd43772dd77f30812b116f98bf7a952bfaa6c990e27e9a7b484e3cf7735daa7afc35617b431a652dd856b6fc2d538ea7cf7db0906fe72b78727b6a9e04ab92b6ab5df1b90a83f9678557bb0ae94c4f82e6d382d8c9430b0d496136e0389c2860c54019783816264f61c092767173a2257d86d68bc519f0a59e765e4cd83a9cf30c64da7f52426739f5692460b8b2356b258a5f85b50c15909131044c52a6198da86faabe6c61a50428bd9ad77f571bb0498c89dee451221939c84e3370efa53b39d4e7b7fbfa916b247b88e8dc8bce30f143aed0f9cbb9b6ecb2d3642e1f01b263d4adc51a8bc17e2b8c1df1907f5bc40484599d7e3a43b70b97212daad7dee75f7238f9f6f879af4691a6cc749fc7d26e270ee1b6668f1ff994dc2a03cbd5ba2c7d291b238541e5aba256797aedb56628c29b4547c1cb8890fcc00d03ee10a351e7dc00e5554c1358fffabde381d34200884c8c604239ad5905d7cab9242b46829364d51cf0d6984b3e579e7c5b3b48e056f9ae3b5aaf47f8fa2e396a039debf3764d4e7b77ef36564070f4e302f90a0f2c36ae9418e4d0e55e0c77ba1fb2a573f072aac2e2e4ce459fe811635a100c5f62080458a05df68578fdd5841cf0aa24afc45754ae1bed62f36fb99a8e465d2c114eefc6cd07ef47fbf0a037450a523d26be48214236c8c182034d36227d0344ba787daea9be1b0cff370fad699072e471e0da93687d8c3e7b3ecdbb792146d2cffb599f0dc32df7f2666d7baeb1b4ad697059b112286b8155fdfd1a9d5306f26ee49233ae1b0b489cf3471c82a40e057c43fd9b901039e27e8a28b684ef98bfca114298bc1a633c577a9416c62f04228370c820b609792b50861811405c5ef0ae14f875d159911f395f84f6376285d8484236e2d0b51bbe341925fce894fe79d9e78938fcb960ad43be7b5782d9cacf6cf564f12fd51848a6d25bacb0855334761399a9439209dfa538be949d7d41f198524a1dcf0b6a0863f4a525c4d4fa5463fcfb5b6349fa8878cb65339a2eedf3a89d54d2d86ed406d11a6098003370d6323384f8eab04c235203c1afab6252452b7689d1d849d21c78088da1738e983441de96277cced6c9e5bbec2052ac92d9c053ff5efbd93eaaaf5de0a9e39de368c6fc47ffa233e2fee36d2192ebced68abd1a63327954582dae0fe152dcdb5e6974d002bcb952870397da9d443800f8d8ae358eddd4fe2c11865ed68a82079e77f416081e2ea8c9b184f3da48a54ef76c9dc26a89b80a720e77e88614b4e2b959fda96fa4000f22f8f186f024a529c4d583c618931b590888e972bcbea24de634e28d07422ae77b038c1e30907bf6a4d0b87b1e0986531e28781da2ea979fe8ffffd3f3b70f62770e162df389a8defe1a89a64577783927d8cec8e657f08a1d26b933179fed43de5a54b50da91434905407366a62de62b2c39b243e3711100401fa21b35f73f2c45ed9fd2900966b684c514162320b328da3bb2e431d7f3335a5747223620a2d66d0cc7d0b0b7fa58dabf88f8a87453e97030be10e46c941bc7b930362611508a3a0f598d9a8f8652adc17a2beff0c96c66ed6772dc616b2a0862acb7bba3976a78c3f69ff3bcb0eeef702a559d6794db00d90815b5df438d88c92034eabb55d597b4a36b4fd3c16577ef62ead8aad0268b6251be0ad3057a7e7a6f31f68d108895c6dd2f2fd482ccedc3430edab41dbaf7b33e05cae80ee2ae20722962efb07ebcd00a8ddb5e7d88ab8d80e958f9e2e470e6a88e5042d4cf5ee82ba8b1ae7d96dcaa3e1f4b4b1e07b02c593a7869975fda87e1cecc9fe05b9de6eafd1e1328c66fbf6cfc60a5562eedf33cdad94a014564788c1569fd9eb29e25dad8026ee04fce2325fac5aec4f23605f60f2799120d65007c85289db6a6160529410d9f7bea8c842da9bbde33a91be38582a4553cbb084dd30a9710abaaf4ae729190586cba802f86baacf34a3102f9bf7e4c5807bd1f4727e3c1ee0873302e8defe3bf041d57f49349e87fb69927d32961935b555ff102a6c3167d334455cbc23a2f8c114225f2a788084b32356b985e4525f856d20c7eb0ac25ad35c3eac425d230069bbc6b7277d7e2a636c49b9e33c736eaf4429ebf95ac48b04b368427dfb5c3ef0747fcea942a287c55b2e20a50add55c7066202ff2d5cdfae4808b2c173dd585a51c8ce74013585f658e8680ff9defd4cb8a9e0518f5080f05aa088e6807dbd4e34d0c401d587d6c96ba8374324c8951551582e61a6ac8cb299b6e3d844afea4fad9035cf0941b47ee67116db02268aaaa9ae5201bf4ec5154faa78821f893caf3ed6b6228c4805a54c8724336e136b5bc775e91a27049ea62d2c544167949a431096f08a13d13bdee250506359a0f3410afa35c640353e58cc36151d1d57c52d63a088ad001c97eb08c30282bcbb5acecde5860c05ea5647a670627accf3252d33346897fd0848e27728cfce93e023b7a82e2445593def7faadc59ad266dc8b77431d25ed1449174c787c10a54fc9d6a13e8c85f2d12981b5652222c51bf63c077f284d200344c62d75834936a2c4c15aa59d84736eae34747a248992f65f9dfa05b52c509bfbe11409661a92178548f08fb6a4d917466a99676ffdb73122b55ff053e994b42aa60f6a67278d37bba4d60d0418e05c06fcf3495032f71b317252c5323b98ead908b803efb4297371a1c01ba0be5ff3bb30f2561e64725f3fd311518617494dfe06ee80acf40138f01b177461aa5aa889a0f2dfd870f2d81c786708e515b0a8a36cd3b5a6d8369bbb51959a0038cb166462654b2ec990fcb614592d2cea4d27d886e1b395dcc99bbaed8ba112791e20efe1c541074a00872102f37642b044d70819a9ba92228d7911bcd75e73199bd1bf73b0273ad67745613e8d9826ab54ffeace294fcc17b0062212f0b40356f69c8f65b46e48749e52cddc462fc1797c9dda251f21b3ed5d9c6c806f2a41a7f56f6725b3f82b48989f3966f7fc730f44bd07b49e9d7ffd2caa3c4efa2f97c9c80ef362be8d95e920bd4af9f78a9cded39d59b0cb606d17818f4b4d59bf1ed6725d623b819f3f54225ef9f2af3bc55ab5775277a1055dcae0cc532f14b1b3f48823a4884e3ee8131d52813c995481456007d5be33bd5e95f5db219b591ffc09091067e661bbed8ca9862df07e1d8780f588c67c3ce790216a724b98ab05ba02561d934f02806aefefbeccd9e4ea9645edd4b127a690fbb2c58be8ca65800d6dd199755cfa35993106285154720d96640fd60075b6a16202b72cb77b4d391f477946b7b0032fba367019613af692d2154b4f53016efada695030f47ac4169db4b605d3f8dffc68f4a4eefc9dba68847f9e5874cebd24f6ef916c57bc111850d0f4513d1122aa3059ac2cc73b0f9e484b611eb834dec38ff36877891999358e5ae33d1758153b36ee144d36a9b268d7746989b034cecafcbb7dbdd3b1292542e744d067b6a40b417b9bcdf19b6afb091cdcd9db42d1fd7e9522dd36b303b268e3f9c33f15d8a6bb844ddedd361d83cecba72a8269173c66f6a17e050fa2fceb9a42b18108fd6dd200267967d6b08d720d89262eff36ee860af8bdf737fd7c9a97f4bd2ae7165f5f8e8368a8822a29bb3526e0535eeafaaf521c16abeaabc36df6ba938ba8d154592ffe34d184c4dea424348490fa4260f940bf27c7d11cd27a64fb23de0217e294dca827dd89649f56b04c0ed386e81989a175931c8eeb1fd879d849049bbcfec58807a524dd01001cb88a9ddabd8a6373352f3617acedeb6ed33feb273c502a7218c3db8ffdf4bf8b311ae10161e89ff70ec5ee00ac9d302110fecd16aef634268c6e0a94edab4effdeda19baa95a11dc0a0fed08353c810946cc44c506a136f94493ca31d3782ec14cdafeee62c28c37ce8de73c588264ce442499d207b6590d0d4d1331aeaeca7f3d9a55b78e71ebff5ef459e4d8bd0e455024b20141f586cf47143c1863f1350a6c632d552a351c41caddfc9409e7ab1c6a92d493468d9769c737f6f7805ce6891550b0d48ce58c63f745523fc1283717e404ab08baeb781447e1406bbda74dcc278d06bfc7490d615166fd9fcf91ee64b6d3b108de191cecad1af5ccafbe5b92fa3ce9cb55e91a81f11ec41b698306158952905b10bf1fd1c2417551ead79790da020a0229821bdd2f024e91316646ce482d5b26618d0c2f7244153d10a598f2093c2280879457b4d6a20532d38474f268d75e74e8227f74a884a47d670693b90086cbb10df2b5f05034322d931a449db77c0221731e04c4ffcc6bc1816516e0774edefdfdbc8dce602d9de10badd10b245f746d7e548e0d81fdb3c411f68b00de4c46107893715e6e21c895f79f4b93c2b9fe1b79e153cb92b18a09c988306fdab802a8df6489b3ee48d20f1b1abc94b25dfc273a6fb731ae2c4d1a7d32fc991997c5a23f149c18f8a8b4ae56b3deaccfa132aedd3dbdc8f3ec79003003f44612b7f803a4521ea52ed9c3bc8ff818be39304d28dc5d1765c3c9c233359a2357666da792991adcd92fa475d047b7d3cea29eb6e973cf326403eb4c4dd389c33056b9e31fe5ce976b522bae68e1c0535f9e7ddcbc765a543693a0435e77ca1b337c69df8874e32d32fb4372b7c5eed47ba8c3290c8e6b6e5225adb233071f2aa4f7fd35a7454781ac957c46a4395d1f6ec11fb55032178f5fad6cec8bd4c1dba4d4c87d80dccd9f63852b1e71ed2f1216c0be528fb56ccf406383fc473c058c7da9f6c529fab80d588c2f314836441c5d4df44afb3a4a7c8e2ffcc2c2db00da3a6e44a4a172eb9af620af3ae584dbea3ca241768bf45b80b178cd2f2298e550ba26d3dc5ac1dbb4a2b28242496d3c9e12aa127e2272d9227266cdcef8ffb623e1bb414123f223fa1fa82c9b2cbfcb8d3dc44394da534079ac48bb61ff23e1578a40536b5be68985abc6cf753cdd6836b54df6ce18c8541494b24be6340fe6f20ea01ec0458c1e77e454a401154e361802df7267d43b2c0f21fb346e18b46fdeb18bd9c70bbb5c8634293db9c10d5d14871b9dc9c35aeb9785aaf3eb8865716224c176f8e2185fa6ee61aecb11f7db12ba017a614676cad31f7b17272d1d649a4fd72eeba5c32ca3d8562ba808f91a80575b40aea2af11d367f41760aa136d2a84e352ef59e3d88fbe022e0064269902cd66ecc0f4ca511bd205ca96a33250940e53f20ca7b795db8b939ed7acf4dbe7f61730caec868874084a97999fe28fb6256f68e3f8eefa0a81eff10b2ce6066674fd16c28c3a2ab4adfe29d20b1d535f61e424537adf6309102b9ea9d06e96c91f308c48e8bab6fa2ffb54de3a46059d5ed47287d9620a6dd148bef826008d8eeb22f59ce95111eecdde6cbe29b1ed97a04c67db66cbb0def45b9f8473ca4e0adaa48f7c5a231e858ff5ba8fd590c32eef37f7f36f02c819da0878d0eed889cd2e79b13ac748fb9b1ace10ac9ef7ac6274b7029dbf01a15c15f3f2068c07dd7737e2f9fc03ee68fbcefeb49400d24be29f4e6dbd2cc18be7bf251c1480acea7a135d55fada9f0bce404d9ca0b7d19041a774898059dcce667f487eccf89e8f8f725aae0ae9db5936828463edb539aa56462593ab191b495d38e65ca036380f7ac06162de098705a2cbf0072901d792b0f2567132a3e35acb79bc88905edbc217379199712f5e9208a0e9613aaf538d0a08ea3ba94c710da92e5d8df119c5d147c5f8d86cf13c6ef0a99974b8573027db3608a4b650fe63c8dffbcd09393023b01d3a8c050f17320e286e89fc1138fe5829f3dff93a632be928fc0c2389272220ec5a03273bcc36dc8a51be7bf8b18cb91f051ca85c61fc00ce8c5f798645d6f2cb703aa98cf7800161b0dc3d3ac5d67de5c68e38b419f311f9e82827b2609e4bc403f94bd9ad004076289d1561f9d98e6b13443626b0ab93586e8bb475880c7eaf38be8a8620e853e28279cecc6777efedd7fcededa5d3f423b17b40137d9788cedf2b504625e19c7c2d7f58dd023d29ae284e2ce774873c8e80b274f252d6c72839d2d3f0324ab537df7bd8244bac35d5cedf7d47ec2fc3cf7a35f9b7e51d373910e63e7da76db18e97070284337a4329f8b285828fa96c8caac23357637578558cb47cd2f1d0a0ee5cd643d1b133090438e5ed11add6a3b578e56aed130ab7f62ec29f2754bb843bd56787cb173a273f48a9f77e140a2f5a2f109d7b76e4a7ec5125a0a110714f0f3eeefb6ef7d2957b7db81a8eb1cd6a32d980a7f58ba296e9fe7529136605997240a9274dc1464d618a9b45bfb32f7c8bfd550747934bed1d1030223070f0d4d52514eed0a6b06b133a3f00a72ba51f644c9ee73dc3f270e7540e1ce824b6413bdaa3409d4652ee3e5f75470bac9a19d81b3f5f0b3edbaa6fd628a62c7c18ca0c4e38f241cd4be6a402862a6fbf8a78d28d9c96106ad0f4ddddfc653b53717bd856bd1cdd36eac94a2a3e54ec5806d0e33f2ebd21a6af4c8465d03834e47df7d7301ad6f9300330ae87d0ed6137190e48d0c5fc46e208484957f7ca6a4f3e5fadd920529a3306939571a0603fbb8e7bcec0b571c20fa2aeac0699a1f89318a283317ba11851986d1ab7ebc6ffd376de77de138faad32f823d77cb06f80888026aa8ceef41f855a8f133bbda1af8c24ad6777704d241390a90610b51ad84c897ab6956990c63d87e67a013f44aa3d6bc1af5e8b3d9533ce4119df50d5746117ab4795140cd922f93c94772e178687cfd55c4ab20e8c63eec23a1d344859d78861a5625713e8c55b43e92dffc7f2bcdc49987063c551191d7e8ea3efd8f3d256b6947ba50065c20f4ffea8e573bd4cde02f14cbb6d304288903ee0e3efbb8425c656eaeb89d999b5b63f064d3a0c2b5a41523f59acbc0a0cd67e6fe51ad746e1401f4c0beb46fdec5448f70d15d3af6db5d75bbf7321f09da80daf2f3ec027c8e256638e1444af8e8bf5441e1932790dda149209093fcf2bdb8d95aa63df6b3da59a8b223f3d771363d04b41f3221071a9e9f9fc46008cd6dcc750a7031282e69d4b32da8967025ef042227636c168076101ee6b4fb6163e1f8e7cefd0128f2c4e6942405232b3d76712992e3e6dee759244bfdce9cafff7ea1c327c6f3feb75fca673d358d033af848e663601c1e4613600a371ce82e3d23db650a4f3cd25364ffbb070467ed248df8424dbb5f63ded1215084b2a9ed4e617ba1c4e6e0ea6be4bf2d954369b3fa6c37a0930deece9c16a7ac28c469c89a8f8b3d76efab872a35358b8a5475a2d044a5f3632bce827be3345fd9f7a5dd8b334fc4be2e55d2e2bde4a09732fc1f0e9f2f43ad3668a0ec5f4975ee9a9d988d7246250bbaea5e6a1aa27d47f072cb6bc142c2bbcf1a9366d9f7d533c54ea7dc742c53cd0b720c3ca0cd2e99a54f486a639dd49a21aa657e1f3f4477a9dc5585d96af4a6fd504c6e5ba4fc1937b8b0458f8fb16550b1eaebf837007f742021d8ff0986666bc394453a2450258ce4ead5b59b4bd4ea141b2409e34ff9e5ee1bac4bb18b7cef947b25d56c81d6aa4132259ab5a55de5edadd150fc6f6621c409fe3105e7360bf03647190dc577351e3ee761f2699250b90da72628e3de2f3cf5b82e743c9335eff8277bf49bccb3ab783da3ceaeba096d6bad8a15e34172bcb3e439fab8caf04714282f0cbdb8b2a2e1df15b57160522976bd2e1e7f50e8f03aa509abe6e75cad7b88502eaf390735ca0b817359cda2efddb866a8e540c3dab17a9350f1d44e686386adc5456f1e2782ed79a5b84cc5142e21373394f75f2571025e36b514ea2532b55b5ef8a50756fcd1cca07b3fab9998744dbeda624a310b51e8e72539e540c2f04b8315d6455add6da3fe2205fbbc75eaf551dfda631c33e563d2784072f8a6139fc12c0dc2c4ecef499cac6df40bb40bae05626529d528bbc3871f7a6b6bd331542bdf3c14c6327c366edfd241bd8a68ee3912cbc559ebe3250ae57e9b0b54b55f63472447990db9b63f48f566a39e274b1ad44437e04be5842471937196393da64c14971abd59d646e15f066b7e7363b9e932da1810a6012b2578ffadb8ba64bf5ec8d209d8502ecb46d91a01282aa146358726056880005e5c9aa99cb3799ff87d0e232e06242e8a2725e16f968c99fec460475bf476ca360984115be7e7790572c7622bfa2fb0e2889383e090f13c4b2e40f020f5b8285194a30a7aed76dd0c309c5f48206ffbc269ead3271cab4e994fd37e8e27ec75554969c55aac03e69bb64c3d7290fdfb8a93c466e495a2d4cd87624be8bcd1bc458ffff9c54e187121156bfe271b6d23742edfec2b178a749852c29695f4b5de94b5c924ecde111f327b556e83bfeb62d119811c4aa1ae204d63b173714a9690e5837660beccbdd8ffaf37a897e81c6d05cbb048a0808dd134e21a8e3e8cd8c62c0deea4e831326a1d3a70aed950e29610f83d2e9119cf964dc25fad8400443c984f8000edddac904e615bbdced55dd4eaa288b3506db060b322d3723339d7b8c7b0592f5a831abd55d6b74fb5f148ff4ea8deb4fc36c3605ba84cee784631b327dfa9c85e2ce5f65ac80d8ec888601ee5f267a38b03dcca8ac987df75a57b62049caabb316403df80960ae1b61430c5d5c3ec8bb8666c5dfe7753fa67ad5d1a762b5db7d26b44bb1ae7edd7f17838a3c33f76ee81fe3cb7a676c327221d42586adb059bc5926c93de79e8746ac915949e63541c534c613a0d81559e2d1b227ddee57093ceb9d65b80046d8cf1ac2f8cfacbea1c16ab644b97fee6a8834bcf6c97fa779a69b46d53297c5004933ca1a6e27fc4ae3bf721ba1bbdcd4084fdaa4f851ec04ce96fa67be1c022b9fcb8d7a253572959a452219d271f77956ad532c3a6dd085ab344994b3a0dc95d3ca8f96427bb7a6b3da1550eb36b47ae9d350ac85595536d632a0150ea9e28db5a6e15d587481f66f8027da61a340a443089d86bf286023bc4875ef1b24fe063b05316c75ec18a8f32b37fd3028f2b2664f7a9687b2bc5ad4699da3856f94da2a9fee33ff5c6fac244d78cdd89dce6c05f157b8082c52624ade1c44b4d07bca1d3b1fc8cd1d2222b5f720b288ef290441656ef21a638a08ce25b56b07e71a4d5fdd98b5638e8ba06c933c9137eefd127687866358e3db1bd96feec4a5a5c06ce81987732ef6bc61796d00723d364afe42e206f4092b9435d7593beed74772c33075a4900c48a4e57751387f51695ab84654292deb7ac40c89465eaeb8b1d87044dbc83e087ade3beab9b8498c38dc3a1d6a47b55273351148aaa920c74bbc125b1a482cef1a550748d837edcd11ccdac9c5cf2f87967676d1ec648d195dab2dafd4d534d98a2486ce2a28856624ed1cb59136c81570eb66796935bf27cc81a78c1fcc0a5bb0df3ba92e15a85fa706f5adaa89e84e0e0223709e5bbd5340f2a00ae733a3563c248aaf13074f88f6f9ba4401e697f73d9db2a212203b8e39f52625c57317c2bf312817d78c4afc6b3991c7b7000690e5373c7d076555b2ec3f2cec03b91241ba20818c88ae40efcd5e192052bca8f58d3b25bb1496d860baf2acec09e0c0500907fdf4fbe2644bd4188bfded046cbe534f0bc89136733f1eb33ef169d95bda6135a6b396715c46257affabd97fbd4d49840b87ae17083cf76f92ffadbd00ec783555311f704c5abd2a8c5fb0f8226dec1ecf28ef9b9e9f0dbf8195e45a9065b77702e57beb38adfb551d30d60cc695dbb8ec0278fb8c1e4cc81e82f388aae575182204175139e57ae23dcacebcad0b99c207070bcdb6e172086d6d5e99ecfbdbf2359c62fa0261d131463e754a0cee27c307fc7d7e968f147674ec4c7c23860b26531000941a1945391e351681cc4a039bfeae912cf748c81a360459e29dd7e695c1190eefaf01d9656b612d70b246657a597d3e840fbb4c69bcb0ea9d2d990620921fb3c114e34e279abd8ada094e2d315dbf92b45cd0050f20d3c9bc8b91cd9e8e619893e1f3738124c3f4e25878c44c92900abb1587f92f0add24d4d49f287ee9630e8e324c35b6eb96e32f08de322ddffdc13c8bcfdf4bf9e2ab6ad9458830d80ceadc2701c778c885466124e5feb4d403dd3431634ea87c8d40db42e279ce0d3bbdce2bf851ccd65e55bca6f600b0368f36fa3a6ef5bde59b4cdc7e1ba5d938eac86dddd6935a4147679362c125989deed9e45225329e8114aa4b1b6cb4b61328766c8349549bfe2d7584caba72fbdda3790c8c999a1f31f608ad5be0ce2fa4ddffb07d0f10d5b78d8cd2a91bf32d9372dde6b42317ede598262c2d4e33053ae90a92e14a5c8dc3a026a83d92d64647dbab86056f4b233db287d5013bf779b7e7ba24c82cfbbfeb5ec8d1adb675a67e9bb61e995ca979325d562aeb43d70824fe652d0514add030a0bf4706b69d4c25189f0968527f8b0a77c2ce004d617055c97919f6b51f1ea38b174f74efbf9243008ea509e27a77112a1ba65b8353d6469c0016289bccf5eca7493c1b2023b932cedc576dc389cc8200da7b694337df640af1a9073a3780b01ea0d7eb8230941aff69b40350af893f693560bc62f8d5acf80cfc06b33372d8bf134de9fbed7f81af5ce00f22cb597ac0680c67a41921e1319f315f416f67d1628385e56e4bf81521999319f0737cb5a36c85e493ca4755f64bcf2875f73c7146901beb66f971bc22a076425b71b0ac5199d6d8fc005ed37c4c0ac0c8bf1e1554c694b61f19b5d1e4e20dd2a2112a414e8d8a44c0f739e72ba5e531ca5dbef4de1e87a79713f588bba7568b76c3488ce3ebcb6417e7190180cc73ce1a48a5c1fa3ff75531983e13d926c76e528518cd7baf7acf34d0930bdcbf896b850e722e1314d09278c1cebfe37308648c1438442438150ad3bd72d67e5bfea165d8c420077b7da9a0d5b7d46a2bfbc1ec86ff5b865466aaa96c70f48977f4bc28c06d0022d4b94c9a0345b00c919ccf7ac59d621fbff672684982f052cde9194f9d39ed5edc6521e60b679e00510730534484410e26c7ba4c67ddc9e8e50b46088cc1d5714e1439381b89b9e3f1cfcc5807808f57c37096241aeea5c407ef064387eedab478c836c8984d4d06f8d6b1ce701bb97678a4f2d3cbf996e41779b91541a525a8c02f811165319a372d9491502909ab4c4ece6ea8e11660fe20ef093aeb3ec273e87de5894c884b533f904e360970cdc0c0bdd3c8f93c1bbeaef5e1adba5ba378057df69ec8e02a938081287b1953150091921daee8a4b91be193a76539d968fc8bd8504388126c22bafe9c4931a3ab576862fef4b009c93e57dd4c6728f5ae22a68cde6c3ca889631848ac1e9e1082b13d993dee2043b2c83184832bd60970178bd700d9517f3e8e06874652a2acc034d9ebef772bdbda0453540b55d7d2bc110692e96dd8202bc7d9c4c05cd048b5be56a5eeb12070e4330745f571e85f95b716f1917164b89d1ca1f7287f72ef32785fb67840468b3cc91a4ff87c2c74f69b52b196d71eb83a9073bd7e9aa5fef160d773468ecf96e891a81d263d564ffaac1b3b854ee0f86634ee14bddbafee1e5108ac68710775220bcad2617836dd7732a14499ccb0a50da8b73585b9edb924f5a290ba092beec677af4ce3b21b7760d8bec82f848eef6cf9f2704c4abd085e65e449daf35a29805463c319ee8f255071f50ef6d6a9852a02bc657d348495bc0c4bbb5e7575853088d5eb27edb1c74071e7c1594f301af3420c8153eacf95c20d1ca677a610cec1f9fec8ead7dfcf43344567cc17592edfdac3776e98fbe2816d4d93e82bf32e363c16a65881f6e57a1e53b5b2fecc8b4988ee80a849589ea516e45bb3749f8b075ddabb79ada454dc47475286be962b6a7cf106dc5828465be766246c159cfb668945c616734299be6867a4b8755d0878571d27fd7aafef9e9165a8a1b6aeb64aaccbbeb65a84e742d6ca690df98121bad46dfb38ee0c92527de4a092c17b0aff4485324d3c4bc350b9df13c9d52db52d2279ab3a618408f944cc78a992fde182b1927545142b13eaf64a8a49ce488c011bfd5964a198d64afbe1fcf4a493e8f644368e4b058a991d9b8f77efc8099a634d95359078dd238d2c1e80d2fd3c22c9a8cfaa7eff1b1af587516ec4a1ca637093e33c4587f821de86292812dc01904cdb4e048f8c62f6611a65149a0d3f806622d94a163d5155412897519a50c67d58cefd2b2e0820b0585db1a3aab6dfecab03f21ff3383ef91036451ca49b570dcdbf86f9fcc214d3338d45eb9aaf560f5d6550c1222bc3cd2ad9257777632309f4fa41f0cb8d4d9b0c0802073797884f13059c855e3551dca0e64c542bd1a4fa834e4c29d2423957427b1c1d8d38ef0ddbaeeff2e9be3b843212e3431a48f77fd87f061919bd282ba49f3e754e716b7f654d9490a790d3793f72627ec41de44d92b91c8aff4252bf611ffa19ab29e9300c29c8eee95547eee29c00a438212a8c032f76fc1f0cc2a824fd58e91c201efe5a50c72f5a1bfc5c3c57a15a72595da4245969f053a6066115d08a791dbd44f07a395b077f817bfbfb1ddbe0624df88d9cc1656b8114aacb82167662a72ae8e478218e08172bdf9d0de346bc4b1fa39c98c7f3bf78462315b83203495006331b80d95a97a99a07a2b0c1fc544ce245748598702dcb120fcc3a371971a6983f700913683ca6b89546f0aad799c5609d1def7d452800dc5f3f86966eba58c3dcb1234f067a6d0241acb2b62310d0da0c564e2cdd0df194cb846dd9c9e461afd91b263b2e8f31df817a909ef236cb771fecac6d26a52f9078ee96a3d3173940a277a676ca90525971149855ebc74d89bf4366ea0e8a7ae49398402986d659f63d9e0aba2372e254749b8a6d94dd48cdfc0fca57fa0ccd4e6f228f4869f0cac021fe2eb3bcc800988aa75834ff2a8e2e6af7fc76ffedff63e5f6c10cb6c0547cf3fd3b4ed79cabdc0f44c175faf534e2ec173d0c9d7888c2f7b8dfafbcc7ea02bd6266ed6606e201a461ba2eb26a54bfe8de9c0abd3b0e5a2fde6f59605ca525b367d7ce4dd6d4cc976eb79d2d2c03bd749859bbb94239ecf8a505f545253c475ac41960a5e1a4a05dfb22b1a94411d58cd42885fb10d149afda1d4fdee18309829d684895bf74f1ae06663485e8208d86aa032c4b6b0923fd42b5ec86fb4714843e0b3837f34eae6e2b6b9551d8f46bd2aa6de023e4bc1a568b9a1599e081504d513e1cf89943f4e8fe020a934ac40898a6dcf827b28f5dd29406905de2cd7c3459b58a0dbcaff3f2470359612c108c612a8745d5b181e64167dd1c0c4e2540be64083141cf76c56fc13eea0742065455541e0f9293beb7a2ac1dbceb81f0c86aac7848bb271475e4941b05ee74aa8d98f534e77b2edd6d846cba93ed05367a32b44db69c0a2d775f714cdd0ee3131421fb6d4397914f16afa3e2c6d816e9609bd1ffebaa28ea89e97e4e06076c291373a909b83974d2b007ccc9b3b28dfce81493b87a95f9c49684cf6ed4d3ea0304d81d3637542cc9857034477ba494691c6943d57542248fdcadc962719c5ece7ae2b7b5a851fe2912eeacaebf496fe67711dfb691fc246b4607471557af5cad29afaf0469332b6d6143cc3d548ed3dd20c74dd78cf373f46e0139d00f96248ce6c5f1064d6d9b127535115240f604afc666cdf4193cc4b435025482ef6bef01fee3cfe26d610eeb101d029d20f102fa2bd6afa85ef2b7ccbdb6bffdc6ee6bd7ce6c7469b2be61630023c22a6dad6d790b54f6e0157233f8396a85b1f55f7ab21d5c75baeaf79114cc6d96289560bee99011c24df73383d39f5d8de14ac9b61ee1360b923a3d157219f66a90daee6d86a07df89afb3e2a98d10fd3521a445d2e7ca16678f18c15b07a1dbb8ff0c8bdb4d50d08aca147116cec9bb8b190c0840c3ca06e4f258a8db983f28a1c488efd5160134ffda1f1c74f4ed1ac8bd85d00fdbc4cabcff05c5efe52a708dcc1e606a97beb611d80da8a8f8d64f3697a071a437c0d295f01f6107f41aa23adfa7bde035274e86fb3d4e43204c2b27a3080d013769463b49f3de58d7a8a4430034f39764658aa176de155f56918b14e4c63a6b09aabf291c71b399217679d5a77f9eac21e282a11b59b91b805746f692509b54417c43027493f9309fb7464e26224c25bd6994f196ec4f405b70bb796232743d30d6a9cf51bc5640452f86151c0c8999ae0dc9b8116cf339093306ab53993264368ff337ad445bf89d9bfad0f10ac120b7b93fc88c37fa8d6f559314e1133fa35773f5e6f268f12c0562fd429e22a8510740768572e06b177096e8646e4bdfa94acc1ce2fae282c5ea037eebf74f3335af6790b7dda99457107aa7062d59b2df00c872bf4dc6bb2036847dbf85a049c972f189ed31de78c03c3d0973b530fe12d830e75b114f70c47652105869504a1d87aa2d602c4b239f20162c9d898a4e76fe87757379bb78b6ecd21b8d52f21ad9db00bcb0ff74792339b2a6e1e7dfebf360993824028f3798284f679a8a5d2731e314029847586ee65f61e50cb6af8a3cd80fb581bab718c56faa73607287127b54c2409c80eeecb948cf456e3e021de0f9b610c82b4ee4f235ee7b5c1244b682647238ebed0216b3d2c021b63d6ded695092c822fcbfde4dc7594cd312163769886275d88ab04955d2c792d11bf89aa4e889be1317641034387ce8b1ca40a1ca632886bc81318862b68cee56c03f033f9135874db12648201533a5b4b86973829e7bec50eab08b3829ccc0ff86f1adbedb87e11a6b9f95f156f066408f694f16743566e90df7e7d4955c955af677b25925a6ac0a1864a3548f9979cce48021e2e63ff52c769d2a34db4b6bdb34b66b94fcf0ccac99a41c2a3b1827c90ea151d97d4f7161f2a3027d633c5ac10ed1f9551f4d8d277c62d6c328af5d3f6bbfd132b5e794493d6be1bf33fa45701f8b79b29f67d32a885497a0ae96228fe1d4ae7aa4da2773fd18fc1a0222ec3f108e28951b040a30475aa72d88e2d570b602ab8f37fcd8320c546ca7fc6ae03857c4a7c9f2e7f6971085e31d980420bd95cbc8bea907fc3b1507b67254eea34f5a0bd30c243a50c711a44703b9f257129db6df82a0eeb78f89dda39acfd0c23bc979e66d4647849aeeb2316f27a4e0a3458dfbf53bb243a9fb6ba77bfbd2ffd9118bf589c3c882dfe73a6c5e9aea79891baf199f59e940e8159c677182a1d20b90c8c370a32b5125ddfc3e5a2e54738e4f16d23fb36d3279bbf42d9b14e14cee1542372faed92123bc8774c902d91d474887a8d82ca4ddb0b7f4bcae2e3795dfddc38729ef8e9b0066db8e4252ec2684837e7440ef70c694c6397678e301d2898c15f1ab42c033803526e6466f9bf468ee33c8d3ae0ac4de13e28988017ed316b11d10225e13847dd6535e3682531c3b91849a85cb8fd63cb996f590e9817ce71057cbb3528093320cd10fe82fc48ee79a0a8933a9304f117d64efb73191216e90d7ad9893a3c75dfea698eed6e52a851feb6550f3fba640d66cd50bf661c33ca93e833d2be9a2a844967c6797f595e0493a365839e717a2f36329295a7dc8aef045c44ea9ff6f3e603ee05e3d24ed2180fd2c86ddc4bf5871eece89aa6c6b49f4d91652e2359dfffda2ce20df892d2809f88ca01baea863a61752e2dcb3de301930519c807ded30e9eac20f43453add616783ef4319f1ea1a449688a59f04b2e9d164c33699665a79b55f7306fbb88cb8fed73b9f62ae4deece0d879e382da257aa15cc9fdc4f430250e9b1556f6c1fb153360c50afca5c5fc407dab530071c4fd6e0af4748bebe779d811056fba6f2adefbb1b2775536b4b8d12ff4c024891465f3cdf69cec5e9be83c0a061fb459797a00bedf1936e172d66545c30d775d7b3443de0c08d5d5f50b0fdf7807b36e85c0cc0935524fcfc08178d434876d418d1f700edfce220505bb7e52630d0b7807e0b42ede4b5aa45f3116546fd8f74ca96a681531eaccaaae2a24a80b511996e1f8a9c9f55fef7a8eb36d78faf473066191a63fc7575aff9729fc6297df9b9eb241b313cf88dbd0da82832cabb1cd689006c84c91ed38f5c1733811900ca7008b7d30ffb279917195b2a491a6229e680c3a8af47cfc868e0984b9437050339e98f39cf63f54e27f8a3968b213aecc75fc45a112587a05e1d913e4b4528b9d10ef644a1a9bf1dafe5e0d0ece0bd56b367af930b26df79ed33d92c6efc1ce7ba4fce36964eb7a69ba65a36f691bbcaef450732b316eaf367e2d0cd33f0248a65c51f6bdd600b9137e8069e3186f9072a2b06f4719430be5d1392fa674f4770bc74102e9d5f9dd4c6d2b0145c0f9e9a473b8f915c3dcc6dcf9e0349d39415cd80ee2567c3c1d3e47bdc0f0a13154e21bfa2e0200c27a60baba4b3306f560b3deb9fde5f6278e67feae86c00fffa440e87c5b540b59e1745ea2fdf5abd5cb2fd1805af7142dccf39d1c00f9cda161201f05990ef1a3b892fc71b614db22ef8916b8d02b69c409766640b1182e70cf08f0f937deddb1a83eb6bb4dedbac376e078704f99873f7dbc06bbeb89d0b17f9a1c52dadca11c079d6df2b245a61eca59a3b871bc4c78d4aff20a1506be56f77e625107dc8dd069074dade1ad11bd62f059d0cdf282cb692524ffcc9bdb91153037c0ad9991139a0d9e4d809a68df4e318ebbebfc312f5ddb3bc96beab3b99b4f0284046495da90576bdf4476b6e56511c48f3b2de31d0df1771abde215ceb2561e5b77e07349f6ffa00769e518edf616913e7fc10c9169b6f10d1a511d75b88ccfbebe64ecaa90df1e0f0061a13f1d7ede95f19e37ffd37892d9adcf675769932821ef3cca6423f015ae46f63cf344996daafc1f8827219226ce6ba57196252cee56174f9cdfe96b46a71e517337829ca80d44e7d54e704c3e53a31c1713d62386df858c6ba9f55d12b98cb1bf7ea733b773977e7e64d6da6aa49a46e447572e3d57d3b9b2782383a64436a4ee551d62f9b2121aa9a6ffb7a987877a2c9edb5faed340f2146370207467bfe6793d8cc50e4c5a05d46b7f556733e4cddb24fb515356bb6b1d4e64b890b9f3cee69bd707c6299ead690f2f1670679a27fcb7b658f23685762c6074f10393b800fc17fbcb676d08cdf8cfbe38f649492a58cfb2d07e7e05ee9a6c3914e98537ec8d62beb279890691f65898fc8f411b2bdbff6b048b69ddc88780ab4e6b01beccd8fbb5b92d2a7734906fe4445115a8da01d573e635084061a999e18a9f3b23be3fbef2d6fbecf45966ea72136503a26b493e63782c210cc47a5384b17aa7301178dfcc376c7bcde90fd66a3d0867e2990f8895c09022cec9bd792894c81d538acaea442a6d4d4c6c3601a5d98d9e3d3e534df654e6a5e5786ec159c2c3ca0418380a68e4b8a708f0cf52f2c368dc155c5152b7568af02ae4ec451cfdcc73ba4076509a5a01a5924310efff83bd7a6d97f85a8f86b3efd97e55ccef0549aa7fe72abba6aa0b232d9c252595498aea911df72ba0b791b92d04f0118444b46323dd0df7e8c40a460c1c69472c93ecc8eef50ca926062e376a0f0f77da667cc6fe336728ce5b2f4e44b3517398422a43bd7877cba602ef1d1bf32ff8935e5aa42c1aacaa18c96ecb8447f8b8d206b8fd564614294981646a2289cfab71ddc38a84e42f2c396c05fc17df642f44d983a59c24f9457dd377bd858c67a8ace76d367f270952d4bfa41058cc49a7a78194cfb717ca00c79e7cfd6c6124c8dda3d1fc8a3e9a345dda75ce9b8bef579e5697fa7d8b99a1d928005d4e4a9e8d6981eb4674beb9fa1083a29dfe43cb34dfedbdae1278a0b59bcc93783b45ea772cbd46f36ffd531b427253c5fdd7dfabef8d32cfab5ebcc337bbd7bc83802768eccb2adb6569c628ce8d7cbe90d022534697c86b1d595a1c579e410e548fbb77956746d2aa13aa4c82e5f1b7220257a50e4daab9c19a6364ed8d1b16a371ed490c0baae95e495faeb388ffa51806f1e2e3b6a5f49d3d9c743eea363c56467fcc1c9080d908945001f1db8952c5d6889564e184eb234e243a161d4fa8a47b402c7eb2e356a0041162a58489fdc22751ba8cbb7b2ff18369b2fd4a6106e0b640dbd9afc4fbf8fd7939ec6b0623541f22d0a017ed3a6feb793e905ee961e5cb136938148715377ceab169f2c8f0c26a81e619e8c9819f9665f58635c5caafa2f7c47d0d9cd4a09e0f8d304de7de3cd05e102c269f5b8da0bc959d963c8763da952f89e7bc92557c676e5c8ae8439696cc05c26a5407f2584ce2f5d718bee042dc366f6a1ed6674ca5dd2ae0047081a250ec62e95cc592530e8c616847c9018741176117798e6ae47a4246a1cec38bc8e2d1043e1cfe3d6c5b0fd33a147d8f4ed769e9f36efbad0cd7e84a7dae3538388349ab368a8c1b454e29ca800a85ab04dba418e164586e813d3062c9f3d7153ffdf695a0ff4e5f0882e067e1681eb3369d4daa7eb2114b09c08030793d2fa93f2be23fb46e8cba6eed9b1846d3679256dd24cb66d3d31608b3abb52eb2103109a37066e717678913b0783f50cb1137ee71870f6a613d11a9e0e08aaacb292e3d15ef92c45b3a727481a41aa239343eb2bdc5be27dc3fe1c21f6a2b9bac057a987c34646bef61850a9578b01bc27da916fdcad9a9cf6e1f7852a3e7eb39bf9573d651c291d7618b47b57214e97924257c68851872622e7a41cc40049c59ae92bdbe0a49e1366e1350a3d220604d8dfe8dca30bbfc78b520a0763c6d6fede7cd2520da340aaccdcc4e34053b943d47e6d04ef28fb07a99c72b8b2e9a8d37062ff8fe15934728c4fb33962899916f6abbec6ae4b76a2b9e1cc993bcb9667f6314c9adaa2307e637d91b8208b3f6dd7d9a13ceb3a41f9ee987120cb3cf737a28f060af9d85eae13829c884177b1f0fc4b224aef2a1a17818e053a7d21f8e49b07c9b22c8bc3c107b169a63f0480b5afb9df405018a577fc52ee985ddaa9ba3ed7026ec1bb5e9f9a21c9e02dfcd5893b22d15c77aa3dc6dda575082ededbe55e77930ee12949595c460c8da06f2bf5ab5788f4f5e27863cf989c762e0a582b91195a2ff2b8f193f0f090c65869f3189541152a32c9e5d5144d65beb7590f8e6a156de5738470bef99def625059902719c8ff7b51c95f45cea6386ce6a04ce05339c84ff6c4f2c7f0c89cce2d2b84ff1ba83c8db7601631262b21964af1d54f02ca5b320c38d4dc017acd9ec969afbee759da5b2c686b60b690ae93a39fa5ccf1d6ab376971ff3ad70fc7724acee8b4d862c2c6e8e1e9765471909aff1b5f20309963fa27921f87511fc33ece55425ff23630452a5d0b230f3bde15b2e529dc00b0d690ad0310c83b8a11c0a32cf9387ba211214b2529ee2c0ee16c2569590bb315119099f52e515c2f685bb7d02d1674151ef4f153e71bba031a2c13f4165d4d01ab396001b04a762e4ffd130440df7bc6fcf8aa62641a2049210851b85f19c92e4265fcd85bfb0535df8580b91999f0055da687b9660de5e1f4ed2dceb3db9b12fa4ce1e5f7b62dec813c24f5f2670bffe7bbd9db475649f533cd84f59746537f1897183fbf7c593998d3ebe7d50e5337c7f6be1e7ced5ea06b837af8f940969ae7b5f4a1eaea190c28f1a2d9ed7c8b9264ba556485fbb779ec713bbcc091d5b9a20e8bf5f44f0941c03f1f1ae488f386179f3e334f049b063f668cf6b7104f5abef78f234b43afc2eab9c0c2c10bd08b12d36c8f243745aa639c359fceddd6dba29f13c326c0e67796948778aeb54abc0dffa21ad753030c61c8fc9ed0700095338d57ef35f94c189f964e565e039dc0b23d320b262a6d0d531d5b4c643adc52980a097ffc41daef886230c732c743f31bad0cc2e08fc946a237055952923079ce37841bace12c850797e5d50335b3c205e9d0b624177872cd3869a8b843ef6c7a87fb1c50e8bc82023c34c0c9f6ff8a78716aa7bfdfecef4f7baad89a18432ced5be0ee7dcdc18fc96cc593a4d2821655a645ba213b332954a3b5715bd6996ae64ec3b2fcbcea77338b28c531f4a31dbfcf11f34709e2a2f5f47319f7f8e56107bd827b73d086a02cd789d65be461dd8178257b444a7a077ce245f10304c4dc388d58f76341129a480f18e2ea9f02fd01250f41936","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e2468ae4da1f00a5f24932712ab58fc4"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
