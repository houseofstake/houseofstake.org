<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"26f6d79de3e75018b75310dcb89fe18e1bbec15b1ebf9a493f002810d3881d36bcebbd5070f6dea6d595a52c4b5a8e4273fdf538260767e5ae0213fd4de369cf858171f775ab8e98d81d40ed1f7980b368575cd72388fc3fe370cde68a1a92e2e338fb867fce470a547144207cc5ef608ef0d61b67597b60b6c0d285e216ee764c13743b9d472051c085d46fb7fc1fac6080c6f9f9cc6f7273d4fa19b370881e766354e1fc2bb7eb128a4611f93979893fffc78f0f11cfacc24c40b65e8609591a3ef0f950c8b1ffe134a50c1df9d40b8af4afe91d87ecacdae93e4159401dc36d2ff050e8771fa04fa171497284ce12cf89291d2ba41da19722d58cd057680e5ed091a5ea150b318202b30f6dc371608dab471ebfcd2c9b63a71985f08f40c16167309a551520df98f95c4261c2f5f428766fa15417a536771ff4d6e13798c3e3da7d2d76f1e42c06fe996d5221b0b798ced8ea5dbdc3814d2fae401a96b2662a1265dd7304265cea84d497616cdcaf01a2916bc9c3c727c6046eb9b6ec19fdb449d1e9ef99aeff8689086e5ec0781ad8e8811c56937e57b709fc807be680ffc9301eae5e479d32baeba1590e6066e60cef18ef7dad30821a1fea43ea710461ec0a1077890a5afbf83891add663ae680314bd385a00ea9d02f7d2007ff02b11d1b83f14e88cd3e88b936db0c0a681bfda398f2739853370e1167cd74a07ec6a31345ead1accfd081bd6c3fbc54a5a0a9d5c0229c5d63f5d620085cda9517e13ccb4d1308b07354d7f1ea07581ae06317746bb92de1d8cd1e9e77e3cfee1f1c9f82cb7f0d78ffcf86422c9991d99c3f958a1aae39d1efdbb057f81fa6553888e33f5eda72513560e449891857913295b0eadbc6ef35ac0cf899d9216d70b34d72a9cbd55314d7c8b69084c067f7675551c6a2cbe7e3fd83be3e437425d58bb3152154e756eb313e986072ad31d8f36bc176543593bfc2579571cca11f6718b4491b3dc119a2bffcb8365b3c69d55dcc03c564f46426945a41aa4218fc3e4b04661e51138c1b1a4f051597ed669c819ef59edc48facb5b47b483c253f58c33cb22a08bbe622abb4d4fd1922216cc9f95efff1efac30f89876d93175782392161a04118171565afd6c738a449e0b2fa1508a17febf282f39dd1d370063348f62913d4fc406147a3f9a817b758589961b48b992e97ee6de60aa563db55be02a8b86182a34f67da320d9713c4989a54014654b2a3592739a82d49774b6237c3373ecad70e18c45ca61b62617038d022ecdc878279a565059c7a06a40f2aec206067d4c0d7005b6159c66913138d976eb61ff8114e7880379977fc99eef425e1a22b66351e947c6f071591cd3d26609d501347acb3345d0361b2f0b13ac9bded5bd879fdca6ce853197c60fcea9d4816daa2a0cbdcacde3162305dfff0aaf0c4068e896be43c021f22550df2440f0538a1966c3abfea5ba1a6b70d16505fefb6e84a3948b47218c9334b3b93670cba987fee0487e66656cfcdd6d73c53a00f1ba67292a9f9b99aa25bc02b5a001a14611807e42c307c95259248050a04f9f3aa8ad79cb81f7b1941c21e2f2cb0f55155f84bd7feffb0bead056ad45e7761ce4cea495a2f9f19edea414168a3c25918840973190b096885b3c922026198bed285325d34ff57cec1ed98faad94fec1fa1b513537e42af85394a3818ea84750a4fd4cce5aa4ff82c62122c8092781f6f27733a639cafab61c1e711c3772e5127fe949b5ce375612ca86c906b09d1b990190f80010c38eea89400259a379f869ce73f0df8e1a43b706056ef0e93e925c37fe076c01edbcb04bff0fb549a741c4f89984b75741b0877b54a5285b26823778ab13900f35201d06821b796d9fac98398de26d0f719ed341f0375ce98b16d7bd4df05d01954656f4bc85c79255418a5b932d1a2b3827fff0cfab56e8ea82eb021cf49977107e749a2ff092c3e6810858770c1299ac4c5fb2ed21fd9efcad111f4250c627e4b88d7338e3f2ceb3ffd0a9317cba5f59e8affebb08675beae6386717916df3c6916eb0e69ddbfd6e9a877fca6be09c5b40de2a1ad00c45b2b0cae149f0e02b2d62bbc35c3796652d0fb6183f402a44facdf70fd9486607024091d5c891a43b924fdc8354ceb51c31c29edfa9907769d4834252a4aea9b522563e6b34b3823be86bbfd83e74d2c4ae31b2157e303f2b504d08bd0cb5df3cd0121d323809e995771a3ad02b7fb4da849391db12683fb57e3c509c92c906324ea63f874ee51bf9c130b012e7cef4ffdccc23346be5cea3e94302818adba27215cff4f20e88efd6ad2e1888d8a0fd001091f4cc26b2c35059137651f1df96f486370a7fade6198df0e3eba52225cce16f9129cce72d6466a5a93be63a6936ddb64c9514a8214f60045940f78ee12a6724652e157905890ee781beaa2b4ca24d9e49c1599e19f72a4f50e265db72a04d53cd32b09693138bebcb7752b49415bd80a7fe0d04c50439f75159a541b962216288f895c72dde9b97fd405f5952f1feda6cc686f6364fed4f16dc57d125e21bbd47d6711fd4b91fa2b9da82b6566e16de26608df6a861a1162e78abdc033056060d2941db9b4bcf65b489345892f6b124df8e1d29bb1fe10a8b18ffea695e318b2fcdc55a4d07f1e8328fcc4b76a5edd0db81cbaa4db980cd0ce8c63cb8c023edfa8513ca653cb34f340132faae99db86553a34f2d79d52fec793e78ac99bb7271a946396111a3fd59bfca237d3156383433933b5ea150a3a78c07da861d347ed6e7752e37604bcdaf7b0b276f381357958ff447abb7f5a9485507e4969769d77c60b03acff9a049b3bc72d9d7689c3493d7eb51b4bfadfec26ffdea4729193fd9df6d6b6a2c1c732a0a3d01183d0005c30cced57397ea1e271a5839b5af3b4007883c880cc38e7d57a37ac002ccfe11a908af18036b97eaec886c2ce259dc0adbcabc0c3c181152ec0e4f68baf8a731dc6fbb73ef66942a1d11d70e7f33325fa5c61e18918d744391b7021f1c415f9b48d42da0eebd6863309bf62f285e9269607c7685ee8439a00760747106e71a23777cd8ffe48c1a28729b5ee52825a268af24fee2fafef44c59396ea18b005d5fdbbc491b6adc082bb577c50a8853da35eedcc1925253cac45cc7ff37f43e35fbb6abe6560f45cca7d0398237622e9ec8bf07d1596d5594ea504b428bafd1a1a10238e930ba12d2e7416604570cd8e47fc85040835752b996081e8841ea1a4e78be200741dd196ffa7b109137e46b552c38f21feb59562bf6b5d19c2a2ed90cd4221cf2ae006cfb9cd40dfb6e51df182e7e105aae6269b3b31c9389ee0e55a4b8fb797047a36003eba3a42fa5df54293389d81013caec96c5f28893855d4767dfa8104a02861857604b40010f909df7c084a96a6e176f6b31c0d3f583ac972f58d56f26810071d13fd5e2ea2eaec7c54a1a8b9a738d750b8b4810a5ea79ba365405cb85283d54cacc8d5adfc80af058e092aa164c1d9039140bc88db5654e1f2e1c9b201e756c31f88b7962adb6a126b5a9808d4646a763c53ccd9145e764ee7b638b40a965c3eba30b173b7c28e225bdccac37960f056ef60c7ecd8508761ae80da1588768821ee06c9735f080bc833be1935c734ffeae290d0e6ce88564a68f8a6b47b63cda1927c28ab1018723ed2d388656e12f218218dabff6ed3328180186dfd6cba143cbf1d97550a2313f1c077a27acbedaad24ca16b3fe0d881e949b987de03f3e1b385d34ec569e8d57fa0801c6ea6d28c3ca7ce9200aae34bf3f1b1e13dc4ed8e5783131c2c0707fbb9585b8feb153df923d5dec480473f50346d48fa0ecd788a9754f2b76167acc86de928919fdaa7ea9129058448ea0b74778fbabddebc2f05609b2fc565d9b05ec0dd3e88ece5eff97c4ed26336fe3b040eaff168145ed432a69388fea6ca466592ac81efce0a2238b3623068c0ff4d1b2259a2c004a00025dc710943cddb64bb7386a1493a22823a4361d8c4b1aefd4bd346f7d4ed5e260da44ee7f0bcf38a0c659efad37d01dc08487769bc9344c7af40e4c3daefb64d579a48e8bf4f84426e74460d8dff3458f5cb3af0471e0c3467817a133b62e23634f2f16070d348c31f416598482962a21572c3238fa3ea36831b34a0b1af877bbe294a70fb57dc3520ddb349b3cdf92013df504039896cd2c90f525e25aa7e4b1eb45b2d2905984880defa2c5b274b68ceef3c4a2cd68906dcdc849fda982290f2143516f2d41dd796d9508f35953d373986f539f623cc5e456727f0ba4fd126397224b5d350c5cd4251d37ee8dea12de2416bc3546616aba07fc3bc84017078a489b3fddd6e58d46593667a51ad2116afcbf5f3fc83083196e9564c064f1a0ff58a2b404dba56790fa89d491e7e247618f3930e87fe00b9097b2e7e7fcad4fb0788f6dfefd7e35fd97e49dcf0f26d242ca583c2150971ddbd6a7e2d88e08047abf2a050969ae7f98775386ee8cca8f96bdb86bd58b44ca1de0b16455cb30cb92003b01c2eaf77a88761dc2080af52cba42a010f02efb5028d4f928ba0de61d22ac22b282e9ce2e940db607f089ce61133dc87beb70b5962c3c14ef93589502253210ed98cd38e4d003134b4352b293fa4fa2c880123f042361ef79e44759c95dd2cb1c113adc0c69d09bc72f77e66b2c2135bfab87beda8c84e73e8a79ddee402a99457a5e193b4566a6ed8d96f970addc8f820305202facdc4155bdfa49994d5998076d1ef9ca3cd787ab2b1135228089edd2f20a92dc04fc31197e83feb271f9cbe461c2f80d18f2507de764e8de97bda0b6c90351647c80f3697c4ab8100a38155daea266920f5b2adce033f03ecfc03ab56ad87ac8dec2a5b6bb72481c807f45e3a813d421ea7b2599f3d1882f0e1c5e53eb4e2855be77ec340a3b579d9630b6a937a4a3b716d878d29ae5e24788cd121eb2055d301bd1f55a3f783a0ad0d7af81a8861fe7c3555a2b9af3a1b8e625e76795fe623d40890514e1d4aa9d8b2b0d991052bc8898d2c94b5ee708777769319399bb2abaf66e46268f8c8c23482a5ccf07df3236a3d5841bf873362b1e0d1073655291f2c69fba0fadb2f401717bde97c9452f2718d8e25838d8c8c90fa5f7c588e5c4dbda43fd8e63cd4eeeac41d2345ee9a1b7146586cb4393abab22833cee87fed17baeff1a21a2d3a5f2e7639962bd2eabc257611ba0ff731f5b1913de2468b7462d5fdd6ba6f6d43387d872d9582be7aed88855c036383966c8bd0fb0ac2e461098175aa234a407cc6227768176b2e3d9447de04d06f9510778154257f893a267979276a010a2e3a1656e44fd901b0ee30ddc8df117b202e23f9d44973eb1259bea6defe1c4c6ff4d5430355202ceb153832be8baae4f6f8a3b60cebd072be695a89cccbe08781253f855bcddff1848eeb421f2212b4e95239886910eba2d674e5a3897cfd450f41252aaf9fe92eac665c8b929a8df6831182f12c4dc8c908d33c30c1450adb3707cad66a29882038c9e38eb909b4b2ad004d64242df8b0345e4bc4b051de9a98179beaf4a9eee1557402b440910e3ab5c9a417e9a26d07647607ed6416da8421780cc3169d5c38152b557fd7118401c92c56fe31aecde8bef2cb42cce31598049635bdafecc86f7de33e722811a5afcbfb535d9c1af0df3dc313da83882c4978662d27bc09ef15a19c61cb77004db4e2a7f44f11cec5a53939212bf3d4c4ca6911c2bc87534a824f1eb801f2281b15ef17126fc9b6c7b0437d08f89e3fd6d741eccf4019b160fb9b212bc422d37f8682ea5a9abc9891384e4c3528707860dcf562a7ecf0d1b1d09a816d449d434259bceb3abd1873d33324f4c03e6be864730a0fe7940f3c0c0be8dfadc4f1a60634bad0b195462cfd2f36196de7e45f5153d71ed82f08de396f9e0b4916b77b74dfb248932264646f55b43c12075e2f5406493254d703d33d97683a4cf3caf9e4ba14f1a746a8c641bfbd130cae8e0bf8b4235b807e61c3e16f23709c35c9a8b1d2a946de6a2c074a05cb625d139d2369c19755f6c84c1a94203bb6497ae735782a23934b5da7e0c598a0f5193e4b51d61e8b91b95954a345fbb691d000fdebe3d8db836fa6b24bad000233449f490ab3a7ee1f8336336df177fa677664d93f092e7e712a72812af1848d817ccc85b0c4e8d35f9462d73ce212832022f26fe31533fb3b71393874a9bdc941f05f9bf5f44a6d7aacf30132b91f60346936977fc9d3af2b0e12a209525f0a1244dc0c6f7e1df9b6d779f0b9ac16253d9199491dac7f37ef69860374af4b81ffdc53a15c6ad93b6d5b946d7ea9571ef2e5637af356f90508b7aa9c62ec2171a845cbab25d724ff8747e8144b31bc666f03439370e8b3fb437d13f1018b0996f7777382e29ff69b9a9ec5fa41a21eac2a352259de803542f197642003eb407c0e6a3d9df83f57a40ad7cd49cb76fe7a5def9d8b6414a02c1e255848d4472a296f440fbfc0f5454249f12ddd4308a75392cc837deff1341f0517a9eaf9d9c16da1230a01c764cc3ea1aba46d04c0f0ffce46462af19ed6c70da01e6ca73a4adcfe215edd47f7c553d863e885a906ee555e348157d052aa23b8e62df11b8cf73018c9ae2045cf9266e126070713d26c5b919eb0407d2ca9f7e0fe0c3bac6987fd9e375888e26ab1db7a31b966a19e807bd5872a2276780ef6553e841f8d3b74997a60bff9be1c74216feb9c10b8f973127086d1aec6113af9c497f776d92f04c8877237528050d3f34fbe1729372a8532b1c2c58f1928dccf38020a45f4aa83232c6ec75da1a7ebba0574784408e63fd6fd19ff9f820271068f9dd198e9cdc5ea227075197ab0944b94293f79828932a3f42627fa5f6294766f40919d192b3e5bb8f02c0824ad7fee3e542d568c2bb099736cb6615b1ce5a795147444774d63225294c262ed373108de62843c72b2e5f36fc7831898a96d5d45820f80f39e0221ff2d2e11205570cbc44a43ee3c4ad7bba097a770a2c7133df37e03440eac34ac20a786e9a8a5dd0b8aa95dc0f4d60616cba907a6610fbac6d0d2d348e080cf69a37b61caeef06f92666cf19fa74757d968b00e162c193b76e8f3d7f5cb939020ef1f5285b1b3d11365fa56c909352587cfab9bb82f197926b4b5a6eb897b966e3cb63061c7630bf909908c293dcc33f69835c459fbf27cafbb26a9735ef6ac04c237afe9add95a74f88edb23bd16c58a1c76ef93111a269782521ebca027222200908b3cb748716ba25dd23090cebe5913ca9873535cb76a8dbf74aeaf5b1b940ddb94a2c552d2a7ed3334cc265e6f56e84e26b3e76d87593d75608778d325d146ba5b1327fe51e15e4d13a358b3a1e2a47bb2bb283bf1bd2d41ed6ec34e9b6e1265d9540666697e5a87f5c7b207b9c138c18e1be8c9d0ed13b28b7d1e7d438a08d7db2369d8e5d296f3e836118e84df249a1c4075b771e5daf2b71b32a2803d0cbe4bd2fdbf0eb55ff5d6151b93f0950ec4325e69af882478012af6b9cbfd68945d9b47e5981c08f96527e64dc9f9ab67aadec42ae38076fbc68878fdf075fe95993963391014ad0cd4b7b462f44bd3b874c654fe2d998584d9e93d3ae593b7c0edc3be21065c09ab942e21d773b7d18657bb6c4ecf53c19830b3a2a03c50aa22b61e47299acec0a0cf761c59a8fa45002245e5722d91742ac960cbc0c022b79a934a124dddbab370a8bd917fdc6a43f5b29b2b8863b684c07aab0c1c8bb8bc8573285858a472041b9ef75fe359ddd107894306c5efb1f4f1f22d42c88272c40f0aa146c904cf8a89d79895ea498794e8d4e33d9dd61fb767f7b247a4d691cd829c867c16eac88e1dd6e2738eb2143e4864a662612edf569e1493262991edd4c7625f3df81a3329c9543b3cf3895deeb2670958e1b383934bff8e501cb5de838d0ca661e2ae2f8d967604d79bb12b1860b929b67d65a94612012d7b83ea0be648f246b82da2cf7df3bde39c6aa3c4b9dced66ac7ee1d3b9ab061ac9416a7f6a72ce6709e23530a2f618a500c1085e915ca3bbe6c5ab62fea15eba70901b302189ff01e71dde37593f3f495bd74a3f3df7fe51901a5a11a8c49e8108b4b5472d1a1e656cd1ed636e96e589b4bb8f83a06308b50a653c54b20598ff41c593a6615416127563bc5e5d67793c40daf45b7cb6180922da5dd08b484766cc4f2eebf3bf1db7397ac8c0efbfbeadb429a7d2963cbb8c69096f5ce73f834ebf4a4d2d8c540f61a694f7b9ac208a9ecff23dbb98c9e07012006bf0e6048330eca471e69f19fabc73a8a84d66634af2852f6db28c00cdadd256deff9e6cf065e83735082c1a9b837628a39f5877556a0e6c43972eb4682c6eab187eac749bd4200aa0b2fa13beeba05dcac999909fda21396dbb0a3c4c6ddab26e65ed6633ab961f25ea243f9fb463b1f40f75c2326195b9021676c3b1b56b263a1f6b9b68dfdd945a876e299bc8a9ec2714b7136e00476cfd25eac7cf5afea5efce0090cffff4ecd6ef5576e1099fb57214564e709a53a05540c0b98aa1638c5aff25183d402738f3ab4662a7292464e524cf792f78664d703f07d89b4475f11565f622467bf40be707549fe7d9d60190e49fd0268770d2213d21e100eab97ae9cbd3316797bb10efb2b3d01be1f3c04395c66a299ae632eea3af44f449d0d6a8c54a7a83c16478cbdd0f9db63810236a13a0c13f5c1a6cd732b76fba0afc008e192160d54ede28021bb4b956ae2975c34e00bb3d369d3486c1b3808cec64ca27070fb2f28530e8119801cfc45c4fcfa0f40880f25acd28574e646ef7eb96dea2ab8fe9ac045c83b8b343d0974c89d9c176b8e9f371f72edbdafbc453b55b99751d6359b621bc4cd368495ace766c1031f1cc88bea88c4826b06a1a94e4319f7f1accf9d56ff040a12fe98f8f8f2f35e093e8fd37d7f1c1cf36e910d41128cc0ee7e74489f59d5cb458378b1d0a5504b8df81c343360005c74c7eadf5d507e1f36717cb0fd54604231d1ee0a7ec90320defae1e7866dda780669f2f7640094c37914921ce835a088ce1b27083b0b6e483ba3852c9129dc5b80772b2cbc5d70884febe323383b115629fffc5aed04935904a65d9210529507361b03697ed7208375d0aa16f29624ff3ee23d5690592b1d48244748b89ccfc5156d49c9f76487c72cefec59a30ca0572af6c8c6fc9afb675acba34126b4dc9030ef7d511f9193a02b279e238d3ad2827774d6903af30e62f33c6fe046049f0903156cb8e6e623093259da9132fd93d6d6927ad9d70f921c96c2f43bd7891e922aaf01debfef9b78b20cd2413d78539b57976a68fb77a6197ca8eaf0cea8a98f4da62bccdd4bd3e8035b761c3871af1b3747c5d8b2045b9ed01cfda21ead9ec28d543dc6b9272490a2f7aeea48f6d24cc69d9adcd3916e5565310fca8af4abde24786cc7341faa3d7fc3319caa0b7a4ce001f2cb3ef6e01808a14900fb44d264f3206186a91799dfb3eb444e944d3e363b2e1675f6b8c63204e17aa0a909c733c5f643ea793f7053480ae58d3c5e4d635aa7ea7306a1cc465bb89f3d0f742bd1a97db3825213bbba6e0c408d586792f89353473a1cc5964376d1e8276e82740c75d0cad03c0230759be8ab019ad330934a5897b9b0864397b529a837a52ec00a2acac47c4b939ae650bcf272ce010ffa1477ed2864760ce62d3abed3b74b00a38a1f736569bb1c0052b8237d89c9d7206fe4ed8e7b8e45141ee72361f2d3d4b97b067a11faf645b0c053848805dbb3bd769299b5a63f247ae5af1469e21b7f0513ac1b1e33b0f3f6914dd77192f74eb5701385a03ba80ad1517ab9eafdf6e71deee9eed5f76adae7ecffce92e11872a6424d3df33a273060fede85670291ccd2a57ea4787a63b342addc9a89f84a06e25eb0fe0f035d970d662918fdf011a10f40076af9fb1e7d64da2b25824f9cbc58ea837d9bc994db8b317353f731af4655b5ff3e3db5a4f671851bcadf62e3c879cd184f50d5754a5f29a29876bde999becba0f337ea20785199297dfdb90f2f5b262879d82d4474912240c2c7f8be20056cef1525a8c04977f37529218f3ba2f1006563388ea6f7d03f6e0101c7ccd04cd041b2ad2a97cf2f2405b870f51817cebd198262810dc358c7aa0eb6c403e6b02a6465b8efacc7ff2b2f7e72c0e6ddf95e6818cd2f003947a740e2fd18eed95a7a3c411cd80697f4582c691ff455f8ad222a9df4bf207c893bfb7c3a78c3417c550a500ee7857064c1de5d8a0cd853368aca16bdefc92fe0ae7e7e6189bb0bb7414542025c9b11f27c659b338e0f7f6c15dcc476480f4f54556087b6f5024563c30b594b74ea6b9dba03351540d32fb74b98ba6c1e676246f54bc2fd391e2d01b8ce6ba11112e175924c639e9b69c910d61f37efc69f7b75438b0d9cb57a7a939067481fd50cbff0f38dc1472b0194e861d585c677a0b8ed2dc18cc59aea2d63ac71f413011556a2e2824ba74a29844d469355f90852279994c5485021fae040d464eead78b3b55cb8927c93944c530380198f5060cbfb87147028617c923344f37dcac0f1cea41242b602a73356d5a45fd52a0252bf59095d3e7d910a9a7d5b53a9c9225e3204ff82a4f91c02dfd5c7276d97d18bd929abac31f4f7e0fda52b4bec71c292dc001960b26b5cfb751709927bc0374013dab496ce2511b5da19e5c5535547ac79d92190e5f6c0baee44fa3011c39c8098f1fcc3ba929b21430a364ac4e634b69138986896ec59a439992e87a92cfb9bf187df6d3e211a1ea137f33c30a385dbf070116d87d9201d75e3906aa9d86915f2ae21f51a25629192f54c7b814339bc133f874f2ab2828b477c559f725921ed9ce57d3dfc8439f1f9d6bb1bf38d11bad18008e08a53a6884160b946c77af05d8882004f31efba61d0ca121437333bdd804bf5deb69de6e2476419f71805a564a2e53eea20711278a129356c2af521f945de21237ac1ca70b77cc9df2f372adb4ce618a89a99018a562d9c72ebdc3794004a535d9fe2f896b93763a7039934b05aee644a395db14475d908054d5defd5be929abac126e24a4907bebfa883677a5ee1535b7800dbfbbd73c5113541e3bb3bbb349af8955e174b6e686e65f24e4edde950b820334849624cd0fcfdd0560a62c79bc864d8eafc7db0feb8d600c8f14f8cb914c0b2844e23d101cbbcf187716729a8e106c84138b862ad2146eb789c5662fcdaf258b0f39cef52660769ce44e652c3a99095978082d2ce05144202e925ee29aeae77a73777e4c1af5824a2de417fd72f66ade36b9bbf17fe624d895995b073fa9a78e54b22d2dc70ddb106ce59642bb6084e976cc4171a62ae5ae2c9ee2d2ae9ae3b634cdfb223612bbe116737e05965c417cd393df59afe06783d1a409cc8865d68333f09ff29b0b0242b2513f1f16316ccb3f8243672a12f0766908bf9eae046f3013ec9db0d3e6fd4b6f9b1d9c53ae410c8d65ff858513696cecc7c39111c70e945503fc6f81bd54fdc0ee2e0e9b6f6ded7bca4552a003a91ee3957241308729b363c4afaca540974dc2fd8ea93c307dcc265e90f9cd9240e685942ae7fb23155048f47c089d9bed6322592d42160d808ad08528eeb97f4929603d23af95d72b1dd177c814fd1521dcc046f5bd5f82850ca23149ab2803fb9e779d74f9a3d27c157199baf287a9d18e9cf55a1fa47db9787849b1780e52361db7cc3d366cbc08504f3da1f2f8e1af2da83317af5afc7851cb41ac4dd38dbcfc3538a3d436b09b0e42f351058517b781af927c794cc2cf6a7b05aafc75148c0e6ab96cbf09002a1fa82cd15985afe983b4ce40260d8f9bdfe0999410cf16db1c154180f7e00acd86db6bda912f1a34b59b91b33ebcaf82674c01dec83dd44df2518b44a98ae0230ca9e30204edb81392bc114ed9135d7d4a6b959921ba4158c7cee8d1760b3178231865fa30e94ade717f6a9b5b8269da41de06e59f3363cb2293d2954d8f12f341ba6ffca5bf01ed1601c2f531a4e52a2255f885295f6a0fe2cba2983e8dc62da1e1735e60fee0814b1455afd9a43758d4431cffcca5fe864e026a2d8a6492f8fc65f6db0ec3d9aeece45ebac0278962fdd107c21a29b2615cfd95721675eee4cee5eb2318f50facb331a5bcb72d24b2167c400515be145c3935644b70e2c7a99e008c241a5aff0855916372c98eaa462046dd9844d7a456b4bce2d4288225b2e4356d42a5eece3c7096637f397ad5fbd3312324448775ac577607c6d656e502acddcc355232fb657228b0c24d367c5e355dd3c3bd4f5b5d2793e66b976943b6ecff00fd1114d52aaa1fcadfedb4bcf6245c3e2b14bc493f3c91a6dfed426b4d77f2c3a2f820be7223a8bd0825a79449aec576a5cd4dbfe10165b82cdda8f37585a97aaece6940943d2348142adbba62f483e8b10ec28331cda70c0bd1cc74a84eca9f4308d9514c4d0846c52d77371a6138c7b95cf71a0c4256b9db10d3bacdd6e3e81d2862c3e997edb606a150fdf884379db8b0613bc63c1f692bfb29812f3dd3749a9280881d8e87be77044ccce8a825def09157c9c0fe9ad4da0b6c2dad573735a14d13ba972d204b5156681561f560931b7d9a76d13c5ee9aa9afca6a8bffbd2781437a4a36f5879e79de642b723945922a275f150885b770cf5aa09a17d35fc68264c7c23141f99b9e099379abc71a766097da9ce7d45e6a776c83cad71227bad6a5961e53e0939542ef0a5db3a41af13f850d3e1a224984fb7d07a5b4ce870748cd4401ffa4ce8e8220d676bc0a58d870793b8b60f85f8e9f96efd7107c16e2b2044c46304dcca864f1b699e780636f1053336e5eee04386848796188eadd1756a42c82d5d78f831d36c22bb9f5359cd7018ad7f897ad7229d0f30be94beea57c170d6decb4316e079ed151c7346111d1cb64b1facc8582838e68faa56f42ffcc8308189921403495c94deb045bb60e6e54c22b81d4fc49ad62163c68f41c3bdd9a22f689bc3e3e83b9f617381381ae595eb629b2c840c88ba10a230a64e1312fa712397683decb012c15764f440929747b5515673bcda7dcd088efdd6022afeb344604dc29d773b94cf730d14ffc502fa6a056d853b2abf3774705ea4667a9df379229be62d637ea31f0b39b70eec5ea211eab17e4239330cb87d240d37463b148b941cd44f512596ea54d34171f1b09ed73a795afadc19d750b3ec953d16268675f7844b266c14103ff9c8a988ef027ddcd0cdc4960b392fab0b0bbb5f54a91ea4754e7292d8bc126511801a1dfcf295378cc428d20924b1842528bc317c886b7ed195b0e17a3c0b468dc30dd28e3fc7b8ccc362b9411b8fc4c8818f1028b0dff23f4a937e671b67fa533f04f5df0450f8009b8db000de88f4875c0e09435e62c37b6b9a9b68e508495b1d3443589cc967b3701c42698b05de1ef5ed40b2d6f3ad062ad5765def50c6d44ae3fb0e3b30095b8bec323f3b5737ef1ffb61e550bb88937a0b531aae69f58421a9f50994554fc8e94c1032df236595f52b22adebb44d13f1e205cc7acb7b6a062ae2385a815dd23f03308c28c6dfbf2e41c01dadc6d2c993cfccfd0563c497b2fdac10e7f1f7530db7275bbd1d7e4209126b3a0f47ece58a00909c19eb62623f6b2b3f06a86a26f01427a23213ec328c33d96a3582bf6da25f24ece2eafc5d67e93bb2cc88274255b6be5d1c8185410e4ab49358c412bc93d86ab1f090d3c1dccf4e90a3b2d75eae4b2ac4d7259f7e2c0c4ae08cd244a11c692832ffa9a32adcc45e838952aa8a2ee68793b028c53c809267b2024ab48a72dec9f9faddedd9d5256a031caec4fd574d48c5d8530dec7c913712625521111e724c37239a6c4344481959dd8035969f5f20a20c0cb8aafb0399ca6937639f7c3f85bafca5a29db46bb5b17ddd267df9f22fd0311e5d459598e057d337fbdffb8722ce14fbd087fb7ca3386d1490fa08e33bade3908f194075d0b67034f7a6509ebf3e1c6fa44f45095ec5f6ac85cf3e3c4543f594cf20c954e772e343a723b9a8cbc7fe0fbd5951f37e8465ad9f5b1f69746d635566538a0dc7edfdba10e8668e6e9e36e8fb787f88d4991a1a96933d4d85d97ee72936e52b8df4c34a21bdb901524e1b34330357566020c140fd499251df31125e65ca787fcd577acf6c6fcdb9f7691f8e790393ef6f0fc00665b0d57c7d8849e98767800e190a773df866c0e92ee1ffa261fa5d1a7512d640587678f91f595a9db3fd09c9416006dfc07ebcc3ad8e5340a6abba7b9a213f51dbdae3cd12a0cd50bd751dd3d1fc682d3784cdae1516202c3d8a33c1dd274eb1cdf5741d724edf65976072887bfd0242e4d0dd6eedf95518b3e12cb4a3d4878489c7746d139c4a9b830eae5de0da1d649aa3b8f5f5d48044a507ff4770988d89d196186498dc537f1b14b29582b55d6329da6d2430875efcd7cf7b8c1bf7a9112cd33b8de6d884a5daef73a5c509625382ca5c317a7dc7f19504bc5a151a30aa04e4fda4eb3ae0838d24a28f8854a7a9460354b093b34c4a3aaf55c2b0979cabc297f8ff6de93a567bf58318d184d58ea5a44c4d2862456dd2a6d4c38cdd955b87bc6eb0df75567ce2a4a00fb4085a12c0f8a93ec2641c547b000ac451dfc51328da40d91b3c6f4d68a45e4ea03eb40e2bf1c37b63b7cb8717a5f4a7296ad31a2f18ad4feeecff242dbe3294f4a65f97bbe7e8535fa6ab6ad93d850a9a8c846bb2aaaa4a34ccafbbfe18c405eacfdac6b73383e1734ef05b50ca6536a7f6cc351312530b88d27f88f9e8770aeea86d97d87b76b5904aa261cb19d9e604ca2d5260189d5cf4162bb047ecac8953c0d2d61e6749c902c4b5dbc67c2e2e6532c5e85eb2e07ab44ee7b1356341cc6663d1f226ebe7167ba346e9d029e1e5861e864debf3b5c4216f08bb310ea4785900dce399892c52ef12a4ef192dd3bb556cc9c3b039f2ca7626fde4145e44d6adbfa124ea1bca9448908c19762c96f427988d5f54b61898fba1c9eee29b40cf1f1b7bd0854f6b87efb5900d509f0b0bbeec3b240efd2a8917f92bb0ea117e2e590b31463aeaa7a6e205961da731ff4274e62e7e84b22de3ab4347bf6a202eac9d420aa47ca64523c77237654357258c604f512b6b3b28058a00fa36a5481d8dae40de5e74191ff263eb27967b4e4743d1295a0e0eabdc3c61db4c18b145f41bfef8d0301d66b49b699a50e5e5a31dd0a8810354cd7e5b5da9a06f0058d98f358996153af523923bf2dd6c26ade28485205eec7755eda3993606b3b7fe9b652ae46586e470d018fc059166dcd89e1ec348359d8e14758a9565d4333ae5d4c80c860000f03b7f16815af22647d9ef84939722430d939dfd77a5b68c97ed51d6d0b283a69f63e23cadc80a51492431142b0e744f9d9a18d34e3de1f3723c3dfaf311fbfab7a52869f7a959a5e20600409b3f7677f67730a325a9364b0504ff6e6ecd7a85b229160626a63d39c5a68d7c358210dbe0d501b783ef5df5efe5dd617318fb4bfa1056ea9eb467891dcac8b82586dea55295169637f10b7c4fa904c7cf15e5ef091b8d03e8d01848baf691615edf1bad64d24086d0478f9d8871215bd966eff025eeef3150f020b0d07e85c09eb87f438b6d8cbaa4096a7f80a35ec9d07c7f97a79eda159bf92274deb7e729c257194c955e4c41bfff83f643199d2640c9759c143ff187bf3f2db9371052d0f3f5b018c9ffcc49aae83600ed015e06277e806c32c1879b1dd5927e77a10a7bddf8538b2164f6f506ca600ac7a857180cd51ded80ce0770febd536c402ffe989469684dca2b950d5aca3554d3dcb4b6b07e586f27dad28d54ad04678f7275b1dfb167d2b91601928438c2aff69d9aec839f046efb3a5624f5b40073879a78e1294290adba3469aa0ecd71d27fc69463c91726082fa9f36a4a88d0f6a40176197d83c77bc3e38cf8b762001a167469d2e3c59be25a2251663f58ec35560b4f727480bcf141d7cb95321fedd38131249277938c151e267c50646dc1eb6e3dc3902e3916fb8ba8d57b0e4af794a954239bf0755868ba5190820d5f0c51857e91371fe47b54e80c526d0109b4121be50506db718930b5b667d9e8ae1dbf7687c75b741944435fcc8bc210f0df195114b88c3ab0bae023491297f229afbf1fd470f859fa51cbb760f45ef549d539d96cf4fe6e1e5ac6a9ccc33e5514d02649f99ba5f9c11e20bfbd6ab823289c70232100a13f8b539b8a643b5d3db552b8df02a448ccc6bd8093d76eba766d5e2b167fda68bc352844944e32f7277a2a87367e268f270e2dc893371a12a0a40a18abb725a58c5a8f55d76d920b4b07795a75d3a324cd064f616908e7082aaaf0b1e0ab588128f75c65a48625ff22ecdc4c25d706c68e9c1ecc637e3c6a7a13682511a72d7c693ea3e702a2d82e9b566c66842c3f6158e039896decf4385505ec687fa88d59c075e2f47ba476ae02cc35193b31355fba0ba904566008272f7f092f4318e44a0e93553df86ebef0d68b1a70dc8b55a215a62032b749921fbc7875e2ddf402f37595aedd8b30ee1f6ee1c5e27cdd79e5c2e84ea5b58e09fdab971fc9911d298dd927dfdc13eb4b924662ce56b26bd6cae52077b0a52a2c8309036d0c30a75c862fd38b93a9193cb1b1b84f557c8c1e382aabaaca5324528516a41aec070ac92d23ed5950d71e5681740c6b26be1047d5ad5b6a83fe5679a6d804f6c3d3168de70537749bd9b1ff5df97ad0a810cd028bd784b4d4114b3554e4bdf738804c58770b3446279a4256f54dae45c418f9c0ef3e6848cba5f4aa5b3474b3a704c98b52cd0ee1baaa4b179cf20859af92cafa53b304b703de3219e5de3bcb102581d404ff0754aa6f21a48b1a7f7a5881e8b7bb747647d90603d7847f1a801ddc1645bfb24ac668c4c2317a3bd23455ee35ccc4ebe26fe8335073145b753ce1abbe30260999c811d4e4833a30a437d173ce1d94f6b467c1c1c374c697856bdea1843fbe3b8fb57f2918eec0c2a2a063c03b0947198c609276d08a130882247e40aefe652b0627674c2625f9853199dd1de559a0e90aa155fcec3b87ec64788e99e100bdaa274fde917d2c9c0098dc78b8d57e67ff712ac5485c6ce5a2c9c59b6a5bcd97e7d14f67bf906384b786e0ebd5632a12547d546c6040156279b36a8e84b6b8f607cdb9b5218374a69d9468f2f3f48a2f7df6ffd238a692eb7100d43eaf2fe209fe86a4be2279760daab3632a88605cbf7c9c2a22ce943f0f614e03b6a597d1a4957fb6ebcd64f4a78f60346ddc2e9e9f2cabc87c6ab560a5af277d8c4b7bccc673514ca06f1ed7087cbdf33d25cc1f311a1afac0115ac97bcaff8ed849207948163633b18e25a26eca4cfc254510ccdacc497f1f55d87985afb973cdfbe9881cdfce3f22977cde1fa0d0d6f4d764907c5401f44a1722d45f2fdf4c4ebede5db94105c807cedd4ab4a39bdc819759e5c92237e322c5dcbadbe6eefe32e8e09b9f2dc1252da4ccd24f0f600cd915ba028390428cec040c4ca5e7c5eb3b1b7d152f1b7bf1a271adc57f6ba4addd61ba9a69b1dcbda91463bda8b3277dd2ddc1833441d9b8c8af7aebbc7110fc0c0f6b96c98c5a3053513f084004372079bb0e528594f5921bee03e970b9f7e52bad7b5ce833d0cdaee1685f4390f9cda81eabfdfe400c66d2a983ac90a75eb3c684c8293da83c426c588d6f84adf2c6b75b7255e4441e6f9d81d144b30ec589200f52c911cac7ef09d4019e5aef9cea9e76ebd54f11619ea20c75bee5d230130ccc179c3a995739ae6800b7da1f59660b151f45bd171e90afaa9df1d9575846122c17cee0415ad4b3f2776826c4302a04d9bec93f4608091452a32a662cf0c455b286c8d2c3d72e73c3887a6d7864fd673c0e16b19ebefc8e0df384cb33b3e5b738ad6b7769bfc1ba1dcdc872a6e590a906c76c77458980dbb37268e03e138dc688cb329dc1d2048be98d918e212e229f3f4183ed20358e9f473b4a1956371255029129bb2b8d8222f03632ec941de9025af4aad2d8eda1d736f388a110334aa2d68de6ac05b3075f86d6c359b22f551d53b285770a7a9ba89a24d2127deecea259320be10bffc4ec2dcdbde8aa91da432ecca72aded5befbb7189f60227dfc1f2b2cfabce8b60f5c21dee229a87c95cd090ba531237d327a8f0a14aca4084e463eb3ab6a5db1895212a88631bc39b7947de2d83237a4d742ffc7c19562f3c01c64b44ba0da0261c3eeab6612b54153f1ca790eaec0b04e308291b919955617a4f98a960bef28637bd80cb00112d4cea9c697c8b9a5a8caf450f73d5658cdb2f6f482f9ff7449e23e51c9db2798c266e060a4e92302b9ef65d43f1761de57c7a347f9ffe36f66257c8676987c79173c433a420f7e2547c8282125050e0fe4a833917b607f6fd8b9338ae1d77c33a6f715c1b433547840b7f0a2d57ad01078982e7355f697976804de5eaf954fdd0736e0e16e7f40cb4f2b3ba4ee918afb210e1edd336b60b1f94b17ff04c82c625704d7ad64aa68159f2272d5e6251e3100ff8d94cd3c508db33b7362b608e30c83a553cac14951a06e2257ec4f353338472c0d59f255d6974707b93f0842c862f9f4c140d3f021e1453bbf50e8d341451b1fb3bc8dc57c6fd315aaabd9f2631076a94c1d97b7830ef136fe6f63b13a8baae9348e59c3b7dd029c3fdec871f89d7016c901468265d2e947e1ba04655d1865cda251f922a1387bb743f73d906f8f446b22e387e08fdec08bf60628fefad74526599fb65d3744596675d25f45a775260d0dbfc589d52b030e0ae5e3c0509880bfb85e4a514fc9493e336b0e77b644909f708705e33f900c5f70477b839e2bdc76153e19d1579db5fda9832a22491b166fe3e72a37dec154b179f557eff7067e61a8dc2b56dab69ce1c32c1f014f230e1ef2604fe3ef7edf3263f9fb2253cd45311cebf2a829f6fafac0bc003da61f557d893308b62e65570ac77c79d27bb6f87659f312437d4f8e19d74ba3eb21bd73220b866546c1891349088b4448a752eee1f29965d9a24ff4e2303b442f3bfd26133a4721be5e376519dfa5308bd093375a535324a8e40432d641517037911069c0830441e5ea2f013177735b4e7c078d7a2597b5f2e5e6abf7dcfe1e55550b0d2a81c3fc9d03331513d1be5128d10b74a23cf6586ddf9dcd51266d7574bf2c9d3733e178acb7012bbfdca1499e5f16ac080c14399b2be26735f9db505e0b7e7208ebfd40f5395ad41d2b43f274ff10de8ad25f0fe3271d08a2e95eabe0252a1a6bd0462be73f4edc1e6dec577dc25d847926e9b55f0fb6b009f935d040c04c478fb183cc265e24a14fdc56632fac833850e53de53ac7bc0ab50a7a0607af9ec519b1f80e8fbb84fdfe9774bdfea94f4587e9c3c704c59334e3c5a9fa41049c937aef5d93ce2c05c26c4691c05293f190b87cc46dc178e28f1a56a255ac10f1b723488cf3021f7ef2afe91be11e182ec0f6842f68a0f8cc8b922db403c2b95567816073400e29b32abc5009dd0cf85ee78cb31042c409a1390dd64bae6dcebb54e1d2928540e8927f2fceb637545efed6f56d2bf763928e725d3e2445dda6e2d7409421413077f680c3bb8313e6889c515ce894d49a955c70ea671e75a1c95d048143a8c1e9a04e7f886d73a18ce5ecb12c25fab7197288484387dab953d9c53183850b201187092b75276452092b79da5f81e4efdc1c9af957b6c45c7cf32494019713222a10801f6ee3536960116790456cff540a27cdfd58d2d5893afe4fd8b2101218c7f797f97251b68ae02aa9d7acb4d3d85aad7d725d2703a6e985f4c04e5184625751376f1b5bcedc44d58c37b6df8db5eb02ef6849bf8fdbfdbf4e9114b927ffca1cd4a1a1b06b5e1679023f6e4d758a453141970d303e9c3987c1aca93ae70ab140833a964f493d64a725f9bc3a5ccd3752389d18e0028d22cfd790ac367f8e206be44bd729f8db3dba4a3eb933f8636a29875397c76d3016d622b1befed232be80b7ad498553f36377641a572ac0b0b04219989259c01cc05f618f1abf4f3d42be4434d92c12ea6f7e81706e6d4c50502013aca64a60e046cca4cc2d6f0f6774cdef19956847dc43912c2ea8041160f921643a43e5dd524cc976100172598c27fbe87fcc3e507367ea3edfdb226ccf77205bb31e2cc68e9120e2cb62772d267f46731b1edb5626c0e59888b423bfd0ebb08871515b390ccfb7f154d3847603bb0e8d91811fd89c222b3b796d54777cab7da321b16afca26063c2dd94162841e43a1d0d9e676a0a060cf0637b86829fb2e3d4d2502e58e49b8e86a5e9118a0f01ea08ab8241d87fe82a19d7827871cc2d5abdbe7ff659d6396f08d5abe8a1ec4b57f0f22c34214870f5e0c4384b09e63d869c93d3081bffe343db687974413402e8e52bdc80ae8a12684b191dad0841cd232ec8484e5a482395b80990ef621d8a3a960e026e748a00acf06b5db7d7350440efd3d43f6b0de7e693b644fa1099547e4faab2fa788","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5197399655f0ba2e7412d816aca469c2"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
