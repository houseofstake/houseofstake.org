<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"91c70c90e44be866dc5cf12db323da5f73ba3b9aebdf75501abbd6da689aaa7de886dc1eaad47c94ab0080a4982e9c71ff4d0296b2a19e0636cb1820ee8c10b67cc2c333b7ce28d92387d7dba33ae20b080ad9d0ec6e05d314ca6e98dbd06f4221c259c39143b0b64c4a653d4b98ba4c01211ffe965d70cbfa67d7f0553882101ba01fada68ac16ac76ebcd75cbf8cfdfd94d8e230cfee67ce3278188514327bf676b365c7d1f5203bc558b6ce851025e84c8e3007620d6a3531ca045cc70573a428ca66f024b33955c6dc59bcf81f8b1fa87d2fea5c600df87d943d696692aa2afd511dec7e6ad4e42a97b1b299da5e9d4943ae0b506c749204433ca2b8560ff5675ab2b4ff98331db40ad1e02dc766f353b6bf39e7d89fb9156c44766e179d8ce2f2c0369cd42cd926af14b9335edb2dc1cc9b5ec2c35e15444cf3521d3893f738f9edc25b216841bb7433c30e14640034a301dad20af3b5bf8ead574661d8a804c02f427fe9968bb97e30d0d0b5df2c3f99a0fb70e9d925c35364b3acfa607cbb357e522536bb0be39c3fcac6e0cfdfa93fc3830d303725d5792757d78d5e2f50acd11acc290ba36a15c36a57ea77cda4cd8c42a3a3d6dbcf8f9e12efe64e86b0857d65f54a27fed160b4b94994973ef89754fd40d550b20f535ba2f7e8c0901cc48a16e5028d94159598ea06c28445d468ca01766cfa6874faeffc15ac79a1b4d6783150554a09a436ba485cd2cff7ef3d6c17cf0577e7b907d2de6cf0497afbda3db233f6b4bf45605cd28c88dfc8099635e6ecdac5a0b94b180d75378aeaf5e1de588fdfd22f2dca666761ead2f824b6e12058796fcdbacc75ba092c704bfb19678632995e889117b1ef3343de7322a58a0d3764edeea62ba8ea07ed7a71639226961cd40ebc7d787da70eff61b11a2d198779d06c20433068c103278c58e1bb71476be48089cf1bce7819e58f20d25093ddcde3afba3af2f953f70e33a7141f7fb225e0d35a83fc111ff1c5904373ac100e48ee27ffa06d33cad30c6c740974571ccf27ea8d138404561d7bc0af96f6bdab108a78c4d6ce63e4b71cd90e47226a99fae310f835662ba5d9c260469888429a5c2043a089df131f6620deb88c840edc2b09943236874f9c31ddb37e22f54c3f443d8135c05d628f4b0bc76442e910aa78c845f1ca679be5890da1e62a7b8756d6f1258ab4956c478866dab8f2122f4245faddcf1fca3fc868570b39643161702ed80c173b01bd90710ace580d480c30e78124c0419fb1c056db714b53e391259c2878d9e9839c335c1219894b470487edce0a320c4850499fcc08ebe9677ae78fe3a96b9f7cf1649cc5b4360a5c4586ed91fb4e0465ab19f39acba8449abf903c20b330369a08bc0d594b1d38a7950f9398aa1e2fec95c60414e8a0c97c160155457bab2db7de0c8bd2795ac1c426d87aa279ea17394e7462b2da220477e099c97b87475373d277c00d171850df120a261d27540be19b0374e81ec4ea477874c9f7e92354f8e451a9c89c266fa67a5b19b368b35e5f29aeeffbfd41caf45d382489ed268f83530c738622a29ad4e93a8b56f1f2cc83d135e1c54c830b46d731648d06504509d66c71523d1d97f6b429a16b615763d826599f816edfa0a17e0070a875978a13c7d654d47ab74d596e0fdf6f61936da4d11f185a877bf9808c0a331a8bf9a61da8d734d3cdd5394af3a9b733babe60b316904cc61cd82b6be49b22ae5fd1900c6f54fe52344ff60d552076d7182587eec1533f9d534dfb0424a33188c86391f02d34fd135928e68a052447bc53e1e737898c7aa7eea592a180660272c5f769723ae5f0b439cf23e7f787ccac3f9e21f05f2ef10f670d34234344674e894d0141e5a3cb54e86ef9b64d36625e4a42a32966aa8f064c0b59cc1ed83850c9bbddf254181bbe7f03ae765db18f840b08e99655f0cc886b7e8adc8e5fe0d675f37f3a2ab8fd182cb027d4d429a3ee81d68a95e42f8901c56c3ae6fc0670a3bf7635524a7df6bf3cd5dffa0679c21c7598a4d21f21f3bb8fcfadacd5899a4f205122c39b3445bfa449101cb1dd6c4f399e39fc5b160c21fe6a316aa15680128bb613de4f3f62a6e7a724c25e85d238caca5ccd43926b4629b1cc6d7d119d98d3bfd47f321a72fa4c11a2582341a8b97ac356722d8c77b1b95252efbc192e99f1fcfa7d7835d53228ff01e716dbb686dd61d048014dab4e7918927ebf7f7131f15077449fa33a10d84ed467a26462944890f0a7e9581702a387dc23ef4144fc64ae5893360649b63f43d589834fca08a92a64dcd2c98c4b299da2f8fe9ca42157f3a9a497ec80c53b237e81098cd517f95f38372efb445eaa15ec29314f732aadaa9aecbaa3ffbfb17727950fd03ccadf3da3444c70019507e99f14017d76f0b3f9ca43b9a9539159567be68300de0b621cc3072f11cf461288f261dcf563630600344594dcb114c79a77d28bfb3c50a75157b652a06aeb201be1079fdd0fe9667fed384a3e81e603d17996cd46d07f3ef92311d8f56d72fb84381d656005417f7390b50be44f5a368007183fb5fede2d488316674bde7450a3860d76c3d9d8da51050851459b7f872c5fe864a8fe389bb1c3328c111631c43a3ff426ffde72eeaa1c9924312df27d1fc7ea97932f3c3569822b6bb6d259f7e0220df019b9f645a877fecc8d56483f39189eb98b835716597b583833a7c0d0fe42e7083e3ad56f09dc54c1b70cfb3d63d3896e8755dd39438dba9d123bee070da361220e3272bb590c72af2629bd98f5f02e322922c6fd4610f114e71eaed37368fc277769293393fb3d932a65116a754eb0144796ed4bb980942f64c612817d0d572eb0f2a7a9af02a7dacb400886f30392aa17ee17eb849038f0fd7a2f26d94fb61dddbf56229dbf63e612f70e05f08a65279efa7979ecd810d78bdebe47b596b9cdbdf2325ead4022a154aa24e8a62a557c28b813fd99bc75b9c0222c3f789fbd86e05da1612aac061febc6d744e07e01b0c448f16a24882479369e83be8a2da52254219eee18967dfb8a86eefd71ca11c254498827b09abd86f229fcfd60ae02eaab1edfc8c9ff4a04578eef51aeaffb582ccc8dfb43f766c49603ece814d6d19717ff9641a0b218d2fa2a395d309a1a080628c5b2d26551b7d4b51aa7f32b68881669a26fe69c3f51d40bb01c8f272cc2cffd007009676e458611864f0bd348451b05f99ccc7df952eb6a7d0a35ef24f7a877c1642243ce4cfe74177a57e9cd15aa8b7844a33daa245b9a015ead918dc37d84c2b9756387498c75b99a5e7173d9482463838a384a1a11495fb90b0fb6e965b70bd0109805e9e4156cbec2ff2fa2b24aa04ed4a467acf601269133bbb20a4db12d880e560473c492ef18eff3b998bb86d819079e33acc0bac7bfe82abd4a30c3a5c7ed37f72f4fc8f0d3a795157384da5836e1d99dbc9ede037826ef353b10fa8807780c2905154b4176e0ef3141feb2c548fd345e6c2350c5eb42f37c472fe9a72611d983200349c3c9e0038c93d5c642feae7d7fb5802bfbdfdd704507f0b18217b51e1493918d55b55baf14acfabba02b070f0fe906b760f4f3cfb700a99dd927b5448d90b22869e816f465947c6fd1adf9e208e14976e8b04b866fd0a7e506f5f96125711fb96d88abe3523c51b4506d6bbfb1ba78e2b4646d76d720246221e36f33246dae7b66d165f24cac2fceb48f4d97d7994925456becc2e0817e40c57733db7b369c64f41fd765cf4772b8c68472fcad95ebf022e4a2a309963bcd888e5bd6b0f812524790a71428aa08ee8c71ca94ee51c9d8790bd9b365ecb24af9a133cbddef9126c0469a57b3e2715ecaa5c7345182f95f84bc8b3cd1ceadd9f623cd958fc88546534cc9f3899c2dc2912e0c8237d65401ba034cc285b4a647f14f177f9dc68bb37be6fa75c65a3b54c9241a560641f69cdcb7aa1d83ffac8605b16fc8968faeecbb7274ecc412831742f6a08542a6df5230827c7240bc8a07eeeafb5afbc1162630dfa7ccf7e3f2096e24858b46de529eb223e896cea9d51205de14ce3fa025bed9dd194ced745aeced33842a32c30b84445e054ee2345f99eb7090e95795c4a9c504437992c3b011271b21069bddc448f8ef27dfa7eece26fd6d6e9f88d5a609e7f34985394590528ff088d3deaef7cc3b72e3b16d48e62683e403fb1d0da207e78077603fd5da03bcc3265c8ae7a487ffe14daac67238ab3b612103b5868ca7a1024a92e1cf790a95db8745f93e44053122144151f562256c949199b560c1a072d007243e0dfaa20282e03334b0bcd06db8428c2dbd1563b6f2178e7922dc28eab61d4a554898078f5f42f6a8bdf817d008eed391ccfa8317ce853d10794c81698df4288c680bb409465e62067c12a8576b2982686af11ed9fd6bd0e4b55e173f125b2834e4000451592563c58c9c8b8ac29e522ec444056351bfe966e6d917dfc79772c6c2c20b69e4bad443f25a5231bbd26a67f4532c4d8ff7c456103cd513872859d84eae530914cd4f153993a687025caffadbc96dc4d2045810d81cc12f8c1a67e27740f22f21f51739509b2c227b34d9628bffa46c306294dbdb71fae084e17ecc9928a2a3310672df7571e7d2057143b33cb6c28ce4b042e1f0134562125292e5388bd7999af3c55a18055d94f9f087ddbbf1a0a270ab8609e9e76dcc2e8caee6c4c9a48425e847d1869b2f0cbf82b4e48c9e0f0cdc45147e367585645984a0ab811e90638397db75733fb19b2c8da35eee52faa04816882df33c01a7de9089da49b34fe1e218de27b2f3110f082161d0de7f3cbf50dccaccfff88c84eb460b4b0ee4343bcc1c60c2a7f484e4e87606f27f9793983b617538d98a43169b909d106748476ab2db95da6e4241085f1cc9b34e28c0e5ed1a655f0ab5bbda5096111f75dc1013df20c813d4f5f408194f8e3e910303163580c6c312da363f4929f7daa9837e2ad1fe7515d370fc1750d3429c84b0ff07e1ec948e1dfa63fc2cba124253a6c1703e65617ff3fa3aea3b64cdcc0430726ff502fb3b8bbf3ed337b0400ebef5757edd95f8bdfb35ac1cfbe7ed06d86452b5c4734c3e1f266b695fa04b532d03dd5638ae9b9e081d3b0cf46f6ce012c690b71672fa8b1199a7b0c8c9a579130c7744e86fbae9e1a1c262e799368e3e074c2dfe1c392a6379b7bae8e3553a2ca90e622b33dbb75b10b3d611f4f29c80b2443ceedcac07af3509b08c802561b4f1b6701ed02e380608483b98a2cdaed12c13054c113c7ef2fbc189f21bc3443276c415cda0e09225a10727c3176d9fc868c77f8a1a9ddac438ae7fba060438f3c447de61481b7a235e5ad6ed3157443d5c60dc7b7b255be64112766f03bc5b1748c5892240a39a6cc9d1315e1386607415fa06ed43c14313c061695782e08f43757cf11c0ed5c6bc4d270de3727ce5fac64d02f546979acd79736c6d2c1ca6a926342f14c6bcdb3a76afb06bcc1c907ae7c39b36c335d2aea12d5b28f05b6544df6f4092a3b9ee83def5513bcc50a90888254635c9853075ca95b8c7042ff0d989103b0f70acff3a925c897d91381cd2a1883fb77a61c4390fb91c435c5b21dd6c8a819271f4fe4ec0a7dc1bb4b222176184b60bced3f6df1080c091e872e80213e161b762cb25d54bc144122f1b85c0ad8c820d8b76e21004b83e3b93f37de43a1ddaed577e275a4726765d6b91c01ad25456ac110eeab6dadca99659547f8fe5e56a21f52c40e93d0718bd521f70256b962c4b28e10dda877691e9ecab641edb0d6380947e4178301db82f05bba362bb9778e298fa2546a5c029270f0523d92c87d26557101c0c73de96d412b22a7b08d742535c08464e2065a2f9c2bcc04cb756d12ae2d84ca0b639d5c0561e82fd843cadb7b047a2d3ea2a47676ad851a6fde45f9363ffe3a6927c54b3373150efb80222bb8bee249b65eb75b2965ff5eaf925c676fc8d7790e05d41f7e1fb1f84bfaf934ca833a7f7e8d78b6b6e525ec1dc92acf78caee086717079bc3c3e687f5542eff41786c4f5fe7360e0186292971ae301248c70558c1bfc4d5dcd1631d0cfb4088343f40bdb704be35082db5bc76f146786bc65f98c6342d81415133449167f2e27c9f6a76d476b8badd6bf597f3086e11fe67a35da3c5c254e53aeadda6a1a01d071149e98c3d54b560d890cbb94bb006507be959e5325d7a3807254df6d856df4396127feae77d5af7a766fb2ce609b20020c663ff9099a0579886cc7ede81b5501d9d04f1bc3b3ece3be0199c8b7ce8c404c3373db18c1c7e153b24c20de47e24e9af12f7d9946e7b9a35279733a24bcf80e725350b07e5f4f7c41e5f739d630e00d051f9c435aece5cb1cd98a3c159ac6e682f92bd12a869b93ceb1e0e8e24a6939c2d2cbbb6ad1c69c7fa224b951d3a1319be2aa7bab84446598d7e986e37f89c606183f675610a8215448cc123831660a8571ab78f12a98bd8837b86b48b291196948bd30c6ad4778a0a0068719236876b5c6402f1a55682959a1559c40f22dd6bf53075284f97dc8faeb9461b4cb4e901b0e2e024a8f906c0d5d8bf9403d586b24700558abde421c14037d32573af4e19ff542ae248057bca577376efc1f2105e6fcb28576fc02122b35b8a959ecc3a01b223744bf5b1971ace312d0ca9cd54617acf66e59d0f673f063a2ee85d0d6a562086116fa98968bfe90a53be2c580990dedd2ba5629a9ef09f063a058bdbac102308551291e778c9f5cc62b2e725ef161ebffe367afcd3fab9a8352919806f26938cd6f725504bab250ba9d0ae4d408cff78abab1ed4c7f3864bb5736d1699bc7c984fd95cc8095bf0151077bbd065733caf4895445edc970f67f835b69b05bd88fa01c133bc4d5ae24225e554a9b169c28d6863487eb1f0558acb36b9db4a9a274db99f44b079c40090bf452e0273dafd4d98c21f1c412d818738927523ca1ca16cf40c311f7d23b96ee884ca9416caa8f19d0d260141942669c20e75e63f8ddf6392eb5307c367d3c5cc12f88fc91c9ddcaac8be23c3ea2c598d2581d72796cf987c4f8c48d13eca7d7256836f8b8e68d701e576ec0ccff6244740fa4da4cb28c4a801edf2d3b287c3a212a0d5628573a68ab6a2209c429f88176ab0e99acf0a314997f273f311c2541c5c63ba33687f0e5f7d11b510252043a65c661b7eb675d9a79e2a78b5866494f7386d89019bc48d65e2b54320cb6bc58db99fddbf227ee263058076e66dc1be51c7cf03ef646c900c737c57158fa50bdfb6b45f6f83bfc1f489fc174376a73d359d14e85674b86630457235a9766f091b3f418ad1e17b99e4da674c71ce955e05a21c38a6d90dfe8381118fe767deaab394dc7a8839867ca50d961ee9b427ba0237110f5f68bcc7209bd6ba2723ce6b2b14546af8a379399131771fd14bdec2c8b2c950a20fc88ee83b3732d70950c4e53393f624c00ffd6bdbdd668c44eb79d9ef021f8130623fa7f6c8ea34d6a7727aa8dd94be98dd18e4f597c20952816079f5fae88d589e0473ec76f731bd362d1ea9c5ee8edecc7a83b99e4732200b76cac343fa0f022a88d3f2d93bcaed9f70c722f165d9e863dccfc2587160a23a061230fb190277323958c80e9a56d1686cb29a81fc933a8ad82e9fc6aacf6477ffa848738591ee80d6409910e2f6572f908b86ac4a7fc048ee3423e6c4c77addcacaca45423d1dd74ae15a6fffef74a57064c1fd7eeb85e3235a670bd81b10abe2c3ef879b818951fb064a966fe1635bfb9403d716142a6149e2dfb2518e0ad48b15747e7779d009408a0f270c257ba7b81cd6998673468acac4973b2da9f5dad7d59d74fad98eb7abc6e591a3da3f9c54cf340ed56ba9cd6b8c3373dea18e657a08df1afa54076e5d556e5c11ae22597e5bdd02ec05dc552f615dd91ec230ed4f0616eb2258eaeb801259599d61f648eb99f559a9d421f9ad9df20a9f95a5e25360e6614095939169f86089e3a13800ecccd0f9fa9081153171e2ff83cf8542fc8d651e4ce92134d39fd8393df022b3ef660a37ba094c3a8b4e1fadcf84e51bfebc364671175a6c3b746ff9395c34387c138365133ad673abfa016b8d4dd29af70e135c9d05bc6080395664f00864a8abd029fe53907cc128271aa9de60d23270ceccedf4abff42db221c5c03fdd44f4dc946d8aadc354d7e44ba30c58314221b2fecf51b51b6dc5212072464136066ac463b3bc220c03ed56e63e386a2926a8b12456efc31392fc592e69e27d7c8dbe0306635b955d995b32f3d932e170e14060b0579917de206fcde49d8a7ee64a0f34b68f90a01ecb9f0eb8c106b7708c764dd93553a08979a3a4023d7cbe2efaba65ccd5685e36b8bacbbeb633870c1aa60fb5da93106f928e541f93cf80631fac71f3d6632ec9b42c1059bad78e4141ddcb0fd89da4ad07506dac71bbcbedeac0d09e5695bae7fb95d756dfde4f5f4de84b524d7c3a918d1dc45c3e0dd2601716cc47498b7f3d82bbd1beb4e2f2fae28c48f7a559269f394815b74e75008b19b65ff118cbef5386c8771e934ae00a69bce07bbbe6ac7f50f6050911a223890b210d30d870c576bdc4932503069fd0006b599519505c2ed5e2b82522301b39766e1272dc9aae244635dd7ce8be636a593068d44e4654dc7a3c18893babb5ae6f0f73c6a44239c2962bf7c51bd85ede8ca90fd864f895c1b8850fe86fdf2dc5dc311e66b859e330d5cf0dd01de4b5b7cc7b8d7d2125e8718eb5786f0d2226c8f3a8f4b4cfef538642335c64126a3d562378623dd4f83cab52de19554b52dfea1b0ca4abda5c422ea51e22a9615300c8e138124b9a6c651288a2c8dee0781f1330ba732939a46b5d4f7eebc8a4abb06c4ab6b04d55e71616d0bba46e5a88014aac237c6673b8d834d2603f27c3764baaf36337f801bfa1f47565b771c9f82b11042f10de596a85fe181e9ed250039bca36d0b6fa85836d9efaec5438b4b59a36d62309199f47292d9969d7ee3916fe40855e01c7a4458dd67f8e0ef73f7b49dbc1b866857c71c9fd3240d149630f1a35e2aeb3f577fa16b1bb13ca818d33bbdd3681384c8d628127c13bc8ff6b27b2d0a6df76f3aa2b415f0441314c67bb209c2644a16ea9e1e3b0d20a5aacc78622e4f4e42100e31164f202cf5f42429d63ba6145818e643a7fbefd8754c89c954a2d566f1147175269ea42d93bcc9141208969190348ca9945cdb21fa05cb24f28734c9c80b42ab5ecd3f6c14cde670c1ca7b1a386c9e5541fe8e934a862641377ce3a268c67f5c74b2efe4a9fa203aa6e9391e7545a0c717db5dec32a03ee12e106d2e9888d60fc5323d75e053300089aac547f2a61ade4994f85a3293971483b0ca01ef5b724bbcaa12fb870bbc9c84a5c8cacdf409a86435b471eabfac0a821130f5b8918f732ee5440d2a522cd41959671b55938acf32882b5fcdccdceea3037f2ae29c5036ee3147f9236b1774515451200152af539ea33e9eb337288fe72672bcc9dece626869f7388a03cb621f75d981d68edeca9ef3380843b9e274c1c073c6a5ccb4eb2cb1583eb060f1af50cc346b5ebe010955fc9ab51a96e4cbac9733edd586743d7728f5c94d55ee93c51d074eb347328f28116b448321c85a14b5ad1c51612c867afdc03765464b00ac6115ad805bdeeccefe780cee6622206a56dc82da6d717d9cde33624c248d140d08e84f1f61f5bc5be2b8afbf823dcc1a0971bb7bf9470933b887a13d4fa05ad4aedf531ea60060fb52fe1dda62471db352da9d39d30bcf0174b944c74c522970328349e39bd9897170a06be38f90f10366adf86e418e56aa73254bb5b892f629c56dea3edc32c936d5112f085b3da022ea9d5c9691bc343e0a00ca60950de0e6d70f9d54b9a10200c9985a8a27114a888ce5a102b4ac2d1bd006862d8b13b98fd3167061b00994bc9819d6e2f0f7cf40d252d810f31759c7a364b9c2cbd4bc62b1d93ba7349a1dbe5b3a62d603ff39e747863a9dcbeb0136e362c1204b9085433be283ea1f3f2b326fe70fefe00d04f261a8039110964f5558f8680dfbab397da3eb8997938061e16235749a66b4707238bab2e67b794ec308f4e531d7167e20ebe82684c5d8ac976e31d73cb806ff0cd4eae16b7f7c9c2a4aae59d412301518ab65381f57806a1f772b106c0e474a08e2c4cf81c26ac056e0e613ac2add355039c27bed7487b7b3c624e3da0e97786b72ba72e71502b8a4647a433c67f8afbd2c1fc7bf16d1e2978d3b94ee7c4504c4d09c5586cccff9a1c116a1a62e1aa90e6d70cf46836efc46216c8889d26a25e062f43040afd2e75d214048900355474099f17c327eb449f703e11a615171542f24676486dcaa080767054848d2c3e64c6fce608bdce7cd259aa39165ef36c86cd4df1c38083e1a3b92f9618ff3a120863300d05a993beb70d76db192acc2ed5e686a43846e98c01542753908de46276c0643dc97e6bee9c086b74b3357c1f9b61a6e9311ce3cf691440d5ed9b58ffb03476f377c09daf6a75dee9ecaef8d113de888633bb86ae052e14823a591cfa10a5a223e6c3e64a21781a6d8921ac06b6d696c04f68899aa811adb62e46f59cc0c81ea4cc2924bec2fdc54fac60d559226104fe85fae887e4388cbe2c46206131372e3e47ee826e190825ed6764a98390fad4b89ca0a3eaa4ca3eb67ed8432ffc63922eec9a5de200ac46d449cfe4d0cf35f16011b8a5f4bf981bec173c5c4ab1b0b2838d0d8f98e908cecb371ad1d0635a8c929cd0c79a7beb5d72aacbe2e5fccb8046103b7d876e40fbad3cbbe3ed6acb439f0428077e8552ab96a688e0cfe3f61950794b415636e6c73a8f99228e1b5618a749a74ae642a5e551c9f1e1ccdaad787a1b9f9ff0a36be6262f8cbda0873fd5c9af57f2e9087acecb69ffdff061500b896e70e0a0c046d37cb6b536cecc7e33cb891c8e5fe44ba9bf0567b3fa8c97c909bb82466b84c0e466ce0dfab7afc0cfa34355cc5ce4403104eab505a3e580eff87338f9eb9efbc326a8647e44f2d12fc911b2d65d00f34aa2a8e8f69c488c3c3380a05d9158fe790e7a3df32b55366a582a2fb5b11b0db039100a66fd78ba6936777cdc861ff765f4c8bbe102dad1e49cc2ca9121b1dbfd3fb4a11206df1144fbfe0e5a9c43ccfa81619b840eabbe7cfbb499bac385819915c50baa3f44bb6e9c809d31c79104e0177b7fa40dd2f6e9cfe961ed9f16662bfc4e713b349a681cfe63aae91cd60abf7bf6c7f4dc2cc70a24e85ad450cd18eb6ddd9c8cad2d645dc248db8f881d59c973fb6867c7e70ee593351287b0c85367de697b3da7baf99eeeff590116badb62a0918a9c7238704cb74814d6380ba24e8bf8af2ad6cdd9ff2090225706213a99d7d73d0ac6747944347b0b0513a15515f40f8b4306b47dc0415a5bd992b6a40e93838ed0eb96032d458078f25a7f626ed1b15d9cc17d811eb2dc8432cfbc74d4fc906a23ebdf7a4194b41bf5cb323baedf51b52b221ba64dc2d64a0e2e4890facd07012cf36e8665709294ef7f22cd520773a14a401fb0635a4f6222354571487f8c7b560253f248f73b331402d51ad0bd0d7a8d88fcaaf650b6be6b6e266824a31696ef713f92f564315256b00afc64cb08be7cb4e82f373855c59823248da8f12ee5efb468be6ccf794b5554bb1bb88e55e99846dfedf6a3dcf922b9e0ec3613fcf6ddd606cb67fac6e9145b74a15110d2173427ce03bf4d7a09fee74caf5d7865c25add180cc00b291963258372c02d8100cf9c0accc2c76f81f1432eb7f68eebbf7a9e6b42910e2b7ecffcd1188ad15731c20d2e5d0391910fa521c9076a69f5ccade92cfb7d2f6280c82e27b378230f5770a66b5a2699ce90a38393f637cf19c36525dee42d64cb5fbedd3db3136d801a8ef02ba91ed81efd8f64f233be6739d439000484367651cb53205bd905fcaf80dd85ba50aa3fade49f73ff1b0a09114613ea6f120f4bd726e3d3818c399bc726127144651a3231eb90c8e427ce061cfbb2f5726609eb896863b02e209ded33f78edb2e0184644ac9a87848e539fbe6c7ff4debcea5156004f40ede019a320a8c63ca4f4a10a66711c72d6a52524aeacac4bd9d3eeadd1342a511acf3839d8a99bea2bfbf8c148e4d40626288b319ea4c991e3af645158cfd403a830d4ab00e1194acaf6a40ac7553274f7ca39caa65f0241f5fdafc1318941f944fec7cb335d251eadf2aab75f9bcbe1e30f7abc8ed0c27ec399b81fc07043b2cca35cd5b705acd49bbaa18d22554b062bd773fa94bb75a58d8722155704032e00172a586875b1707a8f47167ff406f0406dffaf665d024a0b201d52486b35b13303d97c854c8e05798039dde3f01b13a149db8cb05ceb80543326779440d1aed1224fcb9144f79a3989042b9f52bfe888069e85b0871c779651e73ef4d98d6b397bb51e1ad8ff0ea81b1cebda15a5e03b39574fbb82f37d3cf8217a1a3fecc9ebe2afb83415f4382480e11ce0b2b859eeda4acca93ce2102a35f64047de3eb39510d987cf783268724ec89b0bca9b62138e41dad71c827170488c122623af86d0b2d7a2d3af62d6c78277fe3854849ea8af5d406d4f7479b438f6e4484e9458ddd27b82b8a0fbacc434fd248cf16543194af068e9a2192fb1659dec096b83577a9be08a0ab97d0afafec07eda334141275e6389166c0b00fe8b2f710cdc5125a64744899c2716c64ada5c6a066b52e3ff1782cc08d1bc00755ccd5da1131584d88d70fcd919bc0523822bff6ddd3f00e3175bc4456d1ace927e60cc350ebd9205356f448bfa27c1f428e8174a965887f35b9b3ffe25390deea8b55ccfb6c843a4096942c816ca92678f87fcd2bc85871ef9fa25edfb20dd4be240f3a443cf6413546dfeb8363904142b4c37452a1b9a4d02daf9f4b398caaa2326c8a43c5f98b6ef9e5c10fca5590a0c04bdacc9126b4ffd994b0a1876bff178ab7d2d3072624e7fedd579ffe46e9601b35d71c6c4b13f0f64095243a471fb8d17900f770401b2d6eed5189123a98e5523f044c80ec699226ce91786e30f22f3aa3289658134d276ddd4b793bf69182936634b0a4a08200522d85b2aae66ebe4d0b6f383ebb6bec5d4e101711db8217a6ca049fb970b4ca28a22a76f19e0154494fbf84ef23316093572ec6e644d0690f5d86aa9ffcd146d66f8d1f940836b75e5b03f34813ef7d397692a6f6f6c8ef5e2a9de6a44695d60e612007b2978b39abfdba076802d958fd2d2f9e18a3d7d877998224b91d767a7af7c001d2ed1d01ad5a6faa2a57f320ee7c488641fcbf607510a63b520cf60e86cbdbd22b16c32b38234cc3caee630e3fc8aff27c4a5d72e8b6106f192eda591df5d6e606ec8dd088bb95ff5989db4092ab2922c5164ae4d68799e50c72b6a370ad787d43e0e249217e4b606af89885c2143550b1745dc648e6374c903403cae4fd5df7bc05c3705d932ba2d033a75d1d79e8909e79545ce2928df42a5cef0de4cc658cff3dd48b5da9969922edd2862803e0374739ccf0e8eaf70f0dd3adae2f167ac5fd85a056155cbd7c11f26a3790612947949045a2bd54c15fc4730818adee815b44a8c3f10bd831feb74e6f8d90a62c345276eff2aef24a66ebc4632d14eacf6e3cc28f6c1056f782db6ce3ed4fa3a10cbe8a00f5d75881c9027edf3e04cca4a33b6a69bdde4d4a6403e53dd6bc03b259ee40039a7b3a09426e63d0425878d62f3b672e1dc6639815d5a53a0b58774d1335c21bddd4ad221de9d35296865a24142795a5eaa9ab32ef36d03014b0f20d76d2705b7536bf05cac436b781193c97c3e5806da943dc501ef16e9959deef83f426d8ead3b5e8924a723fa542737576b806c1878f7a92b1128f1c403cc9109c1400c59cbd49e59d453d20b2684424653147c4d61131cb7d66b0cb9efafc79343141b43d6931133cc5d350561ead519315a35afcc1b6c1db6b82cb3327a41367b2755a76a3d8f78a0f485589b9806d833cd44ef8adf2b1a4b686e035d1c59112614e999c59827fe0e0b73e9a85a5e732329f723cbdf6d4b0a3b85bcbf870a0366c2749ea714eb3fccc9b33037bd792dce9fa537f34b2d0327dcc4679bfbf062229c436463f564e6212e500bbed17637e1719cedaebf56d0fb81a4826b6ee182da4fc763a73a5ca6c6bf007a774a4cd27af8b8f0080f03d617af510b0a7946bf771f4ec1af13f2fffe0d6744dc0660a224137fa590530159f847ec9da8139e8b5041f4d83eade193b2ca2c1e5e3313bdfa94970744601450acb66ad219d0638c155693a1f1455fdca2cdc367858513282c69ec8f74ab4d16b7c9476699b4f2039d4f0b978181ba29c4b0fc9a281421371a3f667c32378f57c73e5a2284263cdd9048193442242f5c438e9bf88e24ce9126316c6a630105999cbb0d8126de4bab2041c25d0f524ba8f1627bb4a762fbd962bb84c87551d60ccb6d94fba21c7f1b6a0a1ecf3eb3b970001c4dd98a3bb317313a6603445b083a54db5b71aadaeceaf3f86f91c5003da33af1c402692b4c434ff162f2a74940d6563183970c2adc0a24c9738bd1ce8527bc26c6b296645c6a5abe735601751a84d3f9d7067651d7081420712be702330e9b7d378c044322c561b850519487625b496128073b4a5626458ef1c985454ca214d4eb147f578e1176ebd6316c0d790142fe030603edcb0c7d549ec0afc025262e1b2eba2a1540f3f4d67fa7acc91737420b68a866304d3dc8f00bba411c9e813ec447361e25c4d9b915add91388db71d3c39f6bbb44928589af02c34bffb7911b5dd98fbb375071b27683450459c4aa0803d42b102fef94b80cf00deea86c9e02f8581cba59d5ff23c441dcd0104affd62131799fe7c8d4472cb89c497ae091e7790a8823e6fb4f9093f5c05b1b6344c6bd4d30329291771f5a50f06c208a0f0fc1e71754bc0428aa331ab707876222b2c9ba9818cad6aea8495b3b3672ddf2c0e550298830511e8dab85c19bcaae21971f0c08b212d6f2470d487673220b234705499f0a173ad4ad69e65ce87fa53537547fe0ea598a5b3095184365205458939186d3bcd428a75052770b2161c6c9a91e09bf870683e6a877f86d0037bccb808575449541455c10441f52ccc5d189846101c55409cd6caa822c20b30acde9c7acd748f1ad89c81296a97f95c765c65868803943c62301554f9953ccb4ff79c67573ee4e9b94e4598dbc4acc7125404b59ceb144c43038084e892d8e981749c35a6d4dfa1c9a3aef9d2b525e1d777e905ea1482e71f8dc874c659fd07db9625218d543347d02234d8eeacd6ec278797a089a9834b381ad12c9de051962db5300a578f9760dbbca52ffbe5575cf3a03d7270f662d76d4a0ee34009575c95b43ededdfe0e9a47806eab66f1ebdd06defeb414e2c68f569f26aafe698d4485762a5e42aeb5ae8cd65c19cca974428c492dccdd24ed0068c459baf9aa5b9aab9e3b528f8d025ad969662a9a04ee15afe5c7d88b2fe8b9fa08c91cf95530e5ce1968498f119dfcf4cccff55a5b4711fd6fff49cc66296af0988badfec19f57b84d036fa10c67d752b228a50941f26597eb9f909c8d78180b70712dd716f7493a8b54df09335796385c97e2fd3aa098ca4123b71db116d131abb5ec69d204ee99171ffe46539a647ee50e44e266c26511ec1ebae8863632b797f43410be1ec745612bc938a36316454b740f5360370a1b1072161f04010b47ca2642d8d661b2c93702031150ef9980c0d9d2a5c0bd52e028ae82095f83a7cee8437544fa453230ca1d81c26f8f7dbe997cf6227427c4f5f41f003ebf778b7464732bc66aed01a1831c46f9a8cafd3ca8babbd094cdc011953bad3257c56ecd2f08a30938a39784b74841d98609e8bc6617d5c232e02afd66b838d53e363b1251413f6c3d5d27a04be89cd9237a07e7922a77141b792f636013b66ba0b8baa5e2b93055f5cd5085fd229318afb186ffbb76e50cee436db1043fa07fb6a9926bcbf12b8fbe6638df2b1d4e37543828651f4294f4b6db3e365f7dd4d9c576fcc3c03d5db09d5d43e5478618ec76284cc19fafc95d52d4ad9cc078ea99e525d4771f97e07f47d4fc2a82b46d3468e2008feb53a4535869905403b95609071c90bcd4c6fa5a157a074fd5cd702b824080c76f9ce377fbf29d7f034044b796103366cfdcc3ef0252e803e193a6120c250f12afc1162585d20fb0331c68e886a08e46fb87f0ba53c6ed0f96f726fa450cc128b99d5ba16b5ebd8041edaa62538b97e6ecd0e3d29ef8aa2a75a0422c3b30a9f1465603436983ba75e3e575f55436fb614c1178816ae60c7bbb0c7918218d951a59e2b5748ff5668ee7d7367fb7c6a67b4751b45c9182685605de7c1a3fdd59d449548fa19df1ba9cbe0a27dc6de76ae50a15170cbd77fbe1589a6e70a2f7c818489d9198213cc2833cfe6f62671aba2a9357de3db1370365e8bc27c64a9a2a80d6cfa5af230949a694fe657518b0eb6f7d94d6cb670a6bf0fa4367b1994872854b6a873ff0556ea9610b4fde99bde7b224642bb191cb18cdcc7dacbd60c0187482a080c4926e8815e5e566e60362b81767a066f7c4ed7b802fb9e2209cb407beb9c665bc7adc93e7290a0c2aea90bcc3eba7c41063d2c45c5428d887e2ff824d938f0fce5fb5585bbddc98874fccc96ff19e66b73a82986449c3ac9d4d89784ad21111649c9bb1f145db2d19e423dfec4f536bb8194fefc472301ab59fd8b033800812716361df66b1ba81ca743a41c6fa66020302fa4f2ddfb6ca32ac5befd4a2414bb73ec53e231859da234fdc2f77f6b9ef69917acd37d0e086bbd5d62f0c8083d70bd97a5bb5c80f86ed5d3cf112b7d196b59b6124b88f25a22f84ceddee1da3122f8cddae4a90168a8057bbaf6f7e48bcacd6b652cf3997f13d5a94baa6701f8658531cc269ac3e145a4b76e6544f5b8811498a95a2c098d4590b55fdf63dcffef2f86241c14aeb8c57f95a500553efe3b4f38eaed3d99ff98968c2a0211e67b741cb3b52fcf0807141309300ccb4d8125fd0343099db05e4a21e5c8be2922d720b0096c98c9536b794ae5274f7e9b2ac7daddc6ab44c855abbd0d2f01004d25353328427736bcd50c30573c58eab9dbabe42b138c635ee9980b0d777b56c1254416cfc3044a907b71ed9f1f07dbcd7759f8fb561bbeea7cf757edf8c837bc0c77028a9d59e99680d8fa795350d7039d31dac7de5a4d6fbfbb43da333ca5e47ba2ef6e307198b91aab77e2855b8adad09a93f8891f109bcb2331922680ac7805e95ff59c9206b904678793e0e30db5138da33815ad1a6d12387625a1dc2ae754b996ae295bf5affa91fc848dab9325396a898f55eb918bd6ae7b9a24a8b536ec4ec3f285630cc6a64d01513667d09965a8b3b10d8b145fb5a88efe572c094c679c16f401e6777510233ac61bc781feed0098fc0dbd45a9acf68cca46c0b6e29d7b6084514f1d69292d4947d48dbbaedae3da6c37e435fb42e7f63fc8025e9e4f867aaab0a726ed7f19d71e69f0e6b58323f04bb59e5785d2ff749de09b59d5dff93c26fabe8fe8d153cbce485ca34f10faee272fd695b9ebbcd6a4195dcb053db1e6703e84b1ee0227631e4fcf3bfdaf46a193634d0eed28dff4e30431751f5979fb6cc58f7efb136e18dd6e336b4c3e96e451dfd12a095d4ea0bc74dafa05fbf29addf13e937e09b323751fc74c27e76f2e7db21242de2382e0aca64d2da212070ea8752b6f1e5a1def3f29c2e3b5cc365ea31662861d4dfa96956d48337cce52aa62ee8c69f5d4eecddf655e1f2d1e03b3bc3f51cf5c570fa4a14872386d36932e11f74dcf1d5d97749cf5b019decda7e482b3c1e190a9614a9c6da2875e1af5a93b82f9cc384d5c2fc2054448ed2c9a50875439b653ab70a934476aa5914cd8984a40bf3e9d092eb545dbdd44dad4d3fed880c58c310f78bad946ac3581cc47f9b433e215cd7ad37593d9fa9a4aa8fd52cc0b17a731b728cc09c17233581dfc6238a859566b52ccc54f9692d8b4b66a6538926591617ee9ae10b8e341f64875f82319421cd652a66e6c7453d7336d01bc1fc55dd15c259698a388dc3cfd94c49a33a69511b1f9ea1b851efc9a04201b712a735d2727b012c32c9fc967dcb379d452d1d53cde625efb5723dd2024bab0cc2f7f317d5498f321701d29e8548d1adaefc2f09029b99613a73c7b1501a2ca01f459dbb5e3f4a60c938a3c3173aa08738f190a4019cdc455657dc51fe73fd198aaa76a5131b7c0e4ca131891166448421dd31872af5d216675047029c2b2e26b3233adece5897662f5d35ab2395126848a547d6818c5ebc4776befa1d039ba242ebf184e1f99fe7f8595e114ad29ac3e67e2ffa0a2dc8a28e8c23b41aea30dc5282fba636bf8536381bdd33b65b7872f0400581b8d5c6abbd4dafb3e202d41132658124f67243ba1ee2a57804f5cb3059ef6f38da28bc194d85c62f244ea261e78131043f056127fda6f2e71d8cbc18737860962c832891df4bb25f5f58e2200acff175a687d27d0e8166074668e8d32fa6a073b42b830b72b4919bec1ac67282b14564c16fb1550efd36e5ebc3a9157006bea30a8d00c018cab6cdc32a15f5aa0a7c52528c1a59176481c812c8be8091b2f6a5755293e80fef11ab4cbb7da51149079082b7f8966483e4785c73f38455a9c9b2e82671db32c31b17aeceb97561a7c1f4acf201bb4178cbee0eda74be07779bbdacc239da41561d45bdcbe3ca79916cd71b15863233c3ae1dff2214c8f8046f1abd46628c4693f12c97718c9cf63b9f2bd8234a2f533d8c54699398872b6a190998dcf1c0f844b8c6d86d3ed6286ebfc47d844288df8acc56b7df4048cdc606bee202052cd82db2d8884eef3e73eec53ad4c8dde8a1910e5bca265fc8bf92ec6de937732221350620c75ea62f4ef571406078be3f9ee7c8188786434c0ad55a241e8eae4a1073810ff5934d9547c41dcc83337ef90a16b114ffe9ad60d9da0ea15f11c2eecead70bd4e9de5a9173aa21165a5191db1aa42110feba060b043189a9edc5d5e01b4a7e10a7d418e774249684dfff0f6522aad9f6f360d26e896ac7461f18386b3ec5f03b7aff1131fba533a68a12287d398f89012b25e3ed0a0f4898094dc08be6d78ec4d8f1396b8d328370c4b6f62593497b7fcca913506008063944315dd2e7c0e4160d05ca5ab799b012aa9094d75589344bf30981672f22037a0b821a863d66c7a95314854070a7148198e581dfa3716abab1868f26c8b15692972ad73800aacd71ae9812ed940d9472c352bc283fbb04192e2a27778b578d720a6eaf7ca8ed77ec323fb591de00f998657cff7b98d42587a7dc9d297ff186894405d988bc6d6719498748a5e4695258b576012ef675e567023c27307fce62d9f70c48e3f38667ae9c68f8fcaa8da9be4127cf5b72dfe1dae73e05b227fabc6e04301923036c850b6965c22f9fe9c67fb1f19c183d2b78ce86ceff1c285941b3c2808f16cd7c6a269bca2866d9aa9762734d3ab395ac94f1683e478675ec2b82c8c4f125b575c6d73372345e0aaaf5a2a62e796ffaebf95e24e69735550ef63eeada0e6f6acbb68d26dfd229f38b05d807f939db3ba88ae288060d7fcb7972a663586b03699367ab729986cf4ee698bcae84aa1d6810353be6726fe99d556a1266fea43ac0f7661d05bea407af7cdba7b124b4528bc293c00748660c156618c3b555668175a9c8527d519d6e8434cbd1ca084bbfbe1913dcc4d1db083ec0bc480037b126ff50e11377d1f51b8ceee985e1dd29ca0e2a82285f0f6b5be76cb2c550bbb5de90386c73fb57354f5d3ff7f98a6eac1634f0c2a65a0c4601ffb09a40dffb93a861fea0c8a1d7ded3f6f69b1111263e3900508eafc94450436c6a02617b9898ffc17cd02311383ed3922b331ec8efe8367b6ae999bc12913464ee3080288abb696e0ca242a3af8fbc43e9ca6a18644bb8912e998cbfb11a4c3b089ad8e192cbe1ac8f24a8d01fe1ef644ce2de75cf21d76229f2abe5f1505f4708d9fc4c2b206e4959e2696659326216de87aa11b1f5400a567b673cf6462cbb19a5519dbcce8919e93ca6a81d65fd3a4574c21f21f63a702ccbdf75bf9ad96260fab57225f4dcaf9038ef8b588ddd71e7c39fd7e882959278ac8be68a326ad3e58a92b6e5c336c9661d46b5bb2b62715e4ae67388b344282f83b1cde49c431263374970b122f41a2c7d203acad37f749e1add68bc2825f5de4c43683d2d107f642188736f6903bacac7e3f40f889ef1b6f5f436520b75ed94a2fb0f4a65ee7b66df1b47b1d14aecebd0679fa1aadd6ceb04b3680dc3912a68b8add2a1141a9b48ad917c3889601f8a8d7c2937b211dbd0ff72c82a128a24b90d7f9e80506883ccac7823a499025a8f7742ba9db57f9839008908dd06d0773b3633b2f34de09043cd3c5a1eef4a01b9b119c7b2ea98d3fe29e8e9335035bd5e1b4c2b5d5030b6a22380f13dcec1f4441f8868d38674b2fb93e49f238b93738d1ae94ee867c9a1507687eac9d2c61b7741d9f60c185d4fcdfd445c78369933eea70816b16fa5628e9","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"1d92f157948d8068f33f02e45de5d720"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
