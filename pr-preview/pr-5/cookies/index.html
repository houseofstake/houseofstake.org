<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"38ba00d9c7760a487c09d84dc120a5bc0d6daa05f4519c89c34e3dc4496c13ff5bab35cae8adde2012c6db02919812b528c1083853b543f51cd5486b8ee47356083918c3fdcbde7a0ffc372c24b6b65ac56474f96a4b5dff8d7449d246d3cea82ebf6d062e0df569943b6e2968f89672f3c406f4046d38208a0e02f552e40d5bf3c44786a4e73c3255b63cdfbbadedb644ffe2367874684cb9d7b221c4e78f5adafa9f5719fb6da295e213b7e86b280e24b2dcfdc06e5d3229384cc378b9c56a7abd1593eaa73c5da30dfd4b4db9287cd170ebc699f24868dfc874177361781e5a5c5616fe30fda7165443cacd90e52eed6ae3b02720904bcc0d109426fd98b18572175a7222ac39ff7c8b5052fe4aeccb85565bc6b07c80646d5732da6b8544da7a2136c2576b0e6df737e03ffb53f25c7215a47963d28066e596fba4ba5523a251a421587f53c1da16ec680168ef696559a547ab19941bd438ee5cc7dd102b1f9d3f862d298a57cad3609864216a49f804b7fdeb3677ae119ce630e29f783d86f15361bdda4db7e45ce656b342be8e707fb188f390439e6af8593410e832535d34af51b84d1384513be0a29154b819acc444dcd0064b6b737ef39d0c8b22317ae348bcfb59ed6cf4bdedbe7baad20d30f89f3ed6ef1626696b8a3ede121396f684e5132fde78425e0f2c45395f171dda932b9f27cb82441ac45c315d5e48e7ec082652f7f2570508fd7a13f48b0c77385410148a7815b8f12265ec6b1357e3dcc72b3bc34bafd327fc96572e667c6e9ce2206ec42dd381f08fb5392a8f88ac68cdf5fce12f586d62dd2939002a8bda2290280931c3ccc33b58ea327bffdeeae35a7ac5619e36e3e417b8952754f85e2df801185e9f45cdba58b863088079ff0183092e22923703f288c584da4163f8a13fca292f2d055519fd9550f9bed25bc8e23813fb833c6c13673a3c4542f48a3afbceff63b976fba2ce7368c472459ac38dda9c17b5cb47e2723c74aad26123374a6322e4d96693353156e94c493a1b9da030bba72c92aed7fdc224b2dc2283d69c8f4fb4ab2e37b1ef016df1193b02318060102c2733476d8bfffe3a13aa298e35483e942b680c1e709b0a4b61353817caf2a97a528c40f08f60132f207a9b13239508f67e81354ad3cad1aa89d4935856f1af8b2f912b89ae376039404d19db56b1b066b037b0ee2c96e4c2092784722702951f73bafc78b419fc192d596fa85dfac4f3318f27ea60782e90c4bdc652eab525b7304310d77b62221ca11dd3216a49d6be939a2d21e1bbd955bfa1953842ce21ac6239e6cafb25102bd1a8d80673f5ba974f4c1e73fd3328ccea210368083bd632a5c035e1ace8ccb538eac175048be9d2b307af6bc8ab6a65a6e8fdcf8a3e43c6fb075c4b3c3a090e6246efa31833334e63c3e9f327b30738dcf944f6b05dabde087fcf7240e5c6d36e332c622f566890f2673bf1558b669b7510954c5f726565a6ef101954a685b8f1acb207b9548e8f77fce8cebdb0156aaba60390541a516c706316e315f7c36e53fb047e510e8105aa8ae7c1b3ff7d6e8aec60d7dc9ae1d3ce10c1e6f16fd4db16c36eeeb813923b9567b1ce1ba0143d580c34480de397e70b4f9516e00eb6da8167e5896e9aa9bd25f092b94fdfef97852aef3203582cf992050c6f317a5578276a79d5fd321815ed9c6b38d98fb2447de004e653ce42193a9ee61f0d2e5e77031f4d273607147a92438cab7d0fa815fb1600328fc17c5ddd75431dff40fdf3527c38df4b7e46a71773fae33162fbcff08bb6271bccdd3470284e2daf838a343f0656faccdc1e0997dba5134495f7a354d7fcba6495e729a5498faae19c2c3eb8fb137d15ac339d9d7eb2b5a7d9ff4d10d139b07762a001ea7b70261cd488d897530e74ee8ea5a04a335bfa949fc4c07ded33c562e5094131bc367249d14bc58f31f4838c5de74cd66a53dea3aaf2b99dda9c1a67bc17edadc114f2394b711ce35a6a6ae87745858bfb5fa1e24debed414147cb1057dace2580aa85b0d14d42bacadf6f6dd3c3e2e0ba300de2a28ff3d5213d7ef68c4b47ac59140b33290392d060cc731917bf6a528d5b4679b6ba102c9f6a53fb6a3e16881b49601f4585144fb14c7f5cb93ae010f750df3f3a2083756de27951f540d88ad96cd83bf8dc96029f1b4e0d4fea3ac11dc5b5367fe26d5aa1b4056c0b3f887fef52d657f931ebb446b49583ea341d9cb12cdb75626be60a7808ead3addbf263d0284b1b0ed3a832c1ac15956034f511a1d9fcaa03f087110b45d402998b3d8b6a15ebf3ba52dfa839f23661e5daabcd20d3362b2faa42ec63e0d3ae3e89e64bc73972f5fd0d5d135b6da2934858f5d2d85bbbe7bf720f72c3fd6f53c5565219ce4b365080500a7b6f8a53d5e287a7cb6fe197b831e4f222e7ede119b8bed347851efeadd709ba76430e65e1857f0274505c7bc296ce41577598722f5d9d66ab8bd1beadab78b1e4370a2e1b7798a02c18d9dea039603cae880e3b1b5d52f5bc7a027dcc59e4a0982c63acc27bedd12e946b2ab6fe08270da8be2a6141fc3115056734025499d5487f8aa69e37ae7453708b5f09a20a3927db76bdfdc6a6e2d3661c9998afc032c4d681fd46891f85f5f2144593777916a6e294b89dd49e0501aaf729b6829441d942e32e34169bf0da2e932d5d1d5ecfed9d700153dae5300ef09830d5382d40f20d71698eb65f59f69db93484341c33c6dd79f898a69e8e14f71f189b64ad229d50973725bcab793430f02cca0d0318be13296b400ba471c49dea2d15dd272bd71b8f8a0c490a24b2fba4eda59fef2962cd6e2f98cb3ed5cb927398314148a26f9e1c50d78f9a1719c4e764d024c8e3d6a29c77eaedc6f969862100acf616dfca411f8941b0a013f9e910125be54d7a6e42d62d9778d667370408804641f28591d653c0f1932687c426d9afbaa9af24050b52f5e13548bce2423178992fcb84871ef3f9f4546764ebf1a22b8da7e536e9a46343f482291b273432f5ad65b239432af35cfd967f78dbaa868ff2b85a49683b64664cc85f11574821b7209f4ee1df84db3042f06be88024e4a3184549d4829ce5549c5dc30aee5bcf8e632ca77b8a965897244a6e1f9a5e7374de57be389255c75b4e07d9708040649e30b78ec2292d6c61a5d62bfd3cba39f2ddaa49e3fc4521b85c887b0fb40528a7ae8981fa77992d28371ac8f2ebac9dcdb2141eb7f61cb7fb3c3d6efbeefae2446add2ba283fed465d5426dee7760de8c2bba20e874f5a42eeeb7b3aeb641ce167743b96d66c18f52ba94434e3f5aef95da6590993962aa04904a9b2b038e8f279ec99a476bd0272657e5cd8411185103f88bd3d0e3da28bdb591f72c866d4f7155512bc61bcda237ee2472cc0786f5399a3d8f6777ffceaf36ddb7fdca95584adc0d40f7cc24184bd60951b20de6839e2d80e0e0d290d207d7b5053f478217bfca68335ff27e7dd1841e6378a8d49407557e6dcb08e4c6bd69c9aa76be52ab8e6c7e794c35afa9bba99cb63f0a7ab34955aef8251eca4b17f9717a75e1142fa26157bdb887f0321befc62167e3753bd1437c714bc7ba1d9ee4180b218b2195b6d6cbe43121ff71eb2627d781ef7f7d1ebca3d3e104ef7683435a13f2514626a1dc10e0d4e79bab8a7e6dea42977f25b91a2c3f74367b244a4dfc3c3240d14653d89a86db9d561c666c639c3b9a543b33db592fd9caff4d1964b8068c13f41615aeaedcde62ec4876b5ea9deb6dc05497d34ac30cc5ff6abadf7a13dbe7cde0e0d4fef515c82e36af8e30680fb99ff921d2b4d335a8449a5ed61755ab1c4404b7cb95b1724546e978aed0bb36d55b414154cba8b76b04d3ceb117838ce07110b481462472660196467fb5ebd8d6ea5a015add1689e312d6f02f88396640bed74c632dbafb40abaf29c414e76033959bdf2a4b12192e8995774761f299b8d76d75f6fbfd9256fd3e9c8537f8fde03a97c1a2b35150bc733e021f6196e5f69f0e4667c083a269551f81c5f01c2baf2bb06e79aeb5c62f3a9c79adf18d1c957748fb615d6ca3c84201222a4b85b456961f0bb2e4625911b8ebc2e646d17aeea5a393464de8b7545e001df4147768da1164a7abe4fca268e182136d8ce33973e9f7868336e5646961ac08452d9b3f4074ccb1ff36de5dc322a5ec7b73725724b7adf015cf7d40472e1c6eb90b01a7a65c283fd3ae617b39d8fa4fc4702018524bd4114a22fefcc0dc00df90676642d990cccd53645b63db2fd42f18b6bfb3b7c08bd6b5bd1f8da9f967f40f9785d499867d5b5f8c1c6dbc2370d045a66d7009934f93085b7b626ff655ca28c06182c2ec6c0b81a9d6f1c873941a8fd2788aee297eb95faa40389f624052f1be9e75584fce43c3e2f0414c3796f5fe2d5054681584fd3f3c519489ef064bded228c2619b270938e23d8a7973560e0e02c9a281c2a5d77e9dbc8988a43f974c842a4b475185fa7d77bdb5223e6af811a2aa9524978b23ba35b86e543625cafc5e7a1b7639ff0b97f8d129b5afe1eeaaa325f9e5c73eefe33f8b584a970a93adf251a0d7d098f9872ad7095ea5e680990857ecd749a53eaf4408f82cc5eb2ab0da36c073138b7a0d3be6cb85f6c6a91dda70a59ab68a49c18367d35d00803fe736cc278ee6eb655560a56af87ad663e2acf10be04ccec535adeaa3c09ec4245b12fa96eabd7b6d79f43aeeb5c9e926a446d03deddaae7b3035715bfe74c9b917b5ada7db99d0a606411c08cb79804fc6cceb6357f277416f3bd27c5d8bcc740a0bb6e7661e3f72f7d6820a1686dc4ca06266770d5d57f90ba54919f2656f24006a39cc422b05ec0359fd333446cd1da36e74d9ff70a9994f44446f99e96a86a77283351f478b7c9b33688fb3a4232bf9eea0e8ad1423af18938657b74fe1b2aa5cde5c639bb80cbaba357c587bb4545eb24529e4411d9861b00a270add4494926d24b344887589395e38f247d510ed61a877352fdbe611e6b4339a34038048717dec425007059bec4b2f320f44dba3568a214b093e9279ba696e519a638579a515f6ad3f13c11c0cc288667f8b55ffa947d33f9b2d991a716a5b2ca5c5f1cc5a44348c16034dbab7afe45c0250486b6d758333a305e2e082fa4ab6624518a4247848e89eb8b12377b37cf3c68e80bb5b9b8ade040f55881eda4deb02250b1e0a0d1aaac01028d146c3696c9b39b9f31509b509a2850f9f2dc1dd434e0678a77dd9ce9da313b83412c9d2a5213c033c7ac6a16152e1daea7b3c24773551c8ff9a9f85bf42bc4d904aaf29b5e1bf455a9d2476c954f5884e8cd49a5defa942403dd4045175c5c5f3f5e3fd403927950fea1603f7db1cf595002b2b534aba9f8862bb5a7f2b4edb081dffa3a3dda14faf3aa5a83dc082cedaae5238769e0a1e0cdce040cddd190acbcf599ce37f3ee07f8ae6f5f31d5fd545f88edb6dbc72d5dd94b8788174d5f510eac28350cdd64627446e27a4b371731b4d11aa051912a64991c7342bad8d3f4cc313d6adfec4db0dd09456f008c93c03455f0f8efbe4cef7a2dc921bd7590b33e893ca06f2a8217a2367a1a385a8e498c0a9fdf4c6b65f501010e64fcfebacc2acc717108c531270f6bdd2e8cfffe840b20135d48f2faef5dbc45b8a7927197c3e4953d676ad731156dabe664d9bbb0293405f26a4d569b39ad6c66060273771b30667eb15f26e61fde11db3032502f07538436de19b1f7a42c89df11ecdf4b79ed367d196fd9b387d53d5a4b89a065b58db3ba245b1c3df3cf4ca96513b0d862829f42079254c3baeb4641d81f1ff6171ac9749fd7f152e7cb7ff6cded19d17479139a8b4f83654fd137ca36a602089547800252ddd3395f9b474c53230b6286390c20aaf2d791baaa8bc863d892285536d9912133cf181230646d797d1cad8ebff89344ad5f9e28be265235b5e076aeb4e09862fb97e7b0a85e0537236ddb41c9e5f9096bad5ddebc5def382159985381b9a8a69d4dbd05293f48a3a469d117cf0056cc646c0caf2dec7d5a63cc3ac11e87a42872a017b42e3b20f997b69c48555befceadd5b8160d1a5956bf3faee43531b3a6478fef3286f5e24ca7e09fd02992f8727e1fcb090188c72d679e4978dfbf0f3a3b621aaf0959027f71345f0e72f58b220255e7ece695f65150f9c356e73b7cbe30b4d78be2bc370fbf33ffe0a4fbbeec71396b8cfa6fb407c18b716bea51b11b69cea8a4113da5123b4e7ed90aaed1bc85cb854854a8642c5f70266a2634ee01065ecf467d3c0fc9f95234ad288a440ff4e99b544f2709a31ceb27fe8b59030236a119443a66e4a1cc04ae59abef4f607bfb5e61df2d184f2c1f46ff795b5a5b75570eaf9d3af24b982e2def2876dc2ec661210b103cba935a3a43af4f462ecf3450f638c9843f1492d8cde12de3c2d1ccedbbe462405815d89db22a9ab252243b83953cc55147a7fb00060864f330be82ac864aa04c6cc28e399e2baff7fb0d907205a94847fb14f63e92439fcc84e8ad5c830a5d86d82a44e6ae2c3ff33c26f3266d426882e17e844c248e74d4ce977dd0eeb36b8033ead9e9ba4b01f5449a37ead726ab8b672f75d82b101190e4eb5990b53132863396186d540309f7b730ad2a603d6a1726ce3a30364557dfe51f17310509cc4f8bccdeb700eac94b1fd98a57f3dbb81f16cf90956a1e33e62f1d02ca404a778f61313af745bbf0b294c33ae7dfc004e9a2fe1852a7bcc1e135dc7a1d9fa8cfa3bcb59a1ea3e8b3c4417310b08b6f97708295558fc82716de6aa19d03d748ff1b7b6b3da72b4614b2b687c6752591c3bb259944a18acb3f07d3c445e68b84d208ba0fa4c24c84ba11d61cc32b97ce728e7be49e98f5d96d864a1985509e35f0c6888ec626ffd8057eba30b606917e47bc5e5017d6dc2de1f79d1259ff6a3ffa35b7061241a693dd1e353f8404626f51dfabe9ae92655bf5954637fde4010e4b6d1bf565178976c7077ac605e9f0f829d3dc94f1ee6f5e7abcdc8a063b1ec4d504665cea9960a563af41bc6d95253a92a6f66d70563acf1a9a837934a16f10a354d772d8601cc54fe2518aef81dca56e35c2265e5ce27b36f05d2637194d104865d2e80599de65462b0e42e184ae012482e043ad58eadf1a2b053aac4a9034aa711b07d45e1f18dcfd3fb26c94d0bb3846af9d6052c7e4335f98fdc7f426e04c5aa8b3a2ac60c6bd5adef4de7579f6908f966ed7dc23705a73a4a36cddc47ffce53f69a654891ff2a89c057a35027bffa374b431dd3120381abcdbe56973c3ed0adeddd49a6e74f255ae41d0268af5aa9c22df1928f4232a952a0ab85dc263858a6b6dae2858afe1a9332a044856ec6bc028719c2c086a465b396da5b91c48d3fe715cbfd80411e2bd23b682e75ca35ef826374f3ff4e4808fd95f5284c7a1206bf6413abc6aea7c9ef5d6ae094442882369a6e8257099464ae826f9e00abaded53565b87bb82f61b74a59792ca9c110ccca9cb9a49daf0d8a8245b368746b4d44ecf827c870bb45c7bbdf0d97c7c86539fc454cf96996fe1ba848bbb030c49dc53b6fea5778581839dae27bdb8ebaa1b9cd8397291e6a21771d578e03382836e0bd76a01071829eafd5987ed04ab4f3b2f9217bd093d9586bca6b1271f4012d115127f69f2458a55e391e851ce96f79ab8de56129000d21ed728f44f48106f470ca4fd354da2c9441fea6cef8207e469de12b94539e0565b73fed13c33dee2dcce7ef5c29a244a04dbbf4f547fb60937754709eab5d2fab86ecef98ec88e0480f88f47d7ce400f4696ceca36d13c0b2e425f37b208ac20f654bfc6b9fa00bd9a115313a2cb3450777347a5c28ddb361b64c07e6a9417a914fa4b6edef6b23554256b97dc79edcb73aacf34ace5f82e49b25ce54c27f697d0843cfa3df413256a64246aae5df7b18b22720d2dd9797a2365768e0aa4fee3e2a1aa2a32d60f82bdfddea3ba3fa2b1741fb645aaed21b0db847e4346dbd957f3e5fa315c222f4f82e84b3242aa1c89a5431052c8e5cedeaff7b74365c7e1091a723ce5847bdfd0bbbb79ea62e3ffcf84f865c9b33eccc56b28ed7d8563979d2b61a328a1d8a8f010335a1f6d0af18dddc8c26aa6d1dec9b71c81c9bf2c39771b6a87e616d7235874c89ce8ddbf5fa789f0acdcc5adcf1ede7f145c2446e2e1d53d6d1971ae8d61f4063d34857b257a562e52f546e8b188def7157a9053226f7ec1fc6f438e3815e320ce9590d09e3264f2095235e728f28e2ad270f1d6d286fd084143ec50b602d42519fda77a08311630bb68097f053664f8b9a60cb6f6e4adca94aefd300af8e37a5e8145876b7af5fd7184146b6d240603eb39444f103916d50ed1f98ba2f681b25240368e6cc431f3ed057efa938676e16f6ce2246a5fc464bcc00b359df4df1da9bc4d7e2e04d0d63edc04c3df7a883609a4c32b3146d034a69a70820847eeabeeb1ac732ab44e29d0c802559d0a216bd5d5a86a2cefa83bd05e9569c370853a2f10a94031c377b7cebab2210e0dddc95dba4e4e00d2310be518b67b801e68e3e4681a209e8cd7255c4906d96d74ed5f712bee07ab35ff6e42c73f441b2826f840168f706b98ca69ae0c0fdac43f64be6e4158cc9afd51f057c7d0715012dc07dd08c37706bf4423eb708734df30206425eca5e6e0e88748ba0eae74bcbfe3dcac6cfeae49e5bb85ded0e2f07a75b180302a1a9e3e8a87930f2b4908e786b340768d050d1ca8b579a06df32922f0bcc5b5cc709942dbbbf753601f4ea2606d5e093a7cb1f899f4c3d4c54b7c77fadc717013e4e5798b623d0c7325a55604b4b80a42dfefb2f88e404acaaa5b48ac6596dd8f46819cc50f156401cac80246a99c1452236521b3a9df55f27d40fdb0bcdf932bf56024b38c2ca105b2780976c07bc06e23234630ca1c862222b8ee99ed91b77d15a9a8da14399dc31ea153a139a269a01a04458c3b1b72cbccab2f00fd18af7dd5ec969baf5e7b984e92352a4b55054bfa1ecd1539048af739f86a44d0f9f8f6965a02739cc56f8e72a038553999fbb0fcfa4a35811b005b4ec1578ec8a7accf8a14ef5ce60ecf9f7412eaa5926930cadf512323289ab46922f447292264b144f714c32316017acc97d8589b4612259460ed52701935e54a7144239fb8eb092cf8ccbe8d9dfb6b8da0287f851aabb7eff1f482a02de009e05f378abc17fb4ffb7778dff89b3530c404d1c875ff2c3d15c2dd2a63abf737b7670479d986b5cf30762635c7cdd8c6210b94bcb564cc3232b609d50698d3fc421468954f98c1852393c67a01858a4128e5711f5564b4b3359867ead7bac4c45d1c7d3d461adf2f551f4a2e48a10f87c6af2f2f30028720fafd1c78be7429d899b091ecf805652f924c4ae44177a534d5bdf8bffd98f9441ec28c8e0e3b5f44f1d9311c47120d77ebb6d576ec23f654b8abe54cc29a6f91ce5abec43b0257f790590803102f88e83fb9ac7136e78a6408a6a1b7737f531d3aa9d7c26457c30d89fa75650a16c1721fb4d6fe2bb074d58f30b5ac68f5582c45e9de4c5c49c0b654e9bfdd533f3cafbbfde194b6bc6f1da1fa32be08e00181ac6a86a44903c0ac59e88510891652a96bc0f6978977ba6fc8713a8fc70f05ec130f41880075b510f581a925a8a6aa3bf871a3170ffedd11a18823bd6a06707a9bf716768058eedd6ecc1ac17a25c37dc90b121ac7e58475f908ff4fd486d50a3b1551245227f9927168948ec85172cd59e4470abb2caf10ae49f9e6b880f74a76883e94fa1c1d1fff9879711654532440b5e4f2f880b44ac73bfd057f1c44cbfb8a60007d038d26ab1fcaefa15e3a046f04ce399ca26540fd83dfbb2783d8791e58a3c31d5a6766cc5d7cc8b1c15c85b4e5f1168a966dd36ef231ca6ce8a443ab2c81f67247984b43ffefb5c980417a81c7409d466d099c22b4084aed31d788bc903671cf022eef2e0131e16d1d6e0b5d8a6f6c2c1ceef2c828ee89a1a9b42d07865594180ec48cf6bf80cc8c04078b7d76da90f9501e75a1046ae1fa309a05e3b8c8191194d9aa1c5ba4f059d4a7e73f1e056cb842b3a2a54b2c3d7de4637d31e77e31e311cfd6556c03304a35024c3359a2a33fc1eea0e508450c7c52b31fea017c9f2cfbb9a1dd876f334483be2f4a9fe549b6d3c8436825b590094bb6b9133d07a0c416ac10a5f01b25597aa7284585de3dc684183306146cb07f4e199ab0c19f2aae79a4c64cac4584c51bc8d3b51dd65354b77223905309afeb4da4cd46104c520e0ff0eef343a39b46acafa153aff34ac9d054a31c91277e6efd0148236c3321318d71b3285dd479921071c439f065c323558ebaa575fdf6957bcb6ca4ec80b6a78a9c9c5ae5fb22175f05aebce4bc1c796dba7889c695e78adbff70c9733ef04e1d678b0d70674dd4e836b0beeac32ac5979ffa1dc3702285bdfba43d9ee05c2f06529363f6b4484626c9c05005cef46117ada4f885916fd7a89dd2ff80c6d63e598b8b2eeffd8c068a93759a0e5fb094e0a4b627773bb0fc0f5f63f944769b7f3f98d145b110142d6cc581d31d81abdb1a5d6d8053f178f320614cd43259206350ceb30aada7b9a0a38892954aa87a8eeb07e140dd12ef7e9a5091c7c5df0314a5c89c9f4c8148efcf1fc9bf6d402efd334ec1d7c482e7236aa8ac2053b7dec869c63c920c8a7247a4528297d350720f0aec7b28307709bd9edff9da3961da399a0eda957804c1915911d24d1d082fc472d9a5fd991aa97799ab5a28e4a5c8be2f57b2687d7ecbc67642c142ea69f0c921a43b4b4de38c57eee2e41d3e8938935ab507b7569b3d80237939218c6f6ea612c6c6100d988f26c6cdca038bc170896f95f546022fec4aa8f2f9c20906ebda06032c887c8e15442b6cd8e5a86821c1a0096a427a5cccfec13e9e83baca55950c818fcbfd979fb375638e584a9751017708e2547adfdac277530f5a4cb52e31d25ffc8bb7e47b1b8f560dd96481f72f33d7137d727febaa182bd1153d1544695a280f39f88a8533d175bb610984a1f4004156ad33eb65788f285f689d44da80dc15d030c29386b3f1af08d0fdf2c2748d8e0bfc74aa902434a3ad383e247ca15719b36626779f45a8991cab630666d1b4ed30b253a7575ac6d842c3b03489b840303aca96e828dc3ac402c20a494f7068bee8b26f5d424017ae3d64dd81760fba24ae92e190ac4fe9f448997427a84e07dab75e817708804c7cf306af80cd08a8fd4b03e76b164b41a7bf317fd12719d144dd77bd22f625be9898c588423478224b313bd9ba980e38b7de9202529ddde0d920519ee0aff39ccb95def886588b08bc26b2e50be676ec8908efc270e46b495786c9f3f7fed43ab59591ed193444e6925580400a45536c321c04885f41cd8de75807de0d39807b91800f5bffd1431947f681933670936c3fbfc8408c65762a733cdc0e6fe23807aff200af3c51e9347700d754d47c4c643f1c05c5f376f778e1a97f3ce7e2c4b5dc4ce614ed1d1636bf66277c65886f701a65858d33ffbe5763015e1d18230dae64fc0a6ee1cb5ba2f077ae74d75e8bc079482b5d11f5b643cab7cbec6d12d01c4c255fe4d44b00ec31429a84507211e880d5957a7a374baaef6b23d6a09b9beecb3435b558300bc899cef3dcefef9091ad67bb8a989d18ffaae151a122ddcadb3c2349723064bc8bd73eabf42c925b6d6439a8947bc4ee4093ca784f9eeafee32327409184712bb4e67b5a2193be3a171be89d15fe38041ab5fbe5b62a62f5d7d2de6df59608e4edeadbdfb28a9bde74656ba8eea38d623c18f8c463306387c5568ac3661d14258712c52ab7a01a2e6e94209105559049677373ddef70b58d05e622c11124ec0fa4d9d28c75955effc86f84ae552f62e815cdd5710368c43022ce80edcc9191eec9f19d9925aa97c440e55e6bbdce23860bb812c8acbb20bbfa2b0db5862e7abadc62dbc094c82f1975040289b9fa06c784c4674720061919533c5ca0607df5620d2da44074b2d38050e4272800e130fb3e9f6502358a3aab04f3b87673886f3ab19496d609919d67d91081c3297f35fa4e241d279a7a3625ed0422339527eb0beb35dfd31cea9fe86f0ab2555a3ad27243f94e5bf00085a0101014a48eb3fb234eabd67788cfa1299dc70f03b1add2b5338a01e49a5c554068b97339de0d8a7b9fbcae0ab90110860d56c5f7ba8d1566332827ec3750472f6c5aa981e386c2d60a3ff496b48e844f1094b1c3843048b693beeccf11de4743eb695a1571c2edda2d080ccd8fe13c879f8d76733fb54b290804bba42a78c24f76be4c0771577f9777c2ffa5053d764d508313ae97081bde53633b778c4d5226bd0c401eefa4df45191c65ba93b77c609a9bc16acc2eb900621a0eda4cd9420b7ff49eb49169af92f3ec71a973a660fe80589a92c1b26baed0239d1f9f16744ca05248f5bfe7d1d730fd868169b6a0b4c89b5eb58f3408a68627ca8dba7545ca1a1695244fff429a619860987f28aebb468627becf1c246cdacd2bbf1038dcb7ac2aff2b952c390b6a4cafdb3aa58640c7df647882dae2a91cb55e0fe00cd259f7e58326aff9f1acf82084000e1bb88f3963d19558d03d76cc1250bde89ef1cb977ff4b8f02053c22c9e9a181960a4e5cb6c49b149695f6ca025a25c81c5517fe2d610e5b1f0333594d899ab02dc552534ffe965d39992fe9adce900c4000ff2a29ee2d2836ed506e6b2ba95baffeecebfd008f4b0fbe5839e7a3931a5e7c403ee89fa433669205beda567c4bda376303cf6f812ff08c6d9b7c863a899801bfb9afde155b4929a9b75f2c9291ef73b3ff08fa7ce5454f167810d80315708d3f9a0fec0643b3b179c72c3ac5f7520960be584e31c48b361b38899f47daa1b90d919e7e3d65835eb945cf8b53c863d6e192cae750d83897a2174709eabf2ab7df02664c5d892f3cfcc9eb2e8b6c402a2cb9cf0140eb576378dab506aa2283b7487b3f94b183920470c703105991f6799af4b352a07bb5d90a88e91a2c878c19bc7a1d180c9b849f63701a509972045c11f7cf1d05707d03652d4725126933ac6afdf484a058f641788baf2123bdeef1eb57fc5fe20eaf20082d4192abc8adcd3bdb37dd216dedd9583f1679bc66ce6e09410d0b357fb2afeb18ab1c383e2e0460bb42461106a0677b4fb6a6b2936473fa1f765af935671037eda824df7f82a69d1f44758d9f5ca48e986eacd5bb0534f327b2c9d1db8905678d40153961083e231afd7e6a0a89e029d531f0728c6d0d995ea14fd8f3e466d690ef81db8fa5e50e766a4af3d82fdac64ba6e75483e7863eacebcd2f1a6efc59e02c9a0fe98f796d13013893ffe04fb06cb89600bccedec10a91269a42d7c1e86baee4f34cf6a17f395a67dfb03f32b9b249b413e84433f6f8993f0427de1dd7e02c194dd65e89fa4c18671004d6e8701b7ec0994c65e74f546479086d6c5a74219fb93f84a416f465cd90ef0dd32c6cb38de69f1966e6255c57ba4a2bd7c38d4c8b9637d23565adfe6e07535a7eedf8dd9d8e33431dc2a0703810504aefbb92b58460c2e8673c4cbcb3ff44f97454f900209bbd3bb4f57ee4f5613593115b0c14cc1f7c4bdc756a327d86b9ae7b08e7c67c0a0f3b10e7dd26f36df6ac5c6cc630a930084062931348b1a59f4e902990743de163390b58b802d7eb3f478f89a73bc28bc93743b2a494bf912890b3374c3ffc06bf4c6710c8944c5a680bc6d0caba92436c13c5a85935377757b9a72ab76b07fe1d2e39437fac3675512128f211140e54a7ff956e3aaf34a57e4812984155c30d33d20a978939b3219d4dfd974643b9087adeb8aaaebcc50f1f3c8e901053fcd6cc841cb5868df19cb8303135f53fc88837650e20fb3989cdec098716a24331d596dd81b001c47b8c14033349516d8a174a8538b91285a3c0b697d45f9c8876a177714c16dc447c4577d7a6755682213aad82d9fd27121791bd4b3beb060973c168dba7afb42942d295c8f8b82df065554eb5af9bf69615d461103f32e076374218124da3d291bb469096b5a5de7b367f82b11ce213f1c61470c79a060310c0d285bdc86020cf94d2585e04167dac8377d976e09ed323537cd9da1c5c442a41b75690bda6e389aaeb73652a80736e3a48746465a37f50b1e2c998e7ab20c91ad0c18280a1dedd3e2cdc6ad13fc5706ed1089894902a0bd610d6e29efb6fbfb1e1d0c9aaab299a9b37f0af4d3809762120d54de17d4c02e2bda973cebd4d93d652e0508f9bd0f4de3e9863044ff331d0bd1ff4b283166e7df25a63145deccd8a84b101a0197d3770d3560893647e757e25d68e3ea63c9787b697f06e260a969b890989f265650b897733f586e29d071dc062be2a9ed1f27b29617ccdb95a20f7ada1ce15cbb49cb6761153c9e5194b83abd2336a9a34e51f88ac4f324c60bb85393c506c90b4ffddadbf9554cf2f68572969d2011ad6d44d821e3f6d25b0f88270242c03e48f04de9de70dc44c50df97107a43edb221b50b6aa66cce92003d53dd42daa8bf15ff2da441bbb3fb284876c3549b837c92ca020d61529c82b336061b6330e7b491caaa1b3f7e8424b39e61e56b028fe8b74f01e9349a261f19388680df1bc92865c1242531bb58011ea177c4039dc71f03b3e2fe94a8e1a0348ce58888c16f6dc412a874295faf94a2a8595f4c75791ea49146b5c2066bce169f89a3bbad43e2cc52b0d3bc3c1601a0632540a10b7b2d0bc09dc697d356696822f71e39cd284606a59c6e49d37f98dc8dce4805258b05a593f93b57945deed7217a545bd40ba79ac13bca662b618277545d1d252e499fb219f601c1b11ebb5f2811261282b6b26694505c9822296ad4eb50917892a329def64d8dedf42a1acaf0de8c32d9182c77325540542382922f230cf13718fb29297f3d7b66782c6d47936887e39e300082d5fe1366960e023d1897cd450fb9a90b66def74a3615887da9e6114b9937422b7e14f39d2a57bd4b9ded670e21017fade69cb522826695c6adc27939efd6ab1978e60bed4f6057be21a2b40463c195f2118749305bab4eed4f8291df66b71adc5b08016a7747e5770b5ad5707600fefa6a5995041e9191c36e3ca3edf265ba1228503a68df588c1205823b881959eb5b71d1d026a3df3a0144d6eac0e2ae86ab5ae2b65fb381ecf2f1fbafac710d8d9731e07e55bb86c306b5dbe3d82790f3c0b2e4cfc223c5a6695a6ffebb185ab79d8edc5df81ec7ff6038320ea3e967268a2c51f1119eda5fa3bcb12decd58e696582f6c4bd2916c29cf966e8460616d0bba15ffd5a86743aac51ef741618adeece2eb333ce6d6efd61eadbcc8a17d17be2e0b2fcb50dc2d61b7da435a37c6c7aaa5f4968798a79c2aa34d3f8ca1586874db49a02abfeb10af93927846990589e8ad25548e64ed3ddd5ddd2ff01cd4e4855531690b225024ed45e5ca5324d8535618e8c4335df9046f99c514e843f51981596fae8bbe982113d56627c3371c9241905437a75368a5ac042b9fc70ea5c535bc74707acd9aa93136fa942d36e5009981b0bbd5ab093cce1a35c396c993db1d8a17728fd948328635bf2e42765c709a59872e42a4df30ba27697076ea693a101b10cc0084fadd2135f8cb8d89074c8fb8fa87cec45133be8e7bffc96826bcd24cc561dc7f2700f9d62eeaeb2ce7eaefa0589b101bf75627021ad237002d86367b77c089e0369486bd4a219b5d16e97de612e9aa18fb1d7281e22bf1b9c7ce3ba2303273557f1621153af96ca47294f641441ff43255a6ffe72a3730cbd64744ca9a58b734f6cedc43c76fc5e8b1e5bf38b52fafe1e001624ef18ccb53e18f4fc802612f75d86075611002f95d39223d6d0c08b0e72036290d3b148b22b4ec05b68634796522e1615a6e1094545af3cfa3720d32a28060ed93c101391df639f3047258b44da45049a9354c21eb2576ee2de95d2a09369cfe50ec0fc7bfa8ee4cda2bbd9c051990ac217c9a254591b47a8ab1f7ce17fed334b223b5486f119014f8b9f793c284632c0324bf18ef1cea61e3b56b331ef274df3b1904d3be368df50e9e74a8fe63fc3c2277528b77fa9eef73792f97632237fc2724b898896ddfa40fad7504eb6cc110e44d038b8f5e2ec84527ab0c10eb56c478a8c3d235d4e9f1021cf5e7d90e2dd02d0be3537ebe1ac732d48ba9c517761da05236962410a61694a1a7c7300c91d967d7079d1e8f14af0b08aa40b57c7fd50ccc32f20fdca72cd1a70e6027de9faa29431e37a3d1c979b3abe63812eecce7ae1ad52e4cf8448b65c286b195a0ff867932bc5138588062057ce3d341ee35f0437f6b5b20e562fb5d6b5cdfeaaacb121a34d33821861688ace2432548c543b44341b61ce886613aef00efad974c21aec6a1cd93c26267c50d875b72fa969822386aefd3de988f807d20f9084273586095eccfc96b13b68808e66ca14e8dca329ffed29bda0c3a0a2a872899999c8e46659c3f8b207382331961ca7e791f94cb6dd219de3d772227938503672732ddc9b9cc61cd28bc30c1701cd16872575fcf4a4b058b2958d4c4b5a4532e91c63a4b6a67375933fa27bd624284d94321433a8b003f48c83d22a89b5cd1637f151b2ef34048a2bc62426884598092b02453b35b4ef1788e565c21c49e5dae5f520430b3e780faf4be88cebdccb63229538b51cc79b08ae0f0b30fd7d597eadf9d7406197e43fdd765e17e8ae679495d131473d44c854d8a50fc3add363f617fb36b6636e88a7694aaa96ccb2345141f469908d61877da2a0579edd2ddc1f61176de81d4413ed6a43a32e7d9aa4e40e38b2b75cc8b07aa25a328b83fea136ff9b5b9a73192a19499ccd48b16e5f43d780106e76d74e909ca97ad64d65d8be30ec853c7632ce69e8ba1669e3669d2e4285f71456357711663a6635fd5abdb7e9cb032ad8efff90dd193320e6562d5dd6bb74769c839658ffdcb8e154604ef09893dc199e9d73f4d0487296dd9cab6f1753267fa9f8c164d73015086d738bd8ab66cd08eeb732180c7485ddf0067e8fc11cdcc4a8cd852735188e207a75aabfe0fb4b01104521c2ab887d32640b29fc713d8f8fda708a02be372f35967f4250c5b2270176a9b03a771d35e8595919c2053965e1ae63fbc21aee3c28719c8c572a494f40163d246cd7c9a159bc506faca2190f6de85f615d6a1e07010e6f58a5492a5c453e60ce14f90f1e91d918987b1eb4615b17688b3463393909bf93aad5e9dbddce27d75beca0963ef47553ece4002dac342c455c56248259ef12d6d0a76bfec65f93f5d9a1f395f842115480874f8bc6116791e64571344b0a40a6dd0fb758a5f90136ee86a7cb4dc67d3fe748d56e21409c0628022bb1cab29679d73db55d40437f170096ef8afcbdc202037550acb0174c906ec41090a105e8fccc4123fe15ac7febfe12af904503b751227f58592a7dd0523420112b78a094d4bf1781c541047749ee7dadb0912e47ca0fa4744d13b12f79bbf5aba0e68106d7259045462c4e878201594d9da4f59ceca9b106a6f73765e4848eb1322c9b8f22acbc0692e8c91f8c92c8371f0079348f0540e1b2a75b4c868edf974f099b832d6fb00af4acda334eb100a31ac4ce42d141677a026065103fdaba09664c86c7c55e0d18a82d651a77020ab42144cef46ccf24d912f3a30147af3c53ae8bc23917fce2d5fc0ae29df6dfc08bc8ba46bcea5b4b93bfdfec90f5cfe206f595d37ceab848474c17a180b153bb0d87f246d40e2ba8c0540bcc84565d4aa966b05890fc29b8b3342fd3e1f2d8b56a80c622def64f02e82156726afc7a9de56835e42acb733233c4f9c38a34e57e8d3f06408c0c34dc87755fad3cdc34e8cb8cb3aac1470cfdfd6971f5144ea411feb92ec6a9b64bcb4f0bb8d433a5e766710215268f6fad456b0e187d036e5aa8ceebe6fd651dbfada50ee792cc7b4fed605fa554f906dd185ac660553a5af469c89e8029ca911588dede33eb7c5f8a92c96afdb1d1ac5ba6483b924b7f08ee267c142e304ebcc6176ca473ab767edbe6614569566ee8f0bdccf4cad87cf7515040346af96d2597d85e14a9e09c1eaca5505d63933e34dc91117d3ea6ddcf7a26ae6da45a7077b88f5ed1fe06eb2a6ba5c623812f3aa1dd3fc21142acf4ae6084f8658c2447ddacda01adaf356a619a00bfad59ae9710d624d32efcba13d35d2f3ec55c6f9dfd07dfbbfb7ff51a993a9b2ca43109f31114eb35c6c2cc5784c6de386132c387a1cb678f4de90e000cfd7453c5c15a1bec2c97d5a194fd6cfb8f90f3ce4abcbd995c81119285d670e2bcfc0cb579422d4a45cdcf129584a5825e88296e688770fb33c168f4971e2ec0760482ba14c537cbb7605e4b32565cd9b017470e30f68b40a1aa169d0593c178ff371d81528e44bd3e30eac1874b4ae105ff72408f903c8d02a79e683f4400c122ee75a3c98df046311df671d1a46564842f4a1fcd48b00a30cfb9460e521e5393b61c8253a32968da8757e134ec4b3a2dc3ea15d579159ba214e08e825ea19f0a49148e4b9145365420ba84a578451a661b81d13ca9c44798bd179a33f1cfe0e659a65e404d5542057b991607980f62dfe1935aae90c93433e09d56cce0d09091f9b7318acadf4bc5b1a08fe3175154191be177b99e0086e6389f66fe95a141c5e7030c98bbb2b5c018e6cd6f9b9aef112b89e992236ca9473e4578fad62046938c7ea3557c3cff03b8b5ac1495e15e3960c226d78c0adb6c0e18e206c0b2f20cfcb2f6ed08a8305c1ab7d03d92eb7697a4f71df85bbe229bc7c61297e3ac0f70df28da8b90569e4772184397d8f97139c9c447b77c0d68f082cb7c7731e39ebcc320e63138c190cc7bc642e950aeba80aabad1682bc63235aff99da8ecc8b230d0a19e3278d779f82e7f9c10b5530aa06869e0d263e98d60793c68af7dbf7404ac268b9ee38b411447756cb48f1dc900061fe7c4e843b2289a117c5522874163e0a2308f1c7f71292220d793c150dd63cd8670bcc3e83c8db6d52ddc2fb35c93cd89e94bd89702da36da01e11bb6b219e156a659e800ad0b2a873e925d4c1f41c684e89c097037981c7daa948d7816f6ae16ac2678b5de4acfd2e1865e462d46b83c7b5e0beb0a184523292d86883c849221fcac3c41fc6f168d2f1a133867f6a32ffcda266395301660ed250b1e3999f9b992463235e821242bddd39a39eef728fc334bd6231b264f9a9317f4e0c362f1958340a77e74463a69a73375a0f0b9ef4e8a4068d83641ade2d4c06a011bd54690275d238487eb055626dcddc9d9bc08327c56358f397d9f526fa54c0411bfe63c0bfe58150989dc5ead0b4489e773f5259c5f8e925791edf6c2bf7b3b5b1e3801de35d1817c3630e6f8af32e96c2d2389fd432ee4560c6a18f995ac89d6985f3b607faf5b5be1e349864366010c1168f1cb99fe0a6c35b25d3ce59121656765b061e3f3c153ac8736f622583e0cb2497df216512911a34d5489c125f93d702cb5c1ffc7fcb8f70a6852ba16f565c7f7538a0dd72c63ef755621adb4aad13933b93389f45d544650e27d30e230ca2b39aea6e50790f2002695a75f98bd973ee2e032ae393a82acc6b6f18076729d7fe0ea8ccd09282c29da82f84635f60975d79601e6f77b2e8e5065aa1fd32c5193256c93367fd1d4895c4fde130215b735ea9b4a06d576af96735109e546d2a6732e15684c2bb852b88238d8cc0ff8aba63a2e67291b50e1189e7248db88a511e093e387cc03d218244108c743157062a96697d7f9eab484ae40a05fd37e43f3f7f57fac913a88982c091f4120b37b15212c679a588dd5d33560de2608af9d484f83dbb6f657e841a4d34393f4d4bed770a1223479aea7df26969997b78d02ec7f59de3ad509307fe4e4c484394d785c2e4a052e6cf757e90c229c9855cadafc757b4679721a328a22af9bbcd38e32f5557ebd9c73ba9a776a561d19ee6519824143feb07c1791c0cc66a986f6ea25b9ae32e8081a35930b37b53969be5fad466531800555876019dbad66f2f3573d5b1cc05a66c84d03b95d793e4e641ffde5e7120fd31bea3d603911e038f1a237b15aaf0a848a4a0c946ca4e4390dd2f85fd4a2c6c0cd15326e8df3070d36d3de952f6f00c570aa0a5fa45336dbd6d30834827c1fe01b1dac784d829ab309e952d9fb116398dbb722c523208dd42d5cd375c71da9e0aea2800a876358228985797f6580e7317df206518669b46e82a7af901770ff1b72290eb09e67fa03602d0cabca7b665b8316c7631cbb243a64a73e78bf9570b78ae73a2db086c88b4795d23204da50a67b24c4b8477e6a4b07e35f1a89f633b2766fa51f6c454ae431d78dd704613610f94924613b4b082c721636954f4d1bbc54c007748255d46a26b6734a6f536abb4ff195314259351cfc23dc4e7176d6c8dad0ea6f1ec794f58e54d9d270526d3a63bf003a9c4557ee4bc79eb48415c90e72ff079dde6d4de5506fdade23485ba5a83","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3bd92bb117687b5361f803e0886d426f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
