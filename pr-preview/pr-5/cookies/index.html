<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b63b056231863acf27a126ee986257f22e96a3c8c55dfc8375f7f8a8162c41e8aebee9d3cd94cade5d86deedfeddd7f1e892e2f0b5cd4090f66ba570cec29c1696a3b4363a18940c1abc67f6cf0084f55cc762f9b62452a696539d507a37252cebd898124b0ac7db74b8c9747e66583f4f16172e9a0987fe2b2b61389fd87b06fdc2db9f5b17764a842da4f93680c526b494523472c8c8bddb6c6f8280c54bb262dc9116897a5da710d8f27f57a5b613e19e61b14b196e6daa8ca247f991ddf320662d2930b538d9fb3211749be196060eade2ab0a3c2ea396ba29ce8ec30f0ef8091736e367f1e0dd000ccc9077f17b5c4c5b1985e45f0d8766d318bf7430cfd56872159fcf72ac8b88b092d8b55b997284d78949668bbabce26c390fd00f4f4c7d1437a6bad0e6cbe34626918a936ef4ca581ce130d19e83a35d5b5d881f3c2f4ad8d9698b60d8aab90c8fb96c220a7a4b27f7e060960d1e4db5a6ebc042ed7d5b287bc40472fd89b533a4973827cdd985bcd99b5cc540a8d2264684fbcd99f1fa7aca786f6cd03a51fd1dde07e05f87211429b35ecafed77d27be58ea7a86c4c8a8b68eedf668ebf2768ca3fcaed7b16b11d1ea0b3a097dc92e39ac2dcba5381ad3b54eaaec413e24cecda81f3008ec47175e85b8f86e9c9e85f963a39db752b5d49f3212ca745b30d19022109acb183049938d279476ce16246d52a61c63b5f69d23836ae7345d513926abe86b301b286666ae12eef80eca9c99c90dae335493ac618eb7c10abd5397e6f6188d5c8aae0d9c21af688c91915773fc3f749adcc6caa8c68a06db7dc367d0fabf32ebac162bd2896120b8ff75b10f6fc62a52a53fa757f17116fa916023df0f36c5d8550829f33b8f029fa73981c44a01fd673420b78f16083e4a0d15969982fc9fb07a1dd99d4c4b387955aa5632702ae4d2c2464e84657aa8bba7cd50aa3a5c9ea4fb12cac6f279fb8f7bed7f925328da2ce47df769d7c29be78ffce2b5c8357bffe545fdf92c44bd4fff23332035c5899d8a8f5c6fb5c6160356fb5bd838d03f716498f1a69ba8f812970471a30cc2dce9002ea013c1faf4bcf6d620a111c4ba78a8eef035158026a099156664da9d72b8f3f6566598884f59ef00a789cae4c1db4357b4483aab80ca8a2af4cb128307281fece673f45764eb66b26f2f0fec665a78771f47e4f6509ec8459bfae6f09c41bdc23f6dfc2e32d66618dcb0227d4f256eedb9d2699116194cd49da471f8eddee9c047554ddca9138602ff12951793827e61bd14b358c932a0ab059e84de42ee8584c51733ac061c35d1c2eae3e26f005d56a216af2c8603c743abcdee96ab7ce27eec3d8791ee0f92517b393ced443e910c33a546e44d5ebf9ea8cfddc078f5713b2ebc2d24309ac6f3b3a7d9a32e707666c6454e7c66882f7c95e074807660a2807258d8609f2ad42aa2618c7b5e8403a18c20cea8355d674f1496151fa5ad8bcf81d27b5cf129ff5754c2527959e3377af4ef00154044e9b6098fd6e2a3f7a1de3828ff7409052e332444bc4e3613711b68ad66e49e6245018dd52ca5f0ae5368784241668875e3412b0b837b4d84bc40397000d110b2746cfc9e1c25e7ca53912504298f8feb80cb4e512b9f1ccaaaa38f2fc691777598c5e04e4b1600f27acf0c30fe6fae94bd0fe4b64c972a8fb849b6c5d5a96f22642397fd3af08cb2c714e1797f7fe69b228ee194de63ed5343a6d723c21982415df5c26bb2278390c08e5d2cdc08929173bd904d5af735b1a4d65cf5122b9fb74088b12a7007d324df0fcaecb5232353b5f58aac61aa6eb505bc9377def594f011b9026e9444fcfa5abc5e15e8327172e1d97b738e2881a47aaac131f9b9f007f8ef230d0ace2a69dcaf095cbde68c988dd4fcee39e8e92cace119146180e1b3ef190e6f82a29aaabcfac5ab2f056a8194239991724fcf7c0a662b5dba0ef9512adae805d6dd0a7596f5b823c884e95011418086fd4b25fb97744f08e310deae72e4325334fc5888d607c29bf019dcc7d2b4645e73e3d62d1d92823d0839c829cbfbc9a07c06950c2c87c5026d1de2a92080f5cb0f58d0f3daded18fed1ba89f5fb21ec9256315281c0753d87eb01348f1d60184c6e5a618cd877e256a0ab6fe590ce541d7dac1f6d70bb63d10555b669be0344fb2aa5d324b54ae916cc647997e766e33f4677c9b9d2ba2c73a19e02a7cc6cb1cd8946ef56b2231970cfa20aeba2ea8ecd3a6927f890ba6e96568c888438dce7e6910ca9604bafcbfca11d30ee87e533135955fd4ae21431303507db956eac32c73e2c7ddcd1e9193f38f93e322f739710de4b0237f16607dbb36a07a3aeb51f865ceebeb7a78a9f2807ad7c9981b4922cbc30145084225ca33737699a872c3858f170f6463fab17766777a4c008da973c51ee8156c6443aebb3493ae16ee13ba616c26aec5e0eaddfaaba634a94d037533a0dca61424327cbecd46116b189d5702766da49acf1b8730e61ee8c7435d0ff4547b028e6466d3c87a93627daf92a696aa41c3d7b7b7b096c8d05d61bcf24d47655706f764a44533017ac91ac0a2855abed9b44d94221914eb9d073c278dca4829cdad1dff190e7dcdc52ff2496ffca55701e72256e62a80afa8c145d78b9ba797e66d1c2f3c13cb002871c4199767fdad8940101ea89cc7a05b5c1d6e7e6bca75cddaba85c594f5141dc61d2e3960dd006dea9428f2ea584a2536b337e436895d5e34c0160d838c69c94a9c14e7ce16bfe1afc107d7b14a5467b6be558d396549f4b8ac9bcb4100a2f0eaeb82db51e499a1e57a1ccd8ccbff260ee46cf248fcc40e09cca85a4e8c63f322f94032720a8dde2a449319420d0d49ec2a0a5ced2c5f4885067f2da1aa6ef5f3ca35f036c10452efcb149fd7ea1e0c4c835a70ea0ed860eb59394d7f07be71c215e5b94aa248bee809d56aacbbbb2edfe9e676b25028d10119b5539c9923cd4ec6e51142c09fec006e161139290a928b9a62c3a5f7791d16b91be0cc1634fc103dad73c06e3a5b8f6f9d1a399a08903c6f5a5f735398834c20302bb0c2aea38c81801b7cf4e031d7abab99a0787b7a619168f042b35e34b4f6ccbfa57404b389e10224519cb8c283d7cfb6f6b739f17960b3dd43257f9f305870b0ae42d776fa21df8e3af8579f2ff450cc047069c7940961e86c3b02b2cd50c165cfaed988aacdd2564451332d52daa98e69bbf13b074bf33fd30384477d48236a7353da83a76df9e379c760c9542d71f2908340a04cd1fe3a964ef9614b24be517a72909bbeeb70f7c46ba52109b6ec7257d9b54936ffe6f38b52ef6de9975d4d23c54a11baf2e1bbd1a64b0c00d48805d3b81b0ea20dd8002e2e4db81038ff0731e32c9d0baeff3c7178ba7192630f7ab8bf80dd54ed1effe373ad64e07c08dd8b712d931b49faa3c08fc12cf2f84424c94afea029c2ced2e85eddb5a48061d60df89e82b8095602a2d76e656a90bd55adad852dc6c8fe4677b4c3ea01cda45669f0d937d2894f74e1529ec03a3cf2f99ebe450bb2f57ca7d6be34e7117d26d91769a7d0bb95e24e851abc52d98f33f4e381a96795984a35e8a3b2303ea067736ab70d2395df568dee0142680ef70610478a26171bbf23547d16e170721af8f5053eb0ba36120da91f6c27857ec97c7e4492291b9de4058377535cc5db91c90f977eb20a5a0b3af9a1ed7fc97969939c2bf5b05cc0352431b211c26295c23bd8e43fc67bb3589920583e29306d59cdbb09bf33a0c73e8109f804e40a4e757602ca92f314372484b7b9d242a70ca25d799751c9d718acfd9ab3b99c2b2f1db7e0a206d542c432258fedc345ba002e270e14759ae58b4d8596c47942bc37277c05e42aaf7137d4d887f422acaf78f05b3565bbfcdc50dc62c30fdb00ac69726daba1d8e3c4fd4da072fae6f358c5e0333bed1b215eeecf6dbcef11a23780816ab83d8d8e51ceafd8594a688ed944a2f6b413a94a137f0d1b7e99cda87367cc825a48db5e9c88bea5e2c56d88df0fefee4ddcccd95e1e7c0e3c076f1fc7ca7e28387d3e99d5aed9fa54a4fd863835d2618b52347fd56c6823b6d923acf9b855c9e0977a20495746c62a35668e97180a76652113146da0309c134097d423848e6b8152a6c816ad2005dcca7657d3ee6fd6f7d45fe49d95d7f7a8151751eea8ea1265b5ea0bfcf55fe0ccc57e468af9ec7674990ce4188f8b461c97ee58b67d115f34e30677e91e683d4584b67e0c4f62f0e8a485326634ac801d3c248ba433f84eb33f59cdb4eb94aa9a9e0bb4eab265e340df2bb0c07d210805e7093c51e5618ac93b9c87323ca790c2b51262cb7622bacb0b76539b30d168f63586a054d00fa773b36105b1dd53f6b59e7bd0548aad981c43b23a02c957050661067d767667b21f47f91e2da32d7c7a37676f4f8783c04e3004ef082e25fe61f585b612f52aef3240cf0a79851661d73450e41fa2599764000b7fd3a653103735d6c533b1cd31618c2ce8fcb97fdd312200d1bd322ab2cc9121350e153bea28628a9102491423574705e57043ae25ee5af23f287755fbcfbb0c01956b6ad3dbf89fcdea55abcbcfe2625196f8886676009f5022cc66a4931d90e3ec0cc4c1a6f515123ec9d1609a539387457fc8a6d16e257924bd1972bc0cbe57f1916d890c6a6fb72ccf757fda6ce11d498757cfab50daa597724ac574fd034dd8cc352624659d75eda33074cce17c161a59a4893331e3479e29b5882392742dc661b19d7cfa6df4dccca9cd3330d6bd6eb8cc5eea52e35a4c9b479b6796f2adac7a13492ad97c1da2dcb647d1cd2dc3ee4805e4be99e4ffc24a458c70d1906ca3515ee43d7ec3eda5a5e7d4edb65a5e6e546e4cf2f8739fd3349ac8f3160e5278de8bc57b3c4da72bc1dbd5d1d487f6ad1307a80c2e2ec84808832ac128c349742ef063b6222af9a0495b13e21cf9929069745cdcda48c520ed965a0879472c95b422d6aa003c81be806f6ed86d999ca339fb1b81698f2c7d9ddaaefbc603c168373d6d868fc96f0e9cb8f7b5147db6bbb4f662c4afe7d8090833a3a1a5d6e75c666d4fe1fe710ff443b809967fb0cb1d769a5800bf6959c7118d7792cd94dee82385ddba5e9cbacd0bbdc49b196b9975c261d73022f6646767b3fe5cdccd8c86293cc2601d55f01d642cd9236d33922e03bc0b52cdf2afafda91ab7e323527978a68a7b57306c12be601dfccee48ab6967813d54dd07e781f74f00167e93732bec754801fe572e1034864e6f80f4b25e62c402c37e7eaf2a18aa96e672b09f18f63a2d389193b30bc804975eddba7b48092d5cd47680b7516b6284d52500a94578eb61805f1871c62a0f37c8fb742081178a8a72007f104f730bf96674a52503e22a186c6921d614733017db82f37fb632788105be3d0520b24a8032da11ee5ef57b1f052b588f22e75412aca67cda0cc568c10c4f1b30e972179d6d94aed0ea651a8e1ff72cb8f53bb2c9b9d15adae2409ced890d147577881838214f8d65b1848276f8b07c65528f67c104221a130934d50dfe92574139a800884ba81d54a1d3f284e338df8eecb4f3defb899c08c36de1a68f381ceaca577ce811334b729fb12ac4d98358cb5b8f9c8b0d1e676728a2aaac63ea738bb28a2a8701324bfc48d762f20683856e2eb36c53c711c8bbfb72857afaa5d9ba712f64d313e22b7f659ac09739e66b23bc572446568f2798a30f1ea5e05440097fb5e6456dbad98b5d630fa2b2cd9d555db9980c4059688cb39381b3419bb36b56a1604d8ae557dc99e5189fefba01d9d80e60a547d146e1c17391da3bd231b0e96856a8a8bb198416d1953c2d0c571fd98db4bd53a91c2956d6b7a0e8a9a5f8fa05ac7d45a415372e76d94e2629471ab1293d631412c6bc4f6b1838a5e95f38b9742be762bf9b19e913b63b48044cf1822bbb0964a6692ff364da19bd9a7cc2fb3bd8404945432cd47a92bfcb5c6fab6f7b2bfe33abb27307f19b705985909c4524b900a8077c2d8c2dfe41f67739a1fe9006d41608db1fa7d7dba1f96f169fe09a254fce95856df151fb06ed4fcaea177a5fd5cd768c8f109609d4fb3924d9f25f5ad7d48f78f84c0b0392d99cebba2fc69134d9e71c2cb1438eac032fff4b8fc32fdfb2bd589db31adba2a5a0bfa5c1b9623fa38291ea59c9926810e68b1998cb886c44a6a2e3ed736b45d797c8b58ef08964b1f5cc4b22198d45220c024478d3b32f8b18dba324661d488b28d014d729c300cdc927df3cc890b5f04c6d7de08f0d943f1a81cb835f54ce422e0dc80911a746171af51164986787ac11ca7d1f3b7404c23107d68f2348b059a13100f90486b9b52dd71bf1cecb98de1ddd5d573cbbfb9cd38dbeb72d693a89e6f61927949d07a2dcc8aac206a2a0184b627746a164c7ace55ffaaf9163398181c31ba6da64cf9b2b0352c8356bc4b985d3f38e8750e2285995b72c99e4c1c051d403159443d7868aeddf4824f8e4f732fb0eb537edb36c9e319cdb8e6714433d70d908e3e9ad1805707cb0b006b1b7e799bf68b3d9f9164ba9576fc7e1ba133ea9af71c964b022ef4862c6542e595dd13cd4bc37f95ce31416a03df68f6b28b0ee14f2de30c5f94c60dd886dd89fa90e97014e04be506a2d2b75b416173fcf6ef0a51d016b0ff1e71af78fcba4fd335d218c493571264afe2040d62c79ac88053c959de8ac916036c0169539d0c032197bd4786ff606ea8cadc0492cb339363b8e652b309a38dce16e1f33b0204edaaa3a98a5cf0100a695f84a6c83f2959c314854b73ac5d18f85162258ee4055b461bced2c1d907896be3b94ec7e59e3997d4487ed8b851d4826fe1469512cf7b1277a9524578149c681e54b0c5fad7daef8bd0c9552773a8af80e5d703131e0dbe2e0a7ae2f9f0d18d7b57ce61987d51f159818e3257ea6af869d1988b02f3e4432e857f8c6a93466dcfe6a124d0b8b851fd1916547a948ce3dc7645a7ccaf5b489df09986b2b61d69f3d77a981d5ec369708e934ce0dc0efb26993249aad3779abc96b17ca687de093f3046605ce2d1acc5192892f8c77de4f6bb5af76dd2929365b18ecc6aba06a93cb535a8a5c4b7298e595153daafbcf02181cd29a2ddce90b4fba1d03e5877866b700be17d9159d297ebca9dd1cf98695fb9af0e181d385a3fbdcd1bbf2665c54ca1d5f6a6909456efcc4bcb5f29e8dad13af0f26f369786ab095f18317da1e124196832b78ac07061bc4769697cfa9a770567e36d8852f0fe7326bbad16692f23046a8b452f86d83df38bbebdfc566863007863254454513d54d934f5cfc01369e252ef4b703de51df0fafa3f79e1a100b42be9121b5667894f83dd494e1da23272eaec77b3d995799f4deecf34879eca51c2abb0ee7bc7c067466277cc63be37adfc7cc2ebba807b8ac3336ace6075c64222cf14d4a8338cdaee628912e240bbb9d7673e20fc820058e05b01e5480a0885ef4bdb96085d1164639703591a7f430e6f73bdcb6adc15da5992e1fe00c81e27adce5c7c3c5e2a7232217a65171915b90ccd6ee02faeb4e21962a91c18c5c4e65242a8ff7d3c0646b4bd2fa8cb106b16f0a50f45b8ddfb9e86db76b7cbe4df35a63bf40d4de051c3c55f3688e99f24f4e36223f7d4628ea810953c91895263c254e47092bf5dd481d1d234d347cb909760259426c2bf2b3cc458810bde329bfe9a072cf5f2ae5a7bc5a4d70c3b248ca21420620a4a5b9e1589c64534e2ac8030ea37592ac29426f619206892df466608b021684c93b0c25e237053d50442660f2a1fc93a28123c513c9e8fbcbc0c6c20b65df76253a01c128b31cfb8e5f52cea5bfc79cb27ea3cbf3d753226c9989b600381a4bd1f4aa2304a00ff827349fc5ac9d1e24735c8c10f1934e964ff3faa24daf25f2e2e42e94bba531c1bd92850a5fa0034d09418072e33f171c32301388c83c75421fdb3e8587283ee94eb9d8628485e05b15d1dc069a24522441873a11342c96988bec402df25d9e24fb7c2ff7b8af3f804eaa9939b0153cedcff26c34d86c8228e5726c612016c8e2af4eccaa8a05e51d1739fc616695ac14dfeb230bac1d8bb88e1e5490fb0828bcac621082685cd016b41d3896b4ad66bb6a7c808034fc36f59144d642731082af0bd4fcc2c469a6ac942fded34ba0b98b1b539b86069e127b1bfb537d8cb32bed632e9fd32e3a6dbcedac5e7065d02345396f5ed4531011d57b7436f975bab8773a5126d3eb5baca159e012e3c7e5049c023dec8d89abf23bb7d8494d0924545920553452799f64677596291c44c0659b55b614f160a07091e588edb0de1096844d2062e09d232b693b6a34fff1d5f8798907cfa33f6f2c9ef690195eac7c75eaad4fec0c8cb95279843625951d5f3656ab4803551e970888d6ef1e1534eea828642a396588d70d7d429021d0d6eb8787e5267cc4501997b03b8b5c6f8ff635c866e0a2a9227430bf66cb0ac8b085d6b46e2c29c1a6b5e783ecd63a30a00ea26ed285ed0543df3ae543d0a25ad4c2417b412b7fa893185a151f0f7a966f4a61a691dc571d01fece1f76ad216e8a630d5eec0fa4ff2a6002ea7a9a687d272bacf3486f54348cc09365eb943a319516f0ee5dbd74a81ec51677a1553af2e009535cc072790743c3bb92af132f29242ab79cd5d8dd7c3e4071e33c98bb19525cc9bb87428a8774d2fdd9c3d98b226343723a32af90106943962e2ae71c670a206cb0a2cdaa985045788e442fec62b17db9c4f7e4438f19f36e0518bb08c9c8a1124fd01001096c622ee73e3e7e5e6d55cfba740b33076cd26dcc2d4de9aeff0e7d80e2567c84f9824ef510bbdddbe6c76b499517a1969c9e68886673147a547e127e17bb9677d1aa1a6664bbca588b1e82f49c00a6f4674490fef54512e2b65c3e54731539d15747644ef6d2b4a4a6b910f8e5d7586b832569da03e74d74b1116ae07592a44a12faea03ef38e25a7b9048ececee7ee89d097c80da6151b5804788d8d8894deaf278dad95ea6ce4dbea4d285a55eeebceacaa4f0273f04c092b42b39b4dba17d04504e5b136c6c4d1c437a316d915bec289ce4032e565bd18d8e976ab9555d8ab7e38dfb508d85649e080e3f1d4e7f1365d7ed676ecfd58afed1e32c6c1871be1977ce7e22ede9c32f3cfac78e7063ed590d647e9303657e244e8927c1a930512a33e2bb1179ecb3adc575404572012a4945ca63cd6e50276e3cfe50dad4402b53c9a7634069875d6135d3c6b0b24e8aff24b638f961879879a7f0094d623728247327cddd91c4d4cbf3514ce6b727378d8d786e0336e6e0b56be73ae33304d11f157b5f4aa6737df64f20552cf8557d80fc30ae2123a629c26a57e0b20e2adbd89d2eb0c90121136c88492cac354eda16283bf48423b235e355314cfcc9da02651a20f6b8d8464a881eff3233cc627485104bd7c44d3840e889228fda3b324831f9ddeb64242de106a4cf23b508e4ff25fd4fa07b4704d8defce8d9f3375fde321296b3c2f96ec8987e338cc59fa2723cd8295f844770e02a3d20cd4444106c21537a0c3d7aec9fe619e5f45d19037dbebb13d096a2cb871fa68f2eb4e8e9176ca210f9b337f6925c48d1cd60a6c0d2f34b5439569d260c56e2a2ae57957d9cdd7bf977c8e94258c9e623346997c4ed224d5c247dfa917ce037b266e54bb91f0b795ee6917688a67a9e6db509d10e7ea57c29d938e0b7a477fa7ec32885e5064aaff5dc30d57f5767592df5babe22a98709bfd312c588ab61ed60afeedd9975a2a53674eb2826f5380a85f67c0d4f4749bed0f98e8698c2c86cead0ed064f455ebc94a9eddb7dc1f4d345a2816b30d43e14adedee6918d8436093f56e4272e03527e32b5881f1e9db2e3c4cbd57c0184a3c2c3101feb0df0ae4d0dcb1643d9294df0054255d7f3981e69c75d0b57991e885c9d51cf4b0c249fda48bf9d34e7b5000724ddcf9d310c6d9044339155af6874b735a8aca99cf8bc4a8c651434348c384b6866330b82231bc8279c398df279a2c3bac1dc5f7203ae6c4b4dc884f6d82d00b5402a6e5d4d3ccae4c4ebe3f27a8f7f1faba49ebdeb33dedcc3047d12836aaeb62e81873384211a72ef9ed16ca28764c85572181d23a16f00ac9703a444a36c66b9c30bf3a4fcd1ef3b6dc695150d3a7e287a6ed6839f6201a8f9020c34705a8fbff48d3f3261a6fdd6ca4df97b8b19761535bb555999ab991421cd8bb35d70aa7231be32ba80f052214af6361b24d0f465204b22e0b3fd4d5f46da43300a3241058decd1a2aa5edb5b74eaac485cf78d598a6c3d10c28390f6d2dbb044cf54b9e11a59361b98f39b3e47459a84dd49ad0878aaa1e68c6113adc35eddda9dc4b49da06195dce740ef718a31cd4718bbc689c027e7f8959357c8a8530a6fc2c6dffeb5ec656e7ad8fd79b0ad922e3d18191727022f1142bd4336f270d6ee3f3945ebff824150bb01fd008bfb5f245dcc8798ae7b9eb419cd25da9e9790feedca8712bf76eb54a53626b11c39f23d2fe0040e99fe080a629b6e7dd7942cd86a848f62d9e8847414a77ff38ddf7698a83908dd847de49b649ba8866d53e077b9911f95a2b8d8daf17a19b1a5815872003177a969af1008420991765996888d0ec8d10317b45fd50f959382b4ab89ff435b2aaba274d969df6ff6c51b1355e726ea732fa66411cd429a7b8c9e7ee88d468c253b86f83ed74409a1954758b4e8a8c6466a5cdde175e8f90553cd6f85ee000289d49a2d0f881543438a9512b154f35d35756615a90f728cbff6d5e2f0f582bc61d2e80e68f5fce590d9686866b806fa63e39713d6483b5f337c5946aecef46f036046b12dd62195f8a49431cc7a061dfdea8d31b3d7d43c5b7e9d266726006eec2b1207b4700af36e32e68e73c265a08c424c5afb00ea04fccb2514a160aa6c0a34096090eadb344b7ed75d716f447cc45a870d6cc77c9bca21e4681979f4a93c756f13923aa4591b1294138d2f89f793e66d9f4c4510a43dbd5a271d6c82703fdd68bd0ea3e39de273e18ccb7067c959619c98d620e5ce501ba25e1830a2aab3c5751000b6752cb809e850cce89f0c9976fa77b49ff0e6046b6a0382f230157aa00838e166ee24482c07a48a02ef5309a286888aa82b24a6c5728d70546da5f9d5b174f8c71dab3a222a1e104fecd228c7d13841628839cff253581241d3774ade16d3e5940f43bc73d1f1317a18bf7ee028bf9d6b7e644d8552b393c1ea7cab44e646543c85e35e4377795bc1a049c517633556647cff8766ede56742d1c1f5ca27f1cb72da86a36f6e5a05c6072ab671f474062ec4c0a078f16b92986ae76bfc81eead7b92d5f11e00ef4e61c48a0471101978f470d5f75296bbb079136575eefece11d0539a552dc200b4f748d2db3644b9d932cb901f417aa0a1df2ef812843d2eeaef013710db797a8a2dd1256066f390c40bdf0806e4142bdfd5f73bb17cc02f913510b8df9993ba6f880b7459604f4cac9e5ee64d1cb108ed4e31ba51d646c786d559c6089019d047399099c5ce9ac79214eff543080907ad7139537ab98cdf97a4f6b5e35df8093062f587aa35ee7e5ab826d167e5d4b36fc6d48abd718f1fc9fcfc568c22d99b8ecbf77c49aa9c98db479e27ef8141168f6ade02c99fab89d4a6339fbbe92d661984927858825c53574d9d476e51e29124b5a7b822d3c0f411f388f4ad7e771471d3e3262b2a24e6b61d2ffd4ea3c34743cd9fcb1a33256048ebebce4316c8c5d73ccb213a4b11c3d4860e9a4e10a08abaf9c96902853e90889b6b694d93b236d96b06f4e93bd5c3c3a8c13f96fc66937a4f6d51e66b076f07a6a73f9c9e2fd86d6bf07913406bfe8775f671b5d2541441ce22b6d027fdb877a05c97758c69c3f0d551c70fb02531bf1ad46f082cc1c99fc28776c7286ba9daa5685e19ad020aceaa414f10a9a1639f3359266b3ebbc7daa1b8bc9b0c9aae0c2a99abbb6c44bf2e5683bdce18eb819405fa5225034b352ae03957045175a05ce572d207874e080c2b980ca0139d90a57568ef52287738083e7e9a547ce79563a7a69f89070d99847e374f0342cb561b2bc3659cbedbe987ea552e4a9bd9026a261ccc74decf16aabf568b37dd3ef9beafbe298f91e54cf49b7e76126538004020e6500f07b4dba0a57481e007c9f0a084ce55a90c1e8bc79885a68b794d586e9d176c67f2b4db1849b14e4f8b5160181337384d6270544cd053e201cb10bcbeaf3daddefd501e8c7756a8f4a36c3183c934c2d00980bde6eda2f24742ee7466845b9f046933a97292e1b814983a525089ef9f303aec5d3ee4e98d7db155facca262d04d5f37c1702da3c61c1be9381e995d53b62a504b4233d0194f229558059813b089fd70deef97e9d511bd60049c895cb59a40d2e11e0230717d662d222fcd488e754a53a83bf99bdb674c0d424aa42a40017c15d57091a4c8d47126e90cf71f16855b43a2cf01371d5b8921e93fd4ce63cb53255a00555e576ad807e8447cc31f364fef628333a6273be9504432e0562aa5a15945ecfbbb1012b36373ae50b2253367ab8e8a17864b23c23ef5cf6efaaba0553b2c0b318f6f98e89d21f9ce0e0e721af62b31366f368a81ac9186a3d9a9b183fb667d136adbdaf8178490f3d7eae700c29a01dc2595ecf0933a2d4ef70225fabd80ce569bb964a41e5a7e8ddb7dd81c28391e08fe2f60f3606ccf620f3a54790a0c19fdb262143a8f7494989ac4ee020e01e3cde3ac05d077657d93d06aa92123a5ad2e402d444bcd6d01bcbf3ecf35c870458baa1c211cc471461de41fefa9901417066139f3dc3a1f11df998914d96961c5809578377e09ff71b63dd3668002e554403d6c8a5a5bf9c66926058045bd1eac5c4cb541ba12d20f627a6ff77a4b6a06fc48798704a423bdf15b2bd1450f057a1042458d893e55c17576f11aafda484648badb1a8360dbbf40da799cbacc7ca509f7fd73a8df0dd2eaa370fd626d083f91095aaab5334771397dbdfaa56e621f04c02e2b4a8f03fb84e2319f0313aa73687be92d1d6381e9bacbf86a935b98ca303e2b5e553407c6e12f491bcd3fa3ebde722f47ab71921039aa718b70296710734d96257c24c949ae402766bd1957e41c804488d42a4cecf1f39d41eb4961ac7c7604d2d4efc3d2b5e2ded830ba08b5e3d4296eec869891432e0766e77ac21eefa8286743934a2ad187caaf65f783459871ee2c16d8bdf7e3c408c5ac12e2fb7dab0bbed4fa8063913fbb9fa40e32509fbc60d8fd4a29530da38dd32677b0dbdb86b5e48da7fa000e92ae836237ee11bb277f4df39090c976d00ba535fdd1d179932b10b248c79cecc683ee4627fbc41a2375368a968c690e75f3805f69b0623c9c853aa84c3aa09e4e9c4626020167ac0c69be0c166e37d1278cf61ace2747701d5ee66775cfc188fcb19ef0d25262e9cad29cfff9728aa1d9cab6a5cdb856d9677e8eeffe41888ff48105d01bd89698b9eee838e199213aa082219115c1210afeee1108be406cee3741eec21f2baa962a3aa339b4c48cf3c2571d38a87c17cb5aa5bf1f646c91603f12f8e3ec07aac160d13ced8f0653f995040ffacad889e45b3526df881e71df920b8d15495c7929e50987eee7bb48afa41292230dfc99317e5a57eab2368b355bc08a61767ec6ec1636ca7222f11534ce3e9183d1ccafba2cf90859f09f1d6903d2789c3833b452626dabb0d0c8fb1396c3d5a95384d0a6c099b0a7865b9b5d9bcecc4a12440325ec243f920c8ff6d1bb667db95270e6b52fe92cccd09b56f7db5e22a4c5ecc03d35a4123f188d7f83c1a0a3fa75aefdfadca068a5912bfef91ff3d62112b8e3faa2e9c22e3d48114cd76e243f7084ab92d57869f2b1aa47f1cd3cac8920070e03f693fb130bdfee1b1e794936c0eff757795855eec43298350705c524e60f8bc79b7877a97a00eb1218bf8cd4555f122085f5aaa3f03292190722233274740b04b8ab0ef88a6feb14e5fe479ea8f67a70ea5dd681f151d84ca09dca34f77e0fad14509eb6863a80853e0c75f59a1d08068135779da02a1b176d9e63c9bd64067dd682b8ded11f01844ed564968ebfce242c7f91e409953ab691579de3c5933d46e286953b3d34786d8c3d14ba60863ab371777d2b684b35e0452d150adbfc2a068201e2317a86c111eb8d913962b713e5df25828e9facc0809c09d2aa7139e0f85fd8a7cf466d360377e6c934c0d19ccde6919903e8ab17ba57eccd73fd834d809d033c0639f3301ff8b6f86576d37bcaa8b3d58e163e9a87067381e42c090765f2a86b08f2fd9b3be1f7d687243df18a2e0aa84c8cfb6ae18f8902e5aefb2d5e25feec20be432f9275e3d0f531e8de1601a5ea48cdf87592171968400dfeb39b5b4c0efc49b90bbd6d2fef52c199114b3b74883ada6a663a4ea55acd29d6d38ad6bb2678aca47888b7ec09496a24c21ab5ddb4adabdbaebede973dc7152a0a6af3c4a8f3b355131d57d2fcdf977b06d1b146c042716847a793dd5eb1edffc952fd49c779eb5f5030aaf170264de9e3f8cd64dfbe50320da2d0e0dfbf25209e0fd31750b2292d6cf92d1f534a6c7f44ecaf0e6eaf7384cfb6b17a5b4f1d9570d62a8258cff5bd90b02ba5be22f7814881c4dfdc43bcfc8c4c4b7618977a55f13118fc8bb43b0e5e8309a3a30471ef965dc18f603db950e073740651e88313a39a70318cd00fb39c7486529b905e8a3bcae9f7db1379311a8adfa4d7a909ba54949385a559e0cddd61a6bf46b1e5951cf7a376b1dfcbdc91777ce48b636e4f3c0e42dce82cf519a77494811a108494c98c309a6a07bb5302d76c34b06da686463273a30c9d04c9b914a18c5d58b63cc5868ca27d1dfca083cce8c52db250d91c97f7f44a8fcd0c6fa9bd37f423c4e9a3c831d425e8b2158c243317915d99ca68cb6964c83e96ce61b613942f5459add534201b9ffae389177a1994b2c893421f357540d8b35cc9a723ee9ee157fd97a978769cfdf3863ce09c4624f1142cacaa24cc052c54b0a5821b3eaeb2885610ad4b492803730b3694509e91d25b5c521e6ed05252c44a7b50a9fd564a841c0ef3716a17ea4b555f47d97e98d1dfecaced3b6ca6711dc565a5c10b2dce936368a451bb7c1264ad6e6defe3013158ad82512f74770af934fede11c9422471eee7037dff3fc4fda1487b866580a4a973de196b175ace79e3d0d28abc4ce0037b819337b438386e7beae382457b8bc8ff4d8c4f13a2bb01b76a82d26adacd7a78e9302b6fa1bb87d088c56b719997df220f89708ec73cb0fe2db7751ce8f9c2e583dcc38700f298e810f805062b018aad2d5acfbcb27e8d1a9e5da6616226b694c0e28500bf6165dcef4867b66ac8627c21c2823538f082546e3f4e96e1b3b618848e71e1abb3b01aeb1d1ac64e491c7c76d04f5b2328a6c8e4fa3f549799b947c697d9ea485da4677d837d39a7628e013b10beec42fe742026acad1ba2e40bc1719d2269efa2c5dfac25b2fb58da8618c354b263a73f5da03253f8bf859b86b6f0c091d18eebb3621876dba04a928fc7c10cef809329efba5994fb8d1065d646ee54ff3d608779d0c222fc7be96e84b5f4e5fe0d16f4e97752c235e0af11c8178f6f1d3d981d0f58d47f857c85c7f42a2c967e2498126955deeebed7cfb6b0a8cbd71c1550c8e9ab909963a959d3cfafa437c697225fceb114c60261186bb9a47e769b413bbf2a19f1791a79fec4d5c3b8be6074b0c90f66b809e96b7a012d6a34b2e69308a1e5eaca9b891a192b5e732de7e00d7534028032a6093ada0410935a7afb3be9e642a71346120ffd0dc18c874463b12bf46d5ec1546ee7be99134c444607132e46f37447b453d8ef439d60dde2cd029b3434603b1e026a843058dc77d67d4b149d2e14783eac2c2a9ce7cdaf385962ec5e28f448215dc947fe2ec09713220e62e995c90e75e38fef54b4a8ce41b83397b835ed3d5787f44f669fcd44d818ab9e70aa817d5fb4b0b175785c10e0f4f33b786d113ca9177467340bc469a8025117af9c479c21b6484d618472dd427b7860512f7b87566d14f543ed088e01ab5e1f330eb51972f7dfcfb3485634f8d2dcb02217c1269eafe1db97c88766ed3bf488a78b10ebbc25ed497ea19b776f50b3867fd326531b1f22136246772e1571d775ae50d035a213a6476984b718e7da842765197ec12ae7cda846720cb4541cfffc9d03c4cbab07de30f543efeac9b9e3107d7643e73d1446ec85ba07a9af2f2db3ee73b93f7cbd0eec2ee0daf2a726d7ec8888dec33f45975c518fe67173ed66f529df55949c435561e7000954457ac136d96aeca16529fd0791dc0f14334887c7e2969bf8270a847e233f3c93bd47a6024a6fcb771b3c6862870a5ea1a9963e09c8b0f76d3d8a40faf6aeca83ca57cec958b315fd2cbab12b8f6be8275b5a4135de8d721e74c75d5c0f560b342f3e7b3ea10976d9d99d79ec78f8dfc8ed0025a301ebe9dd8f1098a7c27251c64d2954d20e810ee87e008d469d514752b5a117b4d62b1efea11e29ba93109698af210e34f1b6a2fafaf25108a2506dce225fe89201af488e05d0e73363a58eed4fb6a15105cff2738719e51502b314ad0cfc8efd8dbd4699ddcaf62b88221fdde533c2fb13e35d91f48496cc2e16a61f8bd6f3871e51f41ac9adb412a48b578cdad10cc71998a0a544676efe93b316b9afc35d9046c2918faaad6a95c349f2a2a8bf37c145e25224ce0e66a5ed1461586ac0bd88e4b1bba0a1d6262326ae64a8d55cfe918b482aec1ca6a7b37e260381355d1bce39a3d9821cc4453494bf3eba932dc03624f88f50af8efd66e345606d4f0261b7d56aeb8f6d1e03a80960da702db0dfa3bfa76ac3f4c95253ea784ade21a72a12d3d977b7940a7dbfe96e2bfc2cfb37fad0a93f9c1e2f381017c132084118328f5994b50af64f7156d358c3f0b73266ce40ffafa81f50df687e63e2f5cad7ba049700631c17dcb83b1336f2bd17018e4930e4a79f34fe365446d0402bc7a3329e70213d72cc3b67bb9a3300cd5f26ae4256f7dee88cc3e600df36883faafc3f8b5265b26912bfa3d4863b82dd98bb324936a02576930592921c6388425d593a2364e375eeef3e59f2d937f8743a49584bb69a72a1770425a4ae0e5ac8eaa26f26a94594a4da839bcdbe8ecfbf8305392253663a9b94e435be4051029d2be34b50d3897f9ff1a7b4eda8a039699619b6be61955144816f3a6c650646fa3a65e06671ff71a9c36748c540116a376dca4e42ac28cce7ec671cb92da244888835436c3ffdc2c2d9d30ee453518cc24eec3708191bc792c65797960906abe6af4d74f3d0a6219fae97f30de57c206bf28a40c6f1be491203ed9e1e8ff44fe877601b48815a4f71c24138cbb3d08e004d294fdb0be65d84456ba392462258d60dcc957982be8dc68c6d1e5aab6809b4389f63d0ca22de6c2ee2c78a3c80086604e16405f5f530e286e9636acef8b14dcd17810a34eb23e13f733ebee2f3cd37acec94fd77020800f040d158f5a736b0ae3ffa4f46e1113c19cff815970ae62d08a7b4b0b440c269180280745abcfc5869b125a759daa13f738af0bcc20cda65b21b20c7aaaa2d3db618c41136c116a316ac903a7de8323cb6ec83b453d9248dcfbcd677cf6a89a2153fd2fbf12e2371b3cd3fc93e7b1c4d32cac0b463d6b2c74e35fb7aac0bb8b9ce383c49a5b7ae9fc986336489863dca519294e27ab033a5b22e544cfd2f4a53715e76b6aac83d8a5eb9f46934f5f33e1af5df9affb846facd1da67fe25c87a3d8e074a46d1d398f5427afc166bc3d720650a8ea74ce417235b3879df4f9fb5a9828f5a35f81923cbf00b794e387288e553692fd103999370357402bafc430422895d7d4aa0cd871f63cdfa7e6427ed4884723c65f8563f8da91b619f37a081fd4733064dcdd4a88b1cacf9b233b5c2870cb0a20500631a781f59c890aa398350a63a5749cc06c42d22cd0ab6e34e309565edbeb0d150ef3b9e06714656c5f5dee251841ef6496545a4544dff7ab70a97a4a6a3f38e2f46f99e7efe9764109e94db4df5724a658425b41faaf7cd9020acb59b515fcab2e21ae4c3eab2d00b6d3a6007ae604a69b8d0d53fb5439e2634adf4c1c739bdda73878dc0e5eba082fb3c0568488e7f67aaaec437e572678ab0bf87097465886bccf60f632bbd1c32ac783bc71a52ccca37650bcf1dc9576a4a892c0236550502394cf8d6ead9c891f8c12531a42f33f4ff5b0765c3b9182628d622ec88d583d655f1971633f00567a6c03d8fec89b9800eaa0e0295523a0a571c1f1c76b76355f51b82a905c9c24ecf0bc507c92dc61c4742e8ca9f72d955a617c1131aeedc559f33d32f10fa404960beebb2bb5bdaefd3f4a25e7cfadc62c2f989f49d516dd63fc396b18e326cc3b0511df2d049b4d6cad3a8f20cbf1e830468046b7163777206a100dd8f0a81c7246ba0633473810918d837bb996c6125d996d72ba2f27b08f0842c9bdd98089b8e3a7c83673330be89bd866dcca948aad7cfc2fbdb2985465aec49df5205c28caddd8ab389a07dc0125a0a6c49fbe4a8bef2dc2b035bb27d36e78c6b6e341ff884abda90c8157bb6cdc3984e8a177d1ddf5e50d446f814a27900f1b7e7a7909a9c04d4ea940f8f7464e9b9ce6aa9e3fd3a3f1a433bf45089b8ee11a1a2ba6e2fdeb1ab3a9bfaaf487c4453596716457882ce319e1a2ad617e70c62acdb1d9fce35c2c92db9c1c63a88a2346eb9252afb52cce9643448c404306167d267493dc9f947dcd6201bc275f01db8e0a594ad7195cbd96ec3b92ffbe047d103a2b9b60ac3e8499deba396b0965927522d0a757d20a6821c6ee7ee5fa0e8e1d798d69756638918c9d7e9dee98902ccf126bb4001d5ea853bff013c76a2b0cad00c17f8921f8c4fa9a5e764774ca86514d7c1f0f291035b539e621e22a248c5ca69c0c8d215ee40386a683f805869ea7722fdf7a8bea9da32b354a6dda1e5806d69954f43a92c3bc754fe97c992a2be0ef47527e5a1aa9f7453542f5a0db07f849bc9847ec9a620060b79a0361ddf495fd163a66062d963ca76babd2d00c93a5026cae7c663c846c7573e511f3bf3a52acfddd2565e1f57bd9d31840340c4277177cd33dc4c1c16d35fed417d717fd289914ec65642b7ac3cbd27e5b32fadde66008954bd5cdd68793ae7f806641f8a6e498001a7e214dd6363169befb1002dc52d6649e59e61ee60ea8831c382485e82cdb13d7e2ddc8512276e18acc5639b6213d31bec004fdb560ca3ddf525162d85cc6f8da607a70bd551da66019535e4677ddb78bb52cde338d68336aac8f5f95a1a20b41dbaef248b165eaeb063611a0ac11fb22036850ca42648f08bcfe6604ff910658d975de85402f8353e2ab311b3f6bf4a66edf4fc728d98670d64f93e05cc5902312af667bd1c2c65c046951273d930bf2e1578ada577001bcb89b0848e9c6beb32b6088af35d1a5e0f3da72059f45471bff20a20e900ee2095d774152e17be462a94d05fa8f0e03821a06b669666fbe4ad47bba2293bed19c7a62f429ab81244739cd7b9f780fa3adee36d54e68d270f38937fcc993c1dbab7f668714fa60ec70b209b54584dfad697d4174d9e95c141a63838f23c200dfc260ce1c88546d6c2f9445d2071f383e67e07e8c1a08992048400769c3fd91862ac4ff8f640f89907926e9a36ce078e4ebeafb5bd3f0daf9ab8d35723188301e6d9095171f061b4aed59d1454010cffb14c32a6f6d33ef9ef224cda784a6873b1472d36b30fc5d269a38ca613c964ae57beff086309a71be8baafb2189895b3a0ae0576284372ecd2438f2c12e8498efd7f4ab2704fd3e57052f30b844dfae187a2afadb52ff2e1206b9691dc12943ce3973f50cbaad589a61d4c2af2cc1e30854c10e932c9313065bc6be325ccb7a9dd5537d328a08974984e82037811d132608159c61e558b13fce72a0bda440a08718a37c4e5415070c71d59beefa06fa657b8a199dda73236581fe3b0f3f58d811ac7e197e45ffaf0b1abaa7cd53d98a70a20b9b22243e2ebfd3c2db3eca586c27ce8c47a04c04253b81e25c3b74654e3","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"dbba0100f462705d414068b345035e5a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
