<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b20702885dd75cb234cfa6ddee142d5392f0c03f54ee3162fb5be8955f287003718154767862f990ef04bad32f3ae2b15aaee8419ea31b54ee553edd36858d894ab90cc819cdec3b5d307998f32f47dd0e513160f0dd177332b3998a9da49fb0121e437f495b58895d41c194995933771d9de837100ce0cd0e7fd645d6ebb90d2f3244714999bd84d221ed1dda359899fa729ba5af435d7a3565644a2d0a505613024dfd24e8175e8a280ae49b016d3b1347a532b36f6f7f420eb2153acc7409135161c83b43d31e555007d76505ceb7a827792bc28a3f3b81e16ecc94790da44caa98fe7a6b407ec05091d787ccbbeb52c8404edf08d67959108aad6f519c7d9d98f76437bbe90c69bb3dc4d62c8a07dbfa02a3b126da24cc911a501d695e93abea510540db45c5e57d55c8edf429967040e7011d83ba6b6df83727db9921adb39c79e9373e0f21bfc6857031f833a15ea012b610c37ab85ed6afacc2c0ac76b44186b88cd8bf2f4c0fdc846eca8a2860934e5c0518d3699d76289bb78858aa1d80843ca45dfd24e115ef099961bbec1570f665eb09802e7f3b4b3d3df203a02de08af4893ab3aab16df598c9e11e83fd8661f6c12334d264139b3629fa6184480b40d061724296e8232117c3b496485ae4cd43fc2ef6d172807ce9d281101f60e580812376060cd834201ce9a7705842fc77375576273e515a74066c116f9aeaa45800a2c5d7fb0c4f24bf27ecfadf55df816502d8f517a23e2fba0e2c0d23b165622fc15f36be454c692bde6153a74b64dbfddd6f64c710c2acb6b044263645ebaf126032ab50e41e9b4897d810ef203edc34d240b8e7474de00129852a9b70c9182467f58f2fba6a0bd382eab366ddf1a3cb84d4e25438ada47940912449811ee6cd4ccaa84701d193ea43d770e260059a9f1c24b4c338e785bbed87ca0298596ed135c8553092e927912d7fd858bd386ad54cc2322e5d2ded76725986d1696b1e9227ab7ea799241f7920ba634a6307ece9cfd822b76ff2773da08b1f8e002311bf7283821b298d0fa16d90b219a1ec6d6df75c6a618a821b1eee6e54061c0c58ae41b626e0bc1da399e63ac1b056621f2b2f23aed8a01728b1b9f02e01077056ad7a5bde8e8ddc6a8b3ef4d7986e82bc1e0d9b7a16604e8b11eda5db09460a577fd7366c9df01a2d1b0e83884308e697ca2c25e021042c3bad058c825c7cfaa7f2b107c06398d71a3b24945a75ce527446282bda4ef852a1f69dd4dc99b6caa60dfbc6554e847d18be3218ff0424ec98a8193c04f894142640f3bf99a25706fa3b0e7721b14988b3b752288a8936a1eb8318467f3b56842a7842c359349bc2cff7c58db5027b51a63b4b923e6ceb1860509a80b359c6440fbd0b6177617142386adc6b32bb328e0ea2fcafa83aabd5138e4d28fcc2f1ded716bea927234c2063eb8759fc1cd34d36d8e42565372c20fe7525aa0a4801b1d63907f11dea9f79a9ed9ec6c696996b2faefb7c935dc26fc52435ec0c70fd13e4ff85e35591bcc43230f9dd141f31780569be21e1bfef6c8aaefd7098a82d6eb2341282fb4221f568c711253f5347e2fc96d0811098c04e5218509a59efe7401d4206ed7bf6cee2cc8b805cdb6dcfce95d5cfcbbcfb0795a2ffb3544f98c002d80f069bd9a1afa08c898e5fe66f6b0aa4dcc502ff9e4eb193722d74cc66a27fde2b8992d3285f88c8e6fa59569342c9c16a6621190eb2951cf3c0464b46a92fefffd0c2edb75b5b199ff1e2038cb2cf7ede6fd5ea4412a0b487cdb7093e712633ef80e73e41bbaa72495f074e153e4167ab390dde91252df29bc5495a8a2796e7c98de0df1f99674f7185b30910f7cbff55d7c90494ef0d9a634c03bfd8f616663c2b2a4dddd22da7a5b54a1c7d9af66a8b711a8944a92cf399334d874db92e27d17c5ce6ddd01dd601f258a4de6c811df33ae496b236412371d70f51ed96f1ce682cfa05cf65394cdd2c60b0e6a7bac826fbb938836bdace48e27005ca30652f1dd72d299089ba767f93754e48612b0cd19ef607c03406078d8aa5ebb6d03cfa4037701717c232c8c76fb9adf72803dd5cd11a75f52951add2e28010f059b073bce4d1c61b0db3d3f0df652e217743bce89237832bde909bc44c90caa82fa3255c1be19778098dd3f56b894906eb028d436c18529cd93e86add49655fc99a86c8a70de2787d861933a4d5f38b2fa81e98c913f18085f28bdbb57f67aeffa785262db32d5f14f224b9b97702a53259236e5980ee5a3b7943b320037a4d7ef40560db850a071540fc8edc1b874054edb68e5b8d636d3a425e992e3ef85c4bd9e235571d09d2a116e1d4d795643f28bd5922c434a3209f4034bbb90ebdf4d29ea97d2cafd726c0ea9cae06869a3eca0c0f79f916aaaa6b0781d1b61dbbf91aa89cada99cd425a0106235cdee6092af0ae7d5c4ac5e9752eb4ae89c7fc0898c92954ff3e0a59b4acd7f63fc3753a9081ae0f41a0e4ac45830a1303ce0e9286074017e3efb941c6ff4d85e2a7b830b9867c279369eae47ff469e25e84f35bc3b7be9eb3c698a66becc82a919a74bb4023f4f8df990d0304ddefb9931c506e1a9f9577e49038e41a11852adbd1238ab2e62212df4f1dc09a380492f25ff53ad1574df51f12351b29a0bbbeb95435bdd7eeede4f690740d14699f756a38394489a92477615fec91a9dbaddd563d38da405e5915651e43489307c21e5497584eb7ab4d7d1c8c8d51126165a8ab24267c7f9ed17573cc4ddf235d4c8846856fb5adc8720bef98e8c8ace6dc83af24de6d1c810e34f4e00b5a1dbfbc364e9000de90e8674d5d37642c3cd09e48150fcba61d16058a2a859c6f36580a9b7383a466a907726a768fbbd00c1194aaf4d81a59c1c098e6ef3eb5db1395cf05e1f1d9bc55d458758fdf72e62b281a9803e4c14f24877eb3457424922dfc3892be771cf2168e33ea5e94f2744b13e63807ffcf457aac22c517e99012728ac06845d0dd69a0976137d9fd2b68060b6f6a8df432219715b488b0547cd8df081414cfdfb975556476c2197ed70e3bc95d4afe7e64b6e8a11da9f7e8e08af78314540cf62e9b4a2d2271f107d6d55deb9d42b6d1c13f14766da5efd79a98ef76e9bb09e3875442108bb8d9907c7f6a65307f130619a3a34f4aeafaca1e7ba6fd70868f91577bb34208ab57b0384eb198cf64f6fdeeb5cd9a00f684d3f59effea68cd6032a165764d020673701f0d458b99ebb274655fd0b5a2806d27aa25226ce793fd4117874cde96b26796f338c26df82f2f9bf486c711bca7ed93e10a6b7b932f8716d721b39141017571a2960869ab60b7fd0fc88f22fe0ae71380131250eafaf0b00e67a97042e6a3540ed6450de53a84ba229ca5d090a95e5ab537d04444d44604a3f02ebe20b904aad1cd5a9df64d3dc580010c3044280bfb21425c824746fb8a8ea734ae3571445a11df656807d910e6b62597774802a91ee3cc6746898e92d3a078783aa4bdefafe43ad99cbfe7f34034f259f4cd7f3fa0806f7f5aaaea1120b9dc4bc46a7f4db5e9d6a6d18451440f128204a93a03f7027fc795346b108cad1e2a865b32e1659e4b68d3a272fe9605ff206aebbf5be136b6b356858524e4218c88cef4f16d039419f349fcfaf0452d3f8077d0a81477b17c282582228d75cfc06b30bc3cb68a1867745b621cbd446ff12decb863862f5fc34efce994b924c01953c3428fbcb2f520202314351e9e7aad31202d804120e8cc703dd77a79963f752932d7f3af1d1bf6d407973446ab97d46ee002ee114a1805812120bc417bad6ea4e8bfdbb37197fe764e3fb03ed4b51c4afc2f5a9642d3706bcef5af4293e56625daec9705158f837d63e7bd68b08174a5f458eac513f3ba048ea37ea662b72575384e8c314d21e227eb32b2fe65a55fe7f4637d258a5908f2ceae8298ddceb2d22ae885ba282786334e8c89359297243081f9534c34065299f503adf87eb62224a6bfd4f05e52922b313f5bd2e0fac808739a4fa08d4e0bf7b7592911588af0fe9fb7a990fdf140b8587e73d00efbfbbf5ed9d598264da8e72f8529d84d4ae288c65854c53fee15ba89b1b1a2b64b8c134309f4626b1e1013c55464f8e110db40cff66e3e7b79f7ef3898178d9cd5e7d251d4d410bb43cdcdc579c03e1647dc7768abfbae2a7289017c8f8285e59bf15f5e130ae4680655853b938aa419ad16f09c502e2f201a53100dd75eeb8042cd79c77b10ec2d85d16ddb7f958d2811cbeaa95dc1e218de107f0eeb765901ccab045284508e03db794010c88017f376ab543916860508cd00672a23947176293bd6a17204a076a25b7a387d506f7fd30bd187027b0d66b896c671d78611364fce1d1440e3e3f4b5209bc51c358791166f09878ad39223702c6e1580d349765f99527555bb95c3881b1e3cf63f5184e1956c795065570a5b4feec7a4cfb6d169df61502c91fa31b489a09a53844a64ad6c2ee83d79d8d9ea1ec51b3d21e17845992bd3a5b41c766410b9122afcb8e809c20fa43d3afbd6c4a7a5205716c63944bdfbd0965a81ab926a99a2631ebd3730f453e16f36d57bdb919c18c8d78dd134c3d5b78ae8c77df6859ee848f3f49271ef38da948092fcf77ab8a7c7d483ffa43c1f371dfdc778ee1f98a2c8fac904f52ebbb1722dfc086c9306ee85e7f0c033351f8d245f1693c32d5ba8f4c5cc65fc5f293ea390675527d61e8cc279f37f3c9d1586477276bc9304e616711eacec3dfde9b9ffd612201af9b616a81822387507a84d01373fba2190ce55790d34c19962e356f6a3837cacd304e3569f350361b6fff3166d56658d38aa5ff55dbee5e677111bac0edf9710c7cfcd707d493e27ffa331ee22ae2812be0f35e22711425de1dc9222c3c71d9a950e1eb68c809b0b2b2a36c35c11af1e2b191ecb9a420e004a17049a8760e4f8f68c9ce4cdb45c2ab81390757c4e582fbfc3fe212be6bea0ed5c642458a885b0d6c2e3fc8397d929e4c496048dce8549ed852dadf58f9511129670a200df70b78d333aa6453db40148e5ae73f6537331fb035a77d9a85e6cb21c66ec8ebe81c56c78009c7c5de30562cac9c80500cc00a0a269e091056239372e5f74e0d1ac4173e115488a73abd22cfe528c780d3a4eb75ec7b0963ed74266147c43da04bbeeaf4d1bacbc5242bd86ded3982b75b9571135cde2faaed77fee528ba6b8150fbe647dade7f33fdba627d3b2bc6bad27e7d58b699231be020dd7fda52a204111a9cbbfba9907b1281ab03ff1baa127fc90500ab27a27492c5c5b984ee257aef180674064a914312549882fe001b38af343ba0c6cd97cd3340b3d793f09fbce5b30bd8259ada44d880d119462bc2c9acf77ff11eccae8939b288d4d432dc93c97548fa7b692b837f8f0016bbe6e460f9f64193869d261734c1fa62bd4d412b8e75e868b0c6d8f091ac189edec2f3ecf6c35f9da9e2effd7935e415cbb45e1f40a36108ff856e8ba8dc0088dbf0ae8c272ac40d9fe83f9baeba700a60c2e4ca48389cb199546601a17bdc183b7b006aa86df91fb7090f20c06432e4c743c8e209af9b6ab260d102ac25a4d4ee4411b6bf3c65362c1d92770af1f5cf2160b9e8d4bd32bd0899e5b33df6cdbcf57ad6d3bfb585f2262cdf98c3fe91fe095664c4d993a29f232419a442cf3c5875d46d2ce6d05a4597ddd56b91b14bb20a4d673cadde7d430cfad1efe6b18eda77174d779912d9044175dcd5a59e36e5f96409174868c07c8a5e69ccd5c12af2bc9831efe8de5f710c73565fbd1664087281928650a232ed5a420ca1020e8acc4c50720f9b17249794d4d84301b8566a1c63b266044c41e641c53a464ba2f7deb33089b9f703de6a3bd1e0fe3ac14f738dd1b6614f7dae98999f40b9c03d52cbf2f079edcecc133ca2ae39c0e9d7b7ca7c9de8bf2b61f08e358a58d3188c2d4294e448717bb13f3b6b755f08937f4a54ff9324edb003989c28f840a790ddabacc73335dea4da5cd427fb0b8fa476292adc4c88e0591d23546cbd72821d6ff8e23960332810165daa4e5a9660f60522193adc242515e9264ed56145af508e6f37662a29b2a0c7403904ddf146e9042287338ccf619459050ff352e0ae8a58f550462c3ee910a8ec0258a9d0a4ca2904d3d76822a6884acad1f7ed82de6a9e0307b9c1baab2237452e35c9b97dbf8b3bf2207d6392d28c5676983b0f3edbef54127a18eb64fd9ddffab2dd9a7ea025365c1c373938ed7ac9ffcbd10f5e7e2a3f7e6a11735bc7a9abf7a880be187ed66e40eb421bf2e9650c1cf0d6c340fc35f9e375425924ebd00b0037aa9ee3e05f998ce1417beb54bef58ceed6af6728660085b3ed705b6463239cfb923a9993617644159f493e37878126afc28ff564e6cf18a4dc50291b0620c25ca99ab62c5ebeb57f67acf7223f9f0aec6c8ffec5119afd50db5f594193754006ad89516312d99308766a7a9c2fef3a35405d5d87940d02b0c6d08567252b3ca7253f48ec9dc866234bc012f775b64d9eb3ae153f133a0852d0e3669f46406b86d96300d2a304c300c074be731b892b8c47fa48c5bdd43f1ad5e72c7f476093559751560a8d6b8e5361e5010dcc2107e43cfc6a7dc9f851dba7e930cfeed85e693c6dbca3fae6ed5cc67c5a36d72a20d99c8f6643d730c090bdf162d9964466b8774bf3a3f12dd90698efd9c3de7c488dc7ac61f9572e3cf02e49b74be8daa897946f75bd0e07756b55675b5b30a7ffe79dc17e11cce5ff918d9db5bb303853c408dd228f6631364544ed72026833f0ff0e2fb20e5dec362c0376af91c5a44b8e96db1d2c3f7f8b7c7a8bb36e11db453ccb0e0776d7e6ed041eb173b24a4f1c5a2780012ab5ec9758fe4052813e4b7bf584d1b0630dab0326d792119827157c760fbb9df362e26487d507468d32372965bf211100d29f4f8e8e0ff0840ee07ef628dc501df35a8ed54c23388d773217c2d96038ae112cb206e5c9f15ea51ae5f1cf48faf549f87cd9a217cfa8e63bf696b72f5d10366e5c002848a836d1d6e1a200119c77dd922f7bb5b2fe3ebd086c4bf69874b45ab3ad607de5d92cbb613ae9500c2e7be8a9bb3d2a71729247065b0e1ada11add3303f294d94581e974ceaaffb6a8d24e97102d0fa3489bb43c8a3398066569855ad0f6f2bcbe61f67d161bffc6251e2ea525c1417bea75072ae58bdbf37e117a3a0e69345fdff1393d0428efedeb112704fdadd657b8ee51c3cd0f93c8987d77fd85b186c378f1565436bc64cd41500a742773260d34f50a5e2f543cd41a347fb9536b7f5d056c6e7259169d39a8cfea7ecc85fc2d9d61ab5d51b6428dde4f915f8a40148c3c56435e98ebdf0953b25a5d3effbacbd4fc608335535e1cf2ab4ba715f5a00f01b3086e3ae9292867c0978354e1c77e4f276d3540f20d5d068212ea4c5e564a13c5ad1603620150b76103bfb5070cd5b86741dba1e7e5fa811178e924707f30e16d4a2069cd3db0b15a2ba2f7c61e3f94b621163ffbd46078bf01ec496e2ecf449ff2d34f0cf97c228c7f1de07b8746432cfa2a8f3648e378f6ac5cc7ae84895146d16c3cdea3824e3486f533d9eedf93e0e4e0eef780b728da89dc2250527bdeb7d4320167c83b66cc1cd6d426cefd4b4a95e7d72519b070fbbedac93fe7004ac622346e8645e4555a89ae0510eb3aca06d013ef381acac7e9c5b6eda2eb3b56829c68335303fd198b41476d89cba1ce625ce63e18ed9aa7cb99097e6cdf47018958bd93e72ff350aefd47a701320e0991d5028220543ceb0eb41722737ffacf2fd6e5730457c673d3d5bf85ceb51d65504dbe4b2f7720fa7344ae6e3d5c8b74e23f5a89e0350710f1624c47a95b1c173cf135db8c96bbc727db89d48b0186a9700de2c5414384aa138e5d561e5b7fb7bd0a54d2e5218db0712b5f78666a4f85fb929b6289955cca131e35751e92bed9aeaf255c95e0f60475c1285d1c15c9489f20997de8223edab6f39f2666f1a0e73b9d323b82a3a4739adf3dc1653bc7a3d8f377c5daebff1cccf29a84886570456a5ec34586b0ef93cab1048522d9c2ea121da20c8bd50962e22385507d45387b699f5071e701eea6d78bf400abaf02b34545f510425357c029f982867bb541d3738ce360a38fe3aa44b35ad1d23bdd557c458b5f10ff5c8264c448af638a2d3498f32950525983f53921b1cb5b1b4cdd2aef4bdc82ccbff896b694871f08bbdeb0fe20ed79899496709f27c19bc60637387aa059395ae1756a0ac6e49d81e00e07202839548d812c7d4b133b2a95bd8d0f4fa0969479cffaf513ed26312b8987d20777d4e459e62b5ce12df63e65283834474b32e9520e05e670e7f9de6de75d286cf568e1ad2259bf3e52d4cb4f9dcc19043a19cbb7bcd0bb7a308dd7b8669efb0332f3f4c3c7835b06f4026a0b64b5d33672bef2f89471344b9a05a01362aa585962ae43aa4afb4c275a45a7ce078e4a9a8f4ff62137ce6ded60ece4d0a9d6fe7465d037aa48d3837dad2f15344546b6ed8a01ed16cbee4bb87f2d467a18ac4177547e85599847b5e7ea822a02e3ae21b0323d1b19f85c2394afdd7779a4fd962bf368e5bc0611cf62b4b2f9131f5a09d130cb48389a2c199b37486f47a0fa3b6a0de9b16858e6221fee4bfa2c89f0043b7cc054cee163372fcc957da523c3bd72f00c5ca71b361a4cc298f2ad1b697198bf97f84decbdefc1969e04e3d6fa4720b0185e350e58b5fd2829124402685d609651210e778fcccbdd16cb857952bfdeaf71a6b575cce3c6a8429783bfb735317f308e6f1fc8acec5b2883a72c6b1a03a549555dd95ec3eb83c92bf41828bd9af5816a9018de1b17e85e2c6b56fd373475b752c22489a96f8faf87b1e3937deefe4ed1c8c5eb360697467f28273fc038c21dca5b6ff6904236ba1e8e69baa869be2985a2f6d0f85249d26569c811c44decad595fece303fdc4b68bed8f03cc3f4dabe71574df7599b326f4ad93a472d97532fbb1a388e8c618e075062f9aa4d771e3bf60c718d71fafbdd3e105d48ba28afcef9d64a74ab7ba31fd3141252833911b920349cce20d2cde19cc1dc913843e20e5fdeadc50904c20893f085b149f1abae19480c1bd87601789afb6ebb71209f29a9f229c98a70331c25be018b1b81826ed0945fcd05114f2187981393aff44e0aa32fcd4f2b09609229debac8586d7651b404d9a271fbd46022c5c1c76ac2a7eb13227d4bbc5eb7fe83a8a78e32ce2323dfd11e5495c4f8a78d28adf432da8a85d9d9639f8d8568bfc0296cb902a59adc433b1c2e5213c6f8af1e8a6df23458a9ef46fb18ce4e4dbf988ad4ef47006bc146b23a99a680478750f73f3af81a1da4ef238dc25cef8f7e9ffbbed60027f38dd2b031050ddc05db09550d5638ff8938184d1307f4fab7f6a9107e49ae18bb353afd02d0bbb9a10bf73db810f98ca991353894856423ab6ff69a51d1a6197a41a5e02053c754b1734c6abec1fed3bb686dc415c2a98a8689c5b20c9a77d658acd8ed0b65e6aae2b12bd53a0fb4213b67f8c284b581780ce5f2f50d094deeb8f8560f511a8a8f5d7fb8b0bcefd1766e2108bd4f1f0c3f872c39bd2e23432968db176ff1c55a8cc025b15f8e2a24087b299a5df2d73fb9af8ad2e6bda44fbd3a6dbc1ec80a6ced870b30c1f6e6baa90ae7d0e54a96ab17642af6607bfd75d3362834454d75d11c411e34bfd606ecf379cb7f4c196aa5c03b338dc58e8ea4e8d5f8e1b140cd583596abdb4f903576714e92fbdcbd563fa20c45512eadf79fd23350c666c6a4a9273c0c4021abb973cfe93199bf26fe52f3574cac367b44b555f395234513d94549ee3d8d9dd0af9f1122329e196a1cd1df7658fb83c8d116f441b080d30fe9c60c6c1b6f177b06a5cade5cdc69c2c2233090665c9087cadb4f487a4f4c367ff5fceafc567bc023c5a5e754372c81c748215f12f6d5eabccf02910f85b275330a221e3e55c352c79bb54963b09d663a454d36c9220d0c9bf12d7f9d4184a82ed52f3b8a1b0fa9900f6f035061fdad27c1fb0f2693cff263c802bc14154d9fb8df716d0961fcf1b35cd61c10ec0a03793d7b4af0291970c4afbeb72ee40ce213188e08ab224a55ce683be04009bc0ebb38e93754bbb701b1b927881b1ef505c2dac96dfd3aa17c05291864ee5594353df3d195d44a3c3f8615c49049e41f8df2be403822695160b10ab2a817d812fbca13a7f79c8023b6efa486700c464def9c2e543f0e8d4c8abc8a9af8c7829fc8e5d738891b468392c53a2ed645292146db98e0136bb099fe6ea8f4ac688bbfd822ecbea0ac417411921d65329e54ad61a8fc08eb2610b9685c5a3b467a1d10a4eeb6dcd1d92e87a4b79bf717fd9b772580216ee2ce32aa05505f0d98cceab5e2ed698d5098019796020162c41d4e65be0a58da0c01aeb4e282c136b95b2946f935969d1d8d025a7ae4636cd9fceef8f062aebd2e37ba8d983729deb4a215db4e596445ed1fd2e6acd31782af05b8f19e110d0bdbcd3fba3983886c91e28bac7c9eb9e7325978b76adbb9308f23c2ae89d59d890bd2837a9bd059d7b2edf856937ec5efd1d3b489b0f5ae640ed64ab76aad44324fe29d1aa53cd83bdddeb0211d3a2fd06e4643ce2805b1b83d0f96cbd6b2e7468d9d3d9bd7337ba8b212f2c45b90b1c83bf4e206df18d6757ec7e92e4bf27bf47dcf93cdb15c53dbb3382f1a43e660f62c9be06e7a75a94c4c56104e5baa6966d0fb5eca68cfca6464106e483f910e0684b247dc94f74811fa70046b0a3827daea70526a579f184c6c65073663daed3a7f3a9a9a5e03881e7e5f8ac637d8052fb1ac88cfb9a4e60385aef67fbc0d6e48875829dcb3deb65e60f365e2524ec98d68fcd9f028f482287a9d4b298fbe266065b53be8451b9178d3ede595d987a09d203a7da95700d0ce0cb1d5c40b81131fc70cabaf6ba82b4afa917793572d23327c0b691551419f1c0106db9c3428b82c7bc6da63fc6b73c97ce065c352b70d4583055bf639163849412d204053d23b8faeace4c4f196db8d7d7dd7e3dc87913e7522867bf4152ee7f516278ccf52a9eceecc7862026f1b606e975ab70234fc51ee509af0f429b74656e359bbb7329e9fcad4568bdebcb53e3708a05bd93459469f4e6b1254f8276ceae3f9e25e0726286ac3001bd84da076a985c737e1e525b4485409271cc934ee07d61add011d5e9664d2f6870025e49a2c8daaf5502eb8d54704e4df967b1b1ae83ddd54a7366f383a64ddfdd875505c385e13e1179d25568f513ad5b6ef8bf404ef7e50e52ba9b991d2c73de45f4e18f6d8e032a41b2f1baf638dfe760e78b5ee4099adee0f24738dce064eaaafcc03ea519b6b2b7cb23dde8c6a52804d24f7e81f4cc9d49246a9e29caf4b6cb6598182aa3c87d9126e7351baa39868c0280cc5686d62735b47bcf270a70089473e6613c5ebe7c095c4034a05aad7c874506c624d98d4a01bf2e9e554fdda6d725001393bdd2338f36174e27e3736657de1dd899d5db6cc39ebfe6480539890f6e7b1db14517ff0dabb1c40476a5973db708fd9cec5d0066d96e00ee2f93c4aad0d4c8e0fc254b414798032547bcd07f2173a25b9a909c35c2428dd3756d78ecc1f087ff30a19fc7da39a3fddb242c83a4b43b5d5e0692ead5afa22dbfd7491bb618c336cd641c25ff93005d40a1f9945cbc205fb6ab1b461ff27c1417b9dcfcebac9cabb090b079c7f93c21bfe56755161041bffb3450141f1103376b1fec0ec4f9508f81d39f032e28d5da977238993aeb0e610afe791c5e3fd3edd911daa57b146818974293f3c7449bc3f7f7f4c157fd5d2a7ffab9f083fa39aeb455c6c44a052946c08a6fce78ef8a60e02927c3ebc71ff1110ea97b856b6a471f0ff19aaa7954c304aa18f06d94d2504333fe50c222eafd3de0e4a95f9414a4ee53d2ce7ddd58a5f2315b17ceee19fdab316ed0dd5ec76f263bd4f35de6382f46880409cb135832f009d42d59b9155eac6bea9e1504d9eba0e51893f10391022dcd4be456e086e94a14b14ff697db3e76961f76ce94c56a77cc4e0a4b757220dc811be26e087f240c39095f82fcbac2198622143c33ca947bbf89818303a58b0cf2af1712a2af934863681351021d59687d5608c85a843e42ccae0682f6024968af07810a07f9a2f75d84a21630e9fcf9fd13879db714f93f78ad47a675eec584231545dcd7b5f3a7ae472ab49c6fc070829b1332a97469c8eef740ca3a76c059093e8204444a4f87cdea182699627e546d6c6d0d366e4b8e70eb142bb4bc7d809cd0681b4463c2a71d706e5178087fbcd565243a929037b77787db48f0f2467a37df99ce92276c8f1de273c4d530fc6f6167af08f27d668c6285f17ee5d29cb0bcaec874e251c4c88496558780daa891777a3d03d24c0aebe0adc45f736b448154110389493f175c20a4001061bf6b77602f496bfa9c444174231449dbcc514aaa62134b2735461df2636bdaf292fe22724d0d8dafb82b588a904395710d27d0ba03443ce28d63ef20ea3f8ca2f9996c90dd5876ef81abd6612e489f4b9086be12c674f4ecef6c92937b9549d4215f9f13fd38274dc6e95732645937412ce723cd8c0f6f81866c368125db62654e541ae134745acad3369d1748c605b51e00be0685759045aecd07d57bc31b24479d86ee8a178762011bf9389e53a01aa627b51f2f715b71925aec2cf6f1cac5db22e8f40b2d4447bc8b729f9145c93567dc04a3cf0961849865a43958c159f5c658e88f279c4bf59cbe0417ecf9eccc3b52d8dd4723c385ee9b185a6150dc5c1795a0370fc2fd9b00687d70c0908a9fbab7e60ea370f984ffd3502622ec5fa3ff2fb4416f9d60722a7384cd12d86f3fae61491554ffcfeb50de8324d633816033e483419b254494125684bdc6ea113715f303f30f2e479e85d16ad4512574accb2f812b5201d66649b4e5338d7979538668e9fc1a3c8f466efabcc65c98d0d099bfd2f6aa7af1f5235c3bb8430b60fb910a79cb2b2914b547f766783de8218a1e352ff9462c402fef08390c258be4f45fee14cb412f910f9e69177e78966ef115b0189cfa1d48fcb2577b4fb9d14fbe40adcbc8ebbb4ef98eba551e20e49088faf7687b8c68a04b228778247b716888cb55d24fa4127d68b2910eb03579e5628f80d0ac7de8f3efc163e60b55e8186b52a1cd291d18bfc7d0bd9f803230dd568add3d7a6fb47b9d5efa6f6cd0863b4c8819302a101934bb3c15bdd734f8586278b1d9e2cf58404ac10e21fec4b73214705080d15b08b29e915c5e49e46121c70e6bce4a7601a096048c2d2593db62f93ecdd6e8240b764f8fe84d6221862c25064db76ee8851c9183a52dd42ffa59d8d3481e68c1844749d14ba5a006fbea2be44decddac162b9b2ef36b25f45c70c854ed0567da969cf204a3068e631c7ab18c99372fd8d2ccd16f0916e9cb2ca415a78c3871f59e7e1ef82b0e2d383e325f5a79f77b2a8081d888ccc3d1502bf7d231f36a33ded1f82840e859acefbcc9aefd276a77e623167d53e9bb65df8453be7673a6ccb74ba64c92dc8c38dd6e357486e87d677fec79f9bdb192ac11cc06a3eff502716b012298c15a2cb37d6b2e00970ad4c254ceb7b7ad67c5ed5806e961d93f7188c00acde0ea3f8991940762448c67a49de7a4e60d97154d0417154c9956782a3a350b15641d19b6ae15f753fd7b42d45822906c5ed58822668ab1f2a95399f00e4ff30bb0032bba905a08ae989a778c8b7482585a1cd004505719a2259ead43971f7ce0387b9351a796f308e2cc79b537b27473ce7297adabfb1ac8b2f77796feee64390894f3b9f7660585f32dfceaf4ebd14955acb719359e9fed9af029394ab872f1106eb0592dbd274a0fad7ac94a590b2fea92b306e7cdf5f5dc278e9d63ae0f00d58caa8ada17b5fff8655993ed61fed232d916ed4f7f45ecd1f538d40dd69035805946261e8b9752084e3882668eb5483b63a3bdda652515250e3d6c113ac0bb918fe34b9d705ae2b2edb4e5cae227b9fd818d5c066a2b1ebc260308a73b2df6eda86016423042880cfa66169313dbb224b7ac7f0d86346ccb58bb1cbb4bd35e6747fd37020b6185d3293c9b5fa74edf89a44cc94a17160959fa4b60eec3a4a53836302525781a6d15deca69bab00b5063c46da3149aee8772018738d4adcff50a363fb41d37d8be155a46e1486656b507b6907fdbec4dd76b2a9f1e2cfab64b48535c637c07a46fdf82b4ca1658f725580794e7d19640c2d1639d332d2aa1333562c01ec9d3fdc2dfaf7421a47c4109dc9c35b96f81ff5dca87e6def6f08e113068df19a48a58c957b3818c5251b375df6f0067bd8fab47507a0afa9b9dc9b37dd7b3b60bebdd941e7a7386a5a7b42efeddfa6931e1deb4ffd158a1631257b75e99cb277e4c3b3d1adc9fa600d09b3180d93f86a7c49387f0d6b171bd4b8b2320bbdc075cc48a6e1c5f9bb40a2f7711cfb08dd61113e034b8fbd37cb9ddfacd9cb522038f778335bb4980f2bad60d745e280dc5f0fc976a6b472f6bfa53442bf2f53464c23113af213a1d588a9cae9a54e9a3f39be14ffbacc56386729fffa3ad480a771b0681f2614985e322b9a64a3824aac4ae26bd2cbd316fe603c18b784ea0308bc8399e97e0198106a756a703e0cfb643786cbcd52e64e91a5cd23bd5b4f7d00e6df08ad534fa4a8b9f8eef794b49fefc0e953e40eef3fda552bbc4156ea8828520c7cd4efd561574263c43c55290a9f00837b018a7506f7b325d2b07670c48f126efebe6aa5231f9feac0c197c1c7e339438dfa1645968566f2891d4e4210488064b3af49bec5263cd433b683c7ac5fb83b26168cf1f23c135621ab942f881735e87d03771740bb08d7dd53e497719cc70de820962594901dabc8175fce7187d78a5fdcae36e58e3dfcfd87d3654ed4ace47cc2229a4fc8ddd663e32265ce7c11449d49864a5573a22174bc60bdf0772b8c12159bd9f4a5ab041d76e938d2792b2096d044c3e73efc0a0369200f10d05c693e1e8b4cbcacd6263cf100f4655be212cdde95e9a97eef763c07e356e962ddafa2bb58cb203fd749f6df9ad3230d2a6d71169547237e0059b6dd2ec92cb605127bd0af4f1f9442e3b01be93aa4e68f7e5a3cff4836563b70afd403c1e175b2ac10968d71b127c7303506f6e481ed8e70a4e9c70fba5b260d1e802b73c404ce41d48aecc396cbfa11c2f8d4a6f8c7d736a14df567513a83786530743d3b93de00d84e855d2f82150b2fea3d50be5365d4e8a1551b419ca3b8ecb14f1eca20dd146df9731a00e2ecc4d247810973125e60b63f312b86cc2ff191a4eecb4174254bc9103833aa6f74f0d56fc3556251677b4325c3eb71b8184b83f6a04fb524239c4721e815c0136c8d45de0485050782d689f9b3276380c9989b2a74a3121e877fc9bb6f1f59e878d6ea5269630f6e95839ce826987af8a53cc6f7bcc53ce2aff84b4fc15d0e8b25ebe8a5aeae928a3aba7d51c7487dae7fdfc6e8bfc2ccc3984ed9bf2677019c3bbec92eb5377410b42c17743d4b2d9c19425f771f9cd254a0004890c9c763f5d0c68b8e20f48d0e6681704fda854dcce38726ac5097c81f151ad7e5894855dc431998a4d6c61948219fec192dbec8db8a521b8e2f3ab55aaeaf9325e05b39d57b8fe3f86ce1832da812b724513b47d04b847a475f4e831622bada9f6e26c89733cc2ff5875cfd6870579e625481ea8c9ffaa91df326125758722828439177780488bdecbc16d02b1c1b9d6184fc72c36d78e0ace8ded4d4c395d6f720ddfd62c6e815d5b879ec49167c5184d00f3e72cad14f5139b58a0f6a2eb3dd04c1bf8b3ad247b45a518da62010e14b70d297b217844cd70f9d5698feb449926766137ab23d6b01a37e36253201c04997bdb617b7f0e1a10e0a3a43ee8ed476b8628ef7d9c048d43633d9df66fd3b3e569087457ec4c6db2fe35aad8225f43c8bc3f705dc7c61a99dea4463494864c7d491ee8994c43d0c91ba80e3e18b2a2c87735509456ea26ef872cbfbe210fc28731278370c7e231a522b622faba8bf3e95b6990a1e654449077d12bfa5a6d9a278c08c83a41015b5c5306add94bf3ba9d9f24245e602021b1d89590eff3067d441c454995d33629c281b8180061b5c9df94c14ae9ade1cd0a54b2d49b319cf1753e9c43ad86465b0197e421ff4435c016488ff7ab33ea4e91a53a96ef3c4a90a6c21392a56b1335e960a40f853b9fd9d6eded989314ce1da5dd5317de5f4768961318e5700c880e9ab249fd8fbda390b4713ca869148af94a40be5f44386bfbab3b69e16ce55e6549461b6850dc9f0e89d9ac5801b131b84763c115795d417a32081bd6f46f998185e402b8efdbbc7089673b87ca0e010615477d932d86ee353ce2604b0335b140f4d0cce4c2c251a0fa51f1ccc851fdcc5669edcdc0ddf92f4cd1c34c99d967a5ba1e647712802fa9d13b7c283fc9922ae5174180f6f0eac217e57b04df44215d02cabb9f29cd47c42524349f7aeefaefad4b65bf4c45fea526fed9efd9ed1996a4241aafa36e5a23956a0f4f1a715c726893cf4750138dbaf3c3b162620546c8a1b8793da787e089fccc415aea3b13203e566c4be3dec4a95f40157f6f8d997a2fc38b03a8113314f6eb1bf01acde88c50e2826900ea93c8c74b471bbe86bc85c697c84de2dfe4ceb4f286931ab012aebf15e1482e99e85edf12d36ed4e434744cf814401e94d97612808bd3dcf0150e369560a03511dbd263befce48d5d0cf0e1a67cff04696a0a60e2ffa849b1ac9f6aac0fac9aef11d4360b6a9ffb099812cc8e30b55376a4f369c644d0e417eaf4a37f42bbfa9034c0b4886733252757689c8e67b763488d64631f49f10fce44a4f79198921c96ca3de64d788eba4251bf156bc92f91cf1ac188137875dcf11ef6a00a4770b3c3ef1aa11ce85e74b21baf276dbb3e237507c4d0beda1e3fad51155be59691bbb60827a9de1cd43f164ac23938b32154f5a82c203471c2995ff38179f96bf51ede837ff3394c1eee7bdb9fb371ef8486945605084d0304ae191f04f2a5609178d8fb03460aedc334945dfd9bac72f6d67e669d59970da4d07eb927f9ed3a23b3c59ff8f1e98d2466426c9918a6fda95b5b6e177bd7a55906826f58a8e662dc7c9a774b7b656f9f3db3ae85f2704b9a4e2c105884eb274ec83ef6e8024a3ef4032d01ee3309c962ddd4b32103de053bc0697d979f10418dfd6aeef070ce11634ba990c16d21cb34c21af652ac6c4193f498fbb598fd5e163a508dd01f6dbd9240c0cc1c25c26e91217e80e97c213a535a48d3308c856adf2b24254130e76bf8355ac044d6ad0cd8ecbfbd3595ae2191a5f6f0920052618525116d01c2b15e30c7c521a5f17c4e761f16a4e67281f1e2aee31b7047ee31623a16987876e5282293c13c5a3621ed4fa8b006ad89c25602e70fac7ce4de0bd92139789a48a073e665145fe2c44f6b39c77f3fa60feabedf96673f8cb44f317381e39736b5a44379b592b24ff87a39725565f496cfd4feabe3c7e240c01c500ed8f6c7f43af7025950629b68fd9c8cb4cf1c8f61c77df232b231cddb7f4c1f5771096e6f441b9c81d8daa8843c4040d8e3e58beb9701bb230fd659a737a32b99bbbc8d85a5b552867ae41f53339b1d8193ab6f851d53871e191618458cebe6e99b8dd04e1d3a1d99806e69369e7098c77caca93b2955a2e3aa437038379e4855aa20de4ab283013c51b3561be40c76102cdd60adbda663a3638364301c976c639be842b54e27d2657e131d625294890ed38b3ce5142bf64da8d8f25b78871b62d1551df441b0cdfebf415d8c5eccfd56b3e7fa19329fae5e894774641e63f5db69b7fece1822a4b46a9e1a19cd52c39426bdc24403e0565dbfa2ed4c3b934139ae617766d2f0299d442b45d0f22983f35fe25af5294331096ad1cca31c135b33eeb2bd119cef0007efe9fb3c7fe5bbda3de6bb81bb9e33c136a00a01c6a5cecf6577a48216a7d39cd7217d549bbc979cbfada4b1ba1c935974a22157005565948ac40c3ed040296f34402e0d63bc36d56d2429b05a03bf983f80f5257a024355948e941c2e9c4bab1863da8ccc237227c98a7c1c2959463fced170b6a1b52bdf2bfc9a346c385dde296d17aabbe3793971309202e362dcfc0da42fa2fc65fb36ed61c681ecb13fbf73c227f054a30e66efe6e0218df67d35ba4f02ea978a15d443d83addb58358ee39826fa73c179a83a3cb77286d20ec22b133d9fcd3f2bf445f95eaa9f1770bc07f43d04c111736e8c8f1b22629c0c5997791e49bc5ba3aeb56b3a57cc780d92ab4cd8a1ea4d007658c8f5b867c2a317343c64c81f3a666ebc1003d102a743a308593a6ec69606595d31cb68a4d99b0e1f5c715f9699f84056a2e01e0881ea1f113910c2a428285c14c5d3d9952eb0788df55f38b1630edf530e996660d2aac4e4947bfbd778832dbcadaa0d332b9895b33599b33ae757d4c07836a1808b1a0b85e4ea3537946b54f40e4ddefb36712be0453f37acbf6e763cea394e2e997404a99abcea0c3a3076bfade06e517f5d7f39349cb8bbdc7a9a992f349f7dc5d112077c577a9b841120acce5280929765c0a62cab1cf78c12ec9a741273096077af3990a60c59ff1c6f1128cb69f92ef9efe3a85c44351fc740ca18fbab2463dfd4b0c84b2c4ca284a7940000d2275dbc7d9bf825ba84618b8743b22ee7922a951463b8bd34755e3666f7861f51ef24617db3efee360b470f3481f37a6a247cab319fb0de825a3ebd17376a7437f54318ebd526b32e0fa24f05c7b432ec3d1e82b5bbb78545c8a62f9b3471a942151a27cb72a8649a9ea0db0bd6918b8e9b4f2361c3b4b8c0b0c7e385270d177f841095a4b8a2a702481cdb454eedb81e242913dd60a1a6b133f771e008cce15035e43546dfff24f5b5d64b28ed9c5aafead249b95ce0b5e5978caae2ba8720934543db2d655be79ce288edcf32c37f1a991510368c7d7753844c863bc2735ed1e39de3534fab9bca455acc146cd7f2930b7fc4bf97e35306e6f28773d6b63e8e81cca32fec9264c8080d280363c263d9899ff29286a5b0a8f25470b762b9e9ae741e6c0261def14a33a78cadee23c0bf95b7071a175323b2a2f60185bb3eea6aff6b0e3c62c6ca5f8f5f01187ebab2955d32abbc1eed17ff978b3da5a7c32e80a4750438862c10761edb0cdd9341917a408d2cc96a5da8d22f0e4e53e89f2af608f4171024f29c7ab9f98f9e3d95e31f565ffd2d1fa954d6ce9f92d0d14ca3075e027e8870e117ac294a67635741dda473fd20f595258de9336e19ca201dff49e4112cf2c1d6e7f1a2b3598b3609138277552eda07511134d416fe51ec78cae76af94b2d37a69239e666a21db118c4023fea63fe1af398eb7b06d31658d987438191679b6f5d7a6b2378e5ac4c9117501a473ceb63a7088a4eff7e7fe316ca01ac88932d19801e587a779f029bf213e0e05ef471c605f2531155ac5e508dce0f284abe0709c6482f19908e6921b59e8ed3a06a0b0665dcfd077d37731d5bbf96c0e354904b2734e6acdd6ad412d678fd46e36ce9a9bc6c38d33dc33244bec62ed5de34025baf9bf58e632fc52a5ba1c1141736239aa4a2b99eab02826ffc093f6c68aaf8727c13cf96b7324477a57405409728113cf4066179cfff8ec16f83f3d7533db195ec32ceacedd513c2afdf8f39e71ece96e17a91792f30011602dfa703ff4ede7f8e3188f9343b1f7069409e1522e957be922ecf9d99d7c11e907a963ec047cc0bd5e68e045a3d6c444eb444377ebab42c7bef2916a5e3301cc07cab56956d9ae37f91f3e8067f6e7bba4baa268fd893be31d9e2f425e52a72a9b0e2e6a85f2c89b074a019b231cf0a07f4505a7c4f0333cb49e5875e0da0069ea552eddeb22f84e6aa271dc54185042479a5900170be4f17b65efa9a96a5e3080b09f7c80d5e31f592b6b76791234d46aacec857042cab6d412439300de8e927db5aba62e11ace2b719dd871feb215ef17016c5970e8dbc67a6d49935e79fa3ff948fbf24515a54666cd5656accc56858cf55ecd21102111dcffd237d0067407ecc617a6ffaba5d96b54ee951ebfe0a9e2d61bcabad4addeb6636f23b26219c67237a6dd8aa06d314bbb44d5ef3938ec331c1032e0de7d9d178732cf5d70d600a8707b0a974c289e73bdffcf258125233f0b84af8affc32bfc8ed808fa7fb4276fb6c11ccb4b95061a55f193983b58b2c25ab76b78b15e29181b03189d443dd3b479d4886d7c7a1c11e5162f7da9b55cf3545cb7c17bcda5bbad2a98dcc3603e797c8a70a54ff83e5db66ba2ca0f32b5d56b448f6c8eb8c9b6bcfa2682438302ec05b5c61f2c9c8a91fdd74e48a18a7be23c6460a955c93e3ea1d605eb6a70026692a406da6e0e0680a78a8a73910611b1037d2e0509517d212f52321dddd107479443c697309181c3f83d7fa9defe2e20cff3e7c0b0ac730","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"09491b0867e61bd0303e4a7186b8bd6a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
