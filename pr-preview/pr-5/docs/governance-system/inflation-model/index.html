<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5e5552f7cbe68b69f1ccc752c7ae55d66428f83fc45f5962c669e0e75f2a5e3d0dbf78637f653c186a83f17c0a434960e77cac737ce9ebf342695353eddcb0919be9948c473af0eb6a8ebf816ea45d217c6006133220c3913a0a888d70bbf32a6b1b7ae4a1bd8579230e846111e8d3f4b934ad38367e471bf1744ae8bf0760a52e996e4ff5426d4a4c841906c92c02d82b03aef2b4382321f9f45b8ab799baf4a9e665cfcdbf943944b00c4c98b5f1aa985179b5fde8a9a00afc12fa276fef1010c4934491f93fdcf8c66a6ee192ef0e0d40fb0f22db29b9570214a9c7861545ac0e1d295b2ee82c401e388e1c00b3b5a0aadad5504e1304dd5db1171b1791805e4e198082a17701d7531a2f8e8a412ce06c470ea57c2787bddcb4184024393cc6276ace3fcd3064e73b4b0deafb39f4cb8d9ac4d42cd0c18a449d8876064771850d2361f2eeb62cd63c2ba6357e94f952d2d32424c4697a43b0c93d2cf8456745f31f2cc5d5012b0744137741f3de9bad58ee3d483c8c2d599787b076841b29414156c15c70fecce59f4a1ed404cb3183c976676e0f96e3a6b4b001621a103388401feaca384371b12403e29b926d4d85a991467007b976a4960fd38dc43b11c3c6eb633f0f68f8b7e432db1880121129d5cd762152d248908a2bff97a8d81d24dbdc7f97d1d1cd3f7c188039a13b556c368380cbf3724ecd84a9c77a72617a6bb8754a9724215560867f23c6c4e4c3d4320a4f9f4e3c67ef9394606e1e1b1bd2287ffba28852a6a05554431b5f8d13ea33e8ae76713936792a17b65ef27d91dc2ccd7f244f35f5ea2cdc3a130969abf7165f889082f4b9ba0001ee5f3f39ff34729fb46d395adeaf069bb8df26477e904134e5e1c690cfaf64f8419382e70b929e395f988aca52f4d5a481cf279495cba0ceeb8071b223482aa91df5ee10b29ee68e0391c72794126a0b6a71eedfa1b3c0c051c960e75874054f8ae0eb6f4b86735f86d8a496b39fd16a7c26e6a00088027ec970826f35fa41286886e4a184f3eba2e9454039af58ce57abf855b83e21194ed9dcc2dcc8f3437e1a45b94ee47845c8d0c31001a646e93f6c474cfe07bd297e703111f60e054ba4be4bff358a76776ea5d39c1ccb318e8dfd525031f86bbd664f4dc4a472d7dab74a390edcc171354b59a670f39222f21ef7839c6cb805afab962685844d146e828c7e51369f12a324d274a1b96ca93f62a015b964a46b492ebdea45a561c376ec6cf077c5fe63df4d023eeeb962c6137664a17f5b468e0b13c2b66578d9eb13aa514477c24f5ffbe7bf4e3f41008e55b668b0d2164104b9284f3742655ecd6a2a6626ceaabec35b675a45ac7debf684e71192897307b18fd02927187678f22239c3cf64624327f326eb9d9554f11945b9e34906a5e236d42d437c47c06358bccaee222fbab27bc1941a448f79f11daa61f6e193063f92404f38a45b8e96460ef3359175d2776452aee6d6b1a3eea51ae57b80b69ba2454bc0b1c7cc8aecc005f8ac19c6fa7eb753a2a034d3ccbedef014a556157f46e03b262b68079e3880215a0b994b9f7c9b933d18e9a4b69de846259cbcb5230afcbd8965a462ca9168896acf7031d6eeffd14f8c65bb67eaff6124671262c3e5cfb0f14ad0f31d19c0144500a2028384130b2fbbc02ac3fa41a1baa82656d57901575b5637a62831fd9fa25c14e06f3b4aa80dc00cc18bf9c5ef325c121486b46eebce81a020b485f0cfc9abd46c0d86dbc68f2c5f8297d3c28af113930c162d97e7e78260fefe33803c7773ebda93a19a2ba65e759b40ebecd330dd413be474a45f3625f82b5b4aa601d2a4ad871497b1df4853c35766d1b3e403924562f2d8466d86da89babf7c41e47deec68e18afff294e0c2fc7c9d13dfe8ef994992a67c4d4dcf5f5367a2425521c3c19cf8349d98436a81cba90c6fbdbea47698a1155dae2439a7aa74268be14e993289960a4845e3647ec68b9fa517191e1a42a6afc3b84daa09f0dc9b3c4f291728e7b77d7b2f889ae0e5e8e53e21510c852ab77afe918a3f4058b45345229f8215789e7942a7a19014571ead35709defd8568bf8d777c94684ff7bc57144fb7ef1734133d1bf06f9b1035e87c9a22e49d91cb952e90bfb67fea3c267599f18cba9e798265d06d692efd15e3af2a22e683aa25a4b0c97ba9e0b8b19fced2efec2b60f0a69566d811a20a135dfe5c9606f81f5c779df166553acfb471ebf6b786fb0c4a219efba81cc16e25ce0a6f436953dae964defadeacc9cc36b387301ddba847f7f2aa5a1affc95229bd6caccd74644a3b566a27b9d69f5cdc96cd4f85a0335495c8c7bef90a46a668b51178abb1891ca91e5e9cdc9bdf76e2b8631dd4a0bfb04cc8b8ec4b9e0be1626fa5d77b2d26c81d47d19adfb256a51a89b86b66f6b1589d91912379cb0967dcae64fbe08a9b918d2d0a1c8dbabce057ccd19fe91e595e32ebb37afd4e1d2b4c75798cd6620373651259fd13dc495bc8e1b0537bfea8b788b69f779989b4dc13d248f5f7460b4342b283c5edeff45767825ee23e8e02fd70b82b3b5e21558ee820adfc357f6a99dfa6987570e6407a907334ea626e82d70e1ba23e9073d070412c9b1f387f8b69674d52787b93e4fe1884bc9cf91e550d8fa0b9a29ea7d42dc4b369e64406a48a9a516d737e5ca354ce213f009e103cd2583ae66d273b8dacc1cffd4b289b1a7757cbd946a182ab59a55b8f9f03e0c8cc123cfd8b693ae7544cf638536478719cf2de36da6d1d4c6ca115333ca5a60a05f8a9af149f366be03ebe2d9236836178c66e0da67826314fe4991ce466670287f3d167d67972dc75f2a2b3a670547f05f23cb95356cc32623279148fb66bdbf17984bccb96c248146b1af61d33b1e1c3ae24ef1e18a037247ec5678f56996e0d9703b7e68bf9b65662ba229cebc0f5c1e331373520d13c22240ac9fd125bdb23f25c27355e007be3a55cd6bab105f5ad7aa95bb0f808e5a7938911ada9d4aaf8bcbd47e177eff2839bfbebe05014ccc33910f2f97fa9a2bc73e62ed79b52e69071fcc3dd5591035215ed353f4ae4982b3a6207a51fbf324645d8ab4e8a734571a0ccf689836b5508b98f0c8caeb5157045eb40aa45d4294a1e00321582c2fe60ed65948546dd98913e04ce7fd3298a16def096b42b39937ec2c660196fd0c4d8c2836b68bba7cafd0064db8547f50ecd83d3db17bcfe6620ba21528944f2281e91db35ff9a8d89e1f396f0e89fe622fbce007bc45c4b5938de9fae669313450171f7ab06260ff93a80278f6ca702fec5d80a5d98e5b15f9c70515da7e777be8b1a998b075d5b79fe9e2dab0eb7df5b93995fccc070b06fe38f6a43f0c7f578f9772dc3fd9247d13546669ecee61296faf8a12c505c731de4b0ec8a798508b581977827bfff6d40a11bcff826be07a011951ac5c6d04ffd46174294109ae6c6ae0cf71e6ec75341961de09c40ef25088b08bf4af383177a2bb62c80990c00e14060783993f318ff0ae1274e1d22fa00c0dfd8247af65c8c94c6a4654a667607bda2fa089592e4f37f8e6644be164a8ff74e8de59744c73cb4f6fbb6e56ab0018b0053a8594039e70247d79bd38d61671139e4d59c7c681cc5c0bd7f8ff50a261adb9a9c1381056945b4252e64b3033ba8fac02b72c41d9026ab0f0ce280c41066299d725418193302d616a3be83594dc7aa33d46703b9d63f3ab495ab56b227a972ac3663555f21b1950789944b72a8a23e606d1d24a48bac569bb27c8b02ffc27418e32c2e84c90b6b2d568cdd762b242c53e0c01393b8fc0e2cbfb561c5f110211a405c8d9a3b8193ee7af73da3bea84590512d1c257040b036b3d8248bb79802131cce6e333fd90e4a15c77f3f4000000cc9cf2add151d2e8affe928034abd1258489ec342db0175f0aee10f5e7e927bfc00a131862c0034ba071af25b1019c0a4d55cb4e580eb68fd481df293f462bf8b830c3eb4255e89bde0d5a991bcc58f2d08a11e4223bb4153f8af93697c2ba0aaaba2474b95420f840eb7e845213f65d2acfb4d4bc94ad8bef37fd3fc63fd3f3ed707c6f176b0511884a0d431c907856fd270e141f645600a2eb764aff09ec726878df718d65b924f1590dd5e4fe1c2f0d8beeb1e3021031dcab64253e15df1f8039462997611954f2dfaa4c52a9c11d362d153991d27f72231009209524ce1c98cbd17455e0b778080f07b21b81efdb0e53152505e85124aab4d5dcb11dc5f273ae07783e9ba0544a4ce78b795d0a1606e7d89d2d4f268529e13a3e8621a84fb942e7078556a3a529b09e8055f91417a7040f921938d4dd24179d7760c1f659c37c217d01489bfa1d0bf8676401d011a820bbbbdce20f39912c237b9939f1ec163871230a23ecb6f409ed082573e3ff78e84b333fd73d8fa0d83926eaa427d98c1b027f64a860eeeb86246f16386f4ecd1a1009057ae16b99a37ecd9a6d5812cea65c0c3ebf5eef58d980d12036ac83fb8f993a0f31016d79420d0c3e67ee405587caf3a0fc5951c7c32da9d42207f38bd6c9b7e1aedb5e182b2d2fb30f81e0506a859d2e760561c4c3baaf13e224e3b9cd8259ee95d04c6be9c9d58092b927fd3bee556e431390bd66653f33aa60bc5c151a970781eb1b68feccf9b59e4f71c1736ecd048e321c6c753602dec7826396d1156d5e439b93bdc5f9013d79fe435d295186357df9701de07be31be4239f04046114329e24e4788bcdd6cd4843aa89e1b8399b35a126486c974752cc88954717a8966d51c6f0ed711a4d8609474f37e2697659457d8fb8c102db2eaa19db9584c6ccf7bb98dcd2c5cbf53a787fde22c2b63c6b64933961060a26d12d990bd07ed9bf9f427050086c176366000731f120dc92f017b5e04d5c438ddbbb603eab5b75b3bc2a1c448fcc6ff30effc1617f7a69a1e5c8869bffe6064f80ff7c6ed5b923469a76f0d8cbd419696cf0376c15420d0c30ade7c9458644c6a4a31b2c4fbfc552d3198b5cd78817f5a04e622a98356348deb7cccd8d2190f10b2defb90c77631e44a3efc0911d0820072ccee01bc5302a2e1d0905c0aa2204f62d9a07f5f56b24bf695cf722bfbf161505dfe847f1f8012eb322ec3a58a85ed78e98e5073adb7eb2dba2402ca399302fc2934d1c6148fe46be8cfd7fd9e84c0338e6880ca45e8a579e481efdbe5e815c72035bf85c8a83dbbe77b408934f8eed527844135b09901246fbcd3a6db5c0b10777aebfffbc0cefb5a6f376fd4c33b05ffffb8cf5ae5195f0f1e593f83a32ea89905803dd147e34fa80ade26fc873d8683b015e06aae0a0136eac572fb17fc9af091d242548515226aaf296494b8de645114194abffdc881bd95b510bfa70cfda1eb53a103f1b2844caf926992668e573878fe4085e016d9fe5c0f8899c679209395e7e5be459f42258a0dff60091faa7bdf735171a9d4c0330699afbb3e097a336c70d441d7b414897f80b2e17969fffaba4e812255ce0a5f508a2cca9162323a629e9b88cddc40543a8128cec685cea54c250f3bcf4932cffca791f091b54507a3cb637565a62c74b73f4e2ed2e455ff55a639dda5edb5619a0f71d748296af4891ec159871b115fa732d93431e4ffde4d0b884c88dfd22445f8dfed29ec53c551e603dd49d47b600c14787329d6a4202c9c363ea44aae0753e44290c0782f17ba523a25993b5e2f9bfdbb97ca6141d0c147939214f15611b304b57ca30a6c1cc1aca3ba0f7450eb61b8c3e28078789834b4f17b0e20c2b419384426c7170bccc4885d330afd89a39a6c4879898ecff5c87782b43ccf3662b003be371a77ec8b132f41a6500bf62b8a0193150acb98cbc06b480a6529f3b6f5cae415ebf19851494fee6f5a1fcfa6564c5ac6c11f13d4e967056a00008913715355dca0ee2a48741f6b2e364bda5476670c7e303823fd9befe4a41e66150a24ca129470924e41aaec9c5b2e727d0ef3add0dc60ef583b12e568bce106d48904b9af647fb91bae84f856573c7f641e3b3eeebe0027c615b13c706e6f6c1b636d40b253303a15bb472c82b4c337bf977c2dc57eab5397dd12b53b02f8690920db1c2c5f40376c506aa7e70b0aeaceb6420440d925f0861985b716c5ad8ad65ee854de5e5c483f01d64391c77986d354367dfc3d0f9012248d7c038f935495541c6372bb309b0b71e27d0e4443dfc8aa8d50a4f24fe83a6aa6625097269aac752acd004739a96ef51cfb526576913a275ef938a0c1ac5c456eb9dae31ce2853c9ee87e64d55e9f76eaf7787bd4fb20f97855b36d3ac67a1676d615234fea6a201e83245d55ae8be3ab7ae66967d6cc78dda84696178aef9a7fdf72476f922b85110376e1adb093d955a048f7ff1a02601aab51bb67c1b7ea5b201f47f921871580164286dc7588ea3889e358fe40ecd078f3b7c88abdec3bb3802a5ff2eea9417ec851cb06715a4fb59b80b2a0a364d1eb0b0a92f968a7a4a8e7e7b2c352e0417cbb4633a788807f126eadeb408b0792105f597d730c5333f87e9f307a13310a71face44f8a66699dc84693cad98505a63bd3fee11ce5173b3b1fe07c065fdd3041eda2fdd186cedd27be5a7ab17ff5d62e9f393342b1c9d09abc9a779f7ef29da816a7a03164cf871a99df36c1eee5216d8f4faa4f79287d2ac02278e84068fddac50a55f92158f71135ad8358e5a7c9dc3252a10c94cca459681be5d77b2fee93414c4c4bab4cfb4e1f883daedfb909da0655c1e6478416bb62874c2101d1f6465edfc490f95b2c9431a53561b5467de8730ef8f86a5ebd390356a4aaf097fa4c87140247ca99aa8832f5d306fbc6b458031db6ce809d85ba86b0a63f30baec3f3a46711f41a8a741861177ef6f467e40b8a03c218c320871c1c1c304feba83e87e8662e8bade6b3128f339c5d5b8e9be90d85f1cb4b3306a9fcf00d39726c4f6d9241a12e8ca0db98c2b3be494035a921cbc1eea7fc3beda805ae9d7ddad226339db6a901e25f1c4eac95be923b847d3b309b1e67c4bc481eb7936c5357803f06aaed4045d7a5bbc4bb4927f4bd580e55d604e2d06d8d27c89ef5ce01f2355dd6b29a8daa57a3aa743e290c1b0f12e6a800d308013da93b5866c775d9c228a673295f1a0d86b7e99158e46d451080fbcbc81f78ee5c90ce8f9a9a6059b0a1fa2a2fc3f25db5429089a6754a066d4a1f4694e292a9335ea7c27e32ba039e56b8b5afb817094f77806996101230f8efa72b6b059f877a1cd2aeb25e294d820b356bedcfedc3bfe51f3a7f505e103de61011d1df192411d04473ac2641725105c0955cd306ee9252247d2f076974bd7609317d334109a4d76760783f191d117f74f59639c716e3b55d8af1b2b53d750ec7b94c5342caa279a2f9139b79f0a6647c2fed50844b44aba52679dc4d6eb64d5ad489adafbd45e048e6fe846bb841642fdd211978cc1dbcdf22e8916341275756d9d9f66b27620f6898df34b0aba0063ad5842c42a49d8788ae025fa8a165050f49d5d867bc5fbef8fda0c1b1e47521b1a1f8f52449805795116541f1f65872e1130dc5407d5bcd83170acce7f8c7269ea42028f17d3c0a6f2a906875eda763f82c683418658aa34cf14672620d3ed5d082549594c190cd5089a899f16685b5f40aee0129f377a9e98c60666ed04437aa3eaecb6709d7e746eb44ef7a03ba2addfc7f870e4de90b4ee89b0e0292d8b6854b590b22a179aecfb3c6043285de58e2924bbe4434ef65376fcc4713451fe4fe634cbe4bac766dae2144c5f726ea4bd7d5933bf7f7ffaabbd652052d85bc1f5253dd204c2af00d20f72f6551e94f4237ac5e1ca759e6311b99bd693033f735c4b89f45deb07907007641bc1649a3e802359c8b24aa674502e99ae78f91544970dc7ec9b2e7ee23f1688f7c3aab543e162e407d595e4e4c3b8b4753cac23b297462998d712c58d3cda1d7989babf1b15c446891470d26ea67735f68c54b5edd0463aa5810b6cf2be3f3d3fb565035cf63b7d0b49e2b4ae1dcd08d379ff2b59c5a8cc680a1533be627bdbe36c7eb01f7b79ce239d0f66d4aa44651b0395dcbbd2675c826a8727d193472e4330d8bfd041fc9815392a4fe9b2651a5ddc061b2a68a837cbe083c752af4dc1c1628430c6d2c045f2b81f1729ba15a78289e502b2b1b4ad5fbfd6b8b56a70b9cd3d19eba9d806944399425aa27394eba3696b6673d58e3564dfe68822d5fc9c4374be1a75ed94ccb6d267720d6aa93cb73c224b89e41712384f01df94a748493dc24a83f94ef08c2d140dee4047967c681c6e994c6229cf6ce6e0846ad87db059621cd6473960efa26c5ecad354e9587193a523d89115bb022918b578ab5f2cc32522cd34bf56732febc7f7b323a41782d4dd0495d7702deff2054b3acd0efa7d1d9acefe5646ef2c38c3a95d11ff5283be5990119188c5ecb2c06140d051643e827ab7149f6c29f906c32798d457cb7b29a0f1ca143478b771a5f19c1dda481a14ce907da21eccb6c451d729bb755468ff808a343367bdc6a53d340743e723215efecaa661a24de751e7fe886903829f8fd04cef37f1ee02f5287cfd6005d8dbc54fbbe1cd0554bdc6fd4dbd33b9322ea26f37b996f74c55fc1c9be00b1b4da52b71ecfc87f555796fd3848853b113e303e397a8240bf1e7631e1c9fb830a01070fe1ab9dd5f393284a3a47ca718afbfe0eec836c24a41f461cdb2ef3eb5ce4de55df7c7a1d337acd5bd46d7d5b36c98108e16105695b350878e05d7d31f8334d684e6d23a608037c88e21d59b96acd4cbf92d64b3a0e2eade5c0964d2d382400bb09abfbd34b3db491916b886ac368a580d6434accd1a73d459bfa10456f61fb3f2e82ad2ef9083ada7c947dbbea7fca4f6a0944dd198321bedd116e535b8c2f805f2a19dfeb7dba2e3b62fb66ec466cd75aaddcf467a15ccbf97c2d53455cedef7e8524a61c988be439d77126269076113a6800aff869bfdf02244b3265d85f3b24b2380d9f46ec7c0cc26d00f38d0df014a1f41fae72a6dc5df06968d0335315c8b9f9df56a13a2d45c1dddfc45b5dfdef9b1adabb1852c5986a3479a1bbaccdc2ff2daedf19f2e8c89f0237e25da8909313a5f69d1ba971c84bea8761da7e3912c4b69452a4ef9f9d14686a4ee5fc1300cff6e0ecc64624acacd15b0b8046ed56ecad32b60add23d640e3ce005106a40d454ef4b87849bb1bc9d0509deff4723a3fe3600ea8605aaf2b6b427699fea7a50d87b0c47c16934f61351903c45b90c5fed58da8412eba8ccfe560045315f663a4ea35acf863a42622726545ee8a37d1abfd9a100daf71bf452937ff5ed0e39938d03108463986e0d4bf2c0634d39d717da6a54ff6c1a496d84374dc37dabd26ff337d4f29208e3b870d50b93d768794b30cc2352dfd58e7bd6136d0916f5f292042317bb7db8dd3e81165853f69182b4d95545a2a389cff3de638f24f6955280b6895a4ade6da28f5158a7cb9a28b120ccbef1b808f1c2ed845fb688c82f8fa7f31d6a1524b3959b55c65d04b7c36a678a4676ce8f61cee4734608776ece903c01a7803b8bb31d6a163305553c43c2f426deee2ac614e369500c2d2521baeda945bdd6414b49fe7fe2065bb98970ddd4c47db646d821b461c13ae2b46dc07e067a7f4f40a3df2951e89216fb955fd32da7748d40076c15c0cfbf700d9a38a6ec05229132d960e325e5afac6132a6372c07c7589d38188b283bff74f54abc435aa6d6bc437aa73fbaa09e174ede1bf7e9f2f43a63fb4570076c005a2079b5c82632cfc8ee0f65bebc6b50d4f57ea9ba0ad96d0e717f7fb83fb5d0095839d8a05c6b089bd914c6d09839bf0ce55aa5806f2ae835df604840d570e300338b15af49fc4e19b5fbb15d2fac31cb137118f38d3d525ac2b3d09ea8f4a64bd3ce149380610b0a99ea0b6d1434f73ed6762d79a9efad905cec67de08727ea67e3447629ef75a136ac18ef43acf55105a2ae1f6f39931298ac35a699b6786e2e932e831af4f01cc8205da7aafff660ebd14e49fb3d1953116b4dddd784d1f6dbfbde63f3f209443cb98c10d55971f67d701df46f957f989750e2895c285acb75f9180633c13801220f2f8c2c7351df2d81982c430bf94dd12e4a4037ec9882729920f0bdaa74fde0814e094ba5ba6102d8258209cad9d71f13324a9171cfe1dbe3c2ac34bd62d4b7f60a42c4ae77b0df2c3eaf5238fdb594bd63a069ba16b7e27cf183944ca19b3c3febab5f00cb99a0cbafcd099571ca369a4582ba307b2cb2c5a341c270c7f795d53716282a4eb67518938ed55bfd3e40fb2fe0675d6aec318a7486847f191e3ec0f74c7ced7ebe2b2dea1bce38d4e61cff362fd987f67f5fea9b5204e3e2fd9a341a1223de0ec3f4007cbceea227ae7959e4dd93c888e0eb9636f2687da8782d3028d83caea210eb8a746ee86245f4dabfca898b9347959267e030757ac0e3de7d31f9efa130f0a18b22418473cb3897e92e788a6d663b9028340ca386275cdf1c90acce5053031ba2170539515a10989d945588a6a2b5682702e50ecd1da8831543ea501a8f0439fa7a49d1a4833ca410b40ebd8eee903eb2a592ddfa8b9fe9dacd3f78d1782ef72eeceeebdfe82dd56218d64062c8a5b51622581e820e6b994cfc05eff9904ddda72c6b60dd97a8cb1248a76d5e262a3fed254c3a214e32693e2887735b2fd61597910d3888721b36a8926624d45a422ba59b9ba2eede8744c5ad6285a592ec3a9102b68903300bf8cfd5b470bacbed8c710da03dea82dfe155d126e9b8fd05c701d33370c4a265f85c60070dd7270cbb9a0d9bab7a3d799425b514ab5897b86d2cbc0b52230d98e4dd420df6d543944a4043c1ec304d3d8bd42ed5b9cfd5e48d23250d2199de38364cbe239a60f0d5408be6d11034b227229320b4a94614c5198bb2ca2c408b4cf6db633ccf9b7ca1ae24e2447f793853ff8f01a24fab5750b708641c0ddcd36795f952a53c5828dfebc5c0c73f9008d27fadb0d4c62e7325b6b73acd44b4b2c8d60b9f28944b6872f5dcb4e18ae5a49ffa44f27ece3c17c47640834a076006ba21f45166d358709e7ad7887496cd58ff1e4e24ea0fbf4cc1ad375c0d05697e914d6eb190af6398793f7fa986a6264cb0dccf5264ae6ad71903890de4cb0da9b8a3b2413564681941429fa6e015bc1475f8080bf81090fe9f49218c821bac235645312abaa2d9ec85b953f6095b1d0cc872bed54004996d0f99d28e283d5097465592755208bf1dadcd66a5024b2e416d8281ff3127e6b879104e9332e641591cb191d151bb98207af6d0a3aecb491a4b4b9214bf802871d1f5f39088c69094cfa7e25c926a2a129145fa12f6a2f7fe7c2eb3b4030d8f3eade3d47ce8d122aa01496a7e71ed2848af5a0bc48531edbb7b714341d57e4f60b320cf14c2de8c1b122c62ae1c3355379a5a380104b7be4dcb3cde0ef847fe4794720868620a459ffca7bc125e1c8bb0f9c7147118a942d9e15ffb0423e1ea95f9a120830bf899869294519697516d3971a658c04078a1636eb05287b71f65cb80a9ec4111c83ba8cb778d7f2ca53501cc337e8dac6f734b20f1d07032b4e74b0194b8cea980c55a209eb4b7f03c8f3d16ee9150da722cb332f86bfe04fdffc5f2afd2c2b652f8c05ab690f52eefbfd6ff2bc62bb1e3891354fdc108adc6c4100fb5165efed26437e105bfae2978ee11019f7ad3e912fe5df441123b556dcf39125baafce9a7cce1eea76a06ea90f448d3bfbe36bc58e88d4786eb7bcf007ff77faf5de60cb6fadb5e7c791d30bc862dc003528c034aa717e875aca4edfb53feee8a1ca6dd3fb54711ea851db41c11bcaebf91a332e6b3cefb20c49c5dc472a92c87e00a54f5673eea1f6dc62d1d4fc1e68d68647500722c0a6c20e0b88b18451d18f0fa0983c5f0e1c0f1a822d257133051207b7a8b6c0d312211b43e085c10454ff1fa1c82417e1522bc4a842f97e5df57615d315b34cc22184f2a49f06458c156bb4da9ac3799c5dca9b90ae37480049cd21d0cfd2d66df240c46aa7952979b1b96e8dfa16938d8431153615b6f484fe9de83ea48161d986ac65d1cbddfff8c4a274e44c7c9b5e913a0702fa7dc92726243acff3762af4801573e3ca0f7027a88996344ce9986d3a23f75c5f533a147244ac10a785354cea3a969610a868e1a7385a69015a2e2b20f11e62dba50e43c3c893b53c7d1bfafdf2400e0b351f4b7fe82a20405f19e87b52a3d57fd9bcce78f253a6a59a56b3c3621ab428714e3875ee9a288288d43d0ade03a4cbcadf484461a4b993260e0c4997cf28b418839bc68922de4e5803e4dd37ca662da654a6a649720c147a5fb7d14608bd2403782b07619913816c37c28844ec7ec5f4214601b2318fb2be20b12f4b5267f3a8ee0bedf547846ab905ad08b12b26d4032e1455c3418c9860f14844a5ca31df393aa847c1a8afa97d2832860df6a6e2988d3d6be2b1c10055a88333713ca75fa339026cb5975de7e4f56d86106a651edb998b731ea6eef30db00f3b4d4cbe11edb45db24a1ea418fd8207cbdda89616ec0bb456cf035d2875759bcac78cc1b9c445994e085c6d0d01c8fb7d988cf096736733a1482c4dd5aecaabd86ca089fb21d7c5fd2b6810415b2f812e42cd9951fea6ac0ad1d765452e0254729411f3ed00c68501d53e65408646ac51d70f3ed494ee6508a3d03cb331193d0d75e5eb6d5a435c749210cd815d815b2f3cc490b38228864800208c7b08092573e880b35082626eaf5fe164990fd38c1310f6531a8d3c963b68c5487b2bde50f13ed33dd5b6e59ac01a90e62c34752ece1dd90700e17b76961ac28e80b60b90cf719267fb962f7b24a81b8accebecd8a2b5b03cd3d106a76306dc1a477843a10ceec228756eb50210799c9a9297d2ff6565b492bae09aef9bcd1e185206d355566f6d8b26eaf05f55f445caa9a8861796b029617efdfb1353150912e2044fcda6361cd7b690730e3c2ea00190c7f97fd7cf59ecfd5078b334ec94ba38cb3928600a6df3927fd8042f3cecaedc53f7e2b2e70e47e84392e21c3354783599522d08d3a6894c88490deab62b126526b3fe8cbd4474ef142e97b8c602ac69f36e9376e1478ece5dceedc1de3426aa11001535d94b8bff5e24aca4b71adea76b0eb62840cfdf153951bf2245b6a6ff7ce67155e7e00a51d06cb03aacace3a29608b9150888d03413c56592e58553d75ee0aa4d6c1445acb60483bf04731887d890fcc7d1c696a51e12eabe54417d91f52c2272960b976a6915924837e216ffe03ba17fcc90783c3be49d7770c545b4bff81742729745e328ce1390b81534129b0fbda9e20c14b17a88bbd73f773f87e50df0b4db3aa7933e4c114d60d15cba54deaab1f1560e1e7d7155183742a1a27b7d495d06897dc9c3027114f53f51df3751fbd51616f78398dd3bafff550b6a6f482af415efb36624989166ccf83614bcff89e412fec3f0dfb2c4164e412277be56d6682fbc39215e0ea6f4a37bb39ca70dbf5521f7f5fdeacf755241886f5fb27ef8171c99243f819069d4c8eddd0fd4b699a06af9c245da8c08db78fcc8f5240d7ce0fa9ec51636fca5c0b9e1436e00b15ad0a95c29f3444be2e3d8a5dd6545bb2655226758c9763cf9a8a0fa12c3f799b5d6151958b7d2b44641bf3669c3e7aa3a22c3ce9b14d5a8ab924cd6772c9c9e5607ed211a05f777cb3ece46bcf1b65df467d611afa599be5c1bf4caf995c401a41ba0e8323505c0d2caa1033fc8c68a46f46af289275e70e1d2b87b604a31f1a743e712e981cd093c4253d343ca2b544b335dea439231f7ae1cba78972c1d91ec7066959fd0721a3cc932df851e1e87b596d014fcf0f4477d7079f932660943d485de1821abadcae701e5786febdafdcf4cebfeaddf92397e2dc492ae0fa0ced182161bf88c342ed4ce1bae5b810fea6a806702e41215ffff88193b3c9f69c2f8b3aa9a5ec1d46049c1053182410fdd0d8caf28847664b68c1019b79fa661bf66ea93cdea03dc1334b2f9af6073f43a174a452eca46fe81a91fdab76faca44dc22acef8ba1ddda271bec0b305489ba783873a5e852db7057a0dc1d24cb1ce5ffebd18647b9c2aaa6e5e5f451e0bc9d1b53469ffc25617d5f81aedb03c1ac397e3e18e0b1ce28363cd6d3d5c4f6107f04f0ae61e49a5aa6fb2a28ba79762c6c9582f7be38853ce53987d97bbdc95c7db431d79d42f89556e91211523bb660f5792828a90ef092640e9128f4ee4ab8233ece7c0c5d7a3a647a0b72e150e533cd22ba00450b0e0884738e70b888d8c1d1489c7576249e60858b235bf092b68e8aed29c90a6eacf6464740eb557226e2aa86bdff54d927c03e54014f7aad3beb56f1e82a4c77c53ea880d0139ccfa4037a2e4871ecc9ac2553860a3277bd3ec2e132da91edabfcf3b519ad999d7fce0fa5be056f83845339c6318a8cec33dd75d71fa942f928ae6623d2e5378b39c1065a23b092478f25d1836f3647c4d7b64f296e42a934d3bdf7378ec5562cdf7ff1b876f687613f1415ef7022445582d3740fa84393e68b0e573ba78fd094142f1dea6c58975a4d77935f0f2e24dce9094fee7ebf2996e1f8bed871a03c3ef54384060e3d279ef1d20fcf0e55c3060ca723dd3f76d195a1ee66aec456146b586be3fe0fbde417f1aff62f2eff7b91ff5d80555d7be30b18e8c55cf1fbc0834b5b8a0d68529c4dcebdd8fdf48504216e46999fc02c51dfc9c2b519dae1b07cc843609715b054aba85ee08c771db680ec47fabb5982517ad376e22a70869ff382b222f27a373e1864921658e1d37f46cd9fea84bff46c5357875c60c6293056d8c8d14b5cde0b30b6cdbcfbf6ecb078a441079871e7a738ea50cd0904d6a48161f813b9f28e6e3e27e2762266ec53094d78cc8067f92ba8ffba94d4f6d42882ffe1e8c75953a8c16ab43455db1f8ef83255335419b2f47b27c7b3613b8e983fd1d06a7687289f48b663ea6139a2bb84878f544e94f010cd67629ed4c5d90e5f6df3bae61b6326994472f5ad4139974beee966f659cde128a62ce6c44fa7b37bc41688228ad2340e91f6e41a30796bbb5bc0fa58db6acb2d65417a56ab683a0842044cd5d220b041e7469ba9e86956ea7da8b5ec6ad9b0a2f53f166b67b2922095ae886f1a7837f44543e96e26654e42305a520336d7ce3d50c75a65bd9f6d7f55cb929e0645e7be6abe489ad814294527a1f8fe93f63e38dd8f31fe67dcd24af1f56687fcabd299dc721b3aba62ea905888a477f06be66a0a38387e5ca13e3ec6de4a1a4b56f66e4f09d925622c1c7d35538400bb5ffd0b682cde4c7d2e2e8f6abe542b215b92ae0c9e683a9e0b0a62dea852dd4149bfbd3eafba25b03aa93e8a136e0cb2e438fac754def51078b6b00d8bdb3e33187b1b7860616cf6176c9413d99b1f1df55770c96bf210d6b6d13be834ef3f83e22b607390c265a355e4d9f2f78dc65b2641eab24a652584765da90acce09dd2f06d21cc727a8c680c34c8806ffd38946782d7cbfd9c645e40bc8f96dd2a7366aad21b2c141f4957a38c7663dde3958e996ac3ba96d1451489c8edb855e89e6047cb8ddf133db4b188fadd2ef26f31c0f1039d6721149d5f7a839055cc294ecfd86e16b003305d68340b81a48ae56d392679255f6af61baba73a61d2ecf38ff1eb50a6e6952c94ca04d58f8143b88171fae3a55dc7af537f1820f0c53045c2d0ddec7ad056f343002a60b2a98f50524781b9176ca0914d174ccc3315ab2cc5f003ee8fd8ff7d25d457e885da4b9f97ccf32d8973cb9b2a36bb75b37155a9eee2b6e8af358e5c4548991deccc328e9692bc4ef5a77fdd5c84b17c7d03e9c6b2d2bc9466797fae16d071dfdafbb2bfc9c60628c761f7a01cf39b473eebc6f9e34bdc27733ee01805811f473724fed8472f216a00a20f4bf2ef56ba4017e08eb0d51675143a73de53de2317a3dd7eadcf82d7e7c8fb722701595d801a2c15e1149f90a682abb28a8c54e047b221fec509b6ea24a69f2910d1d338aefdc0e7ca01721c3a76b0d8b3cc2977151abe5a0b88fef89503ee7ef584d50608777c75938a837c7455bb7368f7ae94506b71d5bd9aad9ac775af7d7e26925b998978f4c953fad9c91409270d879c7ce0fad2f73180f6f26f4228d7b307ef94d030ac5dd528393e3c4e31d294d7993b24186424795024a01b4f0760fa110308c8ba0dfe8e0ea3fb0cadcb1c901e04c42c099342f068c0321d498ca48efcdb23e6f8179eab82404698de1b55528882322d801c3e1f83725ab680425c8ba7632bcc73896e4440e31192e70f3ec5dd156254d680dfedc40a034b6e4d75ba601d8d94f7f1bce78c333601ac6146cf4f6750440f5c9eba7c98f8a1926f7ed5e0e352e10564d450bc1cf948db87153101c05d793100d574edd305fdfa22bdf3129ef1c598d789e1db4acbde9805c6227371608f8a518905058d7de38d347d1040cc7301f237c7578c1cc0dd874e03bdea6aff76c7d52900fc15e71498a500b4804c1beea59c025a21acb6797554c584b3bca8cd63a155c6276aed9d36a3a7e5b1085af241d664d418fbd87161c8ddccd74cece88260c237c5e8f9f7af450805ace6fdce5fffd664964758714b76f36e0d8f4dec0e5292273f2af94744fd26cf3c2c862f5e491325e73080b3fc15d4aa6bc7906c9eeb939d33096c2445dd27cd749cbd68de86aa891af359ab1b5245da79c6b6fe34d8dd3f373815d4d258b77f750c7313b2e931ad0d31bdcac88c04dd042f19f9851e0520e7a5451da9e5d325d99c9b107cf4aeca21a87df82164178c9b94ce3d777f1cdaae347ea851b5492778edc20cdf52374bac374a2268172269fe3264fffb56c3d6a46307ee2a752e946e93aa0a9e0b6ca9d9375c05e155207985e08676aa3804898d3b6d06a87fa41e16c056f3e6b418249ef344e4ce4a94bf09f7ca7290aa9c12ead4fb02b08cec4350ebc5b67494ad70efe8e9b7d904ec58ffba91b80e73ac9724ccff4f48bf4e1ead8dc6fa69c866311fe681f123d7cdc8190b0ff3e2b196efe823f02545a07dcb4002c07ac0ed982c8601978745fa85d6b8ff3e025258a313b7f9783574caa68777ffb14b609a09732c6c841d80108aad710b16fca31a055bb0e5f2c8c9c96dabd6b30fbfdf780cac2e5d5d84f8ab4d8543de65db4e02a245107460c75d95c420940820dc93ed39aec1dc5e15a27a57930efc8df19437c5974cf5907954e4fea2c3afd7c140514aa498e70db48250ad56e0ae8421fe9f17811c7a959adec7a47bb1c132c24c52f3d3ff7ca836e4fa21cfe85279e05b12f3cea6c8a0e2fc97ea4fb0a4066d536621e65c3b6cdaceef440129c3c31a725946028b7fb7cfc22ca6d6122df7229cb1bdb22350c77376d10c90e5e7c5bf8fe90bfb36e7a2199a8aedea13aeed74b4d472c86fc584350e47befbb317f8d9a19a2368e3081008be01150390fbe348a657cb7c6ac4e5e2fcfeb3a313dc194c2e2899c2a2cdee91818c8205536bd5a1e0ccc14fc5c17b5227dc1bfe49fe6f316adf0aa3314f92769b38c03fc2c58bf685134d1111ddafc35cf2d65e7dc07e2b2f257cb60d1ad487720945025a1d96f77a79b72f58b75acf8dd396b6190c854b23e0e4f83f2d4bdfe7d25edb4e52eb9ea7ce615ca59bd2f133a4c7b43314ea97de21986dc8c939c380ad386d50e9c54f86fbfe0302da27c6156e0c5bd61bf75a60f8141d37be7ecb8c4310ac6aebaeb16ee7709c56ef4278ae4df8b5497db4ac57bfe090614b1acf698ff394210c75aa1c33206d3c192b462dbfee4d0e4e9aa34b031016cd4f27afd09ba12561aa6db550e5db35de789edf79f1edd0ffcdb702e0e4e34ae704fb8bf41831be7b080c1ab8f26544ae4fcdff552acef87e301002c3e9374a0654cb8aaafed4021f7af6aef6ed30e6f195125b8fdcdd2aa82e89d11255b5a399aeddeaf9e835b8123cda226ea7ff293654c4f828fc2e7b791ac17d95a167744ae4c8a279993f37875f80cfaaf722181da20d35e557865b95efadc18c9b99c8b223a314e9a57335ec3b504a8eb18687f015e1ee31252ee23dc21e5d5fab7d5c8ebc5b10ba29ec9d6ee7885270dbed95e37948593ee01e32c9da63f075e4cf4d8a9d504a3a320c76758a210e17ce4884609f44be6157fc2d28afc7575cbf7cb6a342ed2b7d902de83fc1a38a96c8a7fe0d5a61399a2bbbd6baacfd18f3c0711d1e0b9409366ade8f4740efac87ff33d3beab7298a8532006cf6181bb0cdb55c58d90bc2d34ffbf935a79b949d02bbe66e874a0ee6235c6f3c4708bd0188794e4e1d29f29201fca3568c9b783cd6a6ea4d6964ca668fe203dc45c511e3dcef760546af237e80216fd6b568cb41c9ec633ebf1e01e3ae151998fbf77bf842b63810b1dc1b2a371f9b67f02d09d1195229718bf23493e038d8fc1eede18dab7ca0fa14b48aae07f4b82d77a3d99dcad5bcddd41d91ebae6e26ab41aaa9a57abe86ddec9d3f3f313e907e96429702f9ea8531eadb6d077e7ca96c464e58fe85e4e1d2f076c62e1f70734f15dc66c45f41923dff1cda55a48f1b169da965e4a0121eef5019ed423bbe4036f870c4e1b54ad9100ffde52caafe38bad01ff4c92b83a68f037609f90d3ecd760ab3a3b4a3f118aa4a998576ac6161819d4f60dd7209b51ad1f05317b5c5ee812527022fd9779bdf81bee2ed7250eca4a7bc32440d3a33110e68f5331fee9ad21d823d5ea344bf081238c60d822b3536c5e3cfe77747a9d2097a6cbb2a2232bfa16e68c394fdaaafe481dffcc5ee6bad2ab631f6c3c40a9d370d8fd40d5a2b1d0f68d9b52","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5197399655f0ba2e7412d816aca469c2"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
