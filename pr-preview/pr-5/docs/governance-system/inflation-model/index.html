<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8d13e9e1df3675dd3dab8b86805b3d896d55e3e993b302d0fb2fb3c2cd8f76e67fb20584575bab8e36c68dee397a3184fbf542233d0db45dee80cd9702971b91919a75c0bfb78152a7441f04951a3b7ef33c151796fd7db2cf0314343f6c66b153ba51c769455ba2174e62824ce872c357351a01b380d7e90e98a0458bed54aa3e822147c0d0204ad96803580458485f8996c1ad9af813777ecc562748cd1a70c1c333afca446b57d3ea822ed5a060169db2506aa19f82905d4ce4b0850c20d802c05cfe36041d44d73d9dade7f3d4260d5956b04c858c35fe089493a41ae058c7f70c7bf8f9a0d7a18d54eac791c8e523ee229e30e6f1367c96f1fb5838418aa71eb74912074404e0a72d0a1713bd5b530575e95197d8be2e8f41e489042fd520dd2045378bf853ade402a03d172ed0a33732790ced4dc8433b424736cfac7ec48020e164c434ca8e824969366ff179a6aeeea2a9b428b3be17eeebe4db5db27b75f155ba2d865f57707d4d3bc1b2d0f5b63f7feb5d448e1f45e2e292bc9aee59998bc2b94866c132201bd55b4a0caff4db877b48e64525f9302eaaa3836a878b449feccb6fef9cf1ffb29ccd30e4c471b99225a8cfecfd4ccdde8297f538c23aa6fcfe90f720c45823b0f53eaa090e1caa8391fd9025d465c0ed66a46c7a725a60e3361f04e8e01fd45b29e41e14ed051afcba0b07b9d9648cbd80ef5e2b8f06493e211c2f80066b14f0c7640cbdee8bb6e9bf570f1df0a37dd9e1c7fda34e04faf3c91c195304a4a5396fcab64a994fa9895e1b12ecc02198ec67da3c19a39a9f1b350023723f0378737ea5c0ecbbb4fd966332723e633d93df82d38a4cf3cf2d2df036bce15671aabb1c0d515d73d148def89b9ff42ec3c8dae64aab4d8eb2d4d6227b0a96e4165377688a539d9f92364058f872b007d7948b77d182fafc01a3599dc75614e755faa623fca14544e5979e3e7708941b36f6805d45b617ea1af2b9068beb41d3a3c256b4cc83fe6ee6c8fba387b18d6fcfd1e00b8a4843e6b7429f13d6961bf1c4cfcfa7b4831ea8074f192152ef612e190df69b27741936037bf0e40325b394499104ab1ace6cffb9d18b8563aeb79b904a4f4d13f0bb0062344ed551205ed900059a03df0c0bf4f3c4396ab1e27c035bcdfa6758d6e8f5a1509567a4cc7bb1cd79dabaeca057734350746e88bd2674b67da782a1066ada5fc269c0ccbea556ae57a795dfc7ba7dc891424d96c81f81f46743ed54984cf9d9df2ce2add2591f7591c13fd7f07854d5bf318265f87b73dab7e94732104e337aa77d3e86e05410613b1c6c4ef8e31e829a6552fe193fc23ff12f80057b99063aeb612f7bba13cd6503182289b72771d5e57b993b034eceb1b0dc09fd010774d1a0cca2e31248e61ef87395a501350b32de85b61ec4b12bce1ab27623fde633988db75fe1fff3749fdc94d156ca4b85c0c5b36680c833dd5598371aa77b404acd7ceb77f97290ffd7fc2437f126d2ef8defb8c651d4d13895b871698daa3e2e00127a4067951e7777ff0201ef96014536b0b64b1adbc97eec6444e49126d9dc4217526a63cd2bb379144ba3e87b773a0438320101e49e472b0618ce43a58446292ec2e5e97ad8b29afc2d4eac82a3209805d79ecb6ee1687cd43cd9e15e4a4700f6b0953bcefba3056ccfbae27134620d482c3d2a4b483edca5ae95a8e89e5c315f2a8bfd590f50d74cd47e014f209119fa2d9450566693c747b79b7eb0c4198871efa2a649293aba21cdd4a6094aebd042a552b4c0998aba477691797270334ec697809ca5eec9e75af509c8aee3c9bcf34bb3fe6210b10e08307dcb2ea6a273f4604fad31cfaeb9c8257348b651b2da4799fa0a2d91eebae7acf5bfa7f1ade50d5ba1672fffd8ee88ed3cd58d27313fd414e3c00b7e05f2035c81491d23210c7cd24a96cc4f40160de245f7fa32d3a31b2a1fc82a0ee8d182a68b588b5f8d5edc27cc404d3d2aa41b85e0f594cfaed4697c53525cd15ffc7c51e77cdeb425a7fe010dd09548543e897ce739d4c345342f16cdd957d3ae4813363e8f845f014dd41dd89ac5b3c3f3d297c37ebe6d2c29ba35a0aca283b30068001bc07abb50ee674f94b3f599f79141d3060e4cfaf002dd71a56a81a81a1f87e4d6e9e3782b53ba76dfd5778c3bab7a9e623ec0c3a28c159f90003987c5a3ee31cb3ef817cc2d9c6dc1e0ecd6ddf02ab113a155db3c3e43bfc74d85a90862d0188def8ec9d775406b678cc92a29863d14678d7a0b2e096e67f51c6f2f08bc2b892f0ee101790a0a5ee1e85a4c3df960d011dc85a135f9fbe9d103d1b618de68154b2af24257f3aa3aee98fe7217852b969545fc2db2fcbd0441b8d2aa0eb696ba51dbd83f8e98d01fb59ab152fc1e53ef20a49fabf47c54cb1baac53d16f570baf2bf53f139010dbf7e55df6dfc2cc59b8eb43a9c643c85264504ac5e71676044f8e07f8d3e685afc5062cae4df20771ccc72c5f6fb48b30dd2dff5da6b5dd01f10d1a15afd508b4fb89557c3f23c39e1280752304212e64a43f218028846a037936218d3bf5e5e57a4a88857531b4e0bae4174ac2b4be8c11a626478709af1d1755d1005c1004f7db3e75edfbf419c5b260f19b168db4bac0bfef4186114e05ce8e31f2a547229f802cf88605340bed926f830defc6b64cd4c3eed243156bb66f4b450062c18517392bbcd02e449ac6b18e5f82edd23ff0a032be18d44cddf62c8cc2deb6c541b0375cbb9594737dc19e365d6bc817c525e7c70c54befedeed3970f088bc8bfce70dfc2a6d80b86558745109c5cd6accfae7ccb9ecbb4f2a939f1586301973bb802e3fe300c4e8a59478669f0ea4804ea832ca5a787a912e09d57a53d520c01e6cc010aea1307f04b1f8404905291a3bd49941816f157b41c13d26a8cfe02202fa19bb8eff14d44bca3fabfe4200b31023abbd630bf2d47b3133e15211058cda3ff6f3f60bcafab7550e2c9117e1928b4fd1544ef20206bee74f7c2ef72ae05d1fb5b4303fb38a37ee95525955af123f623c541a04c56b95d984a83bac17e44128c174800006bdab9a967af3dad84be0bb3b2f7c075426d0e7670a34b87a69a37f9bb686c745ce23f8643890e54e3b33fac3e30f5ebaefa5cece2286fb6778e5b1baf00a70aabaa02207cf5c119f1ce8f27b56e9228426ebcbf9910eb17bfafe6793433f03d8337514329a17f6aab4cae90552a7a51d68f46a4022efe0d4e310492a2f99f892c482b5bd6ea098003f2d26b4913a1367788576f2968a39e8b3c6edb50e6eca6c84517dba24d68240f6ecdff77abc8b429421ff55c37e16d02efcf219818b5f116f90e00f8a5596b8429ccad637080eee869e2c3476913cd14292afde5da903d9af035483c12ff0e4a5e6882c53625372b9fcdc973b93703a321893e133ea80f097d5a44fcaf2a6a021e310d4bbfe02163f65b370d0098b3033d5a8ea5e4d6651dd5ec75a2f24cb272864bab1a083b7aafc3c3e6324dbbb21f00597733759faefbe7711ed6663d9ef224fce8c5390a355ff42be80f82c05787087ce4a4e2eb949da179856fb77ac2a3c7e7a58449ad4ef039cafdf1b89a9ba9b9650f103d789ff62fc23808ff1e089efaaa937aa0e091bac6dc78650183ea841f98231ae10568858203cc60837f2703e3fb59582ada49efa6a4ec971979a931c75342823fd86ee6fcff480b86542b0c97738a14cbf53c1cd137f191a5d2573cbd50b05239a63ce39edf536dda316075191bc3bd5dcc7f25bfc5bec6486d4fe715eb2299e0985bf5a724a611116ac31d1c12c39407cd8b6a28a27e81cb2d22862d8d6dfa187d8a178f142a7f7cfe3e4652b6589c2ad1ab6cc7705abd2bd0e353cc9c77b9c37edbcce14d0998a96c900abc5e2c26f875cd0f41e385da746fccba25cfc402d60da64f8ba18f301adceb64b137ed6fb6a460cbbadde87e51a3183052b54a5869cc4aaaa2c64d71360e38b135227ee8be52c3a4139f4268189846468cd4bac2a7d2817427d725103d9ac36f3b82866331ab65bb4abff0f6378be21c15df5136649ec7430355d7e5443191f24c3ec6816db991b49fb6380ce3f9498c8d4faa2c62ba8ec4b1ccbb73a91ee68941bd329ccf675b7644e8d45a2e1fce1a0add451d308f895f5e5254861e7c5364043079b68a06a2b6fed7f91396f169b3362457f4384503b439c349a450d82e8d87d6ba67d893ab1512cbeddbb79e8322012625700106593fa0eb69154427e2a88c2b254c5cc2e9bf1642fab736b4e9627cdf2140b8ba2f9bd781caa7d4bb8138123b09a52fd0520771775dc12015b41a9555be9f14fc55553a85355cba096ab1f9a8493c076e55e9cd161a98da702f7cf260cdfdf399fbac42e1f563870259a6670085f397ed5fb53ab25dd32b049b056395af5f0bb1a6698c5fabd3cde42bfbdf8c45c6dc5011101a54c60028feac0e30eeb227eeb42b47847bcdb03346444187e8ea0294388f573c91dd40a390b81471d85377543cdb8ddef36d09523f86ede256abf179f4fa9fc5bf9c16bf0080b906e71db32579efe4fb5bff71629da35632d8a728f598c57af74aa40235545b1c810db77243dbd451a9da8a065466fef9eafa2a2c870b537f4e2b6744593e2a9923aa4bc8e37c22a3bab4998bebeef845183c973278de3e164c197725e927be0e380a635820f20e8273fe604c38ddf35db309b20b43cd0213671b90b7b7e159d2c713b9b2dceac50e15384aef95fa99b2bf7094b492eb020d87ae775e8c971b355c9fb912a371ce46e8442af47c33fcab04a75e7488bd963ab36cb46d36e9228a27fc5b0d90499dcdb1007627589bb8fcb95eee1d1f7902f4f78f3754df046c5319e385323d29b9957db7b1c0bfe75ccb1a75379cf5668050a9b50a9ba494c1f76b0426cf5d574cfb18a237931578ff67774b0acb588ea5a0c9f308e69e70aa6031079e088a3a36ef3f47502a5ccb989cc2d7db4db9cb1bef5287a0c1402cec0f0285944be80f0d7f16afac8ee6dc5ada26cc02ea81e189f795e9db8018cfe9ed4ca71e6fb7649ac84f444bf94a4aced0dd8607c31e1efdcb53b82ebd1d39fa410788d0dac9f6d7a405d61d156542dc023959241d3f7b0b3012457ffd3aa8fb6e3d2cdecb97dbc5eb0929e3156cc4fe89794387205974ea40f339c93c07690e71e5d31dc4261b60a601d5bcf797b8463166d3bbbefe1e901aab1fdc1fa07006192a40b63ca7aacfa7985daa34bd18c25af184a63f08b78430443368e3512da506b1ada2c6769a35dc5486097221a82b8853b2fe45711ce83a620acbd986c4aba85f5df1e8d037d93a1742ca6eaa757c5c8ec00b8ff8756bc58c8bacc36557fa6c73da8f20922d8a16149d9a4d17115bd19e0e3a97c2f3866c00243cf5fa35324192765d4ea5c460183408d95d28f6a36878a62d90a72486eceae05a6dee1a664dcc08d04bf41d91cc0c315d1714b392ef7eb29377f37ba21e29150afa6ab89587d73ca67ac7f920e21dbff3a31208b957ff4c5b96ae647093aeeda4637b80d43774ad0625c02bb3b0d293c3e1f18a58637e9ccd481a4e8cd6746306cfa4bfd2840dfa4daacc20e74b8b03b2adb2736a25f8b6cbaea52090ed298beaed551e53c9a4c4de974f323c5e4446d482b4895aeaf666a581fbe6780784f1d0228d2351e3f6a310f0b7c6520d111ac10c622efe30ef74c9f9756a010ad0f48abbc629282802f71c21da523d8dd76ab1632f1ee2a8374b8beaab5c590afb455ba9b65f86266ae50038ffaddd5273690f080366683aa576b1b32ef316870f1a29cda73225babaf0bf724f2d9b1f1fcf93fe47e2d80270e4e2fb631b95eaab11a38549b8276ac6e130f6a835efcf9327599f02c2838aca3ba681fa99832c79eaeaf38e293960036c14f78e9d7f18336439f240fe646ee69d4f9939c7cd8c7aa9c7fe4b2d83eadb81a23d810eaa7c20fbf1f4098596b735c64dfe11ffc1f6b17daee251ece05fc5fa58067b730c38ea34652e30f2e07f657cb93220dd12d3b39271b1f02a95ddb847f2b621595baf73d4eb71bb2c859662d6d487a300b904d723eda9a0d78a4bf9a2e2e4df760d757aed777e8ecb68d9ffadd8a883041aa3763dd8c2b0a9f3d7226756d35bff91d6804a08562b80b1a51df452cb4ff8560076c613ec15cce9b1cba34b783a3283d4293e7e990834852e8e8a697837290f74b3f39931d11cea21721ea047b9e81b089fd8c78f02a105a9293c5ca3720dde2dbaa79a5a58a8437c845972a8ee67e93764da239dd06b134b521e44767e6e042e5b41a3e8121e8e90ad838515dbd7f5df1ed1d487001017487e99c7d159eeed51fe5d3a6ac38d99225717e33ec79dac401c1622f605090b2befe2f2c3e71ebcb57402166f2105bfc60cb9aacc0c76a9af23e40d1a229dd57ae562036b80d564547b181a75ec70a1902ee9a28f84e22969f7028db82691a8d1cdbb6849ab9e729ff30d79e2b7c5ab2ba1d2a039db9c0cf686f88c878f754d10a4e76f5ff485bfcd869154dd053226ddeb3d8820ff3e1de8b37fcd5b0a0ec9ba5df1bf18bb2fb416b9212303c6fc07a0ee2fd2ad7e21134a4003965c6ca7c3cd1008996c35cef7743e92fc6846565e6c5a51231e65cc3cb227f632a8c39dcff2db251592e40365fca6a88b0cfd9580d1ac7a2de65c92f096e8bf5d66d13a5e0ab7cd69edbff45eda33f4551f5fa970a39fcdcd3b47a23b90cdb71167cbf8169d811b813f8e80d7e7588a67963411fea0f40e0ae0b4b2d6e533d547170f20d72236b17b025b5d79d5ecbff02c8524da0baf1ae4ce90fb21c5ae4f27a35885e0b6538fbc402d1b65487744d4c08fb05d3fcebb335660621b6e54a2f092a414c4d8c1b293755e39a4cbf3200ca7c712ebc6870be2952c9fb3290fbc7cbf4130b6463dba569908fcce18fa8b852b51b4336f43dffe8b92dbe1d912aa8c30e0c781df7c0b7f83f1257ebb5e45e89142d82244f9667e2b7ec1e01ca183c75b7049266168ade1aa1439a078d2e94fcff891e4a589088e7ef8782246ce7e9451d6e685879395111c7f581ed7796b717e251d5540ed357a5b2f1468c9c9bcd509a5bd1da114ba4aba5019ae81e8910d991dac9c1c19e6c92229196b3db9000d927f9dea65db9ff78db09656ebf166ed457ab3b43fdbd17e76f45f3a85e6f63f2d4eacb6569ce20435b1fced5a7be4e2367f8c3a4d8e8122d4d5ea003d8898553b703e787e5ed37f2350424f1b7429bd47ff88df1b9e66f9c16ea9bad2156ca09899af957d7a026b9b7532c648ee4f8759cb09de49862cf54081d7497bea152a2ca563ff9839c899894b77afdeaf3bab18e3a6c1edc5d4d74da31893ec6c024882d2ce1df5eea955c61072db9fa468ed9126b1754f0a42d10bf3b75e3d24b0c5840c70323cf58dc5202f65d1a08899130b5ac8ecf28e8a28d55c14e47f27af7246fb4e368208fa85746f9f877fcde03a87f1b2e94e01f566445b39a6f22c15864c943cd1543558d1b3c91c92e3fbac2388585f80cdba8da8a0402617aafbd2eacc18fba4bc2d0f617c24e37f6c2e893d75316005dd49f4a9ff141758a97086e197837aae4c53f8f1b254f1c4f05ad1d93abbb74dec369e733f9f0e125ecb9014ead0337a9f6217dba7f1f41fc79e4af9b6b31dc8e28e0b1263ef76034e442cd278695b43b81e387d88a62659d4edb63975427b002ca9d4982d7fc46edc2abffed0e779418c39879a3134915132f81aadb1a2e11831bae54e72b58030cb148e77615f1eccfa6336b5fc817fb4584cc666bf8536ec2766077fa6b90f3a38f6567d9cf260e7c3e84977b5b3900ca39a38fc54680428b6a018270f0c6f826b4af9a13e7f61f1c36751f654639c1c8ad545ca701da81a91b0c496cd8483ae340b5f9dea2b73de6a62b560e94499589567658c48b0d4d1ee06ae4f43a3cc96c009e57b94a1251e036a87f2770edbad76732f5234bd50959cdcf0fa813b8da9880bedbe19f576c9f9247292db4a8bbecdaad48036212e85fc65a0c6969932b0763b69e5e48f0892b4f43b77f10507086e4ac46134f5870cd3c59ae6367a19d40e1fdc11ecec77d6792447089e77e7cb39120a3a10b7c30936e914740cf5da092d48110dd33c57e5a7337af3a0d012a354fb4f300b6c4ed8b8eb61aa0b61777c74bf50e2addfa3eb07acb90f054f48d99d6505d80cc3c7264e465d0e5b48d386f3c021979c5abed3b9a8c22d359b5a20351acf9781deaac40bb7bca56c10d2e9e2a65ff4152345c3165a26308c583447dc33a152cb59197500c60969450250ec294296f79bfa5e3d9853dac0865e46e53923aae30cce05b17ade853cc433f8172180cde172f64b89dc5990b1716b22c7b6a571c85d161a3b59800994c2bfe2cef5afc8efd22f1bec23119bdb6d3adfbe51e810a9764df91004f576f872115676b9f571f18905a41ae6b8f379075ce78fd0dc02be10efd3d4adfac4788a8f2f95592e4b202a74395eab754e6c526871ec1545a5bf7b0c91fe0ac789c0b2bbd730eb449c711646b71d79c7dffc2225a323b92e5772717d4958bda8fada45253d97c13c151a0ed19af79f898ca41c6aa5d87eb33b2e70d830c1e73c7ad39905e74ace2008702555de0e5d8a8c5c05c26281cac0cea140edcc855c1edf9e7896ac797cacd49430c1499649a1f35b9af05d5f00637a7b885ddc994257c56ba4e1c3fc92dc1a6c5343699b6f6b95f2d8ed59e957a209ccb821fa800a1b4b0d20d418d45efa4aa2c41e9e1b54f95ad14a69404b0ba976f460601e436007ae92626bf098f718ee73baee13ac71da7767fc5087d1252c3a77c86a5a5fdf859a068addb74ae0835ddd910312f50838a5e632cea23418bea9dbbb6b9cef8cb74d97a5f0bed43b6b539ddd800b15e846d81cea02ffe3a98210818b24194932c2e44a21bea8fcedf466d254d4a4a889d2d30d0d630b57c30d11d9ce42334dfc52542aa7c0f05f68f81d03e4a80602ee342380351a7990fae2f163e075a109c8ed94cd634e330d95a03ecb4aa903d2786bc3361c5b47f4de031699276990d9ab1476437c494ce448e6a03a7de564d7b7b61d8957280a1fa042db51486e6ab2598e6f1f8981b9a69bbf9b89ae9611f27baa7dbb3e83fb464cdf069c376a99ec9be432937d5ebd7b186a186beef07a4b57c48b3a63c6d16239ad1428bde8757d40b1a20ad6908c7ca11df7c0800af6add7f9185dd450b993383aaa8461d816f6759280cc3e2cbfde96573e6d1241dd102eb57b47597db854b7fc3bc87e239f0657cda1576c6aad28b14ac790df8e3098ee44718353af2cbd5482bdf3114035704ff58fe95c98c9a2f2e2a986946c221194355b2536abfe84264ea4d26cbcf47ebe91a841be6eebeb6b4ccefc3ef0121d7989413dcf4b9c97cb05194a397c741b7284d0f7bb1167d3b20c15126ea9d52466ee72ab80bd7a4533f8b4cb607b5ea55e79ee342761951fb1d48d2513b26f91f650ddb790bec1f19cc629b7bc04c15db8ce0660be8201f7875fcc56c9ba31e6564c0f3a8e0b6428403dcd78977da5cfd9585cecc30abebb9250aec6fd8807d1063503d777646376bd0ae0e76676769f9628ddb322e8c7c4a7932a70ab6d4446d458c28904a92a4b40153b91e7f3df4b14f2e93de57835288c342294238a5a54d49871e510437abd37d7108cf1127eedc78f0701e1133e8f526a9dc8653c2343bc49d676b966a5592599bcc787149c9c61bd0920ea22c4179ed60ee9ac1b4752bee6fb5c68dfb665973eb1df562610fbc8caf168825be0e2561680411ad90aece5cdd1cbce5d4f69bbd3f76ee2aef05c6c965b95f5412c435a4819cdee9c9776d4e927a88746b0b3e0a58d9e3e1e133fe5b8e8bbe32bf27559b442e72176fa2067817d00f0e862aa79832e0409853d32806f8c4d57eb7445130975f6b74842204cf84c5fc6dbbd90b7b83d6cebd4b71853cdd97deae9a366c04b8852d200ff279f35dc3f427f8aa6f00561ebf793a3d786e6eda5ece82f674910bc62351303a145e3bcea949219f5fd8303e624fc34d66c448343ee31c35454cb04d87c008636961ad479711f9a7c092cd10afe42f989763a838ac0d0eaade7c65fe29cbd1151cd3b29812447fcdaba70afd4c6bad443ddd3a4edec73f2dd750fbf149fe44ef55c356a2f833d63b6632d00160d3d8283f669c7ec771ab47a16fe0ff1eafac8c85d713d8903ca768aae4c3d167e3cb19e097410373e7148298f0e1049cc5abaeed177140e12ac9a1e485edfea582b0cc61bbbd2cb554d1466589447c4b106f80b807a6bf2cb41815518cd343ecc5c2716679b47236dc1b73ff3843a3709bc9302626dcb3f9865ca548ea4af1f60d3f3f6bc551891603d23e6ee8ab04d45b94b1d6e471bf3034e79f04baf5e7268fae9a9918534e3893c2e045ca3f556a8714026c2a202bbf8a8a26173526f5de6c365ccb967a1a631953acda00f90f4e267c2865f8b2c72f94157e863f8e3082068e7bd4d7b48091de21f96f4e6fb244a796b98d7b4103ef2e4f1d0b49c19374c4394a050d0f70af15b2f36f230923a6744163e9cb66745fac1d8dea5ef1125ee40df3b22a438175376780ad38b1f02aafc2073241982adf5b2047afa7021d0ad7bfbc71416ea4b4b5ca6e355fa46d3f56dd5263ed2da2df9f3f51889683544b6df9605b3f0347cc3e82a37d735ca33ebde43956b5fd8911b24661a203fa444435416bd9faee2eac2161e8b7c105ace663921694cd20cca680cee3a19947983f0861ac3b447ddab438655f5717bbf9e04ed333eece4934a3111c22ee9ae61d644b92e86fb8c1eecce87adfc2f34ebf981c2556834dfb2f4442e6fb57efbc19b3f05a9c64dee6ebc1f9007a514966bc0c47cee1e3653b320c28866da6e6761ec619b2d7180527cd1cf5a69421db0e4ad329314f0fcd5552561a425df67230a05821b3d6fc86dbc2f1d545990b7b32e01cf9a427b92294b9b4c29c910392e707459830f0e66da43a98f5c37a9907517a835f97c0494cc021858d7d8e7686ad79ea4b97fc01649f889ee6bcba11994034dca87e5efa2da3b29d233c6eb75cda1512f24a099836b00c89ffd051e68ea2a5d23414663babafe8dfcd1e39d5104f42fb6dea0a4937cf5703fd2c7214c4ca78a80eb1d00a89623bac1de26f4e47bb46675ec3c0216fd29e31ffc8947b0ccaf6c18b176266dca115646cdfbb199f6a3933252cc4a5292ff2fe58bb3cf96606dc2bfb477857ee19e5ee8444ce8293c938f6119b4f53272a4486fc8e6add941b8485d47e40351d201f62b9143005b9e0e34f41680b53b735f6957a97c2ea78e41af146d9ab0aea093b64d2ef9eda8c9dcf5fe7ae8e398a7d2b1fb7c41878db1c64e669b8656f693159904c39afa86974028df8c87c805d74dce4a4f2446b7de9facf03db07fc60b7ae12c999871e1bbe14234696178ae68b76af01219f3a308a2a61b91cc5dd11f4cf1909ab8aa75a254d0a25cab8158d89eafa34b7be6d01df628e50b4b94902edb32c50a126352b318e01762ac01c077dbb3fbd2701c808bbcb58efa685cf5644a7a9f7277e6f895ea7b0051838e3e7fa0388c137d75baaac5221a6f77dffe0a47185f7f08aa939d7601d82e07668b2c72bea316ed035353ee1c7b36f9b678a8c851d46081a9e13ff74e9e2c44cb20399e3ca14ed962757039d8430b1f5c8612a182d7a17246c1710e1339482801b7a1b57154487da98fccd74562c7d2bd19ed337bb0cee5d208874d58c9954dc4a6d87cd2662bc80a4db90733633cdf1a9383cdbc56ae6bca2199038b45b9277f030adbc4979a404f26f6fbe8b07a71995dec447720a7df781e5738130a4d0c06746e239a03987c1a21417068663d6b2677b4791d8dbcb803d9ad3def9e2a886c80dcd2d34619250dc98b7707c361518a88878ee502bdd9c64d3570ca5af5e6f408b88d1dfa1131d4e7a5b8fb457c2ee070fdc75def7916b5407b7c55279047783eee744b2e873b9c31be4c1cf14f74514a95196264f347acdad91bf34332a1e8e74d6b8ea6add76ad50ec1288ba6bd3bda60ee7e3b962833142c3063ce8e37a7c67e59a364d88ffde086bc0050f165642a051e291c2af0158d9052644f374022efebf8cd17c13b2fb3912a548d596d402b8fff2385ea92b4056912ad05430069ecb83333b5bfdbb6f47b9b041111d9f5fa6175ea79b0ca3afad0570eaf4406608dda9c7c45a655bf2d767d1aa17b43ec62c968fe7c86680e53ac62e7241521ac21b371c24fea15d62698f9b7b9fb020b500c2308ee077a84346c10174955a4691b831bfb1455279fb048e71b342da60363f4d0a122a35451766fa09e221b73e352b987ad3098d2eebdd2cb218393c43080cdb5c7c8c3368b7cbaffa1c62fa904e7545a2f32aaf1722aa3d97fe11ff553269bdfbb291148ec1115f63b9afdcbe404af8d8113f51fae858d7d743c87b3fbf276a91ede3f5cffe669e20a2cbf10126a42a7e2ecf30510e5d46df3fb5993545ba1f33b25f5169d29c32f40f0f9552716f5f211849a088e5a4fc78f735d081f9ac2ba8e0ad321640ee6df004955b0fbd1cf8d8ba1939299111e97a0aef004c61b5b03ffa293e423e30f75c95d48ee06c86a93f60da29ce77db1d26b3b6ecde19f4f3c1f3f38587075f6f39f7b5625249f396a4a7221fe640032de537bfb8a0838f97cc5ebe4fe70f1467c7c70fc8c305df1c484ad4aeef0930277d8b6f39e6697dbd244eaa5ed9fe87b2f8e0b9b3598dea0d21431dfdeb4a5be74d5c8f04e791bf50cc239e7c95f0fa593286734c219a2f143219877d0bd772e099404ff5c2e5dacd9e72740499409bfb50eee689dc12135652f2c7eaede76deccc9ff43e4737cb31f18ec4152f0aa0f8fa38535b662de76f2a0c259ff5e02198b737873271b130d57e8b011473a90976f82eeaa55d74968af5e3b42c258f210d88add2a02f42eb779706150b9372289f04754a53dc39453b67f6b0fe7b36153fc0d2d084bb1f63bc22f60b580720aa336043ebd0360bbab86c4b191fec7fc872d7eac74aefb4e9aded5104670aded2815ce2b277d1bb1a2fcb6f71886c3fde4a9ba5e043eba8d46816fbbac901da0425aa02733df57d6c35cf816eebce808f0b4f4463fb2678b12344e3dd20bb3cd6d8edc3043b43e69673c53e5e9f4e9ec5bfc682fed734e7837734c460556fba84d92e8c1a31dd35985ba96c5fd21cfb17f7b7fe734a9cb97daa73c4cc83bf4d283e5d4a7ab23f1a1fbaf25c8af88982174b932bec3faa39b7db812749179ce74eec05a691937c6393da6963564b472ef602954d0a98fb38dd4a1722c42a723347e2e4223b393a7c296c8355ce96718bdb114d2ebcae00d0af27446c05ae46b90dd865b3820af918ca04bbda6699d3cbbb8dbfe9d552e10514e4829ad524849212097de33a014b0ea332ad218ca416046f58a782ca4869cfccf69447d4398303ee66ed321674fbd74fde66e56f3f05675622faa6e65ec9b96156413f1397c00ce3bd1ddd4ff5564d667e8ca62648e14c8630730648fafb46fb768251e8e1fe65c2e23abb5763e0d5f52d8e7e2e9cdb291a809004e9ec9f1bb13f42dd6dfbe2c3f30b7da08c6dbd72b418ef64715ab1cd81d4950328fb3b85df4b4c801fe0f5d6ea09bb042ec8e3d1169af62bdb213c4b3ed58b3441753a062c2f73d6f0b4b9bb11be079ffcdbc6aeb7fefbb12af7c70c450d35c9d17b6bf5c8128ab0fe4c139f7c1f0eaed528b215a0d0585569a312e7961c5c7a492790e0dceeb8e5e7a008a25655cc186be61fd571396b67f764d85daccbec07e3a661ab5026a7d96680b01af2a1213060cb1366574b743f869ac0a37f622f30559c2a52e613036c47f38e7310ea395f4a28f1cf09d872cc10345f77f49065846df5e99ae1ebe5d232332c38ca45b1b25f59861cb6fe2d255751d3aaf244d709836992482e10dbc255c1c461c90f8e6f18cdd91036a38d1a542b89ec8ee35d1ca548662c591ab72e6f89e57b879e4daa4fe57ea2b243828d817cdd368a2ee91dad1c06b84b7243c0e02a3dc5d17f2a9aafac90263065605722d2ba071775810b0ba72e1647ac2ecb3c9981c81f4eedaa7e9433c79d81d5af89f7a659a9a3435bc34541fdd50a2161942c662b69cdbae93989e991f1217c278bfa46b32ffad273acda181b83d0aaa4ae517f255a5dc4320e1fd86a8a1cc8117397e0c71f5b15df4e574f767ec91073f9ba2278e225e93e186021adb262f8162983cfb238f0e55ca6457ddd1de75b757adb63321d95fae706888d7a5e5a2705370a85df25f1ff840a8cea80e6bf7bb90eca52266e1d019b4ef86bd6d345edea921f58939f6abb025a2f2950ee87f0008f7430f0af68a69279fb14aa89d6721f97efad82241ffa52d73b1b401e7fe23a9f83eee80f4306bc1a06b0dc554e60b552c0cc40f0d8896d869545658cee0217fa46c1ccbbf68813eef37c42d09b1813c0c8b961b702f27ccb2bc9208e8a1b7c3bba906cb817dab8e2b5b11035d0c8fc690c7b00140ad570935787aa02f4f0a1e5502b84feffda4f1c0b219459bc1f5432551d1720a183f6c9c85f0f76d351553b83d1d1680d064ac72cdbd2eb8d13780348cdb390a865bd3e68ac20b45f338dd056e3c2cc70cd22f2a8915f4c3b22838ac41835c2cf1a65d52c2f9eb5a37db33582195e0cba57eb0b6659a2e1cd0b0a108e200ba42669413257cf8b0835166fbc1e4a37cc90fde61d28a331bf334a9e741a620d21bea443c905478dd29cc3de15a7f3244307ad72928892924de88c49007a61bca23e2c69f8be7f8627fec702efe8f2ffca80f8f29edb4057d6ba1e9de02ce6756af1e7157377215cab918dc3606ad0e241b4272d44fe9bbe1d61a994dfd2e285aaba793eb2711a8625d56d6752e9784bac48cd97ffb2597b7589e7ebdcdc3f3dcc77c0d5d7daa8d9d537178d1608879760aef3ada9f326445ea83517e14d26e330a038c99019cf6fbf0575ba6d65f631bae6d5dbca86cbaac012ab9d2ecd06637f7432b28f1fd5209a19b98bc9f43e4b63432bbc3a793ec3df12f543cc8c1eb907191bed6b860095a69535f97e28da0b9d56c08c8bc84e908a2e96202fa24dd6cb195cb3c57aa3223758878edd36fddef0fb00a7efb699440917b616e42008494b958150139d802d5a788e0b6edf5aac9ec548dbe2d3fcda9773ef824f727b0e4ef1ae49507456a2708c71b5d143124625f43cec4e0df04c8cd2c13729c84cd366d5359e309f4e009199d147d6b8ded4eeadb8e15ec44e2afafa0dcb4e2c005847dbe548c7e89cba92607f550e8c0793b82a61cb1cb87d7ef28bd6a9c01826c271006ef596e4042549c7ab6db11ff6aa1319bc49365905bebd3e209ae5a8b9111760f3f7a5f493e31c3595af254f7f2fa27a1c44da32aa2b94cc360060d6d23a9e6e264f12793f79659d381d94f232ca092f0a71d42d390d71ad8fd15d0d270b65667d5e953294149d6c4063c836b50a25455d5af34958a285fa0de3a2804b464ef63b2ea05a72a7519818d8d0e9f72326df15a0a3a348d2649b18eeea424edd9e2b3785f4b54f6e35689f3f30f6eed73495f75347e0ea42e2689df2e5597cf09919fb55fe5621c278e728fae41218c5cdf096beec9c0965cf4bc1877213b2f521d36e25532bf8aa61d9dca10b6ec1c8a0c33ff1f6809f506dc276de28955b84dca20a0c7726b936f44e7f6361e7e5cc91e74d2740f4e4fdc2fe87dfe09984428dde4dac970d7f67d1ab3de55b5e3e79030d5e8a1a0231074d1daa22d444c32fe049322a2c99e852de34b394359b7b27416f532857bf6ad5b358fdb4800896506ee702a76ed54913850446898a944669b7f00bc66536e8e82e4531f832a95e2fbb1f533472d59596921a3a6255fe9e663c9df070f2757414f08be42001b34e7db71888c7f77c23a0a260b513d308a52359776a2a4960988cd0cf04be326579a55ece7bc13eb02a6090dfed1d463c801947380e89e9b41e02886bcd8a4d0843d87931a48a34d2f3dc03703f6c70665ebbe3dbc924146011fb9111c4337953f08ffa0da7b95282f2e88a04e8020755b9b5b61f7f7a51ee33d45270dddb93041cfe1672882f77b4423d90eabf6a2c915a92aba762b6fbe25850e8d5d4afa6a5ab9ded2d405e0caaf6f0b3b4728d1f6bab1b446a9b7196fbf2443c2cf07f04febed86f3a6e49eff5165f05b60fc0114704f5b7fcb37d8d3f7a41948200f015a83582ce181917ce3d5b3c06c4d191269a0e90171e161e904391c72f0f7e6e3abb1b5471375e0477aab47f9d34018623078ebd81f993068b33715f08b00099d93fb420a74ab3021af417d105cd7153d94df3000c4df6a11d36f83c88f0951f507e2def9f48223e3425807cf5309a8e2e5b5a5103f6e3f02359abaae562795f9a5b40c91ae5b3d775cbf4dd1eded50c257932ca001af4a6832a4dc86eefe18025406a7f01986f4dfed94749d7d45f889f50062137ce995f01074304b2c10f3a61dce49b90ae59b599a7a7add1a377a9f82fb5fa6ac29c4e91445de180873702392fe26e964ba9a11a0f1cf2543cc592d1ae41f61d0613ae2c5998ef0ab03d2f0dd4522b2dc47fe0fa3b31364b611f681a04d60b955e5aca9b8199b0c0e2e20096fb36621e152de90b1d4bb0d30aba43f36ed4ca6f7a1642cf73625bdcf54d6bbac3c41df94d9fff697495919b9ae53dba6aa098077bf329003b7542fbfe90cea79bdaaddda334f05f351c86b2b26198a82b61953c116cdcb2df31fecc9c4ced971fb44c69f8d9ff010f5816b330794a9408b490a07fb7423d0610cceec522c8528282adf23b6c1c9d81494097503e33c34a6b484e0dab8b7476693b9f0d4fec88be4c4c9e892efb87be17647c3d815b1e2b16aa3e3d138940aa1a1296df219b961e1e83236772f5439bb6eeafb74a7f7901c9972d5b7806290e06347fc9626ca307a989906ec029f1fe0d531ef47d0265553668fd4ead8f3ad020262e9c825938aaea4ea5adcb34f00fadf476693f7ad61f688253ed45ac71727b3ff33d68835968d0b551ef1de0ca36c2d8dd89d1a3ce047ac07097aba8319bb605b5dc21f9e97fee3f20ef39e35163fde26cb4342c27ce1ec7ed45ef914e6cffb6b1101382e2db14cb8492589ec44a7bc2e18986e7eb6b013d507c37a14442002283bc580bf0f286b2ce794ecd4c82bdcf1475ebda269498c79ff54597c33c4f6699ce275065ad41e71548379aa4e607313198b9a777929eb79be842278b5adf05a5f486cf0a058b1a7145f176fa782b45c2277965412682ccdd6f287b1ba2a5cb73efb07f9a881579bb7f7f707d1abc7693fee94ebade510854cd22cf9e33103949ca7f9c9d2f183242bb35274745706b15f6fe4624fa945c295e7871a93913ce8aa3fc4a34157e235dbdc32375a4b0914a50928e1b9e6c66e3cbb868b7b5890873ec15cdc176ba497e3d0bcb764b48b18267a92c9e352659882d93647a913178d3db4e495d6d58481e84b2ff81a00d58430a579fc41e192f29e3ae3bc6eb9f019bff6fb931463324f398af9d51fe577127927263999a893f818f86a87bc72c49e2c250e3995564be5e7ef027d9c03c5cf6489f217b042264124300b55589a553b7a7d5b4c0b8b7033cfa788a5db743dcffcd1ed822603c55798c4e9ac356e4b68b994484882b1267d27bc316017e946d214f70125e6266c63d52edf1c9ea3897e37ddf2fc9fa135ebe670425d1db7511714bef060ebc073ccb0138ea7fbdafb97ba28e251af22688a30c62e79b7485565138a176392a1fc164d784d17d901888f338e3c3c1a207d960014405f9e683c237f6556de72e5a2e32229be7972567b8f0528e7fe16c123b0ca432d73419bbcc5f55277fe65fe12f10fb7a70030ceaeae2c21fa7d565e75662b9af0cceb5a8cee0eede1fbad787f593a83bb4169da997eae8d34ee3d6064eb4a776e923cbc1859fbb39c4163d16c6e622873a043ab153f4b3e102c180aafc89066110fc8fae7a15fc4322ad00831bde21d08e1bb333a5d1b61f2439e5e3ae1c96132c4f1865f52002574b394837b7542f900aa5fb5a41d217fba333ed5f509ee9ae2231b85aa6e30fd57ce6089bc26c5cd1f10663197549857ad17005fa269c88c8fca74a89d409163a8f62baedcc791752d5bf2c87b765de28a15fcb9190a5bcf6df96cb05c9292702b735f2e033d9c476b24221ff4e5464e5add1ae12dd1661f9a5e1717d3f9f0df0aafb0b328a88f2f031fe747d1287c47c490a8aa4d45ab91ceb9f709d35cd4d6f1b640ef0957a5d1187d1a30f7f79041588e32e6b9cd72d5ca8c3b7d356d3c5e5deaf5de60379fcd2e712df4aa0b9b63d93b8d35261f0d5fc50cf3f569fa4d0f555760dc9945ad0ad922cae43a64ac6d36612879433615752e7db22748f733850151c3e27f98f515090e401259a04445bbef6327d6009722cd4a8ba9a445d641ce2413a48adf75b32cac9e7afebdd5ac1d2ca7385714917878db9e23fc4ec3abdb493f39eacf10267f7b86ade00d567292fae65056a73310e3dd221500beab8d2222295e44a9a7dd0f6ad360674967f327956ff491abeaf1b521fcf9aae9952ebaf5e52ff7e9e1ba8b84f5e5512bd5ec791b6ad475102342d8e5dee2441dcfaba2d8e2b02b9438ba52fabab9348d021cd8b031b51a893fc5c7264dc598154c7e4279341d156537124ef2fb54c2509743eafaab5c0af44acc3e9b1f8fa2e7a820a340779c726d3cd83ab8f13dbfb1c7255ef38b1d9c45fbab316397f779dbdaa1e5afe155a13aebb4f8c9cd5e665e1b8df4a84da898eb752edb3de2947202415d448c3c3bf5c5095ce78fc7323c9816c06ed9bdbe1c96db499da84e3ef5d7f4263d0e476356ddfc31cd927e63f903460ca4cbb48ee5b940d23e9cbdf43ecb","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3be029b79a81f6301f4069e0a77bee15"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
