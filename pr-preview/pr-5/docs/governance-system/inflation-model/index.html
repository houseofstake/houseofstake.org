<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0a962b281f101b894456aeee2cafbe0e6707f070aa8ad3e135c65e14cfea1bf7b8b9a9296f1cdf8b066f5319545b724535fe5338a269140cd2612915541d3d1ca7eeabcc9a316c3722b0bb9f8731a02b3cd44f91301feb256ec232ae3360e6e844976feb37da83bbfd220680752561f3937a6e1397a39c18304d9ec523dcfc955738c98d970e483ba7613c397ada895b6b0c2f6ae69d0ebd9583111d2e19c99e5c4eaf57409065c200ec6d6998e77c3b73e9c3726b2b39f9a2daa81e4adb98c6bd2503d5d6c97a1df0be33f221c22776ec0606a1133e35bd10a4571fa63a78ea41a35beb3dc28df595b8054c6fdd17add8a8546a32be2ed991a15c3358191e8973f83fb11a5e76b484975e11022216c3108f63445964105139a66f938047f2d8daf99c0ec7112b4dc3a6b47548838fdc8c86e71d020b8f4052ab3b8758812a87d009aa3e65be1cb0a55bd1a518884e74274035b67103a6c38a9b81d7132637668751598ed22865b0a209afee3989458dfcbaa26252f5ff612ae22ec44e78d4a0ddfa0e3b226dfb7c8da35ac3075896984130fced5a2906706ae2ad061b05f07aeb62140449c2d935a10cb9a3deba92666c79cde75635fdde7ec9b14a67ddced4bfa5edd0c9c38b2c57c17e3a11d12b1f09c83c88804fb1aeb32608aa30084b39fc76999d25530be285252d72f2b5ac5b9f09ba7a6a7a231e9a4f40517498372530eabf67dcec5a9dfa98b26ae7c64ad1e898af516b37914e6ac420f85f4452f143fdb45d922f487d00e046132fc2c38d22c188746f27c56c95069f7266c93e20b2586a340065668742013709def7c6250642f6b9bd7c838c85a9064b999c22c47f8286c4a966e1261ea7b8ab7c718f2baf0de88599e3a6a50c984924af0f6c74e0dd3fcbe18d88c70a09ff4fade3592ebff2f666acf8faff9a4180614f6a0bf4196333c0ff0c4f05e531c832bba855a3b646668cecf2d87aec8e5420aa2db1235f7544c5275eb9b08e2199a3c60e8469b664b04a80bca4d14d5c9980536ca59e379ec60d0b75c13d468c41da71dca71eb077011a485e6f697491c86670d3e7e22e48a6bf614c6b222e5e977e7c73fef5d800a3351107db815dd0041a863354642fe624434e9610413e8fd85defe2b96ae918df35af0b57607ceb74b893ea4ff2fa2815f0f80ca9fe75575de7debde3ae73535d6ae0a5f8deb09836ef426a02c805b18a1cec20f32d8353422fea08a29becd0cd69af86bc5c18b68c74dbde966df3d8de28a1100ef841a8eac21b6473d44a30488e6d17785e69d09edcccb48d5f2441c4bdb9a38531e4c4e73835e99592e355f8ea99c45f5d46ad8e7dcfd856d45c134964e5f8c41e79eb94d42aa0764872d43a627b054583faa82f788e165621987e580c0b78dc3f1c7ad040ed00dcec7634bb9a7922f1c6edfca2bc342d8958bfe86621655147d6806586136b87a882595aa8ddc6e0140b9e701748cd10cb3389bde3a874b340e4cc4133a1b40f3f1383df187131c669424c8502955279934be800e44d4d335f38e19b14716667af05ed3a4da09cf6d37b98d7e1d0f050d8dd45e6fb7a486ab76319811a40ee3ba8ce8b2f2ab2da215c65aff0e7fd701b8d9106d3dd4b2d1df957f36e6d528eff0f4c9c9a8be30775833d0347f14f42295f6d61a7080870ff313688045b19c0c7db92b2edef6846b4db4fecca125d85b2ffa1590d5d9db8bd747bed05de70e3971e73944d8c0d84e08ec17aadbad62e09c3eba530605236766421e2a35fb2eb2961491b26f1e2392bbb78b0ce758cc9d2cbc7027d406fd37a49bd52f4e040681f47ea38f2863951705c90aece38a829c9dbd92fbbad8485e62bf5efe53d6ad77ca1185ffb87391e18f97e68b0f07ff9ee0b5c6897766e3a73383d66f8d509521bc5d3d3892738eba49a0f8787a688289b3ea18dd509790c3092f5c6deb593dca6eb16fbf133a3e128c36f3eda8786f89022fa5a9285258ce9707a68efea1f3e7f234032acf7fdf4667d565b4e932ebc553a28f0c38b068f3aaf249714aef4a4858e4b0f33dccba4f636e6659c174995b311a8296cdf5c3d58385d1fac7482a852e8084005ca536ab24b1916f396ec3b8cb97be4e45b03ae5954a896ad93abb01ef682c3283ef89d995836567aae5d33f5468044423e7bdfa15cc7cb40e5d909426e8aeb0109912c65fb96f8aa0c864643c125fce6f8d42874e28358b436d10783fd51b5c58bcfd82b0498f8dc86c3c2bc994b63034df5a46e1e639baeaf6756f33c8afef7e65a74c9bb9ac5f6bf93b37d4af0f6e0a9c6845eb1ec80bbdeebe8e3829c6191c919f385e248832cc668aef85de663c9828f78eb7e0cb63b0a90cd2aece033629483a5a4ede2b09a711b4ac2868b8bbe793bb4b258d65c4923465ec4ff848146c9215cd608608457066e37c84e1a9d5c00c0d0cf50e9f823ff31959d625ef8170507852442769ffff0f6550387a7a3585b0ee7fb78b6eaf243d51dec5861a0e0f8170d3b0c4ea1bbd78036ce0b38c32d2e358d3f31efab61ccf2e907786f2b0456dcd7d697975ffb7329bd9b473678e0daa5b0d2ab10251259ca076c7378fb686c5729b8b0fa7c8e92ee9035813a3018f44d99497f5b51ec2f3ed9cb7bab904d9b3af066c1c184f90ad0499ebecdf292681c0036a81de7c984f91771a9002e0e737d91372f322e4530693ebdf33e8cf6f2d0bb35678d3a90849f4a509a1a3829539da6a2c4ceaea1ec41d8d4de486ded3297e433b328ad99c0f654f89a026d32dcff3839f7c46fa23848ac6cf68a02810eb038fcbe3f5a1238214c7364bcc93ff04a234764b5bd23563554a39341e3a9e751fc72f11e2bdda6212e277891b1a5b3980586dfa2c3c6f1d0e5af75c9df8f691805905e6387fa8d3f113410c2a3076c7bb2e0fdd8419816bb3240373ce8b1ef1aa4e4ce43db99f8a5d62fab0859d42ccf71e64c946c583a967591cadc8810cb5d9e41a6a15880674a1c9e84427f518100d7c95c90ad7cc37b473fa922a05c254688ca8b3d8feb54e87392757ef29c49fdbff8eec01594f070cf92124a53af20adb002082893619b5d8b7959a5880ee7901a4cde2ff7a7432258156677ea11f3bb18617398cf47e67f8d4f103a336a1d7c9c7a5a73962bf95732270a5b5248afb2f165227cb161889bdcad02cec43a04cd83c93ef7b1ee65aba2f83c04445dc6ba9082765d1f6a2e78c7fe46279924399ff1b53bd4339ae7779ed83ce5626350747a3e2f42a0dbabfdb32937ad63ae8ceaed2713aac0e002c12d4f85c148b12b8f7e73722f59a3fa8ca145054077c7a1f4aef98208d31b33e93db798f471af4293ef5e4b4c8b30d0cb12a1db091a6dc5bdba64831531e906c455079a6ae6179cd245bc0e4cedf82d23b5dcffc872b9cc8c402ad79e019f7e5d425b173901237ac495d72372ca27201b2c80026f731ab11c3b19c602097f8f56aef1115f91c44daf5a15cfad99080fd5a73685911aaecd40e4f14d95b5ea86d8f03a68665e53f9585745850134ab2402dcd82379c0e2c028d7022441117931ffa5d70c21e715e109441d456b18976d93deff33ff02dca5333701daa3783f93874a77624520721dc640e8bc9909c973afc1ba5f098027c6fbf322c08e6c3a9b86bd7e48ec0e997237ae7fa0a0ac21f7daccd25d7efb4fe586adf1a1ef4e6229ad7ced38cae2d008cb1612f7b4783cb0b10722ec1b7a7017a905af0bbe893f9593809f7984cabea91ef50a415096546848363f699e4ccfe31a8012cb91a627f788415f1fcda3e671b82bf5123b289e8fc847fbf4ce91bec39b8483166f23fd22cf1d673ed52320a303bbc3827786757439c5a87a4d037b557cf627a6b8cc7068bba002b8e7655a3d3b2f02ae7eae90827ce20f6c432df7c8c0dc6426a482b8939206879bb4eafb9a599bb09e6c5ee93ef45c519e893260c9500d8aa316bc4cdf868e402457d0c92276367a7ed7107402e239b2034c9f510940e8a0ec5f150567340ce8ee864ad5ca37f2fd48153bed22c58b3906bc592c2af87db70973171a7e2679e1c72d9205ceb0f13eaa6956bf96200dfab99242a56bd7a1966f4f3d03bcca94249decc75c5509cd005888221e238f30be99924ca5c41a4a9cae0c92112b6d1d92dbbbbd3e1bed6ed21b07681fd20e2a2406773d2ee63f5238244824edf0ed8b64f07cb410912cf0f312188b8ced8db819b23bdc89791b3827c93b0aed45e4499f8a745d1b28fdb5a496e014a599fb7992bb3d6b1ece89647d666d804a9e5100221016580bc897d30d44c8f55ed2a8f9309c292825b47fd75380efe9a131b3b5c0544406de93dfe7de22708d5783b490e3f519d59dcd6f67ac479a2ff09098f49f722abed34e8f8ef009dbb141c854d97e5b56c973be350ca27d0b6b04ee3ed651fd5323371bbfea5ae61f32af1fb9194e062611776c60d03fa8d8cb05dec2d027a603dc9a64df663760b494599292e356ba5d8d7babe7464059b044fafd974f33a8039882f8308cf17fdc32f3416e75d6aa7c91edfd757793ad798a4f26ca56d63ee955c76faaf5e40e3895c191e724f5926fb91c09e43788d9d06a66d0a5962f71c246fd0cc2db123a09c6e7985a920e1416dbec529066f0a3245eb2047fd3a815cfea3c14fdbe9ce81c47a3dca7d7766dd9918819d20713d136bc8baab63ded1baf6b8b2ff731307e2efa2f9014acf83c0f665cea0281e7b7ae7d1e50d6c6c31546e307ab92e2de472fc44f4cfc64b1297cfbca0a5b135e946bbf5bb78c7806fdc77e46ebae5c2e5868452b5b366b2ee05b72ba13944cb4723c94670b62f4cc51bfe5e5397b6fe2357fe3e9b19178d4c06588c2452d65c2fdcc3affb03a3acc48897e6d838b6792cf506bee6a4315e5f048664ef1d79cbbe39eec7575a96c81152e7e804a7d37885f47b9ec58b9c888e1491d0e8487db8727fa8cea986b7f66ad84ab3b54e6ce89f742eca22a523ef843f49545f7423949d1cba2618b2cb7b1c42131f0c524fe8b38b8536575609bc7a94f3b2db286c96fbb146f69fe2d8795b19f3486744677312edf8528adc610a81ad38eadecdb883c15a1e0b68ad698d2942b1acd127b69f5132475583e259faaa7a942cbca14f3ce8bc7427484d75081146360e353ede834d73b7090c9f89e0d757d06bf00a2bd7a43b4cfb446c2a11734f4b9546280b47b1f699d68521cdb155d1f0606ef7cd36472e793c30b440e86510ce36a39bffe609a4ea783b6d87dd26cbae6e49d74910aed6e6abe846a2d913b6ad25690e7764e7e33870210234b9bb914f2fc682c489f8b70df13abc0f4e1a929f3a41f36f8d5e98a918cac69830c08d2fe0b972f956f2d3fb5606b315dcb64616a0916654a489ca7e3d52e5561525d2b3b9a46489d2625732d2e4dc2ef3b567815e007e8a96c45148dfce7f664b92f8ea05488779e0ee99faccc454e5d3f768cb5b11913012942b725ea39748bdf9b581876855656585550852e8bed964d8792f8e0e4d74910d67aa1efcec068aa20d35c8fa3c568adbe05ca4b189eea5bc60c2c0c35379a49b8e00d3929505b53ae6fd655f1bc9909484ed0475170764bce160963f26a0d0fcfdb87e5a0ab143f9cf65133995b2e2cf49d9fe4bb335a35c42532fc95682599ba2fe10a39ae9be3369873a112daaf4ce97b71bdf39e4257ab0ec2e07a953e5a0ca38c3dbf492043e106ce67547b00bf998dc5cae9726fdf2f16b408f22f776d1b87ef11fbdb5011bfc51ba9615679982d01e9b0095e8dcada74a20cfdbd6db0ab3dc4cf32570971d5d876b80cb1d653298ee3f2c3d0f17cf95adbebb22208e7eaa7d2013130d05ba40a33f56f968ce2bb1da527748f2d0c56b1e753f3300415f9287e1c7a7cd4264c8d6a139a88c80c0e4858e564f186fc521e0ffeb7c86d192bbc2d251cc42bbabe48ed13cd9d1c480d0b3af95c0305c16989fecc5b4c3ba40bbf3b129cf3869ad30450620373dd8fdb092abec3d68005850dca0c0aef18d14d5c66c2611f81700c4676b3e5a0efb47fa1e52fe68dac2a31f292ac16484dcb2c5bd2dcf3fc7ab6e6ec388516fc54865f2a625c59133327fafc1e76250a26cf4757b9d9c5961664a2b640e0dcd36bff374520f2d0f92b64cff926b8305f249a6525f687254d71bf0e6d9fd3f8a4b03da11f7fcdc27201c0b72e6258eaae5131079adc5b86f008c7e93b0eef64377f2eb4b3508712981e7042cafc34510f8e43266a60eb0346f8959bcc1fbe5a720da9465eb97aac547586acc8e5a98bbc12dacabb8522edf488e57cbfd2526256617d41e112ed6f82d10833fbe0948e0b4321acf9613cb3dc24ccf26055dbedf42fb775dcdefaa1b22e7e462375c16a22708d4d7cbde55b1a07fa1c3e199d34a6f4b15b4f46eaa3c7ed1803136f4389cf6d87834d62206d0423900385ef4056e8ac3ff9a9e987238f49c7756e97039d1cf859ed7bc2c7d29887cffa2534e8e82915165693e1e6c6a5b690d944436dd80d99689d73300c7a05e4ad6d5018f37e0df466e1c3d8b594565e8fa824baf164e3c776385c2046d905e25166e8bd534c4428d6cd7b099bc47a74f74aec4c204d5a4ee17ac3000b8d86070d3a5edfeef612b57862af342666e2d400bda8ed8f7726d8c5b037221bcb215f2c05f63dcb8a808236e86f9a46b2305286940c09e69110a8ca4e48632296374f99596d1d3c3ca6e559671db69f1064a47a5e098b3f630a9888b5647e647abd2834d75060eea2398ef8b17a564719c92b7139cee81e4143f718f872f2f0ea6a6564f41daa6d42919635ccd780a514b13fc4eb3468c17d3c0467f546ba984d67241ba4defe281ea46667fa5bc38c37edda4456a5886b1ea7eeb37d49784498e0efd2eb1e1089ffefcfa1a2562d9633899ecb4b97354941120ca2a9871bb6112580190b2eb0903dd74f84323f1ed9dcfe372ed02c078bc62375badebc455863ef39f96309f3c288c2de7bf505dd96466f9818b0f4e650d8d27e19beaf4c3bd57ca304b6c5cb95ea8403ca4d9b4cdb90821625b12aa6e4fa82b118e7955adb97cd89cf236baf8672f0a5587deadf8232163b99d7582c347197c45b6a5ae6d95d5ce9a00ecb663272ade7becec23b1292778425fa01e91349cc2029279906afadad945567057395e355294427ce10575a24ca52f07b650a6165a64fe85f066ac96ddd70ca65a9e0c78997200f82b1053790d06e0d122441bc8f0db87c8c6a047e65955baa351d9ce8db7871047dd2ddfa21c1e0c9e4f041300b354a40b077d1a1109e5e81ac0fa818a5f69bce5b8484493d50bdac454559378950f9781b060ebe5dd4ed57fc653cdaa17db09fb2ee37cf8e10b5ef3908f1bff6b390245f6c541e9a09939c23fa0fe1dba5106a44fddfddbb20749186bca1d35b0886e8c64e0238f6622086b773f5ef7b51af09f3615af08377f5d1d00b4323bf91dc86d395b519ca87e835ac0fccac90a883b6126fceaf901cdb38a48ed2da9ce4f79d0dc7ef81dd9a741bf08a5a57a6dbe0e18adf8b0928a9e29adcdbe1cce9a518685bab8fcdf4fef7f38328b86f25d8827be2c850a3885bfd1fbfc9951166a5f574aeed83ed71e3731ad7144c3bb1301bae4acb8ca81ebe589aad589bf9802e27c620a05406a10572684e9a28d57d3301bcfd765e1f448000ada747e886561d4a962b824b4f9fb7ec3a8c445c3ccd8b0e8107e4e3534116e6ccb85ad96d6dfeaaf12cbf7ac1fec81d4c2da0fe6f4d4ae8b4f488ddd88fee9dcdf7dae39686cf745173076b3b6e01b89500430eb87263815e175907aa4e1e40fd5a0be9caad67a3127f02fe28f5a04518b6931f17d053a595f0ae10ba3592b78f0aa1c1be37ed74d9aa06d548691e5aeec9b66260d6990b6f3dbed1bbf48c3a2e3a4bffebe82b5c09a829b2d46a1497002023db64e525e9ab48bd11cc2794db2df21a9fce77a9d3f57d7bd0d54acdb4b1e6442cf6211ead3ae993d6ff4b1d4a6b7282c4d402661f686aca27b8822d33bb72271334fbac5317b20fafcc6da6f09bd6e4b40a0963b5302540c67373a56f714a8b39a88169ccb36be867eac70460c7146f4df09c07641f135ccec9acae7f9d159fb6c1c7f961cccc47a0fc45303ab87e2f8a5ff040fcf967a5df86f532cb4096368bb5e5fa6bd91d408f530a1a96f2a6affe0138c0086c0f59bba3343c1d874abd3f0cbf2bfe0f57bbb178c8e94f3cff2477c671a9f9523959c6813cebab9a6ffae400419f83ab3fc2e9131a6153e4f4c7b70fb09554e400a3edd6fa047e6b0f8b9d4fc5f1d4c755010bfd83ed725538e30ba7c9c1c0cbaabfa6d805a76736f3ed614378613d9bf7522275ca22dcf8c99f36e6d79185fd65b0dcbaa040aa8355750b8042a01b64f5673992f88730664d0fca7657d9a00a6f1f1d79402958856177b110f3ff0b9472e9e213361c9091fcc7a7dfe9f57c306571f2cf6efde228c96e54c5495ecd8b1b0b5805013199e59ad50498394ba79be30c69f934fb660c011c2bd68560b87b0b2eddba92cbfbba818c70c81751227329316a3739f70c51cf2807e78b5e259179f40485679b769cd0acfcb95bb49d1b9df672b1883995baad4d10d2ef8a443c261ec985df3c6a370a868e9d7a9b4c94ecc9880acfb032e4663fb3282f091f51f0de605be7cb7271e84572dbfeddf9322e44a9e88d689e8652fb40dfc2516649522d4f3261daf2b4e60a8323f2ac076f181a386592df93cb069f642a0d495e595cdaa667d64369cc89e339e46708b93d4d82355a38672d2dfdd7051e1691c22c91724cab703cb315d1016d678ccf08881d4607576f915e63847c014f005efa7d75e7253d7064ba5181fe6f14f553cf3e72f00b5da044de16c2fefee4e4c77a13fae98469ee40ea8fc7c75dc7aaf92eb2e02d0c38331e8c7b63678762bbcc9a504c0dd4cb140aa7139343c243f549096de3d92cc82aeaf29322d5c071953447f661eb19b9d12e3708a4560e9c35d2f09366a942b49530545ee536a69ef6d84fec29c0b908d101f1f87b4a9921c6c17eaf36f1950f16b029bf2ad759f9cb92cc2c20bca77c49d553677e815b4364c8da4984ac19b5c992084e41126bbf89c4be9a34971c0d406373c48bc1ff470348a6ee660e8eac45abbc0288b97c8134e0117e15a75d0215ab18b2049ba5509be4816cf26fa40a6cd77ad763a07fdd425c9d1e70dd5492d32034b215c24bff1c8ed41dec3025e52d621ffffb687b44b57596ec22aff329a6ed84ddca3791c8e0a2704be1cc2a68cec833941b79accb23b86c1037a8f659a9d33d1848c3fc172b519a3076d6d27635ffaaccdcdb74eee01d2fe3cae6eb1a06917698561eb2b19f59fd06644ecd1730767d7265b88b32a46b7f5f9069208f95538b9c0c6e17bbc19e7cf664ead40f92530f95e41f45b52df33af49dfb3c29caaa4db8e93e545c5d8bbb2744472b6c8e5e8189ad5d0c6a4d608d55950e7e5ab71aa3b8e679c14015ead3209bd22851eb35b98d9ed03d243db2c8e9269a194c8196883536014f8992c35f95a655f06285e9f1dabddf1dd75413b78cbe1c6549b67c7876bd7af068e987497a0ed6e50bbf6df718bb245c1e165e9bf7f382c39bbbb6d1dfd60406078c956424f426df5ec9199584c4a0b9a1a114b8b7ffe66fa171eb700b0d01f71ecaf5e095b101cd5471722298a871b9e02c13d81987d18fc17a55eda2668ad0ce6bbd3db744a34eba6b549e62cba3c6d75d74be2321266d45e5abe13a2b920febfcc58bfc95cf67922dbea2a489f2acd96918a21dc7f29bf9d09cff3891de2e8b7e08bce8f8a0c03161c8d1ebd2fc270336ac9caa34dc26b6ff112c531ede0bbbf01f6d95cfb80027bbe3cfed16f554af579d93e88474a01d0977180490d932da6277ad7a79781d7c646471eefbdee0fd2067b8d8f9a31f441d28be16e73caa8e4358f468557a11c9e95f7b67890cc0bae74912f4ae5672364f576784522006fa08f64903d6ff2fbb0cc512b4db245fd295f473a57b68ac63c4e401657d9e4fd4cb2f7e20f82ee313e1cb7127cf80ce3069c617c200ff15b73d0d802ce35ccd70e63be61aecefa18ba89d8edced94c5bf56f1c83f2b47f7c29c9fa64fc858eb9f75076ca46766d867b85cc69518498f74e6f221535ea4cc68b2d6798f44eabb3ceb072490bf68889d8a1a50753ddc293e5765c9cd6c85f859607459ce8ba19babc71b609b95733a818ef4ccbb9326d67d19bdb1aa4362e228bc94e24626bbcea2c961021a5052ffc85525b8d5b00b7f610aaace4ea6ec012e5176fa154f3783412cd0ba5a8b3694e10c588cd4984069b553c87b864f0ab77727a62df59da42779751c2e1f4f08558999c11a1a7ea42d33d4e11c4df9905bc8abf1fec6eafb760953e624974bad8e0264880f7891bf1d87b5b5f65e96b99da1c9caa9f06548a591031d432ea48e49904bc558a04d781cc60b3b50f7d03fa3fc29c5c1f1ebd05c993ca6ab7c9891ac93982c408ad597f8cecfc48a6553eb75d765476dd7979fb2d8ec0d88e07effdc93d4719633650c0a97c990f7b2e26b2317702a98ab510288a4bd69a25c970c5fdf4c9a1e7ddaf58fa91f66c04e39256d72e9ebde4672ad9935ff35cc3bd4c54a03b1dc3117cfdfa1ce04096debc9d96284a276caca761db2ce5e5a3ea729df096f5568c2b13d008b68c3fb77a80b83fe584935ca6cb03be72da4fba000fb070fd25bcd75c789e4aedef4b0de5694260d76667d58a7285ce2bc1af9da0ed1be179ac955061ef172dc4b0be58a2b0a7bc77d275e5548410cbf950472db7da39d10704050d5933d39d419310c8ab15ec8f47080d67a9c519661db05ba5925db98c409ef0523d316fa98bccf6f9e6383b437ac0cd0749b3529ba7d993e33327ae0644d426b592a43e38cdb3eabae85659cb53979e07c545de70ebb9266b9c570785ee9a5d1fb20eff2fc75ea9349333d0df5affa7b951738a50a9c9045e6870aacd9d31cf6a3706b9ab08b39f523a537506257602e163bd9185644463180c82a4f6da36b0a2bbbed861811936b4648a34e43460582ef9275fb79ced55df4ea1f9a579b2521e738d7ad23eaf40364b74d4bc1a04a66726f6a7456d54b722255ec64040c3a38568a2121b8e6482fc76bb357c0608dc11556141e8432299b28ed8d12c50d298059625007d01e607bbfc47296fceacc2824e5b010603bd67ac37ea9eeaeb43a6efca3b67a7c94425aea1704b66b321b64cdb2b7285bc16f3153de8323e686997802b96543b2a95191845dac4f41a169efdc214ba4f88f8de1ed1aca0a0298829dd5310e11eeccfc3a9e2a71c8f0eb36c32ca4f6b01d2fd1d76fef9d550ea4fbcd107a8e4c49be04333ccc701449f324f4dbffaf2e2c7cce4de6671370f17f5302ec3a3a89cd2a3ac902368e54de127cb7dd4697c7bd3b964e153b39f109b0b6a35c7aad36ff649597b34fd0805dc88746027786a0185459409b92d64f5c9bb53e5058282621ab694c7e16174f3370fafc3ebd81d136b9e1627da91899ea32211f155792cf80fb29e3fac85bc20b441d5b882d9f65574bde56bf67c72639e0a342783d3f8c660f45bf142d1697fe8e306923c7b6794a1122469e048657144bfcd9dab37a9121c5f9abeb2fce04845e295c9ce5eac3211387e47aa85abfab43b131370e787f15e265f482b693cfc38c3a764ce753b22c19c3d13f0d0cdef0d7804e1aa8403f4b70d839d466fc4e5a8e01c479cd6a9cdfcdeb5e76b87f921bbc8009cb56f49b0bcc3e51133c32f11b309aa7407d3a7fc0037f8a9cc42eb7ca1be3e2e64eabd2be1d3181a1c491aa30c5ee52284a84bb3e59cb609917645513d9a6bde66870dd0c50967c8d41004a7cfb182a7d26dc4a981062f1dcf53bfb5e55049d92a8df2820c9659b40352cd590e69e4fd23f983f226b879a5f2fb5868009b6b4bf031cae9f2be18babbaf8be26d1d8f6e38514fe81a814a26a4158e7bf9ed92c19d360d8b3a0d4669c80e1cca344017819aba4806c1acd85d88c574e89314e7a9a75fd24fc68396ee76679fe5221f60f1d480b02df49f24a7dba24b6a5953a3983f1f48fe50c26815e17138cf20b5380b5d90c0e8cc86ac35b9bece003414c7ff4a0bccf85f30286cb353ba04e63ce310c76a392cc8632ed1bdf97fdd868967dfd82caaf6d6f771474fb8b2cefc9f92bfafdb3d2ba1074d530d63e02613a17316a5e37dbe4ba1654a4133acbf04ec7062f4a160beec5840b3d3d99ee8fa975dc1cb7567f80d502f528f67689665c71b0c788b13d8ec8018923d0dadde5b0adf69ed7c71cf39cd91da5c404cc4f265bda8ea07b46ff8dfd08e0a9b0ef3339400ffa87e74f8c9aef985dc56a78b6e4e0b125e500d4b66eb44890e4a6efe84bc9133ff0d7eab71601ea1021742a32195ca074967c79afd827d79591abc3565f872e4f085f4a74503485012f32299e1fe638a29f58234d1ec694f50ff5162be084c11801775261bbc0cb8a84a3189d00c741632098e91000fbddcca28449cd82e68f040e71fab52f254c9a3f100261198437bbac69a0872bb26d38126c88a5b9f8083a2ac9abc1172edc2615880dda5231af948fba31a58293714c5b24f31547a162aa917e1a12af5303c82b7266cc3ea674af716b6cbb46749f1b7b41e51a12eadf17bf0d5f6deb6e65f7cb8840521b10033df54560262c44c310793bb40338349ed2a14b3442b6fdc7e70aa30f3b06654dc13a68a06d3c6034a09a0e37f323064dfe399fa6e722b901b7b825ab6a50ec1b38d7a342ef0437e31d1f433ef489a8332163b7d5805401278d97253b5c8fff485f8f0d191972c28ebeccd3ec1652898fa4ff576e9814daba41dfff394d928ce817a8c21b4f842d34e8dde8bab8dd1b36266a448085f8a84f2e40ead759cc73364a4fd286c9906ce883b4e1fb0e9e268efa490a1f3265d4bd96e2ed672700f29b32304e4ac6fe9a23ad194a9663a286b8debdd081d3b91593b18e5375631314d0a01d42103a6a79306be1361e57a5b676da743990e5072bba0be1ecc50ce1ba3eefe5f514c4a0e03a6765b9a326cd3a6b35b58e09fd336d4aca480ffd048bd79b9c4dc1dafb972a8b94156fe7e0daa0f83fa6d8ba23cf44582d6496151a4b2549a85d151f41da434c59a6b3aa094ca4b0094e0abf0083c8a9847db4c0526bc09d4125d21067ae79ba42c6154e8264b618f471163a1027138404afe0151ea9f87139284fdcc0406ee1162ddb1b6ae58884ff7d3397dd6d344cf1e12f9b4c07110e0270a0a8f2e549b99bc6c32a5ce3b15c96124632eaa55448e36d0ad88a6899b28260431985750aaca657d603bc7916d8f6820af6ff0f4834622867c64d840ad4e6486c5ba5be6387e7c1038a21a0c61d40b1c05d8fa840c7242b34aa795907ec21bba895a02c44858f636644a9e2f2bc6482a9f7c21980cc932d3b764c362c2bdeb932b02a2f6203afbff35e0328f877b20c43fbc014e0a41fa8f5302fb3e62098d0429823d643f062d33211d5381677a129552ed09f6ea7306b226c61744bd0192de985e58e5790ef9bfceac283d558c916ed20553c241a1625f0bd32f991a7dc50166ef180da86610851739eb60d397052887a922b297b60db7a86e739d107902fb1742c8629751953209c8cc2941a60e86ba36c2f76f55b62e445308f26afb3122c54b32c659fc8dedf2aaacf3e07045ff9dc54f858009d63118290eab03449495b1b5116d119693919c3c939fca2905bfc4dd56c1452da791365fd977ed4c4c73499d79bb0e51d048ab98fec0d72e66636d9ff49294ce5930855bd83f1b917957cd1947ea083a01c92cff46b149ed37502e0bfbb946b8d479dadffc83ab72c6b263b5009ea708885cedfa4994e25075e2a7710a479c90f0725cfef566e7ee45fe988231082a336228e822ed546a0f45b31c1c4d0ff4bb3dbaf95a7295e2d2d8637354c6a5553a20a19f02c89430a38b75382c0c590c1c4f44d2a8281019228edd81ec945fbfa05c74fd5816138250714bb386d6a5eb8394d7c59b30c847e0e46cd5e098f025b03fdb50fbf5b0521cac5cc09fd333df6a3846b208b771fbe1566fc766fc1c3ba6e42e784b32ffaa62d2ec387ce66e2db113b52d5a3bf6602567a002036de0b48a64a3cb82b394ec56894749cd309eb46563409969dd129981e58306c05af1ef95d752152d999cbbf80b1d9c44fa42a5f71ab92d3deadbea6c9034c0e55d6273a1e855dbab2afcbe9592dd2564c43cf01594bc102663df8d3418a62471d744e00c45aec2c49971e0b21ae8b3734dca0fef9ba534a577c61b0bd97d7524b74b54b6c2e3b6547f55a9f5dae07814af2ac800b35122bdeb6e6bf4800c614d29a07aa7fac158c75675526b2514d1643167c5e02d7547163e3907c220d94731818d87feb535bd801e12f296a261716f28da80db8858eccdb8b11fd3252f70ea0b8bdcfe80825accf3d27012562cd2212978b82ee5a7f14cb02538a6703fb916667f154e3d6bbbbd94dc553c6929c9ca15d3013e1445a6f237291bc28f6005bff8fa241dab64f2edac459bace08e577e6f29864b0dcacdb92e48bcb57b11e522e4e644be7e2106ba1385a15c14243c3b16556e4ab5e075fb36273a57ecdcda330ac7c8a9c81ddb18c483b6849a3b080a6f6f75ea8f6b745500f63cfcb9446b2983de3c05238386aeab7b348266c7d5bb6c515a16f5b2bdd7be1563449ab6b2d840fa69b274f7f09d717d0126b5b3a98b386b96869b54d249c6dac491e64781fe097c5c8e0703d6abf7c3393889414dc661038034cbc552c4906c9567c71e47a0ec075ef52a4118ec9549e7c7ab5f57bf70bc23d75ef97f6b97b81fefc9f48edec2383cba98fd11a6aa4eb1733bb2dc76d2addbbe9ade45d49c24b8f3f2539d49bc8c83707d8da95a56c92a8d403c47afc95be77eff1e5c4e922ee5ef7f24a0a8ae6636129541db68d2e6bc8067868b040d699f63000ae3b26b88b0f320f1bbbae38f8e474d71298313cac1cc874ac273e036ba269b97fed21d67e96e018aae2dd8b424d764c7115213461164419c579ef1e450416eaf29dc347459465728cee0ef939123afcd94973786e6131bb3bdb00b279f058196497c8029c2421ef7e2af21d72d4c6e52d62b2029aa15395424c9e4657eeda176a817a7556afbb818a3a55f74796afd353afe8ccb9398edade83ac998913659154ec5d177a67c0faa42920757f1d7b8db43bbecd3be5f53bbb2acc58906678fe7edb445b24fe5c9a2b940b3fab25227b7f9287751013338f7226cfb4a441a151a9beadd8c0f6501016fa1654ab782484fb50125b405e451cf09e6203266248c34c7f8d608aed157cd38668f739ba9285372abb9014393d7ef3a19248ff83a1bb6016512b063aed29a7c86f5f91c4a94a84a48159b3c70ac23f3547e95097c6f4cfbcf532c9d5731117d99b9cc6f7952fbb8b1f276143d073de8abd5666584455b21fb832b6bbb81dfff66bf51cd851d460508392e3d0fd0c5dfa73c93ce0eb42960d92230dad676bc2264a7e73a7af328d32721d5b0be1aff24fcbd1aec4f7aa12c3450167567a6d66b1377b44389d5d76d54476a298155cac896d525faedfa89fadf0f0be5a073a4f574df6cd635b15145e771f7c9e215244c079c153970945acc4613b20295b39986dd0bc363146448977a0f46425cff95262f1b2ae7b7efe90433abcc92a13a2fd47d84bc866f80cbc24625a931ee2b5981a73620d26dadca5114dbe5cbe6656af322b8c09769b9529c2e961356a4ac7f91fdeaee2cfa78b9407d30dc28c01392178c9ee9aa33019360a4ee53dc6d2fc6166d49e892b6c244810ee892ccb775e1dc3cd9021fe0ebd7d82f09a90804867adc124e29c7b605ae38a72388902d1851cc17a129257a81d46e5b9f2ef9b9215582ae2c492cbe3d4429bff34dd40daae708a48ff67a65f1fc9d922957d1d685612ac48e5a56972287edd9830a92201e616ae502739ca55b1bdc1ca3cc4b577def427d02f551aa4ca0884b565591a810ce1106b63f3f94a1758e57bf0139f8f733d285390feb93efe1fc15dbc95f3c235f88ba1e02a9f915ad7caf943f716ccd46d9ed5dbf67c48fede152d3c8e7dd260082e80cd1031a02f584c4c55290735f859158e389ea48cfba9a4a3554d765f7af608ea985261796529f2cd15c90f72437b89e72ce212e8160e27fea32098b040002f15c54417004fe459bb28adc59fe83dea43716a9e66463cce8a78e1e6d04824ece7909fcbee9969283ffff34a98ad20bb9f697bb08007681b5d1d6d61ca2dd2da7348b1168b313db19f943a6abcf703aada2b865b2d20528a32ea8634ae69a26720da6d90d3ff5432dc0be6c8e460bb64124810f63b7b2b608b0f49ec28a5507af68f071c1a46c4521c25652769cfc30d28388438f347848fe47d5065760bc2c9ac227ad0b9aa9d86788f702361243da185aca96466f34c0d3ca4541c3341a2a50561cfff4750aeb82256ce9c74c368f52cd8dea9003d991fdb6f141286e89788a96240683a244d096f428f6e3a6f2704fe3c0b3a10f1d7468160b1face3fadd91a85041f363f4d796381b777dd9957718f54eef76bb4154a1118400175566d2e0a99b2e0372fd4a2a2f258da06a446caa41fc9f898778d77c44c1b2d4bd034e3a0d39182d93289b1c00d1ab7234efbb264900a4257afe1b6cd7f0681fc5b99f9366aa248c5740b1da815925c08264dbee090b7a972bdda25cd61093decca154ef6c92ea3a3aa713161c59b292103e043e988051a5fa78321f3322ae7abb1eaf155a5f1fde62b94ab4f8d5cdd06aef7a2fd773e9b3cf0f6889fe941b135268324a9b2583d1162bbc74c43838016ceb12fa977cf9dbc8299f847ccfac9b646aa07038c31856a2d9ab78e4381d541eb313d59c0a6616c77c7978714c7d3aa3f5b68ec50cabd43e42004b52ae0bff0aab333c5386c81b9cdccb934407cb510f5ec835754ab59651921a1a1e65f4afa82331a563a957c03be41b9134b52dd83976bc11f3d17182d02e3b5e92119470f9a5ddb8f7726791b4bcb85a714d2f86d2325f230704e9e3530b6f39cb5aa62884ec55f7433aa6876427fbf1b0b375520f10699d7e86d5b46463698f75916c4388e3920229c0ffb396b7b8801de6e848aa4f228de28da4bdc6f462108efb49b96970bbc2ec4603a8fb8015e7705786e61e2d752c1d4fd223cf886b0c9922eff352145350c1bed49ee399da960a3cb98c63237f9bfbaadfdba19d4cca0e85dbd0835c7a5fe9f7a6f5b26f18edff38e4ba669442adf0a0d39efd02a1fb5c88c5fac3bc47ba54f580a3051bcd201a4f05cd039c46997578db89e495374dc3d0915b8523209a48a07d4609c96e4af091a24283f1c0a16f8a752d8236aa3d4c5a78ea09b3d19bc58a0a01b78256607840024277a5face0e531919852f96d96ccbca7fc470376738be51731449884ef758a184dedc8ecd3ebb4eed06f9844ff146c6257ed13e04ea68d7b8f22fede3ce52b05dbbd44d176ea553b9ea35e1ebe2b44839f073b7089fbfa7f209d1638dc2b8da685f1957221f46fb170eccd998e24184f6f8af10015bbbe6b453f0b4a6d7ebcab4bfbf74c3261da4640b35df477c0c094cb3c31b42a33cc22be35a0b0358b28a08d6b4d95813de8135e42edf44b36fdecde4e98aab5d20f7f4d73b8ecbc055c5dcabb023aabe4fee69438e5d24c1081797d60844fdc80f8067c9c3695c94952802eada15c73d1350fa5e74124c54662dda25b01728ac816d2874bd57a4cbb59ae3f858fa5ff160832d14c9feff91d5ddff3b60dc89bf700c8bd26d48890d84f819129c6d235494fd9a06f61d2c8c73d871c518faea8228e5e65f49dd6f630a098703e74da1c4b74f622ad0ce6626762fc62e2db120e51cd5f0d460a5015a234af800a25b796e6e0f52d5d45a3da507b7b2ff2815377f8a6f9b054d745c79155d66a2e99f2f143a23be07670d0a6057a474c0401bb1b957b0138b8efd8edc26780daab01605ec905b9d5526a235eb0d39f3c30ee429ffceb9833758e1ac2c19aea672dc002a04cc7ff4e5c996f7deb8df4b9a78529bd7873dafc366cae6799cd6ac3061f61b1e1b9f1acec8298a805f6e8f4bb5bb187386bb230c83dd29cf7b4b74ff588f28820c98484c23bdf02047ca18ea012cbe8def645e1e3bb301ffff48a5399a5032db27bb22bd754295718b87b800966cfef2b5e4a1efc163797c5ee9363b14414af807e6c9cf993d561f1c07416944a6a28101e1cbda2d807055787f5bbbdddf4162b9ec0ef254f48726424534a28fd58735581f16d899886bce5c664e9dc502336e5e408876bdc4c4ef1c4eb51ec1bce44c11502dcdd3104a610f3d93a3d2534470fedcc70edc696bb5fe233d7fcb5dddfb24e37bb4cbe8de562a70d58915c1ee303c86dfb6dcdd33b673090382018f5533d9e81c469e213ece7d96b8b9ccfa8873de38076106e39f6fa8a45d5c1023455efdb277ce2fc0014c27f0837b6cf6332d711ad93f83aa696c8eabb96cc6451201fbadf6fd2464b5968dce105d331b60ae97ec1141aae5003e92923f7931041785538de4237bb406050c7e56c0b430a78cc00e8f806541d4aa22aaf1d852d10758b6451245d9aeb0fc47bb5bffc2535047820052cb52c08bf29abe8ff6cb01b5ea902c6126295e54c7f93bd3a59caa37f7221683fe56654e56603147e537f0a8e1fc316aeea388b9bb97a3e518e0e818f1f1b37d287fc13ef2673c939bb5cd9339ad10fbf72e71b96a316d48ce31bffe63e96d38d6165078044c8e5d77ed14770fae5b1625191e74b92e28cea48f03aa6cbc707069baa823d344fbd54c55b3be91493d48158284073afb1041dcee95952a7623f80de43f5ce4212cbf322ddb1427cd924c65de8339ab70608f9ea7c5afd04fc42da3a6a05be281392f0f90f","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"c18045da2868ebf6d581bd4c299b8f29"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
