<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6799d921561052563b538b71d32467fa0605c78fb2f7005b466bd1e908f44a0561c0e22fdd1aa5c2573b30bd13a435d5170e393e685d8158b074beef1c3a097afb8604f3d4b86b8b194f09d40eee2a822b60e7f508f47e2f8dc95f9c88e59f6676904eca278903f333acbe8d9946458f0b4c91e5142a7b040e0d7d7bd54307b17a5bce37940615033c44ee68a6d0616359715fdf91bfaf8a614d87e0355613e1379e17143fac0c556afb282985d484764c252bfb7fb5da2493ec891428b1dfee586df59e2bc15f16de4c6977cb58cada6fe26eeb8ef5085d0875284ecdf2800063dddc4e6145eaee46b3b53cffe3258a73c26aaa4dc8e64d50d24d04103b3278c0aa3d9762f7d00121b9363666fe06389348ded241022495a1754ad13615cafce178d959d2a6813b1693adfba8af326f43c102629894d83d10260b36dcb506e58baa319dfba9cabf2edbd3741bb74336508700876a4fde2f2413a1940aec338341d2cb4ab6dd965f09a3a961a44d85aa3b3157b28d67c68eaa4abe4ea7eb388e69d2de015f103b94475cab417ed3021ae1f3689d59856eaabf625877df90ace7357a0e250660470ca0474f2c47fafe440612c6c8b42b6280b64baef811c2e9a7cbfc3aa8d8da4e376b93f310d4d014b88bd100cb2756665c5f00a26de9cf36462dced0acdd16ad24c1312959cc71cef7fd1969795ff92a5cdf4ffc36a5360b168b58186e7d8faaa85ca168ba07df6db172bc48b08cf90b4562a994652b1675715f5dc36e3a95f34c45cc0bb8c424464cd686632b052ac49937d88a65962219d8089b5764147d5038c894db4bf41b23b89fac369a1e0096925af031f2e8737a5d661b79aec84647e4e99acba18c53095a856f088a46e9ff16472199c1bf67d1d70f943febe4f9fb83e2092a78f54db486a99025c9b3fbd4b56bf143ddbba577562fe9db3434a0e96afdbf5f6696425f84e484e7cbfc4df5ba6e097cd6d4cff5cc059334fcfa1cbfab09d704f6fdec352170d22c03ca09c9e58771d15b41c6316b05206cd42f240ead79dc8eb41a2611c6f85eab93c945bcf3846a95cad44ef1c35b3e4413daf9e5136325096b63fdf540f0d26e08e59e39a53f8523caddfdce20af72e33f4e80b489c44410d080a7f78fdd6b96a1724d13d24c51d06d93ec38b5cd783fa504687db57f63365cdb28d7c0863158a7e68f510b097c3f38ec2a255e958039ed91022c4e0bb2e7fa5070d48a52510982cae2c38aed778d8e70b71dbb0fea2c686f2b07ce61ec5ee47ea01dbaeeea9c0ba6c4b89930eddb32945cd8b3a424d306e314b5cafdc6a3eca6169ef10caa7eb611a62bc5bb39fef53a16c7b86de194126f4691316f2c95f788e4edaa6de8fbc738451dd05baf181071439695d28e3d9a678930af48af89e85392097f986b26e4060587bc73345c0b58bab90d8de484838ad360f8ddcef2b46d50eb3c0e152bf48ddda52a111d9cfa289bb7c259611df051b13e9ada937a88e811ec10bf9712a9e03f4cf9fc4c1a73ede2ba1cd176399edc33cfa65ca058046f72e587089bed6e3c7c6d3dbc9cd3b8f3b8e2fcc478f23e65f38a86140203d3bd73e8ad9ce2e2091b5f6c247754a04295ca9b892d41807cf1061731d7b61ca38c15307915af144af1db42bb14546a8e614128cda8cbaca7a7224d5572cf10fed601dca575ef44805a16e65e36c1a512eace3636be9cc9026191af54da5fa10c24fe9cf55ef51fc7cdf4e8c221c42beea7a178510a6cb8dedca09e78e68a0b1ebc3e914a07aa02d475098885c38b99348f8ac5134de2044d7aeee844d8d70c7e66048752f1b845a1b5e034af107831aa46f3332575276e38bed02d306645a7b083a89502b87b98655bad551eabf08fd4fbaa40e3e8612ba04fcb140d597a2d3c0af80cc5ffb693461a9059ecad688fd926fe7603d7bd3733d3af6a6989461b45770bd98ec3b4d1e4ade6e51228e885dfa85b8aa76a8b0dda48aa8d901f456914cd966f14874060da68866b5087517785532ed772273bfcbaa8047a2a06a72c70d8cf53d699255a4543dd5e4b8d8c808bfbd84849f8dcdefc9508edfdd0d5de5ca49f492229e565f6407d3beb3cbe94ef1e916e598c1f159278d6e51d7172f928343e53aa71ac0a6e4b1ad8465afea0c506ec605a1b9a03c154f039ba0ad645dd04d5a3ee1e998ff8c4b996d978910e46fd1f494375748a675ca52c18979ffaa30945674c39c6e8511b5f5858a0ce0db13571b4700af7584d5a0dc17c2f58153a76d33b16d66aad27a4c78d093c80e204b75d54738a7db1638e40cf0db3b86d104bea71346cc991e7271343fba74a50a751ec1f001f2d666d1120b4327ab0b60f6beba7b7b982ca821f3ecaace54522f703a3e774039b811bdf219a2dc20db50007be17f0f67f52633be33aab695f02ed46fec0596585de3a71fee3aaf0bb64c268d85858f69d1b05484162da7c591c602dcd3bf27f9c58e7e6929e65f526179049470d3381366b61b46349ed1bb68a52c9125e26f2d20950389709ae8f61a431b7f896ed6a6921a7599e77896687892425ad352a3cebd362ae4133c93b78bbe3203b658412388656734e1b28ae1ef1c0d5dd7567baabc976f682ede0bf946d0db0f75e1e19a747942e41a963f14bdda31725c65dd5f57b9230148ea1a8cebb4c40e3ea36534ab7a614c2711f5fefe94fe48684b3d8219597899d05ff0112b18e27cb984c35280034e79f551d2061735bb528e5e727b4f54f6f4d83024d1076eeb3e6ca6b536d58e38c34cacd174c66e33af84ef08b419b3da2fae937b3f0840e5c202ebe966447e0c1373db0d83b5a46b14e57666c5f8b0ab7b02de903b8144372b5d9e558cbe1af67bdf53bef8662446b4bc1080b6165f9754cfbdeadd1eaa931ac8692d42d4b29f9bb008cb2dce8c21a12bd73875bda71efcf1116d39bc1ce118f11434f6982ca8f02627ab14f786090036e875b0647ea1639bc9042ec100a53e19d13216628ef70a7e7943041ceba69b861e7e122dc1a76bf1092f9c77fb50a5729562b1bcf4c996d7761ddc75e08632d53de4bac5beaf672a7de061710f7be43cc8f56a7f0e4a5cd06dea07c038f79e974cab84388c8b6ac1c781c2e0aebc74c0856a2122bdcc02f0974bcaeca48e8ccd51bac715d4498baab119c0eec9b381e5447cea2dc5427b8899cbe5c012290a4e6dc48c4bd0f34e78197f0c8c6dbe39320c19fa998d946c5b95c7e4cf06ab8e92023fbf679287cecbe887ad9fad9a4212f4931322c3661a9aef4c51b020d915084bf1b28b7badd5cac9f22eb12d6d3c24705dd50cbfb7f1e2b3806404f88e831f2c6a46d3cec7d96db0d6c50e9250800fb0b928184ea5dd5d6266911ad55620dde155239b2ed6b79cc079b8608478f1f87745709a8fb16fe2ef5b18b4f72dcf33537a42448046546f1779e3d563394c9988131db69f3cb920c88a70696f33790e4febe50894440f9f511633530eab070ba5da97361c09efde019ea3ab036ec70d72a3f836c95c119e36b3c52f1561e31e3264a46788814a899dcf25f8dde4b483786da0b87910f361ed7d0f08477ea128c1be5b9396b63764c5e08390ac019500b5258516215a197ba3c3dbe5cf0b0dff66aae54f9209a2183e0d45187d7a52b613047b002accb7f7d9702d13bb06ebe348b18663f57db58b7746fa527048c14f2e1e82ec629397046e2829d728624e547661e2782ef59af7fcd8835f048bd3129af32538c09a79eb435f1a4ab41f738dc300078a659bfa0efb95cf175efb3ebff17bf24086b54102933983ca1cb6ff2248bac5790163409e01fdbf89fb893959282203d2a3b0ebaeeabde8e954cee4de348348e9c455a0a53d30b03ed85853d007acc94bdb13384aa2acbd38b5fe6c06c05dc16b8b02909f343d639d2efe562ddd9886192fc622a972cde56a125aff44047763c2bfe236038c1e39ab2b27cbf1bca500023f8932e5a9073ee47fb1c074ddc7f3f95ee7f3eb5c4df30a3ac114e71df331e64c7f1d92ee2831fa696d0378b5090a4189edfd04073e260f64f7589e130ba8340c764fd7d87056a7f39cb0fd304da8dd8f1aaf8d4cfeaaa90550a6c26e491040718f8e0d7db4986619b310eabaed90af338f719c0eb90b015435f0bb3109c94f514b38235a27b4dd96781fd7e25decd17e9ebcc280a62e393aff72210f2e8aabf6cb645839ced5a8b98bdb283090fbd954ea7d5b22f5cc987d028da97bb6ed714ffe0a1a74f0e062bf9dcacb2fa619e964732a2888d8bdde19a66c61de369f7e7fe2223dbee168196e59100972e83d8904c12513d7e8cd739e101b3b45efce5d01a3b837f9bc31a3d0daba51aeb0157831e56a8e4680c2c5e93454e62949f03af4d1f70ffca1ef08066d9477cbd13c6034766a8c1675e326ea01a0c8bfda868848678297796944492feb602f60db6add7f095aa44667c8848b9748c8b7f405a449f18fa37668b55ede9dd5456616dfcfa13b7a130a6334b76fd12e6a597b8d9b17dc20991a149ceaf0694a565dddb06ed1012c3b16096a9b8804b06dfc042d3b6f75eaaa4c9639070826f3a463a00e7a4338abef5d43cfb0312eea05a37e1db1b78ca18d46dcd242d02286389ead9fa571a85171b71c0e1c2590b8b7dd862f575186e22148e5f1cb18452a5bedf4f9fcb2631eaa22a29ae1f17b5c6516a139cc3191d0bca9657b127eba98decd214d2cc4f34c5e804113d84bf0a812f6f3594e0a2e00a9a541865d3beebbde4a46f344038d8d0869584329e0329a2c1c210c67291fb56deb54506719cb4a70048c75562785aec75a63ae1923d4c594f85c4076e34f1722c9a8ac5270ff8cac997e2ffcea31d25e80193bc34212df788ab41f092f0dc3c18d6d77a5d5a0d08d8618527eace18e8d4bfed90fb7a51c634400d1a17034d530b10afa33a30a7766459be99924a6876fef48a8cf6b94c740383c4e2ccbd019d34d06d006b51a61a8af4c7262cd3aadca4b556e1e72dc23d61765678d421b267ee6ddf73f76f363f16685fc17df0dee57bfce2088aa2099a411466cc4672c8e4aea813de44b06a65af2bad59b8bd45dcd8f534b15b9619b1c855cdd7be7033b5bcbdab1c585cdcb5160ceaba58c9bd574a2ad9e9258d8db37934fb722afb24a3c4caa71acb1ee6de53b0c684e7d9a86144d16f320ec47429e68f78ffcbac6b37cea2d66047c62a005426271875fa5b023830a51a8341a2662ed7406159c9691ac6f5f8817bbb5ac7c8b22c5649493a27088b82cdceb214977e3d3568b919e554fadf3b9dc999f31d9517ebfb5d977f6f81bc8a95df3500e65fe180f09af5f4398bbee03471118d79072bcc36ff51190643fd7f75bb12e876c4e1be2f98e07a142ededb38662bb39ed6366cff20731bbbf3bc85d90e63b1542b74b4e31940c1892c5a66266088f1438c59ff41f06af5ed3f6af3bb326205bfc260df6c96d10767afbdd30413bc3b44f46cedf8ca45077b1b9aa9d8fef0af4b70d74812ccf3d762967c51a3ee8d1285cc5ac3eb92830b67cf2d692d01398eb6d1d30e36bbc4a1ba36948630dff6e32345a76ac2720b04023dd37c30a774bab8e12c5e85913adb9e576feba9ef4c75344f72d3d5ef0d11975782dd4f8cab780ed0c07225dec2da9f1224469fafbc469d5954d92acb9fbe582864c67e418b001f59ca25d9c9c4c68887f4f4631efa2ab727827685fa1bb3e22a26c431ca9856e989e9c4af9322e4fceac013f179e1e9844ad0f9a444334ccce0e6d0afd1150d747d13f01e1045058e0af60718d26114e47c93d8c21b6a70c89a7b810e0a549178ab62d5a51c5670a41a5724160a6539fb7b154b4aeea3c0f0b3f20d63601f7e0da1b92f489c85e05c2a4ac1615e2959caacfef053fb3d3e88227b243d862bb02297d3e7bea711b2dedae3e36b857bc6886977581ebd9b65d7c6afda066f1e40b5eaf9a39d20a41682a3f60b8796fe44cee43585b9ed5e8c7784bad7ffd16efc3816aba899cf08d67599ca5007e8201410a042a003ce15de223ed953007b0706a0ba50446661352ae501717ecf80a83d690341991debe095bb30b18ae56b901bae5fe44bc931aab813f4139ace2b54da703b497b8233af11052b9783c408c96736b482d17246d3e102e06b3d3421a5ba54281c93a1145e6f839f3e6e85ac97ccf444618f364ee671157e13ad35866c72c4b2123c1ae6864adf20bf1bdabc20956826f07575303d09c1e44df7b57e5ddbce807e58b5cc72797d9a6e60dab060db0335e61dac2a1f35fffaf6f2e8d250e063ab88869ef21239ef8a40661c3ee4fe4a93bafd9b38e56dd319424341733fcc782d2d67ba39aa371871655a744a36636e358e6cf0bf8fed9fca3929e15a1291ca34f94241981844d7c029347dabeef96282041cc69fc68d5b6156944cf006634c1a247457efceb19977cd1f72ba9503d3089da296820735c64634ba28bdc9064c905449244cd03dc6ae790934dd7780ec24f7cf8e89646945638bf164a92929dd4eea32194ddf8f7acd4098ce49870a6f236ab349c16df6b64c9c3a74c487690631e8b9abc4acd7ae4346d23a4b6bff36615a5bebd3779c9cc5c2ee22f994bb9630c638c11f6084a7b57dbfbf5856fd32726325e5533d79e251a99147c3b0aafb5feab0bc9cee306f01981473d2d71df14810fb6b345fbfd380b029029096c1e41e826bde8a5031d8d2d1263385b327cabe88f60ca4b4a797000a6b5682517d20e95fa638c824a1168a02277e81c06bd8fd1636b757094b101bb4200b480cf2914a27798ce6ce56c1b9fb11713b46f4855bddaf1e2c945d4791fe21b560fda692446bce7e171be1ceaaf685a427bacc1cfa1f73b648d2e3d7003b705929696c9938ca4a4c2823c0dcc9b0f659eb2f1dcb2624911b0578c45211acd1b1037e4399a4b80afd1711f7fc21886cf3e3a552939d98bf7a95eae2e34542e36b5bab2eedce4902bcbe7b8932b9563439ef848fd350a36fe91d5bc55b04c430f50dc51175a33b814f58c97ff95c26c9a80d3e5ea895c06bf52b44155f4566cd4133208c3a5a5ddf594bfd83bf76de7b3777179710295c2bb9318b6ef0ad0f9cf0c09f9805a5510b85bc28b060b315e212bd8d01694199e3637b9ffb65ea1215276d95c945f4ada97794ac7b52b40975d18493804dd72b2c2336b0e4e346248d77c080754f08bf511ed90db69f7a4956bb7aa1a33e25b1a7f5e87cf9f3025d8bc4ae8a40658a1776e8d70e1fe1bd04bb377fd37bab1252127f27fdedee3186df16215529126415c0edc0309e988b88ee0c11f7704a08d85fe6ea89138c4bdacca77d48a0a8b1a82ad951da44a9e0fb155fcd0700a039d935c01976446b15991a8a11591fcb323d32729a46d10d10bc1a3ce909204133afb294ded4dde9e2ef8a8b901087a0d5659c81433d5b247aa90c9d714c1814e307147e016e5045fb8e56ec462dc179fc17992ecaef959bdc01d6307abb7d713e2d7462e97231a1004b5d4777b06eeaf71fc9067342e16c1cd669339789f5194254a535a6818d21062d757cb7e333ea8c6ebb2ee352b7a4dce3bb22ab4e218f5127df48ce649374920b8a9e7ae581ab23d4cd0748bf9e3a422f0bbe31bde0c0b2414d346025a8954d2bd17508e348cb9793d85919717af36e125b2643bbe8251d5d169b348d0b118fc170df50f887f91bd18a4b7a4148445686128c003d64cace913df59a471882f9fee65f69b1c4d40f45a3b12c6ba3cd38a8d26e2a1863f7af560d65b930955a96057b25791ea6729382f308f319959d35d82f94ab6667c1fcc74a354d4fc51640e379236c9ed3a1813dcf3e42c8d1631fe53e8b531758a962abc7c506ffd9ef638ce1b093bbce10ee083a6c648e83c11c8481b9b93743c0f91b51f6961c8393c6eaee55f4f34f740636a7f3aeffd92d47bbd9f1ac51a6fcd3a155187d1cc786acfb226c6c514fe4eacfd07a85e0270f39b129382315e941f188f625eee300032cfb3974dfff6842b0f85dbef06fc95516bd1987c48b964e838c98a915364283cf523686fb8e3d645a42679785e18138f3b935bbe0e85533fcce2d8e406b3e6776d03688b1652687b016dbe57d598b76edc612a4f260ab8a0ba1d794354f17561500e62b6d7af4fd6a0fdc63fe41353133090742b2a4b6edb8632e9f09681c2e63031a457b886ecd5e023a40c50032b9c0315a739fc3b2d7de0bd2edf671f46da240c5de02efe09d4057128b41c29ee55a40c676f613a25fa290481195f8b99efc48c909dc0f8a2030822f0fc4e88a75c6e0772c1e39b104fec471395344fece71b01ed3eae45d4ac595c729c8678fe1ee98693a9f0d6453eb1e6da7f92a8e730e2b08b41ceb2a8b5967b655acc86e67741a4e2a2f82b49e47f4748abb6370d2982da0fa2598b42d3c975cec7b7ad8ed2b693a2bd8160b9c3141f610c33960d1a1837282fba456dbdd42ded85240e8954628208f3f8d2d27cd4e21b758d2b2be480e047c051326d1f1d27f5743b4ce7271a33508a1dee838abebd6250d5a02ba4fc3d7df4d4de0cb17b8d79d37b4226182433005191d73de1f6c5704254e85c351b2c0a863bc25f7faed48aff5ce8d5a1e82244855626762b53bd4a4d3bc9cf3c35ec74e03902cf0bd5bfbe7bfa0d3d9a33add36b6463afeb7191c9ee85d478bf7637ee72e3ecffe5f6b2011da9f67070fcb1577605a3516eca40a952484a76c13e3f51d45ebc368d0e2283a1983e2c41eb587989309da670c9335fc5826bf536987b57f2667b7d134e48aafd33f42d3933dfadd8ab0c4dcfa598f1aaadf27e9bade7bc17956bc5eeeb2660d03c06808f3367936383a55bd994f2171cc94d2581540abf172ee5f1b58b80890fd9fb0b42b9780a31304897f756aa3811c635000b36d75b8eb502a86edc1ac8a502ab9324651e064fb4d0871d820cd930fb9c4e604116554e0fc5fd9119334c7a37851106031e819310003fc3daa21235ef7432c3f8c6b68639b3ea1961483d0ccabfacca18be5e4e17b0ea786f06ac4b91dd68828269bee5fa687fc1f7c96fac81b1532f1e7ffb20bf54ce4d75d5fecdfae24dc6e1df2f2945e1f8bd1438559a4b8ecabab09b80203ad6883b44a973bbd904b42c2ea41edee32b70535948136511a3288b67f5b9f6ad25aab8d534468691ebbdb4e9047fc8a79f8e5e7377b38b98f457b0ec494c1eabd156867fa00ac0f238a79dcdebb93d9e0d86fb5af1fa7c10228fb185ee29a409f54947cdff3c4d51568f69377e4475f4491f72ed74eb2729ace1c8813135c9063507773aec0bbeb918e06a9a3dfa843c26e112d0f0323f25582fb6bd613b54db4da87854c6d0f87100cc956e792adc7b6dc4d38c6119824e68b7842350f41cadef63cbd9ec2d64c8bb526985a37914aebdc6da1d65b34454db337a5b9b357d02dfbbda326d39993801f5167118446f0af50df8446c9b26f367661732d5eb9bca80d21c4344cb9ec526a8f451f855a0a1cbbf15e8a42eaa33acb48e30225f266bcb5b87871aebef69198ae534e77dcf0f4139ab681b9c7a1dde6ddb18e2c2708a4e16eeff6411c50caf1bb8e1057f60e65ab2e4c5f219bde7fb6b31a4e8660269bfe365924ae25f8b3377d0278029ada3de0ae16ae2d24e1e969244e813c46d359aad516c7e2bacaee3ed0e468dd58ec2a383360b646a2fcefedeada703c48eeff6f810173a546a70df1c1abc017eec023da65dfe58624b6b8a075fa468a87244bc615ac3ce86c818a79869f262c3289c561a3d8be8aa8ba77e0cd223a2a87dd5993313677397e2b994cc253641c927b7e298800e2f97283152ee1135f467cb9a98872bb7cd3b96bda78661d177329d74245acfa2bdef9b5610a46eb4dd2ea0dae2433f648351b1cbbb2a75af48efb023aed0b5b456228a98b4dabfffa08efd418de341c775a1bb207b8eb1f8a49dd0795eba75e03c88adcb5de6400fb57ca67c64caed64189ba02bbcecb47b20e1cfe47c88ec0861688b44acb88c1dd1fbbfa2486d776a06188231b0bce4ce0e983e6cc82d8d34c32ed058b15614145ab89c877aecc1761bb53183781ed512c0a41a11cc65408e7ef7df08b09978ceaab37661a7c3fa3897b66453eeb504aad59da3595d8bd124964cdadbdf9002f55250cdd50eb89be998e5ccb817d3a269472481f44e7d63148d8286cc70d7d84571739935017a33f1620c88d955e518e8f0a7e6fa4a63c0c1d71640bdb5a237295ba6dc3b42765aeb7804527d157d1ad9cd5dc31f6dcf6f8a62881699b1a6feb07633e849ddcd2875c9e0b0d359ab4a4d0bc50731e2e963750ce68112510a54ed5f24719911731928785f71397611be956f07202c5b9a1fbf0f59dfb1ad4852803913126cd2d353184a329238f375c11dc9fa50070a10c8ca318a477087812fb7c63b23ece0617b89df6ab74a0343dc2b09240c7bca70b6eb45680af3659240fbf3983765017fa1b99b1a59b32f972c479c49138952cd9857ff5478d407000a6ca63ff77736e8adced45806ec0e4c709b950ee4cd26d31dbb3a867c0340d7687b5024830fb54ce1d7f8fae8c65125feb53f13e81a2e58248f3226d9c2c4b4a2a1b78a8dfd49e761db9a1de85844892afffe704495690a5b594c7b9c46e80ec82b9e1a8acbc72d433605c753999ce4764d8b91f6ba31c89f51fbe7751a4603e482f165923c4a008fbf2890f561f52327bb1ae26f31a7ac1cdda833ecd59c234f4ec90ddbe1813d005bec0fad7680882bb3a8aec3df3169aba31d9beb6113dbddd4a5e2c5c6c06bd0c53bfa13e916d022bd5e76532dbde1e20f3ad8b121d5419eb7a83c45e9d505bd0292e965fba0b842b58dc0dff8a412982dbf91355c3492d68e1972b6eb95082fcd5f35ecadb8efadf799065045bf6572e10cb3d5fefda3f1e02b10ce0f8f39c7f2362efc02b8339be274dd272ce9db8ee67c0363e095fb4eecdc76068331cd17aaa7125d3682a483b1f4a9195719d615a4e0236e05da4eb30fa560529e8d254cc5f144ede8394bc2c2bfd2ad134a15bab6fe68c3530ad872996d3080884aec3a3559c53d66406c91b2a56a6f341279ab639f3840d55b2b03c6be620ea56bccc59e50f2c3e148fac71c84c80b6eb60a38552ee8a63f06007ee30bd52000b05da68b1448963d12c8716af4d0b6e8505f2721d588d0a63e3f96420414046cf6153d48ee3e50e277299778c7da4965193984749655f0b5a60278d22478459884bd40fc94a70f1fd706746f3b37a3f37a1f0c7ed02afcbc4248706be10be2f1b53d0ff27ab0d93ac2e09e646db5a537a8903103702c230f948167d367f583ab72192dfd87fefc37ba87a99103a0014b69eea27c7831ec8076b4b05e0fb27e6cd8fb8c44348a5d4ffc17c4dc721bfcf3d4fe520bf65f319d796285f87bac1b7423282e685c4e29754e19925ef49d02d3a9e5521f3651eed0a98a6dfa19ff825806f8c89574fe8799703c8bb1e204e2419b39eb24306c501034cb5ecfff28788ba02454cdc2b16d3c63ec4900b7ad83083dccbcc076022a1b9f2fb2672df4c79f199bff2efc41d3e2e7f214bf023763fc7bdf4271553424d574f403c7daa41e78496819ff5f83bc68f0ad3e271873c002ed8aefdf51c3736a0879521c4b5193d5a5dff16c54810b05220cf8a138aa93dd7596267eebb604f6f420455b3dee9080901045250082118621b976d369e4e5a3f7c97217136a31067165c7d5a26f4909ba449b25e697c908bb015f3be0df63ea82246130838ce35294c75952bbb42b2e94c8e46f4e649784ff9c74e606895b62dcff096781ac8e470c7f7c169cb7dfced6325775e780c4452a027b462c3d4a4d631b0803c106739d040f1ea59c925fdf518ea2cd2c5de232f5a5afab5fd6884c42f09294b99978af401877b35036da4665743d1adeb0f6dbcc3455132b622e594f9ef0040b036723e9c5f21932adebf7aec572b1182295e0fea6517ce3199f911ef502ae217acc1894ddfed9ceafff422b8d79b0ba8849902d0ee8a338839630854cbf8ebacdaed1b2a2100223b74d4747616f26a5cea833e36db66f841d365314e1c067c90dec814834d55e1948a5a6dc739a831545fee5ee4943509c0ffd130cc1448fa37d5ae208b96084ed119eb4da73354b1bb6812443bf5d0fbd753aa4526919f7f394b111589613abcc74845c2cbd3d45df47fe8b0184e171c9fac2016d8f17af453006c284db08a9fe91c9ef5da9adb90d49af86749208c16cc6f2447a4b3dcc5d5995bb9770df050d41af3c8e7ff2b876cbe65621e73414b0bab4267032edc25f8edee37194c9eb619e54b8f0955ee6769a5b06e9aea03a48d65c5be74e19baa38e41d0fd137bd449abd2c8e8b57879bf1e8436b32ac67e312a5b47ad226eab036ac3a5e33e93a2ba7c940c959c6b5aaee8ebf1322be2da70d0cf395f2df062992814e824479817589355783ad67eb7dfaeef4dcb36e178aa0cb344b39d4320406b26b9961825d2a79ad929319c4c16d3ef77c2195ea69db6865fd755a429203b042e1ab018cba446414c06eeb838aeca1b11e3e5e6baf3abdeff5804073f015d6bf3cbfb43b308d5f001f11a9e003f0738d0ae0ce4667c7013c5489284e228a9b85aa74d55d6ad5f7e1df0680bf7177c9c482eb498b5cefb9bd0c5a6c97e7f85aac02d24e1f17905b9843dcec00928dba3fc005feb1369d48304049e3bea8f60834f24c9da43526815c2070787ab98f92f1b58b9d761c3d5fd1bc767ae6c66734b60887d1ed2f79ae61c3399d37534783ec8eaac8573b0b63f9ecccb8c6906d3b0e8d71e7ef714e90480cb3024fb94095aac3178a6fa998ca489188dec8e9783cb9a5c0e2f4abe47947660713389664938ece2c7a1ae618b6e51dea16daed6f135da40903a8104fd75d0026362668547d64b8029c03558ca9d2ce67ab602ee6f9729bb7efafc0b9900006b0131fd4460511a6c3af0ae4861dd89f9e76ccd4c065273288a4a5748be9c8cd836b01e3f986231f5428440377a71587861f07a02a67d39a17a2233fc029c4c4006a0230f51ac64521d4c06e43400abb555782438ee730f99c60166a2b36428f0bf371f51340d1900152c5e11b87604d795ecb9556dac53c869085f6ca8ee983e0bf7e51efec8b4ccf5966b58f4d775b26ea121bfc72609c3f6e57f4970a8088a3608bd85c1d01973f97038a43138f6c11d525b9ee5cd1881602acdd3102e4f7aaa5db667da45a03b401f0473fcfe8e296f1190b53a2883ea8fefd04626e02f402f0e0bde7c4aee8bdda87264ed4da483e867fa257786b309f50939b1d9af6eeafe4e9f152b0077e1e8ce51dc4ce349a1e24736367d88807c4e18db67c3a3ec3ec722cc48e02ab4f51945b631bee5e4748876877c865288cbaf521df5b6c590d15b5df5d83a850f1e7c04970fad504ccc9ca7a9b552a0bca129ded11602dc7b5d0aa6afc38817928d247ad5ba326933ee3a545f77c07041183779609436e6c8e1f7ef62f705c75df95219a07ca5d9da84e30975b545c487eba2786de7d41294c475b5d0d35eb14be1e27557d2d92f9d3e32406d92b553a99953697d8c3ad686dfc56b06d899e830b97414c81865d572d02cf2e3874f772e7c59eab14e3882af7c1811c2f3a3106dad2caf1c5ffa2671bf74dbdb4b23894367a9c55311309440b6681e9f98c06f164ffaca9c1a0eb56df46dc8c9f72a9195430c2a21cb99159650e96d3497d85b0fd26a8dc90415db555de42047792ccdbe5023bb06c222c85cb32d11d2fcd8b163fe4a572bc50c45cfea25188761761047b7f2d15d16302ec3527ef91855a220b18840a7d769c1a367cbc37e0d52b88524a545ad9c38f1e9c9ff5912f0f61ec167c794384d01e0221e675c474283fe39104016caedb5da9a1b7fe1a417e7a9c222587a13a185fc414dbfd763e3dc2d959624d83f0ec6545b9c46682a2ce6c0019c6ae45ef60f17c759054e745c698de5337afe83c9d5dacd0f02e88ab446f14d9bda4d4080df927fdd299615357b785ffe9a6c8251bef72b9d0b665c543d325f90571561b29ce86d2011b566ae7c205781666838d1cf3389a99ea9ca4b77f710aca968105699d837cfef7ea66d87dd2d8dcd1e53152effa2177f40cea9fb2c42205e83f87ae78a20da050a554db360036243d1bc84671f8379ee6d402eea46b604e7b32099461a0d31e36dda7123e3a4a0b1d538fed4af7a14189591e64617bc49662103382b8bebd4a224825c23149bce5026f925f1eb9c3f9568b110ac9d50265d46f0101027baa033049e7a92759ff0f8f62b9845f0e4a4103727021c5f3884c33b22de630c3079460c58e302a53dccb610f6d9675b755c0b729cc9143474fcf10e21056f5c650d63e67ae7e4131b58dce96ca44cd4c698274229a838d98b7be124a174af48f52e9c0ff3c7af157757cfadbaa2734937bbf7604747a9040ae62d11ed51d7ea86e572db754cdc05515731c89353b93c5b00b1a08d83080e593ca381b0a42e28e203d2d8798d1033876164efc260cabc033113ce74ecdd821de1d555fa1bf824ae9a3fac796d8918f51db3cfc5e581a787a3bd82b8e201cfcf2d5ea4f3454a1fb6f5f755127bd25ca3ed31217eec76a570f275ee894df1ecf0793ab67fac6777f95f7bada34fbbc16b2956f2c4738a854bcb48edeff4c2bc2bab3e20e9d555e2383aaef4c26495e27db1f2d92ac1eb78d40f7d8adfd1e3fdd2dc22dfda4b9bf01f032d0e62df1b12e946df77d1979a0c45a11f8d97866da480f3493e9702b5956920054db813b3a383966b17b143e98b210a157fc4d3867ee2e2637db72f835c06f311b6f3f8c2a1d1572c392bdf027b1bde1fcb5c8ae777312872c694eb77bc0793e15f6a27d945b8420aa7d030194869e5a319364584a48b6558c9ad1069de29cb0e863ea87663b2af866629f5357732232ede7ccb0a69eed00318f5ea363dfdf170bd1035d90478a89b191bbb6f75860fbcbb518506918c581d677d59425bb635a27bc37af1a51727264d9cadfa14325556e20e35b3c0ab8457fd26dada50b8478f0687c4872efd64cbc624413d4f4c0f5ec1b1e01e83fe8086e210096769b2b0730dddc042b642c227c108462bac5756c1d0dba0708050d204b0b06465265c7ab4fc24789424fe7ad4ef854f7b9dfca8064b4ef925defd66308c5975f0728a59cbbde5d6000b28a652e5a3bdd9fd7ccf0e84f1a34fbafd3775d9d6c07b18a3a495d9e31ec5991dd23eb09591f1395e165bfd52666fe658da23ce9c57e98ccc056e32bd9cb1688219f77b78eaffac46b3842c26caf8b5cf89eff23c4115e35646aad2c965ad3b78f2c9ab0b9e7bb43bcc51508ce94c08c8fef3895e34b454dc83d608feee47b9a5b6e1fa231847df7350bd242dd438d02dd520350f6aa28e0ecfcd2cd92a0bfbcc951eb759a54f39a2ea0e2f8203838c83e4bb55fc77520fb0c5ccaf10a6e79141b6eaa85d6d72e2127a2b2be99134959f068047855203a6584fad71069435df0b4ac645cc6da97525b402b6b7ec1a2b79f6e04573cd3bec97a257abd2ebeb9823a9466acb259f161f2c975cc55bea8bcab1170cb1425de48b3810d58b340ee37f41d41437638515c94925afc49897e411bc80870d42da346c571ea1d15458e6fd48720025e333a09bf9a1b8ebfa415572aba947113a9ca9301ee8e0e2db500084d35fefaf8ad61dba5f4e3246a24f47ea9ea5da3f02f1e9848f94fc0f9167329a816a2ee9b40c4633a6f9214013045c827750054943a5181ac1a622f2148c1d88e4c47f41f885c117745920ee7e19ae502c7bf12d434b68dfc75b99e72ba6317488a5f5ac6f669a3544beffea5e7c5a02f308327b6333077a54aaa20f69ad755838b25debfe1fa09847c6f96b469890815b1b67e4e5b9d04d391860b5df186c09866272c8fdc537fa007c832fd8eb466fad05f0aa9e7057fa44efa4372daf226a7be7af31e3f494bfce9850ffc0cc0e6db06c4229ae638da90b2be33b9a328f07a7c820d408b6e2f130ae32b50d43f711d62d33e69771765aade59d0af3375d94090925414566546fe0bde19890d01909ef4afad8446917cad7fef35cada1eaf40764a0f419fa9234a51d917f9dc8125afb742e18e79c6077ee9c310b96b244cd2dbfb7e546409f8dda4c01d0edb829bab38b7a06c5c29287b24c95830a26b134fa60ec6a7ae43882e48e87b6aef3ca6006d79eccd5a80ec49b6b41527b59aa1d6bb45405da8e02bf52bd999c5abda81c164189d88c5e97318cb36697c45e726bac62fa4597dc18798d70f99efe336b0034979911a0bd4de06460a0f6b7ba25a086b33886a6ce7704abd67ec57f839815184e9b59416dcf6f42a1a84e61268cfae3e9fb418191c88b8c5ba784f224292fcfff254db3824311f9046f044308928760c3d1d980c599ac4ae2fcdf4a00d86d6b2e3d7b80956d0bc721fbb094f67dc358d4e856dbecc3883070e70fee4dcfe2f984f1fe6b22277d6e9aa6639a0d158ce71a707d568f5eec02ab32014b7742e7e029a0853493efc94c6c6630aefcf15ff252e96c65cd706bbb68b5d9552436a82fb6f9575c1348e4baee47dce94abd85540fe6214293e9b8572c7e09d5294e14e767159780075ca9f51bce836ab81a922fab368f52aed0d4cb0a3eab47d87d2f5d847eb5360ce99ee913f7f4423dac14a9e7e21a03882f143135142e29219db75955a428f4fe24032f0db2400f447d53672b06823fb38876d356d22c4191bcc58fd4c536d94f74f9dbdf50e7e6aa76c4aa1b858a092a28ab186780d4cda0ab4a6a4bb76a6d228e6476796aa43055869af10beba8481bbe95958891aba75da9da531cf049ea8d54b7ddfa4fd6c781007f2c42cfc055a04df43916a7a571199731e9c0a4f58b56594d84ada21ceee82886f4e7cdb8d18c7308d667b8172316baf4aaa549a262a62df61ce8f3f6e21afc5612c56694c5ac00d95be2d05c5fa8c2f6cc4687346732ce4a93bcbcd6a817ec8f3edd2811769b1683b850f0a11755370ba60d5f8b792a4b20addb17daffdcec5ae285a242c4e988ff6beb417d3c3d6cb6b5bc8b43fc27099bcee51bd72f1b98de47fab78aed8e2c398bece6132d12f978802048ad271a33a0be3cf5091f59a414081e4cf03efbed55ae43819dedb2dfc0ee37674bac66a05b20180d92487c60777d92ac54adffd80b09d4cff283ee1718980addbc6738982cab4ee5eb3c4c29149900ec48ba288419dfaeb499d15aefe5acfc96c5e3e5118a618cab93526981c9aea43fbe50d40f2d5dad3a0339bba4e10246f28137d9362d2ac5198cb567cb7c8f38f1565ec6e6cb14ebdd9ac08328993b5567f5c70426ea73c797d37927704252a7a60072a8e64a59c5c45140bec875da6c2e54b8c57f74e470dcdd6a3adb7587e4558695a3673e5f9bca1c2153bfe271d6dd64b29c6063190044d489a403b521320f0d9c191d57661819cee8a7404d2d796d8106c845eaf11cbddfc96fca71c77e4b745dafdc3fa0a42854b3293203f40e6c2b258c9c5857ed58e0ec7c77edf5341b65c8ad32c9f75c8f3b203b372afc892ca5c654d38f449a3bf5de9193c25d164b58c4c9f4058d3a15912660a9007a1ca1688e999add5682b93f3bae1d1c02734e07b215884abbeb8eec06b3f8c05d13169c6d9ca1fefd8a7ce90903dd9a97c3b46dec15e4f57500840b388b4346abba63806e2e0f18a0da47f1d88365687030bb10aa2d9466f2e700342f6d6961d20c2005a7d37e01ffa7861024c6f2a14198c760186ca52028130cba839bcc227d2840787e7697bae805311bb985996910c37abaaaec0a6812d5b021827c8c8104fa4f9c679d9e1d964dda846252cdfa1e22705820419e431c0ea70afdcf506f7c2b7ce9c99a3dbbfc57c66d02ac776d3cfad68b56a8617fc190af40963642f97afaf7a10b46841b9668a7b4663785ffca305d224d3358a1840397505e3d6fe84c332663356bb68b2c51ae9e5a6faf9fbcf6e8c497125c3ecb094f490f483157d89ab6b4e0a24ca463de53e729ea723234c1718bd81a460813ef7badb0b00be453458ef3f7894a03bd067ef61f98513904d56e0143e9077d36b360de88aac276a965b82d94c8865732e8542f2b5c62915d003ac24f1102d81367a8c99413b0d78293c3ac952c567d6826bbc25c4835a5aeb3f160c8894bf4fba087bb816c2e273e0de68c83a2a8a19631dcc829a462fb92b51abc60181fe925ae4d5c6a3d49f691de0cf8df094de8bec0fd696c4e74365e8839d83eba4b1364cf0c3e7afc64798a431f3642c9dff2b262b9e30dfa239df79933c913a6ffb9733aaea0bf33dc6ba05f02cda2d62993f24d3f4d88792c7d4e263336b86824964df7f64c03c9b713317f0c17c1b99d97fbba036cbbe29c671c3e69d4f895c809e140af6b3ca052501bf70b0cafcb6bc162a2c802a5da3a50667aa78b3dc5596bc9b0bbf7a5e3f77836cf7fc8fab97f707e4badb12c38a935b8d42e3efd2e0368343d863917ac49f2464c3c7c9c3658ffc3e4b64f44517e1be6024281245a8ff7d8dc2ac580a4fbdb0586a8b2bb0d7ccbbf8357652879ac2779f1d6e29f228433fe7082bd6530f51ad245467281f570338b0093fe505dee0abaf06cb831412898beb6b8f0a8e6a842b329f8913f8a1f92ed8fa2bc4fd05c1651ad15b660a01be5b919b0ebec50fdf441cdd899dd2716efb1d9ea37b717c283825e140de477c19ef6df8b0b8d834110eb74ebebc325ca6e1b86a15a7673fa7ab5127cbc2686b5bb15bf6bacffd9d7a3d06bd7283bc047911f0c910d6fe6226a634f410fbfc77e6f37117802b2f1f2737e2fec73536f726c679defd798cab4552aaf5e629a0945ae59972cc6c85a4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"084efd878934c76a68eb51b34d2b9e51"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
