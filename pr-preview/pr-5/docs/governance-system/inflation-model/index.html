<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c801e9945ce67bd566c350bd8b2e072611af9dd457c7fa7c0ac278f2307c89f2d1428954e02b0aaabb38034ce82fd761e6c35b4e08721e5eaec26a1e77368d94570cfee01fd4ec1f8bba5f0aad858e48be429a2d70fbee80b9c2cca40023fe715c14daf8aac70ad41dcf4c8f5726b8907e65dfeb62682b2f0a687fb57690b19b3aff60b3310ba6c9610bca98c4030f8096b7e7b1520efac2a6d254bc0cade9767316bd7538b2900ae891edef538ecb2ec3405b1657685ebae58397d69f14e54d63fd42a2f83aefeeb1f23c2c945442529458384d4f6f1c13428a2ebebeef099b23b5e6ecaffc4f01f09de53d5fe0c5b98c8b16a75dbf093699b4b0fcd9cea9deb3ef34ac6523e7eb8db2fae1c503243d293fae2589285ec199a8c9d4f8023e9343455f9b61b4249f653d9faebd7818b80b5f8e0c4b90a95c0344341e5aa46fa24b34e6ed0bf69a2ad539c2726950a0f2ff97ecb9f2a05faafadac9783f090e2e27a56aee5531359af3491dc032c962e8aec8fcf8f0e15e31f3dbe12591446afcdcbb8ca358ad3424ae7b02a4b0286e94808ba65c0e23a694a005a7bf306cc95a4c79b79e86d00fdfa8bfa69bb5772f09ece65f4996e0936b0d9f239432623c9278dc2eb4e5709d1519e058ad7200e25027f96df3bb9f684504ef573e6fc9142446e50de6b50b67be3bab374cdef02d11cdb36bd640699cdc566f3d461860115338a81866b7efc0def27275048852ce7fe1f2151e1be2e4f7b680547b756201fd0255c2dea28a1ac77ad909646b68b7bd73870840990468d44cd440436e37f6d4836043a0cceda358a8525eca5033014d095bde64786dda0c7766bacda50ebe17c98702a281f6e579d8409fac2208ee97017c18cfadd1cc8c5ebe61940ecf67092aea5ba37b98e32157d2f1ee2567be9e0b08bb6418f5509baf81f06c508f26b7333528b6b5de10fa86ed28cf0c6becf43b379357e2bb3a4959fe61c1904bc9bcaaa88ac300425c4d41bcce3a52c01efb86c3c7e526d1ca670c76d2c7ea90dabcef5c2f829c0ad737cdc00cfd80c4e352c6f3512052b0af47792b534ac67b2be94f1ed806faeb4f77e2d601c6735cd812b9ddef9076458f85e1bde73ac40cba9ccf9c9c01fc89e5bad4f8795243a2b8990a9afe9dd982fc0b7e963bb2c54120595b095419a3d1426f8854d2a3d9db66a96975000d6e99f5d3d2e1f6c3a03e6512d404de36cb8b42512c594d75fc4a39ffdfa829ebed09f33a2517f50cb3ad69601e9ac3167807c7c7a9b56096791a6a2e9ec99b9d731653f7044c06fa866e92ed748bfbc6c49d5a71c204e441985aba680cdfc558ae546be3f010a97f9967567c401cca7d483668dbc5a6573fd63edba1fe8d8e7f753e10e8298d25607842581584a6cfb8f195c2c831f8def29db34df6a8e626483a50b5a2157628bf152be75d84e950c310057fcddb3daaa687be221f1cbd9c232dc74e9c7d2157224c164ddc3bc88a6a4301b9958617f3843a2d4c857331b20c402e300cffba775014b0820cbde6900cbaec9659ad883b1e8d777a1c5f8c1c24c71ee227d6c56c41fd3153eca17eca1a8f092b2a7c5bdab865c96d181d937b4e190f19d8ec13354f33999870e3af12b294edd750c08f6ce292142c31995a08024d494d472122d64b2eea28eeaf05a7fe113d0abbff9339eb8d71453fe46ccfd132de40953298c2be84cae625604017b475198cda2e8136403700ab6248d385ce86f18d97fe462797deae70e93c62eec284ccd4180371eebdc88f23cd22c6642299b317d575a18724f9b86d41358c8c5f8ffabdc7b0025029fe757c5ed5a82e7eb98259d977185a4bdec3808a520aaea77f9c9f903dc29f07718e0e826b229ad5ff9a4931b4419e347bb8c499aeb2275954fc573a0911beae4f43ac34d92fa4529422f81489f52dae8718f3bcb6359fc9b0be9b51d67c861ddb4044aa6bc8cf40d7aa6bf21a6549d4de94655a69c7d6959bd0312d67046c96c4a4385a331a457f5c8f16dacae34fcfeb3bb45b77d4363eddb6af262c1c81380280251243a025089c792cd80a3d4f6875aeab21e9cf17a44d2834e56837ca89801e80f3f71a34689e1463d8a6102b78d84622d66809b0024c5aefc8abf0f3e759dc86576f11eaeebbae64f08b1a745758440071f38759397d8e48b070511b2fef9982f9899c9bdcc38b5fbac7b99376a298092023fe1ffbb3bc0ab52a09f9e26b42178776ead35516e74a6d9b5e0180a844242993f7c3969a565ec7e4ae9449e44aae0c3ceb8871b256930e682c1bda3a93606c3dbcdbb1b69fa41c439fc0a3e1859745d97fdc500e399d62c6e17b0d8411f623f92273876b8e1caf594912efd7241a8db1f977dd2e09e61460a4689ac8a63ce016635fbe7fde35f5734fd122d822ca84aa430ae3c20dd4f712bd2c221dd1dd70532583dbecfb095a630b66821f16ffae94a5b8a10fc1c597fe684ab1c68c9dfdb29688de8891446db4ca6400481ead06a5fb1fb0977174227d26b93f320b68482abe11ceae317711b535a47c0e285f068ed4dcdee75d98dab1311663014c281ab16ec9b5e715bd74264c281f229e1cfd01cedb23a8f965a272e78d6330025e19d56f6bd5ecfecd075ed1a47d8211cfe57e96ce6794c1ac22d770a392dc71d0251d71a4d58ea7f2e409632fe7eec514dd8606cfb74bbb838333feeb9e513d18818d4d25f93e2ba791c28c874f654390a7c1a9d2c7357663e54d9d665b7f0447e1bda5f4ed3988533d9bf0be83fbffa7634090aa320c6bf97e7ca3d037afed749aebe1f2bdfee642187102ac712def79d82fe3d979d5226fe1cc4d4015d9bf038d479b228a0eeeeef1c45c51e074ce5d596fa7ad009f83097ec8c3389d6e578405c4deacdcf63271577eb0f022a0fd452a8eba334328828a99930d200eae5363211ee7309bab5b7d18c45c50d7b1fcd0d41f809797e952b784d8f3b3a2c37ce943471a09b3ab6bcf136f3aad814866c50ee0ad57d14f83d408d340c3b223488ea149327ab4bd5c0200083e9510a4a34e6e195de47a18871983600ca5f44f7c73706ce2dbb64792e563af1d0ed73dcef186122d761e75fbca0e79ecac845b6384438431c2f54973d2faea7d419d5acbdabe06ed6be06cc3d784af2273c8e49b63909f0c347eb6002b4fbdb6fa5ec4ab0c9227db176da42774700aa7283a9f04d763359e492bfbb445ee14656951373d69aa95c5f411085a313929c21737bb86231797d99a8fc6c1f64c961b8080bd6d78df0705374ff735f967fb4be94828b44f497be1014840dc6e1e1c2447ca7b289485c1b86461c8b152864962cd448a7c67b3b5b0dc63d84d7d7adb713c24037e407b4d04083fb810786d5c6f13f0930a6ea1a1f0c72afd3ef6d20d6534d3403c6bf25d10a659e05d2fd261526508858f68a7b5d2bc1bfee55b31dda1229a423fbfd77a9d851df254bca4aa70ac2efedc15fd917fb10883174dad80afc543954bb8b4046fe92dd5934d7a583faa35abc7ff1257d16280ebb3f33805e0211983db370435128df16bf3f303caae2f29b6b18eaeefa4071591b657bbcb5d91cb5950bea8f42acc8022fbe2ac337abc396ac2dafd97f1bf3340747664a6bb716ed8801de8d1e41ff2e72bae131b262a1d1f2e1e302fda86221a41deae336ac16bdb2588f3ab61d8e0822d20ec429d013a76d47019dc9f2537c6880e2859b28d5b775c0a686a7ba1cd9f430d3aa42cee047d4e713960cbdb5f15bec771b234bead47fecdcdfabb5a3b53ccfa00c58928581cabf93cb9a98b936eb62b804b1764aa2dcfce6b738ed976c2baa9fe7198790a16a3a082a778f7179164b52d8428460dcf9c34289b3cfe26f2f16341ca5a70c6c0e47d5b3107c463835dedc0b33ac9907836951a8a2e39ec762a4c05b62bbe6c0e0f3bd77fa30f1a1a06d3696caa885d85ee015ee52edade477d1ead6a008d1fc7a88096928c996209c555d1046a4b7fc8695d37fb999f0c90390b5c36a76945a84e9b15020d05df73ead95330fa2444458cf0de885252abfd86e5d163f2c8d766991afcaa6ad854294c64d25f356ecc9745132baac1a4c83ad919e543948dafd5f6fa375f4cbd590bceffc3ea81fbe785fa0d4cdced05bfdd73ec115689263fc00ab9ea98ab9d8bb00f07ec14bbba018dcd40d938f7c0189ae558ec2250c4716ff079759c5ab083f64502b218c7c6d369f9701fe83cae91f74a752b24004e1d01cf6352124a8ddd92cb52d7946615e5bfcd675ead0a2fa4570a2329e974a44a203d650bc13d66e16f66e3e506c0029d33fb668cfe359570cfff4b56f6ae967987523bf69f2644324e5d1cd794c0ff1e5e635480e419d6ecdd82ef0a62880c54a1f6ec566d5dbc9347f38404bc2d475d1e7b0a0b82ff29a4bd535db90dff4b07047090cb03867a1a872fc2631edc0a9e32999270df705d2521018733c2a3477cfa6852bf30d85a2d80ba2d2ddff8a803e605768a59a6e7ab3811a3e2f5f08c78f9c43f3ac71cd6b2fa580e7f8feaf80c12938f2b15860f51abd534469c3dd367a6762b5417929d988c0ef8a76abe33bfd9f37e7518845d0654b5f1e3cc06e8927f93dc403e42817873bced62b1409a60b8cb16e4c12d0afb7aa86f57f85603462796616c80c673a0866775206f56411397737c63b8296d63f6a016b407cb60825895d0f3bf6e4076abf4e90943cade6a2af5a978417187ebb3ef4663aa8e4186f5f3469f1c21e8becb672a2f3e260eef8ca35c8e6fbf6d6e449d47d99ae3f85a531734382d03f7b3c396e28c7d89baeb44ff6fe180b5616d925decc9a0fe585ef2e259f25cc457415530384079c6ab137503c0dacd6ef3ce9f67849e11500905cb7671f5727283c5d75b326cec62592b6ba9131be53b4963b8225de5823d561ec9ea81ddc380665641aaeb1cb438a27cc297425cf0cddf3ff763a64b9d301c65a18df78d55ab139770be91ba7909911b15c119820dae31653ee851ae3a6c00a366d56b9d93b9ed63c1f34ddb050e65b0984e825ce4fdf52a1da263288e21520db2cfd2bb0c6a4b1755017432cd55da408a321dbe1c7b535826e9311cd73f45a910f638dd5d966d67ae33bc25dbb6bf023b5007811374a779976250258a9fe397f9e92cf1ab853e1bb100dac0fd1603f80a9dc718f5eabb4696a938ff3870516712399dfad6346955e38260000b5d698854c4c984ce33f1dcadb02463d455e106b37b9a497ed7569e5407a27d7634257d9416bcb1c6ed6c88f1b7826cd14f09722838f800430c7b9af5ef7e59e532fa84b98ca52731a579012e4e396a26719acbe5f1026260bf74042f12bfa85584cd890f9c080331f81841c8173e18925198da6b59bfb85dbe3be939af525fee7e432e971c4174a47fe7a6a4bc073fabf0899265395bbc1ff2f3f9c4766c106ab7ad6de6e28e7521daa97e733c46030fdbe130cecd7bffae51caefb47592edcc5281fe6c29c03e38fe6c516f6867382f3f6270d3165084d8f8fb6431bce5eae44009ef896719aa43961d1af78437a6f0237470fa0a8339fe39913ab592015e5bd83518bef80d887d384bf4da61e423b92e37cfd2a08c065f09145666835e58ea620b61a4459569191d90496d09a49f44272572f07ce1e06afbea39de379de2c9212e578b051355e71a43bb6cd23e72452d578236239d978c73d9bd30780e80cd789fce24efe9a6c5ea1af7e02bf22de46b9cdf29ecabaac9fbeea688255770903a0757178d4c7f2a4243d0ae856b4137b1f232b113b57aee4d28dbd2aad918302de2faa437b1472f0b9a73827bc480e55d16d0a4a5cfedaef370e7eabea8e712d655484be180a489d8efe4c8ff02109d3ab3c5993724f388899ed7c2ae5ef6dc32c82488f1fe77e0d95d96fdc6886a4bf73335f9ab694ab14edbb8d71ee276ddfd19f644b1ee14a123a27bb59f696beed4d9b09f5b11a3c53ad89ebcf4a2e64d1188f98e87886224c220bec277d66f1f7f7bcefc64106b9990fd91bed772e6a8b7c2fa2019730b0316974977970ba577375cd311b99602df52d4e1903c041af20d0995e2ca2cb19dc2b41f28b94b4a3b23b54152327a40b7db74562a830660e2f1574f0e133bb1a39cc886686bfe23844379eebe980d0878cbbb12e02b6132c1e73569d4c9b578fb2789176ea7ef63ed84edf68af3fe790965e76ab1fcc1afcf9ab158f2d3a39e4fd88851dd7fbc3aa56bf884318314ee8cb77054fae6a17bb1aa2f2c1c8f7538a09efe6ea042cc579b2acb41f539822085906c848dd711ba07703168c2797b14663269349973eec96dbea4cec4a6c08093c685bd2bd4e814ba1f12139bd65b5362a890425a2f3e855f1a258325bdd7f2948f9971006e88f0a1b38b8922a5dace7ffcec641f50b3e0a0926ed6036e53a3bca56e0802dcd612c0bbb57f24452ea8e2e3b08294779833fa94b6808c5963982ce0d29c29877bee158d1d942cd39a0ca01647b7913c10dfef27fce82dd03d45481484ce5e37a26b46a142cf775b777a7589ca4908cba9d0508b84d4e759f9950995cb057bba546c16151d874c98610a47857dad4052d6204c041be592a3df2bcb0d5f4d69d41bd7e53dac2300b8304fd428585aa75d7bbde6aa010bd99c28165dc5c02266a6f7d61340ca2006e472ba81b6c91815d7f9fc9ff5f812706af893a99ade2203f322d7d6e1341bba88c4b505c87ab09c3e8ead4348c7b18a3b64387c99ba39ddbfaef394493c24ac0556877fb06a71ca928c538db897e85c1333eaf1f963ef3d9311937e8c3da8f092a2e8b54e10c022e9ad765717b23a4dd04d64c640c260c4d69d304d9fa1f9f5f477bc5da3cfa2574d40d9c76726d5d57b3e39733a4f8a93095dd36b68a23524216e2d176219157356fc2f6f29445033f0eb23edaec4dd037dfc587b75271843a3a0fa9afe412e14dcbcd07a605a5c0bcf96fbad89e87efe2b05a7a9003a4c6f2761c05925562f507a97b57850251aff3735ad84040c867ec3cc97445c844678857cf03bee6cd53c9a7b88022204f5bea28b0ad292aa8e25d894aeae4f628b87aaab84d49005898fbf2d2017f8c3558d787f6596f42d8786bdced30ab095b507e258521d0e9039bf6ac92e0be75b36356e7ce470acd2af1727e23fc6f15db596bde0080fd493b20be7b546d137e6dec46d1aa34062a272f5678f0a18ccf8de7ec28e1bba579f536bc32cb37dbc1a4065608dfb22b17ce51cd27362aee38ac49d11ad7683577259d7e6bd1fc3c19f8503ec827f8640ede269fb63bd57a63e475c1ddefa8cedddef11dcc1b9d46fd85fca45cedeb407d70b16e7bf5e3d46375d86f0c80248affb3f0b4c9bf396297488eafa66c0c9072f1d05c83f188840bcd9294557be260e7b9b2f7b3c5cc08d705c3c2e96ff3a8decaa6aec96b7a3390e74c2ffcfae21756302ce00f90143798bec4bc5b7207abfab36b482941fcab6a6c953a9256ae0ca4fc5f01e02def931b5710b95850d0e56c8dee33bafaa1420ed4bca833f5cd270513e388e1320363a1104f3f2f14b5e22aefc6d867b5dee366b1a4da1bc88aae8ede64b3491ce0c1edd3f8d7593a1290c9a524df5afffe38befb3729eaf3e70a1b9dc006e3ce2bcc0c14555d0572e94ed65b6c9c46d6adf168d3af5b4156832b2703dac2dcea3168ffb223453ab485904cd69b8267b8fc24ca61e9b5d3fe9e1edfe74c8f8f452fc032be3a0e0e272b305a410c73874bf9e50a638763caadc01bce5a8513c905bd74175c52f3a87fa5ef9f3f4dddec3257af6d7139a3affbb2ce922fa16154271477321d34345a59d55eb27aaf725b8a14138965de4603dd103a30ab8c08161d590e4c004821bf45880c3b891f752bd4e365a2cdeb01a7afffd994b68b57595e804d20e264195b6469c80ace6861048dd2d397d4f9d021828eca3f6fd7dead4711f206e5fc907c5688e93e5a63eaa32d0b3768dbe6014500cf19078667a83dc64d081ee31db3e0e2db5b22a3903be886b540875fe00c1e9280bbe2d962118308120ae9ee082428f4676b62d1ff5716bcf340b3249b67a95ca31b584fea5e4ea1ee2b7c71de327f99c03164668f389b2b75a1b74aaa0b5eb2aab38b3d9bf6953e74b04ddeb56d848e80359d0bc52ecbef1d669bcc7ce0e8439c79db730876fd082b797625b707bdb359ea49d20ae894ca80e15bfd2eef1fefa51fe07ea7221435c0b54e3fc2c666fbdca99a30dbbff5e9e9a7f1ed5fca5df861338f7a63243115934a5d901dfa3a12fdbac8dd70159648b3bb94ac8672ef89d550b9e75c076d4c0fb474e94e4cb2b52300d432669c1efd7c36121d0e0f39f6acac4fefabbfeaa686cde649e7631609ba801dcc21a9cc9ecc32c39576a1f66f359c2d52f0621bc6f5ed016c181ee434a940209c96e24095a754182766513c93d3a13f178ecd215bd7eb20faa6ea88e6f74a00da450a10ad60754230edc7ad9529b0e063adce97572e61049ca6f780e397144a9d48f7dd6a9e362e15cb964078594b82f6756fb657be8dd0116421ca7c605b09cca9b92e976c182ca6756298c2c38379551a961fc1d2cf4ac48acefbcd91a2fe65236dd2bc11cdc0bfecf6cfe6c9f545df171a39003e5a5d30e3eb5fbaa33944acda767bea728fb4fd54870f1687216a6231d93ae8f6886d6df6dfbdaa92fd6b5227b3b738265ef3f5b04058662748398884a1aeef108812bad48220c0017367a0f1d7273f968cd2c38dc1c696a5c20b1a120f2cd32da36482b56527b97e3af21b8d54ac4cb6218c078542b3b8b2edd22cb0f86bf19b87f8873bd1f429879defd7683be9b5d68be34ecb5cd86291515befe63b93ff1eee63e01575b43c92fde2df9ba11c86402595b9ea2e99d765946b7acd1c3d425b52cd064bd1c9bb0e508b1508adea89c44ad36d83f502eba098965a459edd518cb334027f868c9d5c997bcb9aed86d70743d634b1aada5378dd08223fe8992c9a1fb20e3502b660f22a497af14d68a798fdb8d372abcdc96c97d49ff905c968829b28f5e45986282494a721dd3e39909b18ea9af4bd068fb5c2b53b7f25d1e4015fe3050889420513ef4d1151ce807e8588f9bfa72b21964a4576532041bf9b0712e7e23c9615eef33c3dc0e421aac5333defdba2d433c6307894741828a991296720e7a7b42158cb731097c954064feee97f09763535229c179575210321e9e6ea338ef92aa9c058d10d3bd376b5193ded594137877d42bef231f1ae9a904ddc90840bbaabcb3059f2c1fc331a1fcf319e291fc8d3a4f129c20a21bd788ba32970e4eae2e2d6bd61dd5f846147389a551d1913308c09fe772d9c8aa939411a30cb35ba8c9cf629935d29c2a23476126dbb99bb78343e0da5e1793b57dbd82e7596006de3abaa34d4efe6d035758266c23ef8cfffe0169d27b7748ebc749ef97fa80873c36493c0a5133a3e6875564b58950379bb69579d6672bf7438959f842877e49140ce80d577bdd4c0f2f2ce8394ad6e4c661f4a4c1248d9f59da00b037d8aa152e23f55f64d06915adc6dc901b33ac4e961605c41f7ee4819f9b7d40b627f3076e6fcaed7d2a7d53ff427b33e7f3b053b331b5abf40681d029ea8199618281613a73f350cbc6e5dd9ecda1fc43449d8abcd66205d8f7fb665e63704b0eeb8abf5c287b2a7b0ca97cc325fa75ec6f49b9d4927926955f19ed8d2715cce732aa766edf64a374ee8be66d1ec40be12f040c22b6f1e3ae0280939cbe2ce04e0dc15bad9644e1adda5262c31ea3233d9ca7bdd22dc501211d88a868db968ea6a1c7557bad0166fc765dd4f899c45e5c403e77a11ed18da6054ec6829b39b34d6c6eb692426bead102c7543c375044101431d391c243b9fae2062a1144d963d26cedc7845015df9238ee923f607527afc153bd1381aab20f0901c58b066422e54db7b97575911086575bb5d92e486ad22f2130fc3506050b41774f7a437dea25739baf32ca624c44394abd1002cf2da3f9244a609c4d1f1134f1daf9e9aaf23182847dea4e6c6d3b647df0d126f8dd1cbf23665212aad303f451f4bd581a63a0ab435c7fc39df85efa533209c844235ffdca7876df54189a02c1f06b8038d137060acf7cf974f16878da11684de3aac8c2edcf292217f6b63f125004c55515af1673b78a3df29cccf2f09ea4ee004ba7125c26b7773c4c2310ffeb0ae98a5aed3f6dbe9f950262cf41c8d10d9fd04441b8d09a13d099f7c7bebea7f0d486500241b4bf22d34824474caa2ba7fb2fb0cc0e96e44b3efa4641fe6873ccf210727510d2a45205127c68f2db2b4dc69cc58983d3f5e47fb4c8429408e564e56acbcbc2334a32fde38b7fa7a059c1518d4bc82f78e9f52c7857ac285422f2790eb4bfe97965e96ab3ac80c46cefbb47a8aa99e42fa0dc92d99fd3f2c8d159dd678b22e20fea569e4ad7f60e2f011061e85ed9621ea6eaa23c320a839b688f40773609ba8d55da0606367cafc113f9955dda64746e22970f1f078101251af78a4ed47430e697ea36a3438a1124ef8fa08ceccda8610520b394533a89b99921efadc267b43597b2c01906752c85c4c94377b51c87c2484e1b2c943cbcafa3a9b14319c867d73968b34cbecc36cee1e2312b53dcd796b4e71db8a6458cdc7c7ae44aad6e1378a5a2cb79512428b2f26bee3a0cd4e616cac2825ab043ba7b23243f077fd2b434d92ff3e5aa9fb1b25a77a12788f0ee4b24b0e47e5d0cb763370682dc0f6821ddfd6765d410472d133e9c2448f3621e6e249a3a28181f7aa519810fb14a9c79ffeb53400a49d51afe18b21d3f23a2717899343693b30e8f1786f5abb29c6dca01266198a2f1a9fd947e81a936779884582b05f398bbc01713b11340e1054b15d4e510fece81c7d1d44ba3974203dc9299455550fe6009495369fd3722122429832d20e2c8576c69de2968407183f88851e1f5e6df69c876d329fa90cfbab1018ee67b1affbe6209b27a51f646d27b7b637973d6b944e189f248dca298e73475a6be45a6d6536459034ac951337fde8ef47baa6ec6177359abd445bb0a5165dfd59fb222a59473d9f0e924b6b0abc0a264c6fb20450f5081e33bf11ed749c731e036571b19ae7a793aa0bba15c8ac0a194d660b741eca4b602e91ac6da8c380c74ecc4fb66e1e259e59aa4a08086be54c6d255f22ed4db60f3f7b2e8e0df79fb52d609d1f813a6173b389b86d5fc6760c48b894df47a23c03203e9523e58de6cbf66a0cee77a91f0ca8e78a47428f3683f56c9db95f4d27b292ddc265e83a2f7287c14e7ceccb2405a965d160428af39f26b0438429fc98ff3692bcc7353f402db2c7cd9b6f899bbedab4bd275ac0e579461f3ac1f1a48d19771296f6e2a237f5c671501be4bc1cd01e637ab580dde50a318e6a739da500bcc7d56639c915626dd336e2261ac0d8a4e18238db89b25cf84f49973a1c2d6ab8e8c8003ba954eaa558260b9a587f8d1089f653919df8cab1eb03c38ab55eb9775e8277bddd63186c2a019e6407dce754ceeebd04d80e3ba144ac085d371dd15b9457395ae53a7c45679dd1f9c3a246c455b96342e5d4d023d65af094b64f28e3a7e57428df5ac61e585a7575b9792cc0ee6aa2b3d13fbac08af8fd190b70726e6478de9366b1cb93948768704cfaa80b7c04a4efeb55a9eef2aa315bcd3229a991ceaf7c58ec578ca687ca2d9b92e5c705ab765c8cb591cd91ce847098a82cbf85946574b81e0f47eecd5d73f95c971c5af4b5a734bb0b390016d41c324946ca7eff4586dcf1b2b4839f643674546d949f928f93894674fb074cf4b367637e080676f9e2b172393130de43ee69a866ab8298cf9063dbd2c94899f9c581ac13761496ab8eb0d396e096a66f8e725b51aba93c9b0c94ed59b8152683e96290132d7438eeb372a172e33ba09242aca55f9b77ad7be68884ba3c8e8edb085d880e5e6e4b78cf3fc27f5496d97cb2872e96b9dd652bca9669d456f9b3bcf057593442786c68525e474dfbe67f43160692869d4f5136fa9e675d327f763bceac950f142a58c20d5d837ead9f89923d81dde4c6b2892eb83fb87aa582a94da166f1e9e2a564d6cc6f428cc8fc084a0b88319f1337a30d2f1a92f3adf2d6494a8098cc31c9b5af14e4e07d7c56adc5607777e15bccedb4295ed8c3af904c72260968eab5256304e65fb5407dbe9c79cfc88029f589012cd85d221cda1878ccaf14c66f0db0e1cbe630dfa042a52e7aa577ced0d3d064533486a77f8b713281f6be2fc43d721de8a9d9b4c8e5f31fc9665a3980ee4e0fc1f3e2f7fbf2f8a227ef76c6b952010148fb31158c8ee0c4377b88b20cde75d331f5acb8ecf9f5736a14b45f8fdbcd5459a824453e95c9c5fa38fcc830c636154a9d17cde9ffd8939ba06eacb471dd07daefca0a60006de9f325717de72c62e25447b0956f0cf0614cfe2db128ab81345646eaa37c79a22c85be09a7963d07773d812d74c3d8fdd93683f027d8d862a2f6014f259d4064ab422f57c0ebcb9bbfb5a3cb5b2e3a898d758553c39bf4e3a8dc15fc0726f56373f48cbb544791f7ae68d01a98eabdcd4b0f601e3ed401dac69e858556a85c28a1f9c34ce962761cc9e953b14e94ca06621f2da3127d4e47104dac0cd83eb63569da923104cc753f9c8df094ac75b18bb5af025567c224a40c7fc5b85c37ee079de4112f3b1cd60ac743a94bf891cc58e01cb9d859ea93b8cd160ddd544ae5a03d455df69dd91f2f1793295f0d502dd2e70ef4e4832d02930ba99a31a45711f9801ba34377578496508c7ca0dcc86b5f68acbf838786db54340f799685d8e4c438509515eb0e93daeceefe4a8d0de36aa7d22efae9c73a3deed4c11440bcca90880e89b3d159e2f5b72f4b1f5d32dcb5877f67771084b601224598f77d8cb6ce24b90de49514eedab03d2b8499e8d418e77759afd0f006a8d2a902d5a2451001a7be8c1b0c9467ce7bccda782307163ac1ac9038a5d936d8c82ecf36546a79aab1a18a53b5c0bae062f4ffdd13f21e5e4d7e3ff4e8d2a811c6e3106326b1a9cbcbca737d5fad1539f385df23feeaa1fdc7a1a495dc0aeb9953ecd0256af94e871ca3db8d2330080e006d9d304a5b66f6b7bf0478a0c2f5fa748db6fc9a832a897ff902846ec7dc2e6fbc281b2d7e7b9649e7ea0d522d3723575a5d48ab07ee4fd805bfeeab61e4a22f0c50b320974b8c53616beb46093beb50aa5e2f5c9e65b7c7428c6a246783c169a5430df6f654cb817f251d86c80f7f2d1b4a14e0fe6ac5fbc31a58537fd53e2239c9672beac0d3b35c7ed00eec1b2299af18839c662f8df030be2590c5a58bf5d4037348a300323d06cbaa7d9043dafab51379231de7f6fdcadf4b26f2dbb9ba37b3daa4a13b526a5c8c80c5f054c88204e6874d01f96fdbcd886a46fe44fbbe709409975efe7ccf8670c70b10f599035e9870534cfc62c35353d7a3817684b66c1130ff9fd779b74a4ad122647936dd1f1bcb3b808e2c4f8ba2f767d233cc96a53611f85336fe0df25cfd7f8276c8e946680a9f25d1eec45a523c8819e534c2cb5f7974cf6c21aa93aec9c9db419510a2dda44d46e113f014fa8d0c0522d722bb81094a9137c65e32c4f1cb84f009cf12d027c35876a05901cc03129c18605def5957e217deabbda0c2313e9b00d49b263a5c6c2bc798d0b54758ebcf3ef44a43ea6e4dc6fa2bfe8b4ed3da1592d8e95f11a1d49005100a33938384eaee2e6652ae3b475d313b6ad8fa3249f1003f9076f4735f59e6300e445d12d965c067a7a96a74de34c7239b7b0ef371a8e4d0ab5632dd4bf2d295e09c3acb32c1c0cea4a73371db7843a7674c5f9c2b1aea56ad82b92fa2c1fc729b4daf1de22b5a79b6f0921ef74b933e8e780ca55694c15c9a8c03830696665167dcdb2e2807f25e3dad7dddf928b592e0d6261fdb839c603e6cde86705f2e6135d7dc13211242ebcdc0ad9673af0466854ab5fdd4e2e398f8db4fcc4aa7a74d73eca6692d0db517fe59fef32af650032453d5c88782ff954aee815c08c606246442904b68a81153dbf4c493ba24b09555ac8f449234305a8710a617341d9e93c7e9b69180d659b9b1709c94549630bd0514c4b14cf1daba90e77b2ab6d3cf659bf8026734d4cd2f6b81491d93e1af35fe61569eaba5eec35ba4a6e4a26fbc8cc443ed52354bc1171729ee0050748e45309f64adbb76ed90fad9985c7b8d80b6633a089e372e99d81686f6728771274e3bcd858e78e9f418ed0f4cdc6da50ccd24edb39cdbb60a2888feb3846854c0c44e9c16e5381a9dadb942a604189629a7b43285fdd86701106fb6ea2650b89f76e6ef97be1198e2b3e2a165a47def66bf097b201888138826f7eaab410e43e277fc7a6a580ca1fbd27a4b2bbce04d7b80686a290b51a48ea0cbd87c3a7bc943ffec4391a07d9e8b70d214514361fc27a293b32205f162a7a379778a695a983544ba87d4dce07949e3a10bc210bed9230e04ec6e57ed289627074a5baf784003d38f3014d8ab6ee6c41d3f3bcba5117d6d50d1b9bd733504b49723f8b7457c7cc9418daeeb220bf4392294a2bddde9d48ac32bcceea2264edc53a84ad4a07ff00f1604b1e16010b418eab8dbeb9e87b82b30c3c32974fb8d578515dba9c9c992e2a596b37514d983bb480e291907daae2f765519074e910e233bb161b5acb9e09be39dcfcc2370f039aa677adfbbbee3b55675270c5aefc1fcdb26a5815071200ef12598ce9582206296fb835eb9931504b50584fdfdb814ffd3432214dee80a6fee6a84088902503533bf5c8a4474a373abc556b6bf1a786e5605122c7c3a13fdc55f1d0eb6c4ab96da24037106a64e39e27d8dc11bd6974194aaca0ab098cc82d5d07d414474988294c0e50b7561913902adc10a9a65c4ae9887976bdd929e87ab79636cc43f9b291d4e1e15bb67994a81860b73bbb7439cdfadc52df508419cb3a9aedf601a9b5096e52eff493411151ece492a3fc4a7191607182bcb93897417d1524e2a767749a93ac1797361b7d40079ee4374cc01847ea15a4cef61a4191cbee6044027373c1aa7a0c584924665f16aa06f5b92eb0fe13b60f5543cc1461ff96a7879baca397c0f310e21b868fde896a8f8036c2ce58597b66262b674f54e14f9ef7f029dd85ac749a8840c9903645b2bb6756f79ae64d07f37accd39facca1b0273c498bc64767589efbda33a3d15ef2e67de3738c31c7528669fb0a486f9248da0838d2c475d680ff619d3dcc478b2e4612b12474a39e6351a8d34ed5fb66679ad1c53e86cc95a09a72e3ff9d4b33f4cc9aa9e32b3d72ea01576f1bd5ce3186c43da14f9e73e47dea48e9abea17835a5fdfa35e3c5da10a1db528cd39c7030689629c751cb1ee3ccd22b1c61e6af1aa780c56240c681082946bd0ebe0918c6b58c61faa2228a2663380237f2fbfbeaa5b0c8b7a3cd04c32f80626c64b95a9fc81d92bef5182aca738eab00fa020678de37f370f502eef61f31bda39d4f2c0a5718bd251fef7355e39e9fe2474f6daa6769706a95e1503ebd444ac5270c5801ead605a8a0b8fa04c2038e611d86267e9e625962707d67bf8689c6584070e1928a1da9f515b336d85f1e9868e3ad79c8fb2cd45142ff5e2e8890d7eee0f2ce7e0fc9610f6886519c46607222b7fd185d891ad66b2656e302da74785fc442c08614ec2cbc10579dc791515826c92c6777a8ca1b8b4b8f728c4fc2cea1d2c9b1c4780e61b0ea719e742b13d58369e59c2abfc8a8e218d0d7b52631f2a0ceaa2922892dec594e9c62e03fdc0c561da5d5a34da700a513322d1ba523493fbe1f7dd4abbd8462634ff65641467304d91c4027f3b3d94a4bf7aa526ae95c0c90b8eae5588a762949c490ad1d094fe7a12b7f60c9f7de06164b0436c8bc1625261abbdf96c04b68e110ca626ba7f036ca182242d9a4ff43925d70168894c7c80c7e4b0b4f07596027cc7622c0cd9ffc6eae8369ee12c7454bd4f5020e860eefe0652542c501eea4eb8631b8c7684ef985cbb7503dbd2a82a46b167a37c62092c8cc4a4e4831d0a64001909e904e5382d86b08a9bb128fa9101eb2aa2ac44a2065b21274209a876ac014ce823eadb5e2892115930b183470eb1da58c6a655054e179efe8460ca13366dd17918b76e7431beefc69d82f4d14750b7cba3b3c09d88d154a5fbc52d955701a0a0cbbd0506198f9d7335720e21988a04ae37bbc5ce8107d41c835d3722a878a7e0f3eece05c96d306e32738c612336acc7e5fc0bdaa7b558da158acea5c911a1679a8b709efcfd675aad1302d2e9517e1deeae4ae40476ac77a1845e6a4bd09c09df2fa795312f68208bcc577d878eed6aada65067460d557b3c8de432d4456ee0ac1a8321f1cf0ec3dc4c9ea35756a92174bd8cce8f39bd7d0cc2f4da61c2cf04befe3d406fb31ded8907c07216ce9600a3e1982d8676315ba8ff09a9cdfd7fab30877a9d0f2f089761dc52c83adcf09d1f85fcf3d83e4ccbe3358179c9bdd040c5a62d8591387554b409dbf9e9df6be63a08fa253ab9a6cc9a729fde3138af19e712e9e6577a0af015abb8af0cb4580f871f93ee4ad21039b94411fd6aac7327671389356a24559d6a93d348cdc2323f5193bd492a364c9af031918c4c6114ca2e43f156c8637f8213a9304493cb5c6947fe1e3b2030af600d34f075b8dded43ddfe5f4fd4988f35b6a708fe088e8e814c66094d261b3d3a7d1af0db0b06c5ab9170bfdefc82fc8d541959cb70b3d03d24326d0cb914b469daac8a4004ca4302bfaef0b0c9bd811538c9f14f0a76e58617b9259422c4bea8e502e7d010c59a0a8f75f0d020d1e322b42f3c3389996e0a9e1c40d7f851d232bd043084b9542b204a96e99f22199ae101224889ee8f14ad0c9b0b476a698eaf0b238c901f94b6bd1f80db610f7369920d6a80961cc5748b52b5f4ba772bd453cf1ea1c4463d5670ec7f97e186200f627593687ad929089e620e1d2855009ec358a039626897abbd861138fc116274948717a28157506e4d61750ea17f0cbfad3fe55a766de7ddff5dadbffed229762d4fd9da062a37f5432342316fc6a1042bd662204af90845f5b64a28062d394786448a027c5d0cc7fd2507650e8e89d95c5d63b96012db208934178daa9ad9bc92ae014020315cdf0b951a32a82607ac6094535a207c4ff9eb6714edc9d68237163c83f9b90d35b0920a884df92c9edf2f8eab6743c43e1e1a6a5d103a2b13fc9d8d9b44cb881598e7eaed95de244c772caa4ec2de6ffef2c5388cbe79c9efc8cc11effaa318d49073e01e73d3b279543769da7c895bd985145270a219807a8268f23411c7938dea036684ff28f78aac8e23cb023287f41781535cc8a00c8f8ac75675ccbbaed4a1e5f7b8ec449bf461fbf2d1b5a416ce7e4c2c0c003fcc12d400ed74830fca88f124f1786adc74c2addf90b7f4e69dc58260c602477704eddbd8dc7e11f645f7a8f29c23b6d482b0f909264cbe01eb442380c0157b56eded45a53b3249fd9bb9ac98a1baafb69de1ef8535989a8b3a598e7aa498189fc0511c8481addd4924017e512ef6bbb91c210de60a7d38cf613d75f740035218ffb1409747391b86b554803701d330c9c3584317a4490e1bd46b71dc3c313a6018db1128a8f8d3746dfc73322aaa3ad8e7cf659b3557f266f67d1b86686d401e7de1e139c89f0bd8828c70ae29abcb5d79c7f3b4ea1dd5559886bb8ef5c362204a9886d455b1395c1de379eb1ff8703a05cfa585ea497af4b89e5401d0db6fe3a1f337517cd42a50704b625d99fedbd733ef2fc2203bfce6c7d4ec09bf40c856569cb5d63c4ea4fbd44b674f1cfe0728dd508ee6b9bf0094b2fbfa4dcca2bfa0d43e50b46f8814a0f685ac39601aafdbb1fc32e835269e4f3c6a3dfd14f090a60aa817d35b9dd0e5e40bee19affe744c782110bcea239f4716bfef6455193643bf17f164a53fea842fd0a1fbbc7e38f643bcfa3ab9e8f05d39f794541010bb58f4a4ca55c30582a61646b556383e10153c9f603b557befadb07ac4764f105a0207ec96c10317f49685c70679715e0ea49dcaebd408a3498cb278707fb8875411fb5daca280c4ee241ec76365a280428b8ad6110aa8fa504bbdf9386e7c3d6000b32d26f2f2b0d70dfed09fae183727f4a6a785a1e414a778f1acf31e5b1cde83d9d00673d8f8b8c8816387c3475a0cf67dfa9e93b6d2882357257cf0fd5e860659b12ecbcf44991ec971e7b3fbd73a0c5d4333eb3f1acb47e8b4f8fea4ecf1a6a5253255b41820ef2fe942f43ca2e3726bf0dbc8aa35525627519c769fb3d184d086d0da64b22aafb3e98fbfede534311c9d9143ff4e21b053aa72c3bb1535c09143491039914d1802f8e851e3fb845bad41abdea66a258023d8ec5c2e2e7fc8098070e7ed046f3349fff7164ff5ca3ef67a05c3f6098282dee51d86bd9f3016b6217dac03538db373b337c80fde3717230a7b231c00fb7f095e1503458bb7a5ba3f41e28a415b83e5ca485c947f3d23d256375b28056686cd2ff6391983ec5d3e256d4801936cdd3bcbfa7481e965a37133beb7a4a679aaa19fb7bbe510e9ae100bc723c4a7d52dc915cc4707043311a044a632c9e88016ad52ca6e0743935528538ea5769ad669789f8dbb0bb55663cfcfb6f12933a14893c94de103fd1584e39cf249337702c9f9b07c4153ff619c9b66b49b3bcf50380e5f07619c263c12ac3a6cf479dd37bae8404a60f034bcd0e5383a205cc9f70f3955af423b9b4539be4ee7aac5ed4ec6f883c68ee41e5e45a557092b128271dbb285d592eea4b99de133550f40e909f243d41d105bb63865490f1802450f7658b3fee999509a70757f26f0b4b777ad816804570310501b6ebec9b03dc9bc39d971a23359c80a546d5b9e0c15b8073a7a534822f99f53ced3bea5949c0a6105f","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"36e668e149460da4f59ffe8aad5bc414"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
