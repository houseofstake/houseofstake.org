<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3b9ade69043d5ae564f29de6c075a137400dedb41ad98e9b32eb9f03fab8ea6a84ee9b59c1d1605eb5afc8bcbbdd972afba4f54336a37d0a27e7d98c480a928b1082ba07b4be5b16720b7c582f77c4b6b8c8ec36d93f98273f7376e67fb5431cc880b3fe42b3e04f7a6f4a3dfcd551b8ba65b260e3ffb60e897bb0d35f18e634859b4aba8dbb5e47c9783db4c5f6807281bb40a372e31b7aeeea9ae0b67384852db048f2dd76088cdf9d2e44c21168acbcec96fbe23f01bd7640b259ca53e9450961988d7e7b4ec00bbb47d15ae8d9581c47227e4ed3bac5050a7e150833b89dcdb1ade4150f6c54614360be7d96c85185caa0f00b38935cbec9f93662b2b2fd5d6c216a4b6e8f7519d04ff8cd9e4f8120e6d358e420669e94e2c5e14844b4b0fc28859d04f04b62359b36b73fb37c5f015aa4bb0a31c3c441a59c9adb46364eea964c16d32438a4aff39b68bad5b99c6bc5525a3898aa1dc61c18a8b7c969bc73ccce4e62236487c70a4719e4ef61705d8cf7d3d8a20d69e7c18ee60ad470385fc816b9fbec7f35d84bf015cc9e29a995a06c378869a0872d8635e3ae29b721c75de4de18fe5a990689501cee521b05039b224461736379688086c4337b3d03ca0bd8696c5334554d92057a175df03e62cc257fb917bab9c5c691a48f2e55246fc442ec9152550ad72072ec7e8a4bb0d33e626f135d6fcf89d711f0203b0845897ccea3e17187758177191e0240736789a00807e616ecbbb6b973343c97377a7fef63d2e54878ebc3bd8808c463bf3e719559fff86065865309f809d78fd3faddcd93f92d12029c083743a91b1c211ac4938bb8faa64ddbe13e045326842bc2efa339f4862e61c79071ba0b3b99fcc04dd2332f2f727d1abee2d732816a7f9ea203a872f24b05b65e3e986589bed4ff5c854a197778a4072bd38b90b599c812b1c7172d285b3c78ef0ca91ec1acb9bd1da2334cc339f88be51bda27004c4196370feb10209caf6375e1c224ec27dde3142ed4f3a3e38bf754e206494c0bdaacee16d32820b1503e9972274bac9aa7f60993d79182f1d7b751c0c9021e74a081c74d4fbd02a4fe165c489eac2689cdf664fb2e85c2e67b5bb0f1bba940adcb1db0bffd2430c5a39714bc630e404b3d940b69f39c6b1f9ac9beccba0c88c3e04df92b599def30e0215b9e645b74d7487b719d7e8b07ea4a741f9585082a4429ec5bd5d99ee23c27bfd5acd7aa2f31a3faaa815e2dbafaa03f8d38e98bdca5c766acf390cb1af2470b9070936eb274e4314b1cee6166d1c492fa6084ae0ccd675c1a86ada19bbb99be298dee80ed779ded172e03bacf777acf9f4beb393277890f3b3b4e1f089291474b95a5419685d68ecee9ce80d68f8a82508e0e9288f9c13b8dad2f824f1c57b73fe7af4a2773f540b7aa70d3351d53264107e2e6d26cb76de31304388055802285fe6056b382d828ecadea43b7b1f5d9c79a192670c86caf8d1b74135397d826a2eeda43d2f96e4124473a2e36ccd85315901d82bf6ca4e16579c91f5b280d3403c56ac21b80706e3df791b833417b03b2f507b669b73038bd4998db699333437f62152d5d5f517c9f9d29595a75347be4cdc280b7263496c7555b2a32962c9773d20a7a864ff44ccdd67a70a5fad08abea9cec7bfd0b0845635a8a5979cf306fb21fb4aa5482832288340292b7673370386248db4a23a0a7cd59b0bd23ab72440a8e1f86118f8edb023686c1fe6fda9896972b4b5eb1476f3874f026c393dd043949ed967f37a828ab46ab549375e94e7e328ca5c4e6f1c28519e0e986dd1fc77e560c10e4a7899a5e919a3598f3e1eedc998721c546afcbe78a56756fbb8c8640c3bf9dd1ec596b05bfc4796e685224a7a8057573fd4e912ddc6bcc7c6024e4e1fa529acd5a33ed0d187bacb7fad5b55a680b5ec46f3b98cb2f0b269969ebfed4facfe89cb0d11f0a74bea2f6f8f747bae8bf5b3876de5645ec8c62de03abdace2d2ecc7c5a1c621efe532084687d576bb8ad6dfa906126ff4a80645eaf4d3dcfc38e6e0f8389766a04010dd9fbf811c3da805890874a002d1641a12aea7b4385bc17177c6512bd460f63a034c368059ac1a24101bee9078de46d2f40430368b363f0c0a06ec548f3b4bb6fd8445028b6397152c18328dbda511c0d0bb220f5100ddb456541dfc7b5a40a75e93af40c80d2c83dccd9d890265b2633c15b83001ae7a828b893df629f4415bdcfdb5d984c6cb87141ad5716d8624425c39d29ff7219df7d0500c7495e433ef079112f4163affeb3d09dc88175d1d726a82b2870d8bf85422f1e6832d1fefea08c84040dcc2e0b63438cad2b666237bfb54d22591ac6dde43a27efe78eb132da62c3caf0af961f3274deb4138f97ed032da46c88f7aa13649728208c144548a573e9906b4fd98e091f10d92f521a0c6d38c43d360357bd6a2d1974422e4e9237dd840821f6dc9f65f177491c2831c185cf11bb7275092e7f7dc6dbebc25154a65a3ae27e39fefa6ef440cdec96f8b51997d8c8629b39fbece70747083672e419c363a0e6aa104fcd12964f66c37b833b5bbd99623ec3c3fea960ca214d632444f08b729958f4b6b1316ed6fde7d99a51651df8bbfb4526a9202a7e7ca9cdf51981bf5407db81020ebbd962a2bf3f8ae46cb05b415741d395d05cf4f200e18f17eba34ea4ef476b98050faf2c20a415b7429f82a142ee0bf3543c0908354367842f2fa1174fcead6e0c6f1aedd556fe37e5520109836156ebb6434af08b18d18cac83af0652e0c9bdbebccd3813f5c26a37ebbb690f25cc2e977d30717b3fe8fbc9d60b48df8ae2a3f56ec4a0e71ebdb4d4ce70160bd4924c6b32026377bd6591b72f57092b84097cb986dea18de253725f7f42b523d181adf50e59c7340b35868b0b5a628079e640d733a595ac977f7afd45f108f700f29acdd28ee41555196b5d9da5dcad877a98226468bdbb0d5a319dcc3b9fc33c5905eae42ce3989efe82c863bd12309c1350c8a8b5069e65f0907331f38295ef8b6cb8e8a45edd8d7b4a30acd243fab090c4222b126c0243c3021dada58a0a2da6871173fd2ce1658a6592b00531fabfc0fc8876ce3ee9c4c6ccef91b2204d1b6a56b912aa2ba63500101b91637c0d244be0963438c755896c2788f39cb8fb519fdf11ff642bf6d608ecc58ec7aa089eeeef89ec81eef23c869f729ce59f1fa5c5713020cdc1836ec393de09f0cbb44ba720776a3f3c472d0d991034b082d23288c4f1901a5aa4827414c74d368b3b69e24597db404120c4d0812c6ba7f20b9e0cfff47454d5229a2141596ba163c3a43f4ff8be8ca2c7219e33149a0d62d600e99eeb37c341b4b74987f6d223a755f7265a0b70e05027ca2d7ed4138869a8d4854da2c35f05b6cc564fb14173e369a8ba39da1fcc292a37b00b1843fc7a3dc979be267a25dd6bc21d20b74183cc6b1d95ee62982b71c364022b7d05d739b81de93eb063e8806f8485c12dfd95eaa188c91745139d17b7d5afb34743ee5a84c439d05e4959fb95dc0d6b8a713e08c2665af9c59faf78695c02129df2df88a7b36c40dd6e36cddfdee9ef97092f564be66862dd09b3f57046a69645ee71da3427c068541d72e085ff0febff6a1d7570dac992c606fe14ed66053e0041dcd3c3ddafad2ab632a4a2076012b38163bb0597d82248cc118adbffe7459301762ae2be3af573054b04b540fb9b15db8429cd120d35d20219bbf8d226f42b2ec1e7aa7f2d8f6ef9d2eda214468feb188bd6eb5c14bc8cd1e43faf921bca11430fa94f8ef26f68e19a8c3948a222b0bd549cc3d4864cdbd47d155ba0a4d173122cb8a2cbd676d3502b6c7545c9643ee0a7ae4c900d42aca5d1552c86054ef1a2f5e300b4e17bc5d460354f93f0aa85d7f828d05dda0f8a207d90fb2d4ff0df7fbb2b2b3fdc400d60e887dc1663d55776e1beb5eca3d24926dc42b11415a30b78f47edfa96e13abc23dc18b9abcd474f8decdcd3a239b6b11b2ff76822872c75b266a9ebb3025932fe6990ff091dc33cbff913d66c440501171e96ce225fe4917f7879d9fe6978fe98cf161a05dde5013e845a527831bcf968e570a0e6a2fb54c0b7df4b6a0095bdd5fcf9d4729b13e8a394c918dc723535b2310c01a4ae1ef4ac07da776942f40d7a895604576880098dd71c6cf03688061ac808714aba7b3e3f429eafeca0cfd4d66b64c00e1081b228483fc958f1bcb883857823d470df7d05655a47e22d7dc0278f95214b78e853d3ca44c016e41705b08817ad0543fc487d91691c72e6cd43b8ce9229b034daa07ff221c5fb45b579dc86ea199427d5a91e777f9e375fb4b920e8542ac4ceec2e04b0e7bb0613a300fa145857f95fe867f21b89f7d0fc6ee8ee37e8c2df34a7712171068c1fb7c27983575bdfff58dcbb1079b3dafe1ce30a35a03969fb537507cc7c63cf863d4ead8baae8973c09dc70ff80f3f9904d03bc10b556420eec0858ddfb10fef6e3531d14bf0b60faabc1a67e0a23adf5ee74cac039f3f6b8e66a41c5602efb7b7737a0592e1d8b68b549c48799d31c1fb389657d9eaffec88e610b0223bbc3f4a976d0100d3ccfee6dbe98a90d723d3fbe6a510124ef49f122fd2f71ce4d15cd27739a0655498cae3bf3dff74f1575e109090a7e8bfda9970edabe6ed8203ad11e638aca73f669bcc42c9f153755e00045101c57ec19033b6ee176f418936f094319d20be276153d9917aca042cd206133ee8d6c2c84a290ff55eca99af2195ac4ecd6f7192c7c2930d28528a3f3e59a48556b1ae59518a8ecc4ef66f831cbe166c3242ff1d58f603162a5c12d877cdfeb236d0cb62bc69dc98a062704c5c16027c0d31a6627d2c066c7c9ab2d8610a1b66fcc68c29ddbec8ecaa15b444c64d90de878a279972d093c9b3b177d1c2990c2ca6ef30eda1e336963971f776fde893dcbdae4a6e47c13c1eb6a685b14c143d4317b88ffffadf25d1636518c697f6686407c2527b678458664872fe3bfae3770ed5ad1ed949aef918848721f6663b15779cb9937d5a648388fe0ddde4abde0bacd88041dadba3ff9e6c54cbf8ebeb7baeca062992c01bdaa010321c6f942d42fd34ecc078351838270b0b78b7b9d7dc76bcc823c3e105e16812b2daf9081944713287b906d72bdfb4ed83a0bda34cf81fec06dcf21e7eacd639f4c240c789f35b9f8ac8d9d3f5bf3a2e742cea8234178b106fee4784347d82d1164b7ae12c5089518fbec9c383f4450c5cd64b5a4dc2fc650b202b8466c8b1f1a361189d3b0b55edba07245b06794425d411b1adbe0ef13f1c7db5dd0b48c92dc65ca846473a53fee960bf4a9bb3810cc517ec448777bba3ef7c63519a63fffc8168acef7c67035e37e94e78b22f66700ad44da6ffd2b6b94963dcf8922da35073bdd9bf4a5b3c04889730bcd185f81b347dedce15f0a06ace7e0b797135dcdb6f0b88cf6d828545cee22cc9cc006bb6ccf4fa80478a7e69fa183022880b2bacdb485c71841850cbefe75253063176a79ef44d7ef818edf5570771755dfaece934fdd3df67a9852b49c7559816445497126109b0ecb0bd8f58d8e15066274ad1ff30e3878cb40bc76e9b89dc29bff6a0e8ce8a3c5ed815c8261f545c4cfb88ee578255a8045f54e0e8ac447337119734cb749fee3b6b2dcbb5caf966492de2b2fa852641f6d63b5160e44827a377cc2b05afab4dfbde1ec20e3eb53d3142f6681fdd9a4ef0afbd0eb8607201ebfc60b93bb39c21f3ab1f9824b201233eabc6a57a74870d9c979b91b4a1fc3f42b9e67aaf1309f27f32189ba7153a664796499c839777d1137a90411b14edd5dd8073b1174fd70d84c8e3fb656c5fb150946876dd6d395374464e51d1276a94f9525601aff5e5d4ffe3f4eee7397bf058cd87a58ddd250710d730ae0ad63dbd707be59de8d072aa6dfff61837cfc9c9f03acef22dc0129cf0173f063e7ef36c1e145a769d2b0cb700f951f14c37ec927f49cf52e401a7d42dd3a8c7530d04a67bd55e2fea45d5ee063d654f598fc9eef3ac85d851e24e2368653714848fd459b56a9ccb8fe64bee45b3ac7d10ba66b34757525c8dcf700148488064a924c4b5ff46ab5539a9c3fb48ec3deb2687e4755f458b56dc047b24766fa57bdac315a55f122e8997befc87377cdafdb070963e2fb3417df6d158268cb4ab960e54cee543a08140a7e8089d381c1806cafb980351c97cfa2f4aa769ca109b549e7afe36d046e65c837a5471b017257142b76178f4d2727f375f9a0eb20df24bb6cd9c820b7db5e33c9d86b8b1eb280dc11ae8e7ae68dd100d4c3fdadb8b7472b0adf8966d5cbeb65af194c0165868b1ed906f83e0b1d5d5bd84d5ebd5e6c479a996fc7b1eb1739685f01bf900f9958dc3702af5ad9f85f3da20541fe7c55e741e6d2a4ec521b5fc86066676dbcd0b46682524678580acc3ec943a1b77272c67ef4232489d8defbcfa79a73f9d2c0ed58054b81648c107b8cd2bc7fcaff7660d2d6693f74b89cc1d246bd88a22f46185b64d8b8c398df0e25ffd53bacbf5dcec0ded630219812a41af09455f490735ce4111aa260af9ce93cd66f63a83f80240d08c0b09ca28bb6d8e8f948e720d666f1af3d07c8b17acb4fe05d452284e64e93c94efa0858303ab4f26c7171ce419a5abec4ef6bcc21369ce3d707924d84c9052e41bfebe898cdb343dc795109d0d9d83d8201ee0a6f62664baeffbf916d653ed31ab918920375ff551513543062b59c0fadffd51d5867b109a3c0857fa0c2189f6ed826ecd99cc1ca2dee0725698dcd89496a983fd7cd87b6ce70a026a86e07f30d36ea0da0806a18ff883c30635bd0931ea016fae567c3ec5f3ab0b6b2958aa472e0e29f55fe36d9a7b00cebd1a11b834db969cf3870ae64d4f18070c2d0af0d2676944d955662788148cd275b005d76b25741d555e84c14353d3af9bee2026c56e002c9300fbb5902b634c8a92d48328f8da9e98427190a3b42a53cca450fb992da1750eeb09b6afc6041ed5fee5cea0d8184da3d08cff2170756a55eec9c13b6f64e21e8dd1e446d693b7b31f1f985751050f9c2967d2e6c2936e68bbad05a2b7179d953ad75e3a9616257e7ec751238f90cb5cc6466911a4aea39b69882243fb4ddc0bb91a2f455c40088c1e0d52c61ebffdb5f4ad40785f4422b8b81700812756b49c93decccbc9969d639f669d64d9de9b1c0b949cc5847da6bd49d5a97b7a3e1658df2cf37a4de06bfb67557f2d3fc07bc98ba0eabe2f8f782cb5972e080c429d88e0bdcf6461a28ff4723115487090f48ca35f3e4328b68ecf727ffac96d0dc39eec93d8e9b03c368fb1a028c1c0f2fb4a4ab60af2fffdd49c09cc0e20b454b22ffa2e23984fcb2e91478ae37792c62300ae2e1c8ae99fd5de70d85a00ddb631abf2e18f56e054ed643614244da935135abdf1bf4acb095f898b292b5759ab0821b34dbfd5c83a0cff31ab7dcee68ec82c471bc359e630dee434778614688ed42d63fba62d60655464844ee1d30e33341c5200486fa625d0f843b2ade288e39f7d6bbef80b018fb99dde1eb11b6b67a371c66e87b7971554b7cb5f4b3f266705acab4aeabdb3c929ad27d0d071e37b94ff3f3e332433621c2c4dc0b5bed15addc12734bcae6c8a87c7dcbebb4ddc0b35babf9f9dea30a526e87bbf193f7e3b9fadde3c6890a61b785edb7796cd6aa9133776fc83ad7d3dbd9a04c1e3300bfc26621f1c91022b346e601e762c0a83bb1e2e2b63e7bf8eb79ad5e3d01ec99b85feb327a83ddb21d1e7661f8b1af9b45b1daf7daa8ad9621fef3f8c0890443b9b7d2de3da9c1b7a594ef7c17d05e89a26253f21c16127340a98a6c142d4527dae40768071ef0f566d0baa6beecf471f9fc939183319c041d352a611ff601decd88f07411b4c836b05b74e13e5f0c2fa4f3c964dbbcd6be4873ef7b38844964debcb9bfa3a5a82904d0dc4b4223e453ad58c68a89129e1d78b1d073ad6f6543321d6a4975eb9c5f4e3b91dfa67b9f7ba001ad9596f6c5ca2938020db7a5b6892cb0e4392f0ee0cd501266c9aad424d6cc232a2edfa596e85495369fe4c11bad0d14550c5f0a694e8bd7f9b6bc272f270dab7bd1bae7e31cf0e6738f8af85a647e1f83f89d0fc2bf35bf9992e47f3cdd5b1904a48cfbf23573eb813acd39c759b04bcba880f12564e8efc19959296ed521f0de10c83cdca6847da6a50239b0d12ee49e15a046ae998fb35662d1375df6bee1f24f1d19865d76d308368e1ce584a3a4c8f5f47fbf35c020c4c9ebe6a81ca2cdb7cccbd285c2d55a8e439bc5476d9426b16ad3f7c41c2270ac77f8dc18e23ba7a27ea1b4a96bdf87ed3be5dd30e34ee7e72e28fcdf02ec0da558769deb445aec142b318165fb94042d9828fe14666805bf99bbf233b40f964271eda99b0c72391de16b783c565198e8b47ce75ffb95c3d27ce86aa2407ef4ce1dcfb72c9e30e3160e9ff3f4c153cfadcbdd0cf76879f993358d9cff72f92280a198b70064a1e66e6bf1f94408e24848e87048e0b462e858536f5a4369668920f10156e5de09771b8bb57c97a29c0f6a8ea568ac7a8ca60882809744d777e5cc971028f0eb41593ba9825d84f84bf966e0dcaae2e66c4ec76de055feef096ef630c2ddabc5547f9700e574462d6e30ed5e41be1dcdc435524ee05c1ac9f674fad21ed071a5a3431b35c0310de801892cdbfda437236c65ce819d6af8032a2ace30000e536b9a7dfed60c246fdbda070fcb15fd1654c218b0a5668ee429843af452c75d0868942d050a5bdcfd17a75a2df0870245279adcf26dac96a2e554d58e77e11b9cde583c3f61017cb4d101fb0d16a05709875aeecae67fa45fb4a8b33dcf442b4079991187d0711172f4d5df64e6b9e493487159a3eb1009d0182400f896372408b00fa54f8af9cf228b97caecb90336fac906b72f9b2591ba85974301f1a9110655aa07fd82992d27b6bd2559f08e70e03fabb3c08f05535475672575ef315392e0a81b8c801d52b69e43f3096549087def1066b4a80a15cbe590628a69141c706f0e617ebe0a3d5733bb9d43780558e43b14c9d79dd1b8aa6a6eaf61756ac6c572584f258466386cb68c1ba211cb3ed7c1de4f1ea465a28d835d29a12b33aae8538e7b104bf7fe7c1115258f68b9e50a5a098b28e8a6e115f724bcf6ed9226f29fed5177a4c8dbd7877ebd30fa53ed70be0e625c05c83558970c71f82e873a49b156ff7e061d995eeca3bcb1cc2b99ef07c5e39ebe2e6c8e792984960350e93dda6a2af3de80ccc5bf0fc53129513884883ad0b8a63cfa9b34cfdd583ce48badb1d6d1ec044029bbd40ba8ad15bd0fd76b2c313399ecd960b8b94202d49bbc1e73218f4006771a762e1e74293836cc42fca2818ffaf3d90f42362d3bbc226ad5246c2d7eff21a6984fd7699ab7015407abd9371dcedae6b94f84b8af71a13f87e3e8b9a17760eae78a27e86977d805fcf591293da61cd0c97baf8ec039ba1fa98f6e4f7c80ba6cb9ef52c2a13f816ec01a2daf8cbb77f349f1a1f8fc5fa848fbbb2896867779eecd5401cf0123b96a45cd349f7da8eea602e4e14ad62ed7023606b338331ee1a16d69d98761d0c8ddf6d9f8f6f1fa067981d90cb8d1dcd9f007014781d3cb3b9836bf9aa171b78c11a50e5b64572ab495a6e29deb55adc1b70297efd98285f1b84e33021812fdc3ffa2103daafc7ddde986a24a8fcc2bb49e2e110275cf97d7e62a38c472fec6cdd5b9ae50e5b4c5919939f674119f19d1df9c727081b602c755cab9fe0bcb7d9d0beaffef88e16eece634d0fe6bd320a6bdaaa46c29bdabf2e3372bab7e358c1a204da57c393f39c9920955cf250ff0f6d212c048a7aabb453009ce740b1a6e28089c882eeb743bd9cf44cb001a9709d92bba730bf48ffeecaf415dbb9078994af2dc5a36b69ab7c52dfd9734815837190a1c2adfd7dc5fa6dc0c53b9c81a85223448ab86b368ac210fd21a2ee2ac2e95f8d32fb197426e7ea8180843d337c9995b9c179b47333912d24e1cae9e377b0606ce953f41c6801cd78503215fe48edb52cb34499689ca2e367cbc208154e75d6d43d1cf5473f03b9f3bdef7678c0f9ed744615a3912b14ef23f0341184007c080d069f53771a215db55fee8405db43107a538bb3e67da49b57a49a74359491edb5587102261f932d2fb15c0e68fe91eab5135e92c58147f7201b67e02efe320b13ab0d34be85730ecb4eb1ab5cf0f61bed3f6469edf7c2b320a92c24db8214a69643428218ab7c134d92c106f87b9067b5c64065391ed739c164e0d7cede8676220f9f0130b63f28221d696b02b3377a628093c407cba6225dc62c1a6a64cbc656ba2c0ab04cfe8ee84bf94e026a741bedc1be5b810e50b6d5599acc93bdfc3fd359c39dd6a03bdf4c0fcd53ae629fd1dcc5ccf44549a022b34a5cd05da2f20d8098e3d66c3ba6409a858e4d14b93292ddaa424ddaa1b063e84b633a0dac886af880bcbdab40678936bb68661ae66ffef0d24c3f9c21353152cbf0c7741d1d88ca7878aed3f749cc7c6c8d9caef8e6b14b8d808cafc68e40bfa7cc2e472d56d0419ea37f2bec5d6dc5d382f00aef4086525c98911f04d64ec369be36deb74d05ef899fccd49b2706883f72d3d144816efc64f5a75d81a1f5d19ffb1ea9589cf9a7aa36d25e4387ddaae249e2e30dd384688bd18bf873aacc923fb9fdd9cfbf8987da698423e962102b422495110a9c7157f5dc0819ae07fb6df85b8482463e062e8bc51f5c7dbb96af5e1072754ab3ebd2746bde6635494fab31ad4a753ba1a264519b15f6b09a72359c2e7c069a84f1525bf4242e07b2ee3248ba8d903ae51768e79fe0b6bc7e1b7d83c856a0fe3afd4e8edeeb37230f3a91c76eb1ce3bb01d237dcd8df43c61953c2781742d4bbb4a740bda24448fd66fc8bdcbdf1872ce5c5f39dbd79a61e0b51532c687aa9b2bf40289deefdc775342fe3209eef3deab8fc3b6d5bd3790990fdff1919db8cfa34b24f8aa2365167534e7308a955f69b454c1137d232a19fbbf5026ed1fcabba43a9af715f3d5ca8e3b3e14ba0b0e0a729b6d8a89719a1111e0c4401c3e46f5c3ac5aac67674dcd35fe57f4332b9bfe74878b1fc89f4f3bad5247ff336698fc29c70e6ad38334d355ac3518f1cbcac43b9386a176a9645a9fc9f43ffb452e564cfe1adaf1ea80190b39dd489e3afb06697ca9de9fcddd43f6d11ec23b691b6fe372b497c2629f59f2924f493f7a216b764bd9bf6bf4109fc87232dc83f15f167c9a74ebbc1e614116cd380d273863b5c6c757c4d8abba63511ec3d3e671d5c1932da73eab22c27bab8b1f77cb2a8a5ddc18c87cfb2890a5c3a8cad64a5796e64b613e9b8428d39d331814bb2ef154058303f71716670a689c09da68c7aa17c102832c29a0d090979f375b62e4421ac74eddd848b8345a47854d55ada7b139336bcf83bc2e7bad3913a7253f775da768f7cfe9c93c7f29a750dd8e6fc59eb7038becc9a100f05a96d55f87f34b5523c301275b88dbfc1076fa831f4e427f5c4a313b39350c843222e627d93d8a1d4b1fc650cb5fabb030d8de0c816a1b543080c7f0e9ac3bedd363b3629d5d59fa375726cccdebaa97c16f7ffd8fe43beb05f22bf2187004232f7b5a56f67b7d8dd132083d8099d07e2f4ea0408a3f483fbf11e799eb4247127ffd3ce74a23330b022e1bfa1201dfa43aa0abcbad44835996aed9c077cbed347790780e4d4a145861f7dcaead269e636ba43a048174ad9a2742c37ea5af96587cb43bfbfe1e578043f29af6219961df2e702a4bde549a17ab08eea593c73497822ccf54108e975e51eb5a2f3837c7082321d8ebb5875d1b599f2f62d16fa705eb01b5561f8d14b3f229c01f726ef97a69c517626f4b078317eaf6afb4dbdee09cb5b726c0c32c635edc1e9c3b5ab1c8400fb680cace92ee7a0b9529d208db47549733e2c0aa8694d80426df71f428952c77b5c7705e1c57f6381ece2604cf2c96239f27c12b117fa1a60c109cc17a4bb9ef001f26ef0e12c90862226be990fd27e088fd1d5215e9e912d168333621037e95d9822f46aa9b33bd29491b0940a1ab94abd7aeb51234e76c2fc2b491b847fb2fe88773a002d468feab720280d63ca0f5c67253e3990cbf321c072ebb01664f10f29898a2fadf33e2144cea3b62f788de21b7a3869df061a1e33b2c6eac6cda4f7b1d6dbfe2761bab8aa57b7019d5934b2ffb1681d217ac95ece2db240b5c03b173b0e3424834958c49b184662a0fa0f75b8bbdcdf2416268378bf679231fb3f9f1be2fb19d56a31da50bcf85c10c94ae254fc3758dc07bcc9f06eb9a33ee7a26ce06e3978f8957475c7a012fcd6bd7bb8e4a5ca2cb39e78ab28db204cbbbf673df2347818ec7ac35c8c7b431ab0eb684fe1701aa69f9fd3576191da25778298d7aafaa4de278018b7faec685bb9e20cb28f7e0c99c3592a64d310817bc9bc8ab278fc02a6b2b772a5b3daae9ed1f820cb46102b3cdceef4947f54007cf680f3a2d0a9da0784d94c84b3a5f4579af3b2f460e5423a785a42696db7d63e5fad2b7a7ec550d8e19b69c18de44cf82cda421ec5d18d23281bee9a377109f207f5a64a9b759e79bab11d0a9a7351c583e90076d16739589c3bd73e64156547cdd4d58474f791bb16bc869499bdc87e4b03d9a79fbda967c90b8ac7633105d44a33e98ef3173daf2373453541140bfcfdd243801328b5b833a9073a7516a6e5f34bebbc4966a6843dd4bdb01337aa6fce52589bb0bd474d35dca48d6c2a6967d4297b6fb207177d6c9b87de7d92dcda1cdd8d793e5764482ca9db084ffe1d5effa1d421694692a3f87f2c283ec7cde895abae703ca834c63af53cff549ba5c4ecd22140e2ddcc8ee2c29fc32f3e3d97fecbfa503e7b08f5218500b9e1ddec36d449a78afc98848ec732feb9ca8d845560d714e177b282d162ec7e74e4094e136e24a4a401d240562aab63745a7964d2b925f0065976fc7116bb4755c33d21d9aaeadbf1e064b9501b3f0e5940e82d14229332e9b5e989ed65d0642ffc7dbc509c42edd82e6eb4d1e259c414d9b974595efec9e1498d26097d90d18f1bf94acf255f40400bf9a7ab48caec1b7666cf96ac4a6a3dbfbbbc53388cfa069c67741fca0635c3d87634625bc6ef599ebd2c20e78e3084778082a75d4a4de215c71f2a59005160664ada6cba193c2db41d9b619c0cb4a026ab0651922c3c178a9330326bb6af1a7cb6f9502d08b5c0fa05aa55a398fd2b96c04410cb2227cc231a3d12772d7e0f95cd8fb6d7a5e6fedc94c401f593b8ea2022dc5233b8a371ae6d8da3aac2013a7a2808c877211205168bf7be494aca1c641c520c618ad637c68eef1fd102ee6c29c5e99d79ae574a8f5b414769f5e7ff649660283cf9ac596a68f7f9d2a824ac8ea5e65634cac9c11862b1481c35eb370503e2556954a7bd7e62e3652393c45af1d8f2e90eec477b4c92562ddfa806dd478cd46c11352f3daf18f7dd259c8c820caebbe54183b7d8edac14f856ce2ce9474d3d747bc380ba92781a25aab8c01ba9fc114a61187b7d3b02c9ae1ed4d858049c266aaa9df5022ed569711392d94e5ae80b07947650b6b5943257a98d9dcff1aa283fa6a3b9327b5b526562cda4b77a46c2327827e5fac94770566b76c918f00f1d1844cdcaabfd41dbcc5f766225bb71cbc855650be23bf4c30bb0ffc2fc1023f7cbf4313c83acb6e4f186f8bb03e68604046579fee4df110c9af5f244e79d2114e8be881dd282a4903cc516f78bd0c566872419e101c12cf570016ef4579ab18d4520642c58258c47a363ceec34792e5cae01b079db900cda5137274563b60f0d91b65443e578b6109824895ca7782b2bc9a795594074565a0f7d271cdc601ea6104c66a446ef7070a98d23a723b257e10d1e764fd15541de3ffee531a9b982a89c6f9b76b2cfb4184126aff1f4e0d6d9940d144ec9ffda766fa3a6b700592bb0707275c67ca7b78cb3c1f1987671cb141e7d9d8737d24bc795be638a632a01605f110ead4076013fd99430a81ed7a0e1d26d3fc28ae577bc78d2dc518020a3eeef15f2b360a4090214c3e8d61be94849f4cc37906c9800c65061be3056b3e6aae7c58335b4f405590815607130d95ea2178f3c5db8ed781c4550a31ae7d99d7288725941d1b7c206d3e57914be8068b75586ceace9f9ced48dd229d8edc4f94a2c3ddd50d60a4f78dc184a600f428093dd48de3103b4cfdb64cf73210712f1c501d62eec2ffc51a2df7981f32e6e101cd38b28d993b7832711db92f6c3c25ac5b86394d02a77460ac6b1c41315f0368de4446cfa93e7f2a699338ecea6f8d225c0fae3ddfbb444c4156335395fd4895fd5381100c609ad05cf3feed566aeb516ba8f3cddb8fced9ac83800fe1f8f06f0f5d8734c9d26ad90049d79b7c83847f2ae3c5dc2f64c794ae586ae64bba286266d842d792b0b61e6af9631143c0385933cadc09f2a2faed707fc9f4257f3f52ce4d0eb348609609535700bfafa178894ed01d074245874e6c1559c489bbb49536868d6b42e82f18ee9499df11960856804592e8eb0952e36890dcc5449cb6d5f7ff3c2db13f75d7add6ef0fad0a77fd699a2979c5c8b9ec55a4c4e88f2c4a7be85151a394072abe05ebfca48e28be161ac396195abcd9d916b3eb17def61d3eeb1490c5c1f97015973f4efd7d274c4861f1c9dff1bbe5f9753e6529dc2561d3f5abb30404ac3c2b59b14f05078b935efb5d72eed75aaa1fce8f6c2d0efd3640b7eaf02597a5ae58b3d0985898854a1ecbc9ab443dfb34d90c91bdb419aca68e85cde8cf99032a38fdd1b8fda72dd7bbc180db195a35c048d4fb744b1d6af2fe2b34a926632c70c33cc5f34843ec4c3d9ad095f2194ee7eaeb148deb28d75fd9c9d44402f227cfbdd0cdcfcb7b96e9f5cb8055a1ea1308589556277b13d690a2a18c8fc4643a38d97f0f16c751a1560c8a4e4269821f82fc5ade9761324611d779ae87977e39ab071ffde28ac63261afd571da24b5a6295f99e2ab0fa97e01f2e635711b2f2848fe06a3995b3012ce3148418457de8e4e85ebd08a78c32149c668d2c9f3959fd232a72e39646a43d6820ea97428f61c2e205c147c194c6417df8a0f8a83a8be81e4f30c379bdf8d962551a737cec10d1ae2a089a17bce099842a03c2ac14dfaea3bec78e808d73846336549f5484c2753b99fb6f0987b1501036f25500a0b86f5665546fdfdd20bdebf4fcb15d739f616407432176df333d56d79a31f903f4f494943bd8b8a3f56d6a1d0b1e71e03da58d82beed2005c51606f3a707f3add60292c76333bef1975d7e069ed57cf13179236559103e4be3fa6a4f56c89f137d133cb2a1c1db7a81475bfeef6d631938a12c104522e1f8e8f6902b8b20cfd6ad69f2a2d77464c78afc34913d504710a60927aed4be858a5a6666a6e32dce88229645e9d6331ab58d32603b503711c1fcfb4c05e4121fefc8965e6d7f85afc0ad62438bf0364735c2f22075f900f7e089944a58691746eea914595f47b3c05296fa409c58b6009e4113df8042be45d7ab10d014c73fb89be37bfb8ee93c6fd073c841189a2568f4cb11a5b32ca3fd6f0ccc719f2c513b55097466b1113a6b89073740efdf297ff5a8591a7460d5d1e78428e05629262da3d719d77a220cb8fb22c87bf4611e6998d01af631f4ac4bdc7e27c851bf600a9ebd7acc2579e874cbb6c503242d64b7afaa652a719c6bff480b852ca10ac5cdc0b4713981165a1a31317edcd5c0c0e79b7a3872d4837a3a7d24315dd5de15b6ee2cf7731b3f962ce5ec8744a809c43c53ccb406bea9d6fa4c4b2b480838749109aac30a2b8ef5522b6860beae60151f35dce5c066affb3f5cb1bbb9735443a28ad73a947ee2209527c6346f44d5e462fcb344bc7b12cedfe0c6075319e77de4ee0b75485652154b2c33a82c51b158e05441748864010d2b02bb84f8766661116aba1d671a87a485076ac144c5bfab845d03aa4a02b6173000bfc6188302a9d7a8d1315a3e5c9576b027468da0b0e3f36d79142382d6fb0d6dbfe9c7f319238fc217d7f39ae77ea5c52249a0ad974dc354dd49c6f3a0ce492394742700379d5590f2baeb8b0de59b8d63724faee99e8cb0ef38df68accc4871b1e47490e73d99087071cf31c506dc106f4841bb8fc8f55dc8e476091bf9e11f9c52e1aece91253362d66088f60f1bf328933b13a3932489918e1d382308fd7bf0e2ee2f10f85dd310a22d19b9e91f6d28b4f89d278395b00195bd9d2b2f3f4959eaffc7a3f68537189fbdf44ca57b4b9094a8b126d6bd7c3ad786f11f5360aee3bf982271167e13c593dcab16a678daa4802fc56256aca6f852b6c79b9af339460cb611b3b5035a961fc1f1edc8fc6cd68a8dea25bf35aa83d68d42b4751eee9c8e5cef0660e26e74021aaa1dc8a6fa8c100d11b81e9ef1d0dd56f03fa9283c1d1f80bb4eedbcb898bfd46cde44136f9498340981557d68b9bd1ca676640b8adbd389cc7f171b22f8fd6567c7ee2d546fab345f5da024577cac80aaa76a4ff95cf6a96d996618ef9b25ccd3851b4d51b7262a9c1210d1c9aa0739bd542d18608ab2d8ca518d1f774310f5926e2135ed7eb7351d7466c838cc3a30c04245ee3cba42eb34cd6a6be97213a071863ef93c098145d205ea09946796b9110e86a7ab43c669ba905b47d4aec0851de89237a4e09c745dfd1f01fdeef2e3f65d5c53fbb072f9d90000cf80cb610f71a6a5c51025d72f05f1fa0330644c2279af879619110aadf1d3d94229460d0a7077e911880611fa51e6d65c48da66e3412ddf2f6ae12d6d70818296e286ca289ea63628140e242faae920fec7ada532409f8b123f7b4fe472a677b32634ca744c95f2dd0d2a46c548c6ca997025b95795bc03684d9388a217d4527b47d4787031c444b3762591378b60adbf0491eed83816e1bb0ffc133eb50541caf713324149308858cbf1e5f32da7f2ab46494170e62efc6ab902c45f1ad3079919cfdb8f988d0571a7a8e2743876bcf3760de12eab08aca46634a4b17b4f7bded1cbb5c3c20c61df376c3f33238036793e1d6df500aa070e97d9839ae24cd87ed269fa4f1dea46e4f20c2711338cdb48e35afdbdd1e80e0f0ab22a70ddd92400ba990ff4e0062fff5ce5a4e9c1db2ec54cc833348f45b6f1b2ceca70db770b9e372d13bb0f5fe503cb16905d959f140f5cd0b8d4d924f3b41014c1f6b241924b2562bb4246aa0734b5953e8d0e9235a110f528bcc54648f7ea5c9b1597e01a7c18c3702eef94abe643a6ebe8e677c3872bba99eab9a38a7a7519b3133267346aa3d34160f43b522c0d0df915dabacd307a6cd0825b027e5ff40d8fc782d0c577476db5f76457a2a1485cecb6d0edf7e5cce61038fda9001294f1afa23ed5392c1af82c624fde3e6b2e516a980ea11535577b5c82188b00d837f19b9afe895728e1245ee015c629ffe2bc36434a66a239504284b7aa1efaa5c8f799dc96951c3c39b2ce061ee7b243ffb1a1594eeaf475b5275cc3f9b689a73b5abb4dff8fe9c0ab87df80c12a3f18ca2f1568ca4d2e8b1744fbfc69dba54a09a10564829e4f8e2c759b2b3eeb3d9e8a98e9f7b6897fb799aabbf03b07562f0041a70494997fec159c2b630aeb700d82d06ab84d8d911cc541fabd90b44b0607285d951945a305509b2c14e0f01058c02df179d2dc60d7fd2d3cc38c714124cdc496438fbd2eefba24ec3c0c7967e470ab3122d20edadcc6a7159166a90a303edf50f4194dedd52d16205efc8ecdbb27f276db32dde8264dd6c41fb3e28d5627fb66b7b4fa5e2435c5781dfc9770df29f6a238402848e7b7fd6e7682a2e48137cee4c3171d30b1ac0da8ae59b87457632d862b9ecaaab6424acbf8798de0c5c290a00f0d25d485d0bf4cd7b74cca2b1c27653a902fd858b4acaf454b583db5a0d40508580ecec113d093ed9e4ad1dab7552f2b08495036821e30c89e38a367fba415e49daf017863e76828c5a09421b7dfef7e53f60b8f9849ed4ecfcbd954bb6794152e9e09dc64ea66e782627dcd4fa5826c43a498491a9079b89b87fbbd3174b4a81bc2e41268757e114e347c8b79273961e04e146e5bbf34867950ced6af7d9b23de2329ace210885e79926e0112a4cb4fcb8d7d91d86cb10f0dff4e24a5d2d72d50359c1d61a2ce95683577098482f6e5afd3bb78efcf3ae9bd7cc5be476ae16503caee4e8d112b8453fe53cca2124f4262b187c531595d97af5cb641045cfeca9632680a5b53cd27524eb10aaa3852ba8e8d22bc8d5b8d157cb3bfb3ff743f3186fd0fa1a8bbd7e3664f0047b6796e8989f0e18ea7ba48c98b1af86c71c7d1016aeb7b29cb19ef21f8e086e9e5f254d92c2c7e1435816c51a93489320adef4b24f7a02b32feb8fa4ad0b37686cb8327c9e12b3d5fd1cde1fac56f52019f183761e21fdac1793ed218cf1cab1d45cb9cdba14a47820bee5464908e1b20ad4068112609878e874c60c096ab3366dc6fc3dfce6606201896091441992e8636906287d03c8c66810006ce15edba8fb279cdbf629259d7ad35c09379f1a591b3d2c3c1afdbcf9269ca38a11dc5fdd2e697a52eeb2fa95bcb8f6babf23e868a28a52909d487d6a16856d37a2e17d3a391f417fb31e0cfd26dbb13ba86aee01cb80df7b110f8e5514bcd4ecfa03abfa7ca6f8b98adf02cd590e507bf1f605e8d199704d8385203fe552b5ee00441dc4cee35bd20d5c0e5ea6cfa67203984ab94a610d2ae5b9e93c1e29cca7bb2b581054ef9bf8c26cac8137c7ef2d5536b6625980f9bb7490","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"09491b0867e61bd0303e4a7186b8bd6a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
