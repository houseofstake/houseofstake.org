<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"964a52b8612508bc55a734816faf4f764e14a66f933e503bddffbfaf1f2d68c383baa185d57145437d90f6f9683eb35bc9d3f3ffae515f7505e224a186d92a8024afc5cab6ce0a58931a34e71ad445dd6ec93efe8fb6d0cad518eb880a3b52219a3025cfe76279c58661d389f482673948a374f0818b747d6e25a61521d44f45b6092618262b9a05c848ced4e8c3563a320017c411edc7d4e589fa68598e196b046d2079eff52f219d1a8e1602a22370645d240a9ae2df5900a37b6dc1b1b3b095d26ad2d72f4fafa399ed7147d3be9b0127682f103bd7153e436a9fb031746350b8c11d0307103bba7ff34f707bf3857e2c7de20aefd948fe56cc43be38883f1c9d445cd34dc98c032d668ef7aa838177dbda39b0e9c608a24c9c8e5427ffce0c7b91fdbf0b8e792e53ad38f2a850fb86629b9a6a7a24434e6ce7699bf678b588a6f6399b0940d5c7945e314571d1088774d59a4300a9ec8052a1f10189022f1c8be6805e20f4eacbe3e3a382c7603123db1c72eef0b16bffa1cf38927fb01784904d18767475e2ed2518328218eec7be91452a087591afd26ef5cf1cdd4994e351a35b1e3d03044e57ef0ca61438fd25e54cef5eec7f25601e7f10ee0f8bc997dcf76fb9e7df9420f99e053ca21489c67413ddd3ac0d85510518fb625c1cf97e9f2d8fac0b9fbb05890e9b8be91a258968e9922a5e8ab4bece4953b6106703d8c91785de93d361e3d9961d36dfb8324b8c399f8dca17fbf62dbb91812970c30cbcc0fb64638ffd6f9530823ea5b434607b27ac968f8d3db54e87a6b715b52b3d3246760639eb59bddc89d674ba1c6b15acf826b1866b0ac158e97000f0f1a9498a9dc2b2969f7534db8c10f44f6652ff891805ed6ced5b9e866c58a1d66752731cf7c44e9dde16ef7040e6c9effc934e63d048ef028e690491dd197c912549790e0a82e1fc10daabe36258e448f958f9814efbc9241bb71f3849b604f2ec997256f6338c9e91aba7e21ec1667665c3024de2cc7a975581cb3a56d0e3b473ab15d72b4827e1d43ea95a23a8ddf7942eeb88fd0e1570853245fbd3c9210d33fd6ca2d6de532324f45d53e6c505b595668f72bb20014b3b60ad29f9ecc7a0d98222ec788ba4b55a3bc6d218bf7fbfc54f2382ac58c4440e868f39be2b71129e952eeed957efdc20595ef6ab36cee218c4281ffeb67b8839021ba332e928a1a6f69c847cc984101e2bacc0bc2671ef76dfebab64f7e3dfb06308ce62bbe5257c7514f958a9e18780ab69a07b24c0ced98d068ee6733baf4f4dbf99d9fe15ffed73b9692b78ff72b68b6c109d073f025cdd1ac131a81d74a662aa0d1dc0eb98c6fd797c9377a7d9253b7dab29bcbf070043b89f6bb93c459a21161d6d9523076d73bf6f204f3701376f18918586af21c1a91d6c42ea22a0a65f4e48390b2ffd68626f9b5dc335b949072d85ee1069d6f234de0b46ddf1a630c5f8b744d0827ec38e987d3fb1379d766b611a5ee9a444d58b7d6b83e8a7872ce64129ffb132dc27782954e9be6b3fc80365047edddb29751f1109bd02eaf82d31c8ce98fbeec5871793ee3df641674be175165ab1bf129fa00f3880d11a3f31bfe0f6843aaf4f81004f21cb18d7ee82cbc208c3459dc66a9aa211a025b2e30fa190c7ad28a11930bdb292b44a3f1ec1e8e962343903cb1f67d9c19517706cf0afa18ba34ca9945666f905f3c49bdad5411a1f8ee22ddf421567d03ae75dfdfaa5b14749a9686186b6acb86ca7526f543f7c519390653038be45ae03b7b41f366c4ff787bb796262165a1a56b4173119c0c132e966f420b71d97f23ac36e710380916bccefc128b90ab567979520613694994a3ba5f366cfbc67e6823753c1085dac9f91c6e7d0c22532110fe55842a87b1af5dd0ec3ca0007c804982dd3a9b94721e602dcc49022acb54572594abf3b8786985cc6b4c9db1168095d98363a46d367d6de306f4565aeb4296445a305ae35517c857cd3f54bbb09127a1217314bbd84d8bbdd19dece5f715606c34bedb7fd6b9b89fc0240da73291e2c8a1ec87c22658a9c5bd96372067051f9e053938ef8b18a45d4e94cf1d09b4ab686500b7656a9fde462094c7be8b006c4a7f602110e32736b7bc2120a4cd7fc320cad11f3358f5b332e55a1260810c8c898f6d34dbd7349ab5e8ff623fbd144939062a6ef3d8d3f6cac12c86dc11f21e4b4c7c955d661e6d6e72a8ad7a1adc9cc9314d012e9d61e763e61b85541362862045d566cbf908e1271f4d5cfff6f40ed0f9c3883584b341acfb0aef249cbb1c9435d469d5e7e8da63a7343bc5f6c1a61d2682c9405bb276ce3122cedc5174b39b54f37a0ae195f0e80b9fd5a20665af33f1c21386cf7aab4344a8ac7188bf724bfb90bbc0be1294f349fc622e9edd027319bc2e88d2f3787c54a6f51001bff7b3e7b9399be527a63839a9e0221568f2583cddb1b14c5aa39cbff82e9bbca0a2203b250d3d3c553dd3a6dc8ccd5bcf2e43e8e0b7cec0b5b08dab4ea16cb6215fc14a25b9392df24ce653b464538fb0d6fe01d8e38f300e16273ff392634c9e7c0bc29cb7bd4e21cb66614c9af4478d463e73f1b546236a563185229514d0d26efe9e81aa7d63ba1563d0f566deebcafff2bedd0f7e292d314255b9416a1a6c58baeb8e1a5358044181d35243f51c0795b956cc99fbf37695978fceb146d02a45010e3267a15492576ad280cc64415bcd8acbd38d7b5392e260daa39d8cabb17f6e3b3083dc0e5d007c08258b964bd16886f82be6fb29f1945ccc3b099e54bc3aed671be2a0dae56f65526db344aae921c644db1e15415341474c674a9f61d4437cf54faf51c15acab99c390025ddcb374e0aa1c656194594181ed7ec7dde2e6083ed8fdf2ae38e299d20cff0ff13719b0da2bd57b37250bef394f129fcac99727173b942914b31972aa43504f3a167bc212741f1054f89140549598b9b7cc7dbadf658682bc761b6d89968e622b2771d4ff42a249d081b307686dfb8334dfb9ad330caa6a0445cfb5cb13f65a75668a4669b3aa7924914148948ba65766f0ecba283289616ea6e2370162467f9dab475b9dc621514a1bb592142a307555addb5d4eac679f7c0512fb7555c7370171a2f5d7fb4070dd560de9fc17f9a8151a953d5d076e32a52a744e09a20bbd8fff65e4744212daac0a35cadb45de726d587dfb0d59e30bd20a3cc4d04a5ca4120f922235a363db54ae00927e8e1c64f96da069d776f6f88c8afd927d0f1c3130961aac1a84691369fc83e24f5839b6153ad52aced95e1bf6cc1c62489743513b9cc54e95272943b9b735fd233a06265ab7d1dfb3c6bcc1c59745c8873bd151a77aff1fc104f724883eb395a05cdf182e23af47dba7db1982d244570eac3b111a1730c4c36983c56877f6217583cbcaf08fc8b3145d30f29cce7afe5c76f6c98ab4195fdb64eb72cf95c0d375ab1fd8d78e7dcfb115a81387b4b845885dac58604297543fc4ee48d4d67928ff076b954d76f6cfdd91f0f543bccedf63038d965cf2e1827208a8c125341b1a88aa2747bd6c6ff24187af23322803a0ab8f8e3ec1bd9b0803c09d099f75e035072b21f4cce7596733111b73d459fa34f7052739476b61722eef451c847e7d4e663ec22908a503f2a2a828651c3958c9355fb62be3222e1ebbfce83343025b6b57c2a93289959f3d2e8de93095e4d8bfb78ef6e003ba564aaef1d155537e012c9cd989d6e90492c8ce478d7c88d29e858bb72ef4c022bc41d996dcf88417a1a621873da51c70a9b4ccee2eab6bc7288ccd2f3aa0045df5a465c8569a2d0bc946a63cf25b6098db78ff2be7efda31f9d5c27c4796d51dbe1c9873aecf2882e25ad064346b48ae1e0ca2d7c970fd4d7dd413aa4e4baa54af7721e9a332ffee7dad7610a5b33533fd48e813971f5f18deec0530596676ced0887d259309f02ccbd8075b05cf11dfdaa58429f84f70f0b5a38216b85d91503850117084e5d012a2b52d382ffe7cc7213322bc2c2721c287ef8a02ee5a043b7bff69850f55f24e6e74621c7b681c2016d3df9b0a70bf4ae132b80571f8ac42b559f0f7e88f47690ee8ac4c7646c22b99dc416acb0619217e8ed5199e07db000b7a5019340444702bed2389b52bab6e7c3a0b27e871fbe5aa176a542a1abc2044bf1cab2baa44bbf4373775386f1634550ab4f3699fc88771c7f093c26eb974b7fb733369e7122160665e0b860ff24add0a6dfbe380f9a80d509b09cb2574438f992d7db37e152478937f0ecec480a0bb4513d073dd769723de5d89260b50282fee66956489b4c48ded696b4737e43ada36c5b62414a429260cf0c40f1321e9ac546c8acb0993730cc9d2fa94ad93a50ae888b37753302d3b824082519f3244b63afbc27df81c913c482c9e06926faf2cbe3f445c34c263e79c60f9b4a81be2b39d982a5bd0a61370ed992504dee5fe27e34fce2959f10a68bcc8dfd4e7bb7bb268dc1671110cd335eff545cec66fcf85de72279fcd54d90b9eaa23131c6a7c2f0235445699dcab7b735142251a6025bcb5fc64278d0ed7ef8d44eb6b9c5699c8affff6aad1e4ae79c2a9f960d02c13d3f29084d63e005e3452aebf61f9a49697816ffd01a9b9fff0b73c767f780a6c7715d38ad3ab13d515f04bf042bcca0265b77561ceb3519d48a398eee26a062cfaf76d9790f057a5eaaba01daa2a5eb4dbe8a3413c8f8022075c85eaccf85b854cd8dfcc485c8a6614dc3fe3d1695222fad2d905f2914d235b6718a3b361308735af527bdf8637cebe396dd4234cd1973c0d886a1aa136eecfc8654264ccc04fbb3a10ca250c19aaf5857d2ec2b99ecb6e79d61a9db7a2db9c7f202c7282dab3e25961959727cdea22ad94ffc721692016da86b8bd182f68e966b3d7491ced743d2e3cc72f6e22f8366b3d404a51774eb9d8e8cc301ded7ff22bd6b41531fdbd6b51ef1a6883db35e711756b0340ddea932057820ecd08fd1a3661d2cfbd61ee1a96d6047dd3abcdeb078c18e80f50a9b3c0e5d84386af10899053ecf947d05427d5e757103877fc8146aecd64ef8b2004a2e0ee39c9eb90adf98f7d79a552ecc16fe4724e3b58f1d25ab92734a4fc37049b30d8c271d242ce70b6245664c74d2007df275be39f52c88135fcf10b6f4b5189e071cf892f9a50f91ec1c24a9c38e889581a31b0cc1360148a05580998a7d30dcdcf1a1da5aa86e10fafb13ab348993ad867504279ab315d96b77ce2f262ddedb161ae30c24a207ea3e32a5b5003ac580c6c6c878590c80d29c2b63c10d10aced945353c14aed61b7bd0dce0ca55f4f142c8904b52195070c3e7626d8ab56248f13e0fe6580d75938ca4eba1da653d29cf276d92715681e5f22574d23efaabd6d171364fbe5637c00bb66a99961ef59dd43bd555fab6f17c6a45665c2608f2e3828ab60fd6dfcff786f2da4c254dae490e06f96621bc795dc96fe6490c80318eda12ee9922a8838d2aa3807945b40813ef97babf4388a5fa79e279d2fcb8a86c5eee7f074dd2e978030fc3a0e8ac194687d8df15e1969d5936dcee98e30adef7bd5e077d7e23d9b92d0079a24b036051ac7052a2b2e961884cb881a963a6967a4d9a5b636a1c0c85cb542eb8be5d8c6f658f4a2ef6fb1033f363b4a505eab575e594ba3004261019bcfb00b01a891e1a48542a57df3e7d9e1138cb2b0a9e3d5663b31a4c0d8b67e2537b65994a034b38678705d22985d403b78c3c4b0e375b736b484cb0d0edd68c89da73439fcd130cd69cc570687c5d93aaa1500af52734ae1111dd08b4dbd03d58cd06e94281fd3b47204f091af53cf14dc49a1321b18d6a687a362b401f3043b9ce9a6cda2f8c2c51a4af21ce2cf8c8601c14afbe8ae103642b816a7129ec256350d82de62beb0ffc022f9f33181b9d58a72c2b93e49cec2432fee3b431b3e3b844968e79ec63ebc1de685f79a9c96b7f112784073cb00a168f21c979806f19dac2c0b5fc0fb69b5f5d3635450791a0f8382b5869ea0f8ec5a45808d83c4c6f4e70f4f36a520ffdbe6e5f73c93cb828ab08d1070c3e858e4207760cae91636a922b923407991c19aa28c54acdd1fe09c5c6860f57c77cf7ef1b76ce3b64da9bc02a2566a4ae6c6ba8b7e4a0dc2dffd8944a3fc8a5ec23e8ff78ab799ac087fc7ec163432c1744b440c7d037cd179fcb0d56f2b41f3c2efb8b0c5a50689e0e47831228a767d0d0405234ff1b0c7a73f8cf517063a46345892ddb21e8fc71c83a99aba8608f2608116b96845af08b7cb659b93fb809105b48b39f4fc8cb16ece535b3e95cd4a8eb8187537b139f8bd4a60c5f93cf3af6f91dd0153b7951af87e6f6c6762497d13bcc0f963a462c74acdd1af038d803c9232ce5b60d9f31fad487723f0882785575472c8a4fd4b4bdff3a7bd5059fb08393919b5b42af299dc15d59a0dfa11119f3d0fbeccfca4a66dd46dd666536e398d621e6b0bd8d53d6f7c05e35093ea3622ae3ebdbc58e3bd99a08705debef1520c8e958218c6fdf366458637863867c2cbc8d569478fe2db9cca129a259d3f338c066b68e0e79d67b4411fb28d603ca38cc0adc342ae22ac5ec93ac8723998148ccb4bffa66b2b9cbf8320bb150e3dd19dbcf03d95fcd0a1c391f6c865f1d75beecff7af7b3e970be701794367bcefa28128d4888253314cb218a2a0d026939e8e624b5e2788045555050009c93621732762e1416323f170c4d9ac7af243c3523cb50d75160719ee657edbce1ec892fdfcc4d5663ba472b424fc66ab4525e5922eb66ac5f336fb963071f83c7eaf7d8bcf317b9dfc578ccc791d704e2aad28f81b8f5a2ef6ee5de9b90d8538a9e1f4fee760c6a50de001436c94f57a5d699c878a941d9261fb481cced91d144ac401d5b2a3282688753d80ae51fdac59d1b32b6a97c593bf595a4723e45f1871df615b555470ef6363aa7056298ec41b5354b710e34dea187970691877f110c794e40a5bb2cb61c46edf5fba04560d238c76ee5d2e53bbe2a7f7799734d05a2aced0dec396d6ebb071121c9336f381817360aa6f5dd4e0681cc8b6d021aeb4edd5aff8cf6e9ebee4e0c7b661216ba87700ec7d510dcf46199a3c3d08d6b447e633351207fd80008edbb735f6542da980f780098c1c6a7cb5e93acc426402268bf2aa6a48fab2e99963cfc4e9b58ac046837023b168d5419abbce13ffe41e6b16682aff4df6231e080f4c231f095274b82b32024b89b43a5c6310751b0703a743246cbd7dc7a2b5a3d4cd6e32c4c5dec757bcc69f0097e41210e3d1ba25000fcca224b924b5ab0c441c3435f85c5ca7d49309735898ca842ef457f17dea4730094651f22814924e3343717afc9eb407885c7215681b4d221cdeff7561aa40e6fd59f747477180225cc45ff2fce1d1335c6a391435ebb59a9ee395107ae7152a6ce28318f918b3ef24b4ff45b121c6142a77c1bc40aeb27a293d1edbe90bdee29170fb1c7f2b65677d3909dacddba7591fc37ea0ba885df861fa048f2bbfb1b8bc35fdee43a387a1d6c1ca95e6e91bb7ff9a361dbaf2c292e26eb8f83e1ffdf78e130c8036484e38e8a3801c660a906129203b94cefe51c192e0fbaa58078d2d5d9ba4fa96cbf68159f0db9ed5003ba597306bfc28412eb8fed4f09f3271d2f7a39d480484eb77b06b563f24cdc3828e4d77dfa995806f2a1be832a0724cc6eb9fd2ac9e1606581dd7590c8ca93b88e88fb5d9ae352c52b4e20dd0a1a34217906a9c4c1e2348264a2ff8da9cd95f1c7ed55b40a5648f0e228bf94a348b4fc99f52040a04bc70af335891f9c942f2fe87468a363af752400b99c77d3fb3750c0516304ca64b39c11f0aa9760b122efc0665133075b87f698fa4d011edb7a1c2dd674e3a60293f4764ae84cc7412a1c19f87df6e003fcb7dbc6c8fb44e90dcc93958353f4e5d978661aeb57af2638872f6e56c7c9f1aaa529caab7e6f7ca5de599430301001c6ae73254ee528e6bb6fd253f2b2d1e8c5f8f41b23375a29af15d98b9c369892bf26b9f4c1bf802075d4c2613f4b30ffb4a8750a9c23dff92ce8ba554f61ea3bc0c362e8c4cb7da271d184e92e8488511afc35b69184e5b646a69e8c1cd33981b5e6abe678b49a720e1bb430288cd41564b338e2d0c37772620cd82cd760a149cb2f423515dfcf0094256f90f71eccf7d9488a59d72f82c9d43ca89aece0473955d6b53932c87951b05d661ac5518f03f193b14684a05033d58be5c8fbe06f1f66e76564e00745d99a26ebc654f6ad960721aecfe5103d060689100e1ef6b5b802a56bdb9efc62a3c8b723f98d6e24f706cb6f90938624586b0328d200b5269a49070924b5e0faf3b2602a818efd893541ea3660d10f06153b60f035d26c467785802492b62f24aba3a84355f20c8dfbb1d5ba441b65114a7a6688bad410d1e98e5f4b5f8eba5cbaccf9dd02203e8847a92a45ad1e8e19846e6fbf5a4e84d91906402c10cacdb7013f9019ff2ae6dbe23124bcb8e5f1ca93c3358cae73eb7e17955b4fbd5b1a2962d1f656c2053fe89d46f93c3997134f5685fe51b86d0feb09b3a309022f242bf64caee4e5bfd8864fc1970b4deb74c634f8c568dd4a1d6edc91779d407f30263d809b0b076f6304937fce606d8981e1b4333485059dab92c5009f89549215ed8389a913b3c4250cd247ea1ccc18dfd3d3bb11a72be4104b3371fc2b7d9ab86c16a715359c554d060039251b70ce1221c11ffd48b7e2febec5359890fbd520f3cdd1a255e256f3d684ed8ee231536d0b9dc0c312998766ccc77d6e776285219a54d6f330091a2801374d2f1bbb7b1a8be266b5f9c4c9a9e1e529003a315673c15cafb0d98282c71ab7e1190917cbccef3427d5c9372651b923ac5a27a1b012451df861cb0a7ddc1e69633b13ce742657253ff7c380e06c5e2d90101b609f29d3ca5bea21db06166d477226e62e349f33691a5807823795650d05417881d24d7a6862a8a524b970ecac386b3c5b4dfc3f634ee7edb1e278e6a5bf243fda0be56e1ef7fb9a53c0aedf99287981959197626c09e4e939618a0a0e1fcd032d6ddd5e09ebad4b28cf7909b40c7d67faae2fe413342df9fc0a38af2954f8d9642856d3e84076f6fa36f32fc9837f2a836c6eef311b364424e87209295934172b3eddd2808577216551b472fe933dba8dec315b883325dedf1ffab608fd373e601ddbdade93150d097a4d2bf83dc9d2fcbb543d6e780ac3fc9cf3588de6944f2867d0f55f9fe2217d7bb4d87f3ac051fa1be9dafb658e80e150a29a4900a29bcfdf4d9adc39ac60864495992c2ac49b2e2cf65c709eabedb5c34314d1e89450e3a0209388699e33b2d38176287a0e41576bb63268f967c7ee3262ebdc69c5a8e27767882cd25a32f620aa35d6fba4eeaebcde41f671b4e7b5654b4d0b48939a1451a6756b396c8072b8747f65c9494fb92073c5064dc6b4c16ebfe0928966c85a051231995017121a50c3a2ae6cb62038fcfb04f4a75a2252fe698b1e1a34dc4bbc97d49fd66fb3b3cbfd74724f776bb1e9311f22ede5a4bdac7845d162c5d564fcfeb9594770df58d07b34b74ec15f20f49af9b29a8e3d9c3780cae516f00cce2fb944dda257137af2162545d122c068bd4d49913a8c898ddbd30aa4f4341199c4ba5ebc151417a914145c67b4f85b7e2ea030fbc2ee087597f0a2124850bbc22446b02ecc1564f6d07ca23433656567b689494e881611cfa76d631e13eaf6bd8fcc6f961ccf92947c6af4f158a0b22f7f99a638c2939a3770295370655fb5d4586a9ffb1d413dad6d69ee2fb8e11bb51ce324bdccc87a3a4a6babfdef4a020d1e2f21e45fe684557b9dc130cf4d420f4e414c8d52e92ea26de4abad0fa5244cd005891d0ccca89503325d881bd65fe0ee3fb2a9b32c8aec490b71bd30abd0f6370231c8368e7d127b6b8bc3557a784578d2724b7abcf52acb2b02bffb39a5c6b973b9dfa88bd08ccd9a5afb18161d5dfa3ecf31a758ebcb6b5d36f4f9af94ce014da2be0a1e03103f52602a6e9ef20be21c13fc1de672b7600ce43caf7a95a56c15415ceec98cb2af7db4de919a1f85b3689a7fed684a9120cfa40447035957f28b146b8c6973eb017c4577da029b1e4a6aa5169a24b1082672f3814b50ed40eca0a8d5ba72231a2e73d850a4453c81fdadf19dc5d7715ae523a5f75d6dfe47b2c1d4a71f9f406e3c46e060e3f849fc86fd0c7eee9124685e1eaa3ca2bf07f766a8eadf9046e1b41936fd3b83c7e59e21a760a9a09579e460a7cad2123ef93b72daa656d7724f6d72bc850dda855d588467842ce3ebe1ab16dbc06188f155ba0493ed74dec6811caf155fd9b0de7ea3c83a3f07ea9679466c78f493956c8caf936f0ffad7b346e4f8df497bb1ce4e10365eb1c4662b88948d08e018a58aaf6d4d5f268dceb43a887d62f0c493d2abaf8eba7c13db15da0495b5c6c819281656bd0babadde7bcfd6498c382c7905006370638212a76c2cba32ab4a20f05704f122a602ddced0c30795b14fb76c8af6a62eeec08d5b446f6905bd0a685921e67fc44aeafb7d7daf966de852df5fd7efdb89d8421fb897f8fa6f5d0ac0e705947bed5057b20482f5510162bd7a548e1a7fce3ea199c6fe5ef81e099b5bf0a7d1a1d95dc14daf93350b60e272783323013e72d1fcf95095d9d4b17109d09e50530be01c10ae013c9f3fbd0ab9a92e206ecd8c609806a6bc795caa78b184986cba5fcf48d42a86962bff7378dc0c78844d73ef44bb4bbf99945a5f82f6be31b31d87f4d2e9a2139610048bb9c1537311709294f4a138531acfe0b35d1fdadd0fa6f6f3129983727882117c6ffdb8d9bfa76565513fd3e12179bfa908f23f69c9e14a167af23c7d881d666dc7203d0ce7da3c4a8501d193d650e4161b7c0399a8e1940a0c7231f3fbc9b9af19c2af38bce4a8335e50879cc1e186c3f44d6e64d7b3bf65653885b92c7132f91342140b3a07ff3441f64fae99f0e1a407ad79bc4db2e268a5879991e4396db4accb23ada2a9887866331319c73032fa6b03ca19bbf61acd62cb7b9b8ca4f48eef234a50a9fe0b458e0c503b76e743d0658426664c60089cc32c14ece4ba77b4679a7a1fc2c138c79e35d067955c3e78f081d9ff302d207dc2f4fa94533132167561d34b4911ee6114aa1651f88c4d277bf4ba6d3ff79ead4d0c2bfb34c7d0795c1715b069012aec3e6e4daa09411c6c5e152bfdbe39d515e19fcd7c8b83366373100daf82da04fdb730eca768c0c89f24e3fc564f6e9fbbaa138f0eb397137a584b23d2eea92504f33bbaca155214454992b8c20d9c345cc8ce81aef064d706e868f41001cd53e5741bbd9fa78b90f562e8066e1eaf10c6bf20aca778020d15888fa5d8ae6b9087ced83ddc6c7e09912105bbdba8eaf058b78a2a35839604343ff22b31e51c34b91958c156c8b02056b29213abd4920068a3db6aada01f04c8e0404a8772ec9d387950b3d2c6957ba0d16cb3a1521dc05d43bf85113d81aa9229ba664a2d96679537a6859229046e48a5d9e606a8da98f9a5fc3d132e4a494d9de33075710be2138d80bbd6363ee857fd1d523887f02d05587b5e9a7fa8b445363f3cc1ed7aa215bdef742aa6f646a9e72b2bad60cfa5c882c70099d24ece76276cf4d7f813aad3a3fb638e91c8ea01bf59db0e868ee2803f46aed997c13cff8d8eb5434ac00471a230b2798e47ccc7d6608f50e1cbd6ca3f4c5f94a6c5d7a48bd513878ab5d96946823a2318697e5a4a3a5be8c70238ff0540f6b0475bd76acaa88ed0b032ddfe9ba3d8dbaec7a5dea19c0d9f0de0138a369d195eafbfeb86212f070760777241b12ab7103433ac710955f76aac04f00af9f869ef4250a56c645ed85e3b71b154d9a99acb448089d1c534bc314af65a2d5f0a598c363e619ee8692425a34fd7cab7ed6515296a8264971e04370ebb0dae8f07db266135657745229c29f727bac3fc96cf8aaa867fed8a75fd074a77e1bc4bfeb428997139bf38249f7e4ca5e6eceadbc5eaa176ef2961023a2aae67fd1340cc59b7fde753d63cbe1430b8c1eb9e88196c201c37656a3133e6fc68219259423988301798394d23800e77e983fa961c18aaa348ba54156c6dda17c3cbe1d91044ce7352a7bd8642c6fa66acb0ff71d739d2ab9fba35b4f82a623d146886a49627cf43fadd336e14b8cc6767af494693abf0fbc7bfd202e6f26c69a8614bc3623bdbc141b231f3d548f1ce081bb9a27bec26f02be21c78a47b0633b61db24165fd903ace56079db4e9b59328ba53e3d8cd5290f8f88e3e585ba271b5be54b8208705a606e5890835e1476fa11b2cb289392795f118b3f590f1c67916bbd791314af36642f11e436a24741128c123a63be6feadfeb19b57ef165581162fbb6afcae44463074cbb28dce917ff1c5c3f95de2888876e02ef961751a8adaf547ffdb7d4a8073d4d470bcd5f4f1d54f7775f7c670a8b52451289730017000e92aba288f0e3b9b2fc58748f3174e5f4ae213a8b48174cf0eb68342f08fde7630f28b2a7df9d4563c2205b50fe5993bbdc48c25308245a6f433bc777cdb80eb04de5400e3ebc1f09c803b6d64beaad2b68fbc51bb379024a1764623f8f86130a3749863a630faeaf6dc231db67779ee8b5896be63a03023f49eb76938cb8ea22789b226cbd9efbe9352578aaf98d9983736470f575ed65f5be93df25133a78b9a0d8880596915d45fe9571be20fe13a5cd3b5ce936b0e2136eba3d26d401c78d813c9ca4f6d1904180babbea7db1dc34253db6eca7ba9e3e6a88e73fb8fb35055acd014986bf09d91174d04d94fb62e3159913d36cdc890e16e51eb5b99f744c64c4b1b9e22f41a6c5f9a646339df9f5a3987c979349ef7665ed0b1288da681028c67fd036dbe14ed62a2f16befbfbf1d2a89799fb45b0cd99021ec096ecdc1fe0553de437840f9c10609fd37767e0da41a449552b6f32978220a3f310222fcad92defb3f54ec7746ed8f1045f9a1b3fc3c542a08a8e51eea34d844072bce128c221c3ba98b9dec6f267d5741b2dfb598f8b575c0c33bb2c34fb7b7a625670d7a9a3c66f049e49fe24c92d600239cdebff1fa987ddaffb93f7fe6eff941497f6835c84d932a26f2ad61f2b9488548ffa04e4350ec90ce19417a65f02202ddf55090b053ffcf1276f19a834b74ae39388077e98f17b11e7e74471aeb73b418598d696463501f5cbe6d3c6a9bc6a6c42322f3508ea84797d4bec09a83946ed28db3a405a641a9d2c1292368489f82cc0bb45281c397849ce417911e07d8a3434a6972fdae86853306147f8e8d1af411632770cfb6c09deb9ddbe88000b45b2f98bc5b553e22d2dd8bce2c8c688c31607acf0c850c0f820483c25bd9bea73f6d3da09eefc69ddef1bd685058a40f9566af430c1cae153c886b9ba875cdc27e901e36e432e73fadf6790776ed1d3b96d6e620a269fb2e9edd4c5d33bf555beb2f8cc2a68f121e93b3ab5d280f63e2b5ccac45d0a6443cb780265bb2106818b573853dd2fe2ad04fdc045c66aaf8b8cdf49ceadd8148432a2b940e956e58bc51ca8fa5d629e7376b3814b6267a925a7a1445d3a7773bf1c5eef3a56186e48d7188089c4724fa35b337c07631971e8ad27b9d2790809aff88aa20d7a80be30c01df683bb55716cac1dfbc4233833d6909ac01f282f0d4e1fd0b02d666f130853f57b2a46ca1a0d6e5d909718339755d7cab0b62c844e7254c99cf72a6baa056fd93c69d1e680e8e14d4a9d73464636a835f552b05ab772b5324e741a879cdcb4a59b75865d64131c61a8269d51b0ef5c5e8d7351c2e235ced071925c97dc4d0d111c27f788730bed468b32b48f99829b095c979d1ddd921f9c575010c6c49dd33d7cdf261da7bbce8310416d833b0bc4a4675e45fae650c1dced39dc17619e9680f7907b7b4ab18149a43af01aeaa87e5033103fe06e1250b8728159a7f4ac1a916613d1bf18bc2adb13b28da6429fb475b24826b308b223bf84c9b93691519621ef6e76ba322f5b0efc9fe766b2d4f101fd61d7240ca1b20bedc3e535dc7e72a0d1207c410d3187172aa1793e797af846b68fdd87cb23a212e493d29c3c6b98cd3e2d9916f1f702f6659982aa120690b406e5d74d60060314f52a91663eb47d5ed9d0c8ad5c70f7b89bdbc6be1d21c0409c2881358d320578db6531ed21e13975f720a55ccbc9c2b2f0cda76a43b269c929fc38a88464f92f8da7e7101cca7746a6df6e9c0856ce639c255b469a01cd941c8af576ad48af616a94e363630a0402079868ff0dc51ea565e07a4c988a1dc40999d9f721ca125252ced81bf4dc7207055ead81e5d55fca2b85cbeda58600c38df55a0481c9c5e562d9aa20b8cba5b50e42747506dc3f2950f7f67b9cf44a53a25acff7f9874994552bff74bb89e6fc6691d6828e219f7660ed3aafec5b95991b9bbd8574e4625ba25881b9cbfa2e0995ff414599d680ef42af1b2b6d257ec0a5e9e6aa7124d094a79df83fd290559fc54998b66ff69bd9fbf4b875e253e2603c13363aabc125d02d3e168a691832ea17a27cc9f1932f6d4244e9a2bbc475c98cac342467ecefc7736abd5a3858e865426fa9599cc906237e261a3eb0686a93e352fbb21c6dcf67d76cd3d1e0c51a014a5560e4c38e2bb3a30f4b227fdc6cc18fce4fdbd6a6c1f35fcc1389888965f0e75a0ab4accc254fc596718da08c5a6c601ebc6109ba345e23d8429d1267c4562df992c35138b291ec93a9f790a90924c0a797174da29e99ea537495d26e961586677f3ad353113c90ca6d350a79a4d7544080e718483f4e5ad04fd0cacb59c88429aae88654ada56beb9ec6b8a7dd16187b4207ecd7cb8f2fd3bbe4d8dd09deba7e69b5a6b0dfaa3823e46a7923b098d015a2336d9efed0dcbff05722cb2807f7cfeadd7f0c0660263523c1c47cc3886b592c6c14fd1cb83d3bd6d706ceea6c1c4e3efd22de75a71ffb93d99583033d1f925d7744262e9c98a240a4f31b5e4539ee3386db220124e5150b42fde09b84d6f5df6c2ca28e702a7c6d1bc01978c9b2cf2f0a8928cb4f59c64a403f94cf8fc74b935eda33a12ff45accc503f2ddbe9489bbf46819defed6327cfd41b82ee07275fa6e8da630b93296c966defde85d7de8cf91463bf63e6ca4df2a83c09c0e8ea0a437ec039478ef552dbcc6030df3b48568c1f56a9335a5a0c16115c6b11f2770419db619930c6ca390d601bfa7bf847855e3b9a35c5b91dd5787395ead2881891fb9737e4851d576464b76b58e5f9bcff54297447bcb8ab748efda90e1dff36fc9aab1108d32635b6dd81dea98e3a61c0c9143634665db043a8940a747ef6a312736f2f2b5034a3df75a63dcbb54c8a1238e4f31cc8a04f89d828cb6c843ad5d6c4324914d91a2c87982adcb8cc195566f6efb963951cd43cf120d4e7cab266c2c96b33c04fb900bec5c363ceba1e29cb0e5869dab703bd81eef99fac2ff784618ff0da031963ac96138e7ed1754f7a2f383443c4c3fe45139637759599b034caaf97d38e6975dbc20bf26db91bc0baad4e224292ec6931cf4092decfe2b25fb7ebc23b1a026a6ec0f4fae47a446225f3d3c2cb90d2933eeb329f6759320f4b42f4a71959b873735560567af730449ee17c023d0af462384913ed2ee6b75ee593947f1a887126b23365059cd58ffc3a7a658f5e6c160f3c041e920143a6a9a2def1f4ce3dbfc184d88bc7792d61874d93949ef4d7358d17bf92f6a5d518fee0bb7cc774fe7feeb5422779a88853f3ffc08b74834b96b1d9564f55dc9d85d4e2a58bc82c05fb926248ef2cb1bd0be0af02e4a16e5c46b36df6e4263feae63e9e73bada4184cdf71304fde83f4a89e9945f4802d8d9c90f6a71d4c10d63452de6278444c67fd0e92f1e6a91576ddd121b3991130241d9bb19f8f6824940c080d5a16b00db0e176f66aed5f56d86b62f40497ca917907625fe77afd993644326d99f10b0c6303318d7bf54f108105821733140f0a244068c909a43ef032ccd23cdad3a4c02767b73be772efeb66da5c6d42759aa4dfe2abce80d6770b4df605640a679cf1db4e6739a921cbafec4dd718926ade07023cc44e8c14a4a252b25370877f05e63bb9f3386805225c7705b868ac206c002f184141988a7504c3eddb39bb3f7c6fedab9a75c514fc347542d425408e7f996adddba8bc4114f68569c6143ee24acfb38e0ec844af3a819bd9d0687117308e0ff922a8360d04da94b42b236408a2ce469b96bc1a6fd759caf885da8bc0b46d8c0098fb01abcd6e7b18e7f0fc4c653071bc307e578db8cfa78885b9ee05b4b89c72f2cbaa0aa88bea6db38f45bd5177062b4cb5558a1125dab5c54949dc27e9daf68a085b10ad6332bd04d3d03c431c327e935d831261ff54ad1852ade3473e385a9f9d0d56c45218d7e30e1b6cc624a5d9f4d94d1c599b6dec170810a488a9da8e665f505ecc46185d6e4e8457d6fd72ec9064d6b52b0afaba6e41d32a50ea57bf03642fad523da955300daf3e3a7f85c4da5f77557ef29a6eb9bf08d3dccd00faf1ce021dfe56e9ad850a0ec2d74c57cf85a273ca88e7305b2efb9097e6e6e36c0457ceda2b6a92192775c20bb6c1d406fb7fe578cb14e9ead8709f5e60eca3904f4929d56e510a8bd3402ea7fdc9ed86823da2d2f4f07d8e63bc96a946f75bd26fa26da6ba962f3f36824725086b92f8eeee7698e9ba0820ef8a57104f863865f0fb637b906b3f015e9e9d38a33be7ace2c397d964e777888d3ed9cdae6177c8af2959ed652ee09e5f657fd555565b92099458113ab567fa7a8647612a74212dd439db9f5fd6535ad4ccc1d321fa0967dfd0e35f79950aaac2de51556b2d37568afc2b86932feba1a8143ee5e99f4126589c98d54c3ea39d7a70cde59cce9e259f1e527ecd009cbbaa17c5c28b7fcabbdc12331cb5f0a33449f8a80dabc448daf3e38bd6fda5e9f382a79527f6522ae5be77d1f9d393dc6f2248184065a442f30d08bdb455b2b9590d42e292ac615e97b1af72cf8a3868eaf180db16554136a446cca0f4268be992ae26c129dc0e5356d61af5197d8fa5a52ac8813102df223af3328b56da8fcbce9eed91dff651b72afec55036fad3e447220e4f2d347fdc79f9524a3c12b37d28e9f8d3668ab460260e97a5b7fc5534ca314d742147d1ac24f750be893b8d6ba459f56d85bfc2af8c8cde8f41676596972adccd8955013d262498a40b34bae9090da3bb923260d6713c4dfe6f87f5dd4040e7629e99c476bca92f25f19812428a7ea54f7e0ce075204110d8fc22b0aa3f9c673c31c8d81c1e9c49c13e5bd7083e6e5321a176034dc0f32192338e75babdde983e2afc2e3093afe6fd31754b57b485487dc78830c147ee1b79080e583664fdd76fe188fc3a881df0775dc941570437c32faee1ff3e4bc51baa791861d09ceadeab6ea97c2afa11f67adcefbf52aa59573d4e40e4e0b9afbfb4c4af0559380656de4fcdc9d7a7d780787c02718d0881497bd252f4b0d726d459e868cb453c4231dcf06aa0c4a78f4dd8e760d3f988a6b461cd9637eb02f7ae15145e4b78e428b8b4e4bb22edd6058771ab437796b48a7f0282118613afda0f063465e9aa81a0828b075cc61c2b1893cb5a2a5be6f6823bf8c83cd97e4d11ca64fe1632ae0824c4e75393949a46ab8e61db178dbe8f7f9124e88bdb583369f1e4bdf17c917212d44ed86e4e9da8b04dff5b2ce6dffa63f4260a6eb87c648bc137b22136fa29d5d1602b6b395826ec3a15b2eaf9694bf749a7d004f6383291919f4e137136903d8ae350ef0fd8c7b37ea5704e54b20a11f437bdadc96f0bf40ad22450b972cf0ce9b51270c97b4dec8ff147bba09c62087eefaa215d3de53ecea559f361ab05f2afd522aecad18044ff8871cb5b342de7e83720a95181790d1a75fb139ccb159fbc2b0b6c45fd79b01a954c36bb6ca45e05466ebcde6ab961073c4e262d5e187fb70265dd9ce14a4836dae0ad423ea7419657c369eefe8fcacf806b477bc1ed8fb805078bb1e69f46848fe9ac2e0984ce3326002641940820e2f1c210b83ce5ca2627fd50095d7ab34f54dcd243e39eca3302aed2420f063ee109f012333e65264ca263340b3c20d4cdc1a8e66c04bad50d232f59bba3bc9ff7aa0c50f23fd1bbcaeda1af19051ddeee3ce232f060523c7d681bfa162a0729e2d04b6bc760f8fe906fdd8a14a1d78dd03e944d018aa6bc3476e525e804bf9a2689666b4b95a9448bfa5186a6fb739cfe4cc00aad86c22d9b09ef6a244bb77e748ad11291ca6b1055e0e798124a1b0b53c0a83486d025212a8d4a29b61a87f8e563e1fc0f7023f7d5df80eca7467b57540a2cbc99b9b8fe35fb61c867719bc74d1530a0adcd812d7ed137a905a795661ffff87caf8a756df72bce9a1835e939683690275fc97ffe379af5bdc0de24c39af519b10feb287e54f68b8b5898cc283bd2f3e84564c37dce1a74c2d483c0c218cf7d1f3fc475546462a851fc684506e25ec5bcf4038dd4998cb1e6daf29b0e49d95492bf6db4d888241784cb4862b9e088d29bf295b88575e289515dc92d87cf4de2f22e7fa0bdfe07e4655e3af5b30b6ce11d5f550e8ec7975d303141e9567ff323c4dbec10ff05caa3eb86221ff2dc46be873aebae9cd72734b3170e77f380c8a94b97d55b5adc81ccdebb16005f40d149c5b2531f84d5ff3d2d17d7810f85fc566a9c07d0c496a18ce377fa1fdd550d9fb255a5ade44ca6236ab060d234f2a1fa625731a3b5b3d5e5d1863240d3ad2b8292e7b613acf2c43ee75693df213a52d0ca113d2589ca8c9d449a99c0b443cce7efae507","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3bd92bb117687b5361f803e0886d426f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
