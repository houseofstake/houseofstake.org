<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"616abe57a99ce8f143bd8e6f718aec92a4f8ceddae8d9e9df5515efb86d0d2ecad829d29cd5cf424d0dce71752347a387b385fb0a11e553f49e1df0fc005cf8ac6f26cdfab0158367e946b4b9327ffdcd8d2caa127f605c36576034ca4a8466c0af95878d68a498d9a452401fcc5b17bce28a6a6fdd656a98e5765b72c98430740f728930bcf75bd8e12be6821d81cdc6ac17389adfe1787212c42e88550d30d6d3be814f69dc8b4937e96d67b289349d8fefb15bc86edb1117e144eab7b8d8fd5147c7783b6873de54f2a9693dc6c83a903e8c8cd30b37c98c9441428f8be541603b13ebd2c65a6d13c8474920f4f93e0bb9aa62c67f0ab05643e1f206f52101ef868eb288c233fbb110b6f89619baf6520ee087830f6a5a9e376f654886f1ba57ebdf4bfbefda2cff56ab4657c9dfa2d53ce6be7adda8e604d4be528fdce772fe1acd0a850fd089f32c3751700ca10197e7d91c941e40b0092eb97c8fb6398297354257b410883252540de245a0812858eecf470f5c71af8af3871d3e8595c88ff868824d3b316e1169d258c374a141cda71a24c411bf8020f0f2607b0ba6be54e5a14126f982b6f82a73070c98b0c91b8442ec4c3bc35426b5376fd2eb4ce09c25dbf70f62dd870034632fb607cf7e4403c6421674560a8eedee4dbb903da16e265bc70ca5c792eb9ea9ce2bbbc942578d198c4a49da18fea028eafeedd5ae424d37a86ac304d4e82199956656500b9c75a6f617d932a5b45f422897ac39da49a986f096146ef82119b3e994621d6bd42b4fd201cb5ded903d9b2fd0ea12130b892c15a158444d7f5b853657e4a87eb5baece2da0e0918ff9bc3bfe7f1abeceb3491051aa13d42e6b287d136124e665bbe8af30bd1896938a2c83114b9f1afa742a0dbcad2e0e1c943c9fe7bf15fa89106e4d120e36c187c967ef82d0ab5af9ec84d32c996cee8b1876d2a83cc2b121600e062f0d10061ad92c7d5d12d5e64f7cc9cdcdcd7e1e51c4e5de79161fda26e42ce178add1a5c6752c87198c2663bbdf066d64c376201b5e04cdce3f31583746f19093a38fbb7f6023c5a7ae615f400eac5240c8b63940a1de310037984092380d8ae7ed39e8787b8978516fcc073bd1bb4129069991b381512038b8f1813b624cafc9174314f4afbf033285d50a3cc967294f08e68d904c28db68dc806ea41ba06fe1bb428909d25819895036ba130fb991b37c39578ea372af9684e0be6a8140e8dd6cb27b596e6694734ac5198e41b52f1bbab84faa69397a313db050b903cbb9a49a385a6f1161336205139d54b4f426a2c2f049d1679423991f015c6531355ee53b2bb1d264563b98a459e936e6c18e6f5aafd7d468bd5efcaa511a5a20d5f6ef67f2c73d6ab012cfe23294cb94636cb6a54d144c8240cdb13ecc8dccc04299a5d529bb144065cc3417bcfd8acb2e6966fa4b819132b37bcf2a934e38a9d7766bb8d9a8864ffd6c0859427683d8f26907db87c352b32d86c273fd949c36bb707dcaf944c71f321ed868caa255ede57781feeef76fb1da27bbcf78bc2f92073b80fd6720960b6b0889864e2ef7ca55735f0c14f462ed13620c1c0b0333317aefc325de7c2634db808b7a8eb9f44a78382800ac8fd9d2cf656349ad702d9ece9de876061e944c82357011d86de2493c3e4e17418a99e88f6141f082114043e1088dd4190fb69bf7aca07b08086b0240d9dfbeebca9045eb7e9b90f8d25b7d37d845775f5ab7f7f77ad87997531b361f5aad07ef438357e1fbbf4ecd396b9042b8a4bf95dc9c236e02641fd43a22da66a0835cdcf3fef8124444fb9001f0bfb9cd725453193507575b8ab0e4f054a808f4c76cf35bb27898d1188e91673bc73ab764233296dcc6b492b0626e88211f84fc270d7c593e87f0060b24165d398621a40f4222a368ec1af1a743cc60bb7ea5a360be7bad2161815d2443ee16e39baebbc21accf00f9a0c8d475a5f10df84f1593e37a76fa7a1990e4c88f415fc5909408dd413aac78c151c92e84cb791826799e2e577b4520a5a24c5889efdb7f4bb9470e4102d2037953699c7596ae715db1343e6a06d5a84cb347ad90826924633ec8ed21d4067e0b481fbb7b15697987680dd850aeee009ce18140315b290ef531a795017e11887e7f6252e7d92159620afa292b8443ac181be417cc5590620e54c9c407d1ddc3c294ddfe0483c722cef7facca54b4f8095b0a9a6d8b923e0449c48ac330cc0404905a4918b41a7fe19a926467a787d00ca1bf582845bb2a38d37a063624bf08e63b5390f47a9e4dfd341f954face61f1f9c0a9195f9f129126a67c1d2b6c70abd49813729162955097739db477e11a3ae95318c7593901f18e3b33b655e9d8b0b2851b1c4b7af756d7a7ed6eab1e95f7144bd74a80aec9f6daff3294a1bfe9bae8c74c9e936465782e93d4e5f2260d7b8b77582b9db817111cfe2d157d016c2cedefa7ee71d705b67df816105270d270489a8da6f7b7e0a72b1e5ff09d89fb5e71d568bd8e58684bf92561fe90a8fcdae3ad7dc0358418d563209ec13af6a7df9f8aea3eb3068e05c8abc13f56c6984c8e5473b6e09758b78affd7b7d7c9787016e4ccecd121a14fe21b62160845215e16f6a72f51bd41fc6069b8736704fadc27ca9718d3abfc4f0f11a6d733159f4718c0796331b6ac70787784962ff3acb21fd533cc92de513e4fbd6da1197f37ba90c4d7e34b1b5e89c0db1138d50f4ad8da4125c1777e6185dc9bef9dc560a8b61767060acfe28f39ce0a2a9a0eeee78734bfcd362a16aa59b20f1e291da51906d5345b61671ccbcac491aa841a9ed73ced7e13dacd86c59283c0f3413c01955774a172004d961c0ce1cc6ce0dd439dfb86541ebfbb5dbeb9d1f7a20cb8d8183381567f5f98ed428567e2ae2a41ef0436607294d6fdcd73f682b1b47a2c75b7430ce615f2bf0a1b18dd4e7f0013dc261ab806490448d8deaec941fc0534dfc1fb96110fea06a7aa143172892b5b78d2528a78dc31473cf1684182a77ae9e4c20f2442d2a762762a449ac6cb3f886e9b99653de8d232ff7f85be10d70f39869b8b347367ae2f20f450502d6d8afe49f3698b9716b92cc161daab01cadf0e0f880789d5105faa478a759a4648b78bb17eeca17b2c82febf94a2dd90a2ae38756861e3057a958ebf0d6e5f0b7347b4c99eb6545419624a6d55eb872586a8d6cd6a77cad78a758aeef5a4676dcb3252f7b10085db8e233a1b5231e4ce0af8c6bdf7b69b4e4b3400c934c07bac407b95b0286c24950b31e4810d295f701c0e0a8c04362cb17ab38a8f8800c44f8401bf14ef9c903cccac2ea642e63427205251ad992ff07e07b76e01866b1cf5794c9c3b25b9108e67dbcae79be01584ea695a0fab06110cd01488da5238674448413c6315c4b251f977c7285b2939a00bf74c17c4b1673f14eed174797a6c01c98f63b0ecb2438ee59e2f19c33f1244206f78b128e4d4f17298de6e2e0cc06b88ae4c07f2b455cac6845d0b581172ad17ebf5dcbacd2100537cd0665cbb775a98ac68b87b1a6be8b04c919fc3b929abe6147fa2dcc0215b0b8560855f54dcdd0239c74a2baae4d22d72fce398253bab702583e6bd0d372d570a338ab1319c6a2dacd6b39ff07fb05b793461072d3c67cb0c411da685bfe7d7372948672dc6a97f642e58e6c92a51a30c03a1eac9ca25140a28cef81ef56b41ebd6de4a76a6a514480a308d77319ff23938b35da4094da2dfdedae6559281522e959e9acc54cb0ef6c963ea4baec8668469a6e5470c7f5062eb95b56f31667da0a318ca42d42887816715b655454658286d973b8c720bcd7294d931112f9aaeb1e11d7a8814260eaf52e8a4c71bebbc848af41080ed6ab904a4a18c9645cb35aa4d4c54085c0baf7b28a0852e99426dd575e641c1653600aba2626ab43cb0452f468fba3771128964f838fc1cf1ebba444e01e7827a3cb95e4e001a2fdb970944f95912865d16753ef982ca593d620a4e69011f98f1a6c5897d35c8f575522992213176ca97d1787970bdb07f423b12b9a6a0bdb79099d07e2477d1e0dbbe45843651299e545b5edd506070e6d1fe12c699b89b9041a61977c3f4b55892e97564f9bdbb380c7f6541a5a2961dd7e4fc14fab1f0ae0ff9e9a738ee2533f13d2e1f2afb1780996e2d2b96fd8a93838f3ddef8e58065646f4152e97cb3756efa4cbb1ab02ed43a5254f1afaf8231a25394308464c25eaabda40af4073e7d06e26d11948d509f896b523500a2017009b774a1e43807f350dc502c83f0b5231a22c56a0f6ef18598485ed1802fe9678960c5b3cd2fd7d3267e8ebb08472ba45d86325823fc4b79eab7a727825893b01652b4ebca9a3d6f2d60d142add38e83db7e7b070643de2674fa3f3b3e0778d89345570c8ed9d750d3f0a0faedad9e2b06cb9c2f8a9782c8fa7399565d4a4ddbc58e256bda55a4630a0f8bf1f86d3a4bbf5236940f756d933fadbb06b4e1cb8abf2c6b7a704b1ad285f229b3e2704720c2fba9e97e1b427f4007b2f397c9b6a755a0caa5f83e3e029cd09da43f591f3162439fc7c99bf84849f2f4a759f8da89e3b984aad88ce00938ea4476e3760afab1adfc5b13a2ee0a55f4434a987ba2af069c3f78548e17c7fad569f291f6f065e29594c7a6719bf264d33cf75202f08eabc25d35f82a10b3aad21d5ab27330482512b6aade750e1472b18a1a193d604e4c8c239f16852387edaa4f043a3b1af8148e8411a50e85a84f9f471176b860bb9b2fbdae0ecb0dc8104d0dd200a2124af6e654e97bd1bc00511397a5ccb6670063c50d0b9fc6a48c24614ab48a9d50afd69cfe37b8841ee5a2fc531ae84c10ea812e0cc90e758db86b3c2f971951dc85c0615c827da8adc6e84fec72feadb6a44da948f8224f972c3f71735fe29567ed666f8593cc37de787449558c7493d3f05c2ec70d42b447ba6f40c4f74e96b41f75803cb9dcfe4afd5f1115363f1f4682c15780dfe4fd7fd761bd464c6cad04f894b1c6946e0cdd54700c06cecd7a2e8f5f51fd09a098ec5fe375d5be8c0929ddd0e3657afbbab255d694db953d90fca8cdb66fa2194139e5484883fdd7cde1a343ae032955ceae0536ff919df15c150b34d598beb8c7456efb1f7339d0525d1225f266c44d2f1bceaa618b91076647ef3992966fe8223449cc99b503a8e1b4aeea54f35e82d65e633f57e479b7c457a0a35291dc45b9aedb4144498787eebd0cc0e1e4b4b4c703605beefe95ee5e3d24b5ab17936e266e1315eb72abf9e9a870a9a05557b104e3cd57f8b14238e3273faa94d6aec21f684d6ef898db304a9ffce236b48992cf5b34ded563265853c075ba9cdad4254a69730739bd64b13ce6b2a568a12ffbf474ab4f665f4c2ff58f29a387c23ed70b80877229b8ff3a3e0e9300935a9d6b36d3b706346520b4343556028d6a7bca144d8bccf9afda555010bb33870f01762de1a7feb94be41e2bb3791976ebeee82eb4340c55ce7da13f79469819eaf92049a4f482ff7041487a598c029bb3dd539565fa8dc16f6c09d1d9d181c3bdfb5ca5f5bb685ee3a0244943e6ae05276d6507731a3e4d391ccbd7215fa1b339ff827f2e7ea48055de86250dc5240133c8557d5e2daa1ab97a8db364e185361fd1353a4dc3de1808481ae19405b0d225fe673a49654b3d3c5d6928e1c77f11463fd095d5896c90603447b250a5addf9460d6cc4a8b8b5a38e1e927dc55026dc804035b9fcf40003e36af0c75b259782024100d3aa32fea831ef5995488157df4f3578171b8688b854de773346c0a8f10c8b30d78a372e582c369edc6c5c13be4298ba2dc2ba0f0faa46aa55f1f523722c379ffd9acfa830122c2f0d750f3e17c173f3044443196bff87244c34f8eb9061b731761b378049d76598fbf000c2f13e446bdfa7cbc3180b8e8bc6da6b8114f9d9318d1555279c55b3f76729bfd0d0fda8fef418fc9229ba32e01fbd8b6ce38727d41d7e63bafdc59edffe395b4477873c10e4e01d25d0752434dacae53327fe76e288330c6a329742c9dfa0b5707a3f0c2d72fac6950c9f889a8592464e9004683a543aa80223ba6a4e4cf77946d7501009cad4ef0d9c655132abe93d6eab3706a0512aa0ea212dc513f5a11dd6833bfbf0bc59133a6a33e324eabb5e69aa261718d04f3a2fcd50acff006f8fa9011ab44f8b75f4d04df37f266690436fa12242fce5f7bb61fd670da1060f885fb30273f0159a32e6f7ecd1cc0c44ae6366685fafbd200d28dc5aeb3e0d505cb9e9324a22427fe6a4ce1449afa0a8d40f13dd605257b0f3c84d9444b3e2952a34548aca2a8f90b7ca23126c0c80d6dbc9aa212ea469d6fd8a5157cd82e58c115aceb05bd451308bbc8cde849b8235d6c4b93c8aad123d40836a8cae032fe7492cbe2373070ebfb57126a85c09ead04e720f83870882d6b017039710f03b7a10feb387f3d6ef8330ad88fbfdfa1f531c19b44402e2c98638d705a5db1baf7bdde7ca11c74c76066170bc1a24e90fa3772e2191817706bcd1864feaccda5cc44265c95118a577f418497b457b19f8364fee0a45bfbf695c4dc087da474fc15d81c5c68ddc83c4dcacba67ee5031c3f25d53c5eea596c517fb6a0a705cb43e3f9abb2f48a7f86480077962881a9ce7743063b7d600d70f9e57c38c76d76293962eedba8b4b47d873e893d4ca6ebf49cb9baf2c90618f768cdff31b48bd7aff3f2b05d33d68b31301c353f8d60ee9c118a4f838233b76679b395271cd83125943c637b35a815a0a58d64755e4b4fcf8db710067d9f28b84a13265cffd005395e5b903ccb3774eaa306188aaef55d111295e4ff13e5d207a9e413eb7299ab1970614b4d2ab8c1e1e6354a45e2190a618aa033f9359d9e155d4bf27cda8e20022719a0d6edda27df2678ccbadd255c89e7b894c6791cb95526a1e21e78a4490af1b8f61c0c80ba266bbfd37e469dfc6f5ba1caa99855b9f31c7a6b2583f1ffe57fcccbbb159166131b7611e974129e0db6bac59875c999fbb4e257b1de81028eeb1492b087843104d4d95e4a3db09796833b0b9743769536c7dff6330813d284c106d7c23627fff81b8acd0e31185165e20e80a9337f4c615a6ca7335d1d52bbd13438f4a3935841883956e649ef61b27dcbd394ad84bdbeea6b1d3fd424dae28b79d91fbcca6c383000449978a6e8de9a99b134f7243e335e9538deebfcfafdeaa7d95f84e0f1cebd81a5bdffd0a510b5e73d8ab19c41e779106b676ef8569600d082c6792744ea201a34c6eeafcf27214c57a7da53ee7540627ac2d3f7ccdc0972bd391b1b923a720c04bb7334e1f4d51e0ddbe2d18d33d3310329eefe869efae7985fdd55b47b0b17fa450a9d8e5c878c64db5916674144f078270ab0560838d5e87938058dd6b2909e77e1c2517ef84c10f6c46ee9dfa72ee7b70d52c64ed36a3033eff79c0b7d4d1e28f881398a31481b798b46536f84d68b28a93b40495c599ba37fcec86461d445d5336d6c17591aaa9f86eb3253a5983c3c457112933fbbf8baff5fe4c63b72f7913b16d8866581cce2d86010106100aef57b43b37b9e697cf2a088b2f8d59d32442204349ecee4eec96bec3dedda69647678c8bb3ac0d30002cb1531e7bfafea620143b66de752c98c0eb7deb031cad0ca4c2dbcfd8e18ebb35f0428177199ec940bc2731fa62ed4e9bdbbfd8534a90b5975a95f5aa175d5bbf07e853d8c133c7756c72b30594e40d8500519d0376b34cec596b1d0adb6b7437fa89726d1e638550b0f747c77a887cbb66bfaf74fb730437dd0b22248993fdd232ee75ec7aac684da57c616869848b13513f9c4dca5c90a9f02c902ca5e3e9864bd06c1acf3a6672d052f2cdf4f17d8a0d75c1f1b8da4ece152f9db683623e3516209b933d34d893d3f4b0e4f1eb0da15f4ea20204a86468d43867fb12101efde7711f157b79a794c7416406dbadef31b3481543e2900a0c36450e7cdc19774ab14f958934a049b322523ccb671a56b8da5efb6fd0d63bc61649f61ba2672ae402e9fff3da65a9069df34b36bf1a0073d8a215098e6140ae6350c46a6dd273fb7737b7c7aa9eccb6f6a120df1c449a7a73100423c8939aa8a6208f74f77bfae234d881ed7047221aabf9f506a9ee2d3109b19ce58d961168dd8490d06b65498695d90f2556776cac09457f30422583ed12bb35972ccae87524823ce8b540f50e2839c7428460f5a6f3eafe3a6e917c9963e1f79523dde52bb15a4a0d196bd23d46ee4f1ae68830975b67f5e10adb7261e5ff18cc98a336526bc75145518b039512af87e4d5625f6be31117a4184da133b4c40d650baeeb4cfa74401eb392b65afa538e4a18232246a2b36ba755bff51f59fe4ce947824475f5c3f2f7c455b1204d1169e65e5884d03529ef3553f1cd18eee9d87d036295e0f48fbd4274ba09261ee34f6bf39dfd98d8a7536f3d423e76ea8eceb93ac1c10680f170d1bb155c8716bf33fc4a319066f986ccc281db3df605c301201e884ff7d463b3d592b506ec6320cc2d49eb39bb3350790c1f5f1b2918c7ff58ccffdada1aec9f283d56773b4d14e4d495fd22eae214ef575f10e2c9b0016f7528a92e7060dfebd29599e7171f767a8f7b2a78586b9aa7d5e4772dae01dc982286f6dc4b6cb743789a4eab388d363dfa4c6a6b4aa4b233c6adbbe7dc15f8abe3d57bcf699fb6d2d301b9f756cec66a9ce30e3f8037d0d082cd580fd91466105cefdb7181f8cad7158cf2bd9bfe551feec3a0637856b31d08907b35310cf241bd2dbd7498388768c6d7650591e3cef309a72ce6adbf7508815d7ec6cca2453be1dafb89252e16ad997828b67d9b924b2774b08d7a2beb8120661381fb8f6711884060eb15a6212fbec46c932352e15feb2b37e1e4e995203271db75d15632b772598b05ad54722939b7ab6b8d99b21f3816c7819f4526edf4457d8ce13e70468ffd9667a02d29093b9a77f622f5fce9221d70ecb68a536cb7d344aa40115eeaf96d548691984462e418129c4e52e16e1dab7924f5de127d98c42ff640f03348b3add7139cbe7aed361d7cda81bd2ada7f65e8c16e2b75a37809a97ff80f93ecf73bc6cc60f4660285d105f4662c1ceea2f3ebf78e7cee00a42927fddf3ef2c108dfd28d9456f3c14d78decd75ddb2d6d2fcd2068a102d48a5bb65036d3d223d53a4392c1f13a33dc9c94a35c86c93cebc117b9df0b237718f4ff8bdfb0e0c4a9ff85ad5296542f0c8ac7703025e9ccf46bd6b3cb580987c2788c63132f80075d109135352a4683664064c64864c26326ff9b7f9d638b98f5a4af4620865e8de3c9d0c2dd87b777024bcf02c0cb36362e754647d7682a6e9a6b80044bf1e51710c47bd875af06f4625fbb63107af33f7d15fd37b79262e6cd0aede81facced7d4f164ae6949212b30102cb81ac62e068207c72244e9d5e431b494e1cdb344449dae66d2d1bc798bb0b0fffa7b709fc897b5bc27d5544e67331b355a2a7d9586ad2179dde07e908021cfa383e04e7000d34dd2d6166f922708bb2f77c6e66c90d09d37c6fc01a8c63473026bbad64d57acece874e4e46c03db52db54ed91b3de7b58c3b39a61f46827de01e5b99344abb21120e87fc84be5a4c2df2d7f8e03abdac439b64b24e3090352a0556bfb62b964eba02c8783a558407b2e6d049271ac7adb5b786e65f9075e29f2d312eb4600f07572b83673654f4e72375122459f098c44f788b0d0ea21b5bbbb990c9716bf8331d914f7fa434a127d4ba20cf718209a5d3969490fb496d460e3625f43e21af1319ddbe4f3d7c12f88b2047e6152689c93fc83430b6a9b4314551e6b6ad9dbdab4337dd1f87d39e8e7919e8a888f817da8eb98f5f78d0c3f29d8abf6230a5b5f532907e5944029705287ae2c49c745add845a1fd3e2bb3151f9896f2e34096db8a819853c7207f57730be335c1009377c255c4840c6e5d75c1f0116e29a8b1a423ed0b2a01ed0fbd47fd79cce6b06fe7d0b4d46da98321065d9bd146718e95afb146bedcd431f76b225a1c46b6b938dde55190f1f42fc8eceaa5ceb4f22b0308e9bec50f14fd9b541ca2214e10a1d603d1c23ba85e8ba747cc074100cb6563adb3dc640c3ec23781275d70079759f6cba85eb579bbfb9c79f8ee20cb39417dca68e741bae54895d8537c45ea801c1ac904d059b7c34076391c42d75c8885997ee850b8f3203c399ff1edbe8079a4cabdd5e8d3de07ce8a2ffd762747c7d88b82821dc8dcecb33a4a50e169448da897d5f31d5592f4363d3c0a60156f255380b0913f569a394cf398d2a329b1b5a34120efe41024511325c1e188806c4d5156b87a5de60d7ba8a04519e2d29143a671d2c5beac7325b3190de08b5be0d276ecfd6d88560b0f92a7d4433acc9aca875da3c188f1c81e573f7f26530b7ea658d464cbf87c94753bc73bc17761c3c918e9a5e34240446fe9f810597135ff3ac82ea9bb70760a8824c9f69beca44f7d262e3416cc94d27b3553cff69ab5897174ce4480b3a7a6a6afd8acb3b3088c42fa876cec94663f303538ecb005b3af0089baabf57262b69ba6b1403ce2f67c3e1942088c05d552a57ce48403901ca1767a4c5a59db43950182633702b9f64bf5bc1a115cf5f06a042abdc55db1fe25746fe959686e884d550563348ab3757d13bbb8e80ff442ea5af7deeec9dabfa72c813450cc0bbce5240c958a21cda4180fde4e8e44f7e0c91f58991b1f7d57f41bb8aa00fab52439c2296605a2896b5537bbc0638b89bcd01728d82f7d978e5e81887832291db8f8d6e201a9f152abf9b46161a768173b3f2060959cb1134d983955f1afbf1472fbcdd3bec0b2e7f5b39f930332383d533661158af158b521c0eea12ddab044467901c162569f81e60c17756a3f78b47f814d28c67a96ae0d438785417bab2e085e3328ef9d4858da1fb31d243b8e49cae8109fbc6257f3081dd5e66bf0ce9a5fd8014a63448a618c4ae8e12489a0b1d093be01a1d1af6b1c14d5293ece877ccbe049328426f43fa5a378e5dc217778aa01d5a908c998773d364c73718907b8dc367c089cc3d5e4af8bc21d3f6e60562cdccf1afe4896d8431433526433e7c066c4b4a89b8fd6b8b44f864fc0cb6d64d28c2155a7e1de1020eb0d90a5477c6a7e03797a7de363672731e64801250e336e2bd1148c2aca3628cec3407813d5a5ab0cc93715a98b137593e76f76e7d563be49c3b613b17dcb3cab49d48d994e1a3cb01c641a1d7b53187f58f3882fb201179303654339c9b3154a4402485f9812ea27ac664fa9d9f71fba66a9b5d29b51c947c7caa20db72f85a816ec315875039ccc0a5298496d4a1b3e4b17214a76e37bf22275c5d724f78506588592dc042473b2f53f5bfea4fec49747f90df21bee12fa5e89abdec0ad56426aedc263b9f1cbde10c1214ef94b83a6095d5ebf90c4109e8558b19ebdace174e6e08c36ac4ce4cb1addc4eaf0a285214f13d1f0e6695e5e43048742d67d60742018aa2c52547dddcac25507a115ec6db098f5e816647dab76547f6e5eab2ca8dc735ae986c09fecb932daf475fbe6ea7d1d29180ae1b15fc43b0b5495c7907a696cdf44386419a2c69e600fa7be25befaa758d2c92d682dcf9bd81540010fe973f7bd23e6fef99f906c76274ca7f5e763b823f03e7c5efb5b341d29b6f55d4cd9c7b7ee7a2bb95917ba77b0be7bd5348d171c3350a1d98d8f488f34e8aa84596abb2a9a24683be1b74615c22282186251234af3cb5f20cc9d6df0d141c535aa2bdca35ac7126e10af5e3b7f1799aa04891d848e7444498b3b37651563e75dacb0d01714b842df77fda1a9d2733d6713803d2b156cfd542516a1391cfd6933566470fea2a72ad9865c4aa40e44893f0f46a2aefa3e5435ebd2c0e59207ff46d65f02fb414bc86473e72c107791b868edab8365f4c319dd9de51cdbd26a834ca3cbc9de4cf25e28bf3a605377c530de236ea363bdf8576ab7845ae261b3b60c81f462ff5c986bfc68076810fac4a9aaf408fc1b87bddf37e6a0b028742774b589de497e0b98b7a7a69579925fc659e962e750a162b25118848f3c26d9bda60defcb1a7df64473e0786fdb1f7643abe21ea66fcb42a350ede86ac071b1239fda620f585fe1acbcc1e0dbede44fc2832daabed567ce5fdf797daabd3b89d382ca562b28b0865338cc2fcdfab2e2969bda0f1a7c6494a2c8fb32edacee0dbb748d787174f574e72e02c25a88c4fba296d191fb779742a20ffdacc6b12d18bec4d26b90ac4500066c92bfd38dedabd6c4ec7be6632c3614c33a8fdbc89d818555b20c77ef3f1e7b1627e7a1050e4467c35c9ed41679a34e278da5faa70a1c3ab0dce024317e70d864f8a9cbe548fc60292b8b10985f4038aac0550eb20b2e0ec8ff33da6403eff59d9e85f5f462e68eb4c395e7108586650340abf3591694b9177c5de6d77bff8d4e961541a066220130e8952f2b91e9e28b673340e045ef3d3bc6ffae45777bfb15bd8f2949034f3102493f45dd944932d8e9b578801a4f8f3648ed1b54a0b9794d28092d4dc6ec498c5cef0e5012416788f3df5a7fddaf74d46616698aa13f6110cb4e4abf8aa91d70d85f3a79020413664c6f068dd921fc2fa6f8b72306e085f03f530777dfe33062b5e9bd7d4cdf349c8d7ada8e373ef3b9d6719f62e91168043e6452eec6ccbb8dc152ad5bbd36e0c72b179cad31dfe23001e097ea775327e1398ccb3c98a3c3b31e235ded20f226a551cbd6e2717006b23b18d1c08a410cd30b467c77e807877b14c5d47764dcc949fe4a35892b0dfdc3acfe7eb581e3e1e4b208bcb9d6f00e003f6be5020c6e6a112c4d0cc5ee5418464252bb01b65c157e566a7d88a9b5096869ac135ab9a4c0f4114055fc050f6f2e500da1ca3ccadb4de613d659fb76c98e5ddf05c9ef5d7ecf1ad927125eb1d76bfad80bda86f6b03decde645baa2ae9af43266cf879f5c48ba3cf9043e020a93a03ad74325ca700242e6782e4aa987d0d51792f826e9bd06a3ca02b659fa7a634f6a530de2bd577855106d4902f4216853450098be5da06b58f8deb29370fd699b1fe6f4d7fb92d7365fc8662dd592311252f202dbc024fd2db19102c17efcfec618959de1479fe4ff93095ceeb21f9c28d52b274b705936bc91042bdaae63089596439b3705270f79d570abeb3ec7c191d877643c0c864230ba7bd7f40077c803b3f941d834a8b923a2a1998a052879210467feb6ae1ce6d64da1fadf9f5910cd88777eb2f257f65eff8c0e5c2ca32470fc0487e315516be087f27bcdebe65414f2582ddd79d4367992ac8249759b57deaa0fed1b530e54ee1f3cd8987fbc8740c7e8236f91fd5e3322e51d78c838bd468363d291f12f3c2b7a09ceb34d84768c1f5aae55442a10e983733818959b11ded9fa7001a18959509fab0c8bb324d1329e323f7f606d3ec8d9ed0f8016de036b3c320ef27ce32c82541ef716e40bbb01d65426766460ee7b795456d5485c49ad835704e068c7888c8b23d10169e298193f46f2cd694cbcb4a3aae93c7c8e8cc3bd0d0eab5b6df8abc540dd046f47c09853ad06808cc9a71c8ed05bbeae5b13721d054ca29be2747f288b9efaa3ed5e80667229e9eb765b6762e038d40cc5e61959f1623b9c6fad8dcf467390559c88e259a0c4abda5cd172b26aa9d8688c954a19a853b156c0404a6bba6e213edfb89393db331c9ddd5534f7670a62cedc0067680b5e2b2ef0be69446b3d7b1d310fa40b47e5508bdd657176387752d3eeae58a2f0bc9d87ccfa8bb2533927cf6ee96659e4c1eb84f3658491db0654c4f6acc0054a956dcdef71bfad9ae67dcbb3265e0a484e1d67765c74721a7204105c02935b29cee93601f8b24541ed10b4c17882c8b960d8bff6ae5c9aaedfe19af59dc97275858933a9a9b0157b95f29c1fcfcd9a8f6d039ecad563c814bc01bb853fe32a2197879ec3c76ce39aeb845050d55e0647a73b0d4df99763d64cd7c0d10ef186fe42740fbd92f7ad323925c3c7a5b7d5a1b3f67cc14b46273da3948075ab9702698a28e08a85f97a75c6fb157105aa3b0d7fc8d4301f7cc5b4a9d581216c7ca0056aff162d2ba2d0d59d82e7138539f810bb8ae8b9a76dca149c570b79a16fa4fde99628fb19f12d9918f721d386271bd2e6bbe4785cc8dbb6335229525329a243445c890ef0c0e2434184e1ce8880e7ce8fc0f4849184b6b0271b8f6c38bdb934416da19b5d5ff8273cf9c8795afa619aace622895cb05a828685642be57c688b0c59bc5265c10f3b15166cc8128dd8c0501aba8ff18c64ff0b41640107cda9041b5303b86346241085f7b2b453ff3f4bea79dfb13fd8c3400c3c46146b16a2672d22f483336ec61ba65e528d37a2daaf9c51209251e4461cec3ef66299a27b95d4ea943d001e375c56764cef3dbaa6e2db50e027a52f1a4874a5a976322b09d25ed35316be716a19804681b6b69c4e3b8269a6612f475593c6e2f9434966d52d779c2e7a00f22bd8304b699412aef59723c9476a082d1aa4d96730e3d8cdf9909f1e7a52ae6a183015573f1168245eac034a9eb30688fa30075b4634cb84fdc7b8d280df2ca7dd2feb7c1621b531241778261379e278e3a25cd486a778e74efa12b6af2173fcdcfc5cc950a6eae93c1f9946de904ff81e26732ec039aa61aad18d425d8c28292e0fa847955df614b3e49fe2f888e919f0d536f69128e4fca6cf09bb32665300aa18cb627189f7d45a0fc679ff14176ea15646741b222f469d3d3dd446fd2aed735dee3a517f9a4e73506494965b40673d0940c04b9ef4508ab70934ec1f6fac3ed1e17dbee31637957ff9e06106ab38953e6bdcc644c7565a9eed04bffa0fb2c999d833021f8490d54512cf40c9f9fce358dcaef430d02402cc87a7abbc45dddb560f461bf33ea5de374396c67c4a302042017b0f2a20e3fda67d45285f9b591aea3247ef4887485eec884cc508535e8187e4421853ae7869a205ae71f0cd8f5089479633424eabc0198820306ba6b9d9709821222fbacafb5ef07ae30bb85bc6d198755f1a4dae40346184cef8206378f524abf15a991f183f286cfe5b8cdc2dad0659fe9a790bb8a6a28ace1ba145d58f404758b0b5ec6f177e382dd2a6c3a9618422cd5ef4e838d3b06dd708c0a42f1bc280afbad75fe277f88185b6673051505da47328d0f05145cda23747318a9b1f53a62c7da6d41e9b8083b3928782eef5f4595068e8a2b7a458d03223acb8882cb7ee54026700b561aec0a16768f7b01f9e14ff5a8b612df76257c71125a841ca7cd0942ca57927d502bbd2635563c3e360ef63b4f1d3c3d6fd45db0436fa3940cb2e482bd1125fd4993e566a60b75d3af758547e89152b112a101bf037f722028c70a3c9f14a6fd4ba8d243c92865a4a4cbb7d46205c960a389773f452adb2b23870e65451cf02c0940b78462f395c130d9fc6162416fdf18a22ebe2f2607c80b10a724c4ff945e076d5af529cc3eb00f225b0b78cb00f7b984ab7fc5d30b71e0851902a9537573275bc280c93e392bbc8e154c0bd8111966088db948ef27b437661be39c939fb0b96e572cf81cf63f16820a7fa12d1ae4cd804ac3d572254bcb7107f19c058514441ecd300cd881bb3d1126ebd3fa20a634a06ec84a5cabbe6e9465579af7178ea0459c502cb61255500b10a7956c42204ecf2d259623793d993de8566e4d421e255aa6361a438f9adf723fc02c0e00a8ffcab29249f9e333eb79d77a4e358150ffd0cb46c0eefb4e68d0bd1a3b89be0b06a847096a23c8899d63486da77d5567f0e94c71cb734844986e3ef97cd6b7d90f63f270373d3a17cfb2d5a8f48e38141624098834e759b5c1ade4af4b936c49865b28e40328f113d66b7b1d94a9a73118854f18620cfe4269a41f4ab37c18f3f844976eafcb795838648cdbc716c4970599cf84c0c59f1ead416f690be8ae64ea295875a0c4d19c7cf096e5027a4380c16a87596f9f217ac97c628e47f8fc0db104aa96f1e7c4bc22fce988939447849d844ac1ef0c190d012534551d7ad89c3d7e767777cc333e813a64645f44ec1bfd58a390509bb6635975d326d2521c97b8ab0ac91f8ae5ed187d214d475b064d4a9137e9741900f276d754ce0ccb2660c67bb50f3c159120cbf4e3c85d11bd7c30da1c1d26d8ae60d28ce00d214e26100407ed21aa57b8ff25fa499ad1695031f7cf8be6164785709ad50b668abfd8e3a2eccceb558c5e702ec38bee27151ecbd334c53b0d0eba390b77a3e54dc06ae7cdacf884e3522ab875b9c3907f06119bb4cfd7e0fe02a837fc0e4c3c15cf0efe934b0faeb895f0680e2a19a8ca7241aaddbdaa94f66ed7390e3d755e8a6118eb2d5c6c3b17e7040dae1f36f51b8d3995a54b006531300560bd8e8b75c89085647cb6b689a91f10e7eabc26f22bd76c9e81e66d15f3b3fe42886c330e15a104c91655fd286c1b99f86fc6c063bd13ceddf688f02c4df0d4913337f7516db03a51d40f40aceed49567a9ba8ff08279701fd012eb7b3d962759a17387a75cc396d993b87d3b572f5f66dc6a5a05d54b4fa58faa32883a18c7ace61c8391db4a2dda896398bd20271f48c682afc0220d5fd7593abe6869a73e4bb0a48b876a554ca02cbf2f09f0dc13be07fe2f6bd28302ad2f9b183a5af2485101128f9f5498580946fea08c52f29798458cde6637b225479de84a0a689bb083bfcdc5e5c0d1bb047e76b0c81098d43f7055f02c3b9683fcfd68b8449ab372e3804f4e3b95d9bbb3a343a2fb70149b73e87433a56ef1cc9767f7ffcd93dccee8d7487c3625c2f3a5ae5959c6d3963998efb23c674536acf123c863b1fed2242e2ef9685c39c164584bae3d0d447a3448990ac4eade0bdb702110610d60e87c7e8a0a9b6cdd47cd0f65486d0b582844b88b787a49e936e27ee21eb6f1738207d15e7ecb61e18f95d35cbad21e1865874cd178c4fb22ed3eed31c6db02f0cf8943feab3adbc79de90c34253007fdb209bc525aaee77a7ab847415b89c3cbc2fb9bbd087b56b410d0fef5a83e4d11df05d3aaedeca88126f786c697a5ac0fa314deaa09b769c252b1492e88bac32c0b78a640cf2a9085dea87fe4410224c676f94f06b275bdaba9b0e2d65dd65331767f950dd16585d58451d74173ad4def304b0c2dc9768b37525b81c7c1155fc568cd4d30fa7d3bbc2b47ccac1cd5bd61a866d96adfc46da6429dcf937226528be5b6faf3b70814bfa0b31d13b32e5690ba67eb5ea9911339ad97ede3704e0a13cfa042cfd4ce398bb3222bed7d79b6dd732175a06c30008a74e2b6d6e01622390d3ee953063e606c8a61ddc767aa0c5f8261ff15802dba0ba3c0baf7217978216182b9f88893fa5dcf635368cc5e7779e68613f3959711bbb77fce06425d55d11f65aeccd69e1a7f57c471ff3282ca58de4a26af134645f74d8a9cddcdb3660fdfc00c24ead4df1fc4a28e6a5673119ec1da5b745d844d4a973480fe888999c339ad0ee5b218a72a0d048a058e7b8cf6901aaa5825f7840a7142a787b9203d6af8f5869276e7981d96d6ea78e74154cc7b6a5c7f3fe83f868ea9e873aef91f1bd893b20196f7a6ee5719e6e3f5750331e94b3a97e246ab389396c95a24159f354bb415b59ee2afd7de2c7732fd77870e427c1a30244205b3ad973ad86b7c4b312170a832a729b10b74b71cb71084c06a7482c0a2dc3c61854e8c112898b402c39c55ed0d2993d0aaa267ba8371f19bed8e675349564aeeaebb2945d23d467ea708d169f76ae4a689b8227a4fdd1cbfbca309cd4efc47168bd25a74190f577e359040c6887ee1a4a5546c044f6c57e1e6e389ca6ff8c6be596705435a391f2a6941f893c422b01b152c6d48b9d058faaf7f125aba0a616267fe5442c310c46091c930edb12511fcdb79758c7bc29276848a8f29e30f4e3fab6062384927fabd01873fbfc2d915d8c843c8670ad4530d8b6632872dfeb0b74207a9cf1bb155aafee836748179c23f23b9d4fbb5ac998eff6fd1342ca860c6b872596ca4b6081276e4c08c236e9f01c37cceffe42b06a20fe7e1c3ead232d5e916fa3113ff5729f2505613d524b39a3ae856679443da60af46ea034dde1e61c1f88c6d368abc3168d9f2c516913c645789cbebf36adc118c00a89652299f28410cac2fc38e3e670fb4a9b94816d11a1a541ddfc4e086fcf4f47f37a21dce94379abed812c08481d58883e44ef5d4310f4f22ee2978ef39910b677f3cf682f58c308bbe256063e57a15304f6d3734bce8016408d3de02b62eb5b138ff4047f40df679995e963001ae87e239ee96d924226c5202537cfebd876d14d2fe6cf46961a0c99ee070bee7aee1b2cfc0e9c46feba9ceae3ae0d743f8bf32487016c9f7cde5b872e3598c5116115438faa77abc97d5d740572538f8ea259d496c7c1f2903d4c1e3544320ff1d5ea56ae39e3975e661d85038cad982d94cd2909712ed0e9f27e8b93f2089c468ce0fc67d80c4d7c6f34f84d3ea2f0ca8a132bea13831a6c0deb2a489543354f21573834a56467b0c972c5c9e07115a36c602400629f67f29ca07ddac76f1d9261c7fefd5faf4b98ebaedac5c7801e1583545ea5ac037c8b2eff6b7ead05182cb152942cf60e234272a849c9feab5fdc6f229e73e6468e3e976d81d04cdc6761919faabb48e4bf0514fc2fa13073a33f9e02d59e41aac0a7441cad060abeb5bb2aa77a310bd7148d0c75f15c60a6dd29228e3c6504d5960709d2f36cb9a236923fce5d0870a9518b9075ce77fe130ff865a10a11d658ab495f0c7c284da6953f043f2c6332a2e4da4889c522eca37b0f","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e2468ae4da1f00a5f24932712ab58fc4"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
