<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"48b56f8cfe043c7bd3f74accfe6c9715947d9ce5f05be4b1ccdabbcfbb9ef271511c31c27b5d6894254bbbbeb75f1f629af5d31c2ff785f12887c88eb809b62f6ebfb333f8212acc3d155b20505121043e4648845f5b2c37d68cf5eefa4ea7fadd4217e50a7765a312caf1e72d1c7bdac9586ff57f7b9800730a7f1d02c825958c1b99c69ce653938b1f928390f5628f4768b3aa724b088c99823748e01ea216d9cd0cb9a0fa1aa8a43237d43d474895e28d09857a8251ea8c296fa4ae60eee8c44586631a5ea325df3d863130581ea849814da8b25e3325e49ca83985cbb26de165530fdd8ab9a790665bc08796d06ef62dc2aae1ce8a134f7e3837e544808cd07c4f88d9d53cf4c7866552ce3dffb9862201e297f2e91d773b1b48967d066e797e346baa8dd55e2669c904b6eed4ee4429a452b13696fdb93d9fa365967e7808917ef42ebc3db6f410d910ce4061cc8cd3273b68d1b8c03f30214e42617034053a64e82fb0a3d861bd215a2556b4d39cdc39beb5472b7f06f2d22cc6d08c6b9f033b728f6ee5ab9ef80f766631787a08abb9384e831d92489cc20f52026d27131a7d223a9c4b37ac8be6e55d082f7a7e536e02e27f952a81f65efb65ec9b888c98cf4759bec2844335953739d3d526cbb539727841f7514976c78147334d2fe5dcd8ea4e02e7ad2d630d96d816c8c9449de188b2898b2c7ea7a6c46a3f50da73c70b1f654a612f75ab7efee8f710a5a557fc069adb174930e842661edba8e8b144a92aea52182bbe07c475199a6cebca56143810c21ebdb0e0cced4865d89d38b43ebb0d587677f615f814dc8b6b3facd345e6bf648e6e960394d91650ed38f701eae22c3bc240cc88a63597314ec24bd8bef9bb7478eb3a2ef8509b2e277ad7b133366b65b5fc5cdc004ca7a1b579abf37841972cdf8247407e9f5ea5c1626bfb3918411c8f6a139cdcdd93591e30c0381b115956a872fae42574086eed0bfcdefa9f115e10ba100719437ee168e04c353741dd4e2d0ad223b6fc3b0e414fb09f3df09d486849cbdd2efaa261552d2d0cdb557696868420bdaae66f7c84a7edf11ca0a96d88d1438204024749ff481add2fe8ab69e858b222d521e6a04740b0afd4c1710f1aa87232201f1452827f69ba5007040c06a685c8072702eb631822d7e3b1d102a32b4364a07217e106b82e7946e2405b8fb31aa2bf3785ed4cfe0d645afb119b883f229846c85b37336d4d938e4f9af976607b8f66305679be8142a4d83e8be95c31dca518f468241110200c05f2efce6ffa82be97cda2ab12f0e123381dd3b4e73ff6fd67f3e94b44043373826753b3c5c8f8ea1cfcb8a5ddc30b0125ed714a3c025aec3f2ecf4adf5171095c8e01498b6be9f0bf85593203f0c49350869670021e8bc45d41889d7bfa1bce2881d766353767024d51e9b46e9c33f6f77edff5898c12142a9650716dec31c0fab74fcf2d7292f065bd61cfee0b5300dfb38af1e31f118dcf2d0cc704d0b1644e1c3beaf7df69b4847d8288665c183b4f0dab728432ec2b0e8b6c0ccd672ea44127e6ae43777f2600c29d0d9222c3783d59ec99fdecf97cc17a2cf9be086a150b9a2704852141358d269de890f977c9a0f4d53ef158a051a0205e22cc14f77193511866941794ce68b8adf1d05eb041eb5505dfab0bfff9209748904c41b10b3f21b7ccdb7d2778f6ef35217be0aacc4cc1bd049d2257219f87fe65810e1099ed7f3e8970b15de190acde8ad34e11f98bfaf82dd2b19518499182d8015411a2cd4c66759bcf6d3909d1fe3183007a9fb6733ba1d55818e10fc8838bbe2c313ac18623bdd3b44196d34c37127a445e991859727902955a29db5604bab3598b856dff18274520550c319533fca92c370e910627790e5edd72bcad24721fc58e67f11c75cfc15030728f195d4d6f8ac6c5d72c5d5865ce51bb78ad2ad91240241601746e06781b29dfc624b012416cb911629ec64bd7723d60d3f6ed96f86fc1db7b89703566e4d07d3a7a676f584dca0239444efe75ca217b7945503902fc11cb40f93749332cc772f30037c2f50740b5ecb6758105501edcce889a2abce7e7c87b0c3b53e8451d2a705f4414dbcf32e55582f7c13c18fbb08b8d93c697766c26740a2eae11aa386b52577f3c3c60e962886dfbec666953d7d383513d9b32a70c34c114e54b92fb8ec623cd89d2db07c46d8ffe63e837cdbf6dc612d3c680dee0e62ef87fa47731d392f2febe3d6cfb5000c9bc76cd83ccb9c7517857c9e9db9af98a6dff52a50eb5d13fd7519f8eb8def6bbc8dea22b4930876173aadf2c9307d9052be9f7eb7e92781ac42f404f8adbbcf462549365f2820e76bf53de7ae24f1e49251bc6784b9624e95fbd3a7fcbd4b8ef66ac128474d44a0defce6b1ca2680f7541b0fb9079e9cc855a856465cf911cbc77d31c9dd6f1f4df1888de6ca7e2837b7a92f1c19cd22f97668d387584f5ef1a9a2abc30ec205519c92987e423e89c2001d30aa673c5d0aae4fff720304586a671e476f6a67189f76ddc104f40a309c37b0ed970785a7f2a39418beaaef98d579030da1d512a1e2175660e9b6243a6d81974f7e4edd0da648da588dfe596419559b8975c3dd5ce9501676225e3c5e180a0e0c4f95db9afc2aaa595a4904f58e61ff0b1fbcb2dbddec515a89555ae66479b6de73045f44b551791618938f91932bb1317f56cc54731acd12bab15a5f2d9f522528ca754299dcce305429c1261ee8d913dc64910188b3b655b883ced927a10b26f6f907b049b73e147e04ec3b32c2ca7277db92284a5423c1d80f0b43836bd8633078d87b0777c7989e333da5bf5787ad0be3b800354fcaee8f4061e4892cabd837d74afa12e4a60e88a38d349e7d733f10678b590ef9d61ef7e9a0840439bf493bfa88ba4db432c6661b8459dbbd788b1a95a63590c218ae9cae7d8dd79a53be98c8d52a942b9653e1a87e8b80f6b324b07b143750254ebc0283106199c882cb47da87be9e13cddabd8ebc13ff53d289d5a8a2f4b1e42bec582a790003ab38d6505fc50c17ce95a5ab2e53048e78a539d49451183e1a138f4df86f5ad56389e9596ee0edf6877f6a03631800f3587aeabaa9727d6682ec1888590089643d712635e6493a859db24efc895480e725788394305737e502870105d73399f482f3f0c181a2090c242599632f0421d11773b16b4c6f481d44b21a70a8169ec747c051ed6ebc4932127962c87c9a85263f7f1d940cab8dde483bffcb60865c3975208e2bc166fb93450801efde6c9f5fd99fb0c0431e43cce0c8504606ac8c166a29152253f19e339dc4662f2a0d801191379cdee6f5228ca4f97df18c15207695e0728618c8b9430971bd90e3c25c60b6c140e9ff34807a5aa2212a7b206dcbc6a640eba61641b913e3bd36cb18eaa937490bc726b79329d079e5c35883edb2be9c6c7a2e339e70c822ba2289ddc11fea6730c5a9cc6fd90b2a3ded48815884ef2b476b570d837a757fe2f5c6e59d27fa14caef9e6cff61d46f0f72a353ce18aaa1c57a72b7acf70a081594e24f637ad9160d1d3dd26031096c9f24f9b48f524fd4a9027119ae2bc7b8ca178a8c5e17300c2dd88479bf5aafbe9b0b1b0581c8e4acf1847f8d1989a22c7366c9582f7b0db3dd681e4a30d2f318e57ce1b1f4f0aba6dcbce59076d1392b05440ccb13368bdba83b2ce7038864997faeeafb538b176eb62858e2cfe1533fbffdadeead0d262785eaa297ddadf8973670447a278e0866b72597c131d6b2b580239d466ab3ceed240b8273b3775c7ab218f728adf09a43b30d45ea57256abd7a4f648a556c63ff9d462992cb37211846a605b634684d7e4b73041686a35d7d20c668fb3ecaf77df2922ed95c15ef2ef0c6af0c7f723b80bcc31c067bb83e1743108056f431a0f4f34e11513de571a48ec1ab223b96b71f53c671706cf582cdef077abae7c09538b7a43d1affe8a69337d8f7186b38cf09b4b15fc215cdb54f11bae12fa193a17d2881e23397ec5f91ce94678f82c11a7749e67e350d0056e3136f3760a76d96407492235d94f2646b5a39a3dc130d2ddc350c50e55e4df0284b9dfb9b51d6a0c0a1c566926d85e81f3ccaee3d461be167981b4674ba7227f47f2d33efe5d1cd0fd4a42520691e68b35296f9068074c3a406c982c8936ba897bd14caae3563237ef23adc955d3aeda67b1d24c769338eb3db0dd51e5b3b307c60ff4af4b1cf87820e5c03be98094b69605497c3ea36197dc4772877ea0dd68d5324330ef646bfe8070bb69d61989f8a89b661434f6312cd4942bf411f7a53d2af5baa2cae0fcfde556af7f26bfebce4afe5791051faa11dce86c9f635029aef3f467b3b83475ced67629a51dab083b888de4fe0df3d42f0fe39ab0042fd1d9e3e2a6e4bb8b8ad50a21f61185ea90a197af2a82ffd488afc72123aaae308225bcaf19d7d0c7ace429f9c7ce8083a2b0524483655e571e064dd4f358739ad279be7ee13ec84c65befe89b84a28ad9c17bfd78ce6f2dcb9fb88aa7fdd0bd9d4a48d4743db445545de2b22dd9c07ae99ff948bdf8244bbbcc199ab2edcfa805a7184b7d59baa2793093685e39c86e1bd911461a3562f2a1f69b9ec609084962b1ee10ca640c19cbd45600436cfdcf0fd938f78658c0cfcd30ce46ab545fe16751395f42dcace63828428e9306c351288625051ecefc5f9bcbd3c0c248527b7b333bb3ed947c7a908657b9f2e024071b96ca32421a423561cff3b503026ad07886d72fd19df3419223c0c0dc6118e08e7a25daaf8b9f97db915fd8b01a048fcf2030bf5c3653ef1f0f127e37607c185d936fc8381d5cee77b0432dcb13b6f783de4649ae0babb0522b53006ee64b7d382c8de9bdfb5f2d5028b36ae8e1b129aec3ab168471ddda2fa9794bf9f582cae877b6d1a22b2329ed69f217e11589d471478b89d56e7a582d1d9a92d020da1ca22e35f9d19f5737d2d7833dee52584d5ea85042bed44d66ff9ace9cb247dd886e77f1ad9ad98df2736a74072eab5007025e495a4c82c8248a2b3d2db0c486b46ed794afe0e49ee6c6f4abb0c26584425cea19cb412eb2c82418be3a467fcbb06dde9ce0f4e226a6a4a3cbfc18352ac15f1b60e5627f4beddf59142a83565796dbacd707e8ad44538b47498f41911151138b9adfee870d9cadaefc342dfef96f4f3d56e6a4785b1eb7dd36cd20ce54d0c33cb49746d8b46927eb54624810f70223850ad1c15872147166adbed9142e7bb82e37ac7120940a4e8855b1381fc17003c85156e45e082a0e84fee65ccf30a85629fb9ba3d10ddb958368d7fb293b211f02f2db7b5a2681cb5bd60a955e779f5c699c9c6abce472e4722b9c33a5e268f4042ae81f4b3e8481fb27cf024c0103c4f846a500f2792da235397b6b3beac1897cae5969ab493a8633f782d729865b1345dfff0fd4c20999666ab6d315ee5a499d9be482d44f1a1cbc1385cbdaf29a20a22b26c99e951fe3d7e65a17231f81e8c9865f942fce9ae045f5eb05edb50ab8aa96b41064547ea65142bbe836e013bac6662eb75b41ec451343529b016d66d84aaadff98c0c10a3d10f5a4e06df4a2281a6049a35646e4411794765af34d16659e53f090d77de51ca691cbe84fe3d6c26794995493035b1cc1883528bd651b80b1552545298e2ff550018fdfb4892048ee547a65a4929d408122c34909e97fb468dcb221a990f344516da1df228b00da49ed9bd4784a67c9f7586c9fca1fac16bb2c193ace702df45f6f7c21dd1f22a72bdadb0537e0c6254c78e07382ebe94afecdb0de66bf121eadbce8f5e2f46871d2c01543dd69d67b408d04da0529f5d32550f8670feade1c642b5bdc1aab2a9db2fe6cea1e6db62d76f83f711f3a18f9407d9b4f0b269e31ed06173660ce73918225f58b4d62f3183fc92ee2f600fa28f2bfeed4f44a1e89e89c0f85cd09f1afb72293344c07c27c5c390e33605c0fa79a91b0607c29877980db8105908651137c84fb8e9a9c3ec3008d9e7cf2454282fa24982ade3ee3b42cef696e68fe7c74351f4f0a502faacfae7df32d50ef48eee447205de2687b085ac2a2d733b85d8c73c723e4b8c051f43b3981354fd4fd5c846d0e834f8766c530a2f6726aa8031a2b74570f7b20b8f5612432baccb423b1badb19f474ccd0ab5aaa226458c37bcb3d437e5ab9d934b19a83978fb0b74a65fdc357000f80c68e1914c924d28ac7af774da6b51137fbf4c673aa490454ec44140e7b5ad560b597e49c50092b43d3d84e8ba35aa6f53ab91997429a37a351a00f33885cdaa0f6aa67d25899a44de664c554f616260d691d4d1d11c72b41fae1b9dd194af5f62db2d9d2c0429004272bdc190d31ae538c18a0755781564bc20132bbde4f9712fdda6155e3cc1432b3d2f5e8c68201369ce22a63dc3e281a60dbb64d6b2a8ecda57f0ff12552861c21bf94232059b18aedb33c6f0e88a20b129fff31c0d846cd06058b433003ec05831fb70f3c5aab478fbb425a653e2904377b817ac7111eae87267a160f4ab3918efe7e5806090fe6e259dcb470873584673665128ddab05851ffb7860aade964efca23fc353db81f872d32f76d7a157499dc85ae85e1b57a6cafecfc6ae9b86ffe3913087c51b35b4567e5bcbad33b9569bb8909bea6197c63c07eaabffaa52e8247b7403d07481de1e66edfcb6bbcf335df57a60fd5eea6a6e252ad034b726a834ee14102d71e5b02f6025757b6901ceeefa9430ba73f43561cec039cd63a22dcb65e643c5b14b728f09e2cb39cf70c562c289ebaa55616d301b8c72b8f10bdffc6437f8df3558983347920caae88e595cd808845e09a75228ace0d194fc541eee244ef4c85fba9af4d62294f324ae39832ebe06bc615e475ddeb0020239a13c8022cb241c98567e25f4072f13c087500dfbd5676704912e29ff4d067bb382e8e95839eb07866f93293f60aa9992020f13cfdbb0902dbdc059d93d58340cff800c440b428fa541bc66dab9e0a303a97ca507b492c82bd01715f7ac097da8f338bbc77184b1e99a34e4845d6b64b341e34a41917e9f6fa00f8f706117457bff0590e006b1a89cf798e196f6003ea756e6d48a7762b156b965ff6362e17d49538abd284e0a29708f558fdd060f0e3c4252f7994ab6c675b19b602fc7b1058be8bea2d163f9770edb266b3b2357eac55103c0d669ce3165532b1bcf0017a0e513e30912b9d2d5eba97f39ed47edb0f4f5f80c16b362b28fc28009ea1e16163910158da421e99a3a3d942c8130e04f0b9cf65088a1d38a7d17988260c68d425a1f2061ac5c159913856bafa450c9af4bcc868938f5b4678943a3f1de62f0677eec3259028867433e347c6015334c8dd9413f34ccc8e007d437ba503e1dc55044078dee627a48003c702318c09dfffc8935d90f18c0d1ca5eb19706e892194bef3966c078695c1b6ce24f96ce1a2f3423f4d10ab3eb757a4151f730001dea62a0a63f2999ff02deac495d37c5848e33f980141443d43b67ba7ea61f651db6642975d5402ab22a31766dfc0482c387672a4278e41721464b86651ea0ea5891c1eea7de2845acbd96f2fb929109b10a592463e619ff9e33b00bfd52da3ab612a9962964a3740994ef3214812182b23768213e3a4e8d4c71158786e834a55092cbfa74105f9b9936294e98188b51e5ae7f8571e9b0355539b293ed1ae495edf90a19863305058aa293a45a89efde49b1c8efc24a4277b0b4bce601dc90386822bbb3c69ebe8df39f4c7e91342eeb7d04244e64b1388a78f924f6ec974cd35ff4504e02421b6657873d7caabe5380abc4b9fd8d43a5a512039d17927f0947055ef94ac68b0624a2a3fa5f2d2130169ca2725b9766d0d9c90a4322d9a9578c3c3ed2485fba67d3d950da0b66a7730bff74605dbdfcb2d22649b333bab0d29847cc1a5f47163572a6b3e9ea60c0535a492dc73a2264a0bf67d434963366090bd9a4343cbc835c35c6383c723a50625e3c828d1aff56a9e9a180580895cc922302675b22ab984ed74fd9fa5146ea3ef6f4a21c60e03d3f42309e73dc57e067a51986b774779ff14dee8cc23a21efa4064ba39bee8888dd36800c5dde799fb20b79c080abaf9bcba5c00b5c36a80597a6d96ebaf1ec90cbfa6bff2bed8dc91e65c4094b7e79244c8227b326cfc58a0ee00c46437e738a72518817f019889b0376ac52f3b573b27caa82ab7b88402433997959329da1a6c095799159730912901b9e00ffb3d016f9524ec397c13ff41a6e78fe8b1708ea4b79706317aa10089d27239b57865b4937e8f14a4ca710be3cd86cee243feb71a1ac9eca3889228bb974ed6b7bfb5c53fe7a42dcf86a43c781941cc22df0ee0095ac5cea60aa200e3c8cfc0a0e7d39c9020fc4c18f8fae02e45d4a2350413b7a0eeac9244b03cdec87d71bcb26203bcdd0582c4b423780e0becce41f2c1bf0c3314fe0df8d2599f8b31ff2fb83ccfe57b4551d983a9b6d9caf664f5c2ad416a764ad62db8986daac38eb6ec25c125744fd8a248806e7a3c434329f86d796131733845d3541ff13acf9fd9ca5e0a8716888ff000320a3c8463bde2fc166bdfae95958a010bcfc306c55e1c4a5478d12f10375e5c20f2b3cc29315ff96374e71b2e976e0460c1dfba80289a84d1e76d92ffecce5512ab6a59e4d15bfae42a347580ce0ee6bcfeab928646402c164d1393b26ffc79dd65628534a8f1d5df6a2e2574a5e9c6c25cfc0b4e1217bf14f311c2b609d64509922c15632553d0a4e3358c6ec516932bbab294e374f4070b749aa6a2a042ad23cb6f64cb278c6a737c05fea670adf776c51a9ebc223b50d96de60ed3be6b068150c6df41e8691eb7dee49957f905af9e585a7c2eb6390a2fbb88119b2a71ab489d14df53b72677228f7e929eeb4e6aea021639d300f4691bc0cc0c7819a841ed485e71477cb0d9ab213fe8e5514bf9bc8bef933b83ccfd7b3e14b001eb9371f2b2ec9b0cdf2d70be82adc571b81340297ad7dbc5c9bd46141ecd7e83e6c7392efdcae339eb5568ad6af18b18f002da16853dae99891e58fee4e2639ebea8b9859f164166956e6fc068af68106db4af8ff25ce24c15df9594a831636bc771ec3302b074cf5e48f4ef2eabf3d4541304e9631ae7e35485a9ce0f813e5e4c37291f4022f0194988bb563ff5723e026b32fe51fb335e3aa6e2a859960f2b2ae3d56923d14cd7d1c8f46c88e5ce822789fd4491dd561927ef4579b5ad2a18e803686ae4a85fa03fb10e548b6ba1636188b287629d9016863930f1db1f8acdf17c2752b1439adc2abad2bf6a2be085c82613e94548b418a043b9d2b03054c1b62db779d7b736ba565617de1e107c16107cc2a12b145347acc23c081400cc83a1b1aff56f995fef98bc761a009e71247e6598307cd03b78325b27d0c68efff751daf0486823d4214949844502255ab19ec396014ac921d686f417055d402a03b37a23ddacdd7b1ce6fa9ad4260ec3a8ea7198fdee2f35cca90aef792ee8d10b6854c14d33067a81fd7a1c844738f3a5afc6d8d1bbd4c8e6fdc9fa4c3c3e860bec9e24b39d53c9bd8a10ba197b8ba22e032c86ea7655669a2aca4d5774ea1d5583e39dc90432dede96aeb92931ffbf3d0c2113060e6513fe5f9cd2177ee8b949953fd1340bdda01735fa2391968733f54151de811b831b05d3e727cf5e812a85f4c928c072c9d55e93e12b5ff43958fa60c87f3ff7f7a6a78d432af6612b9e792365b1c22d6f2ac4204521f671d1ca8f09bc96bd80aff877226b640689b87f505c26135ca463849951a9e850e2daa20dea3048066f8417f0b68fc8df34ceeb92233047ca208f08d21db1a8633e5e9bb6d7e37dfd8807b3df7aa00790287ae75142b18633afc7489aa29470165875e4144be80ad41c1f941e2356ec6ff40a299a124ab8b16061fdce459348fb416065b1c6b34b779add8eea6b28cac6f3e4ec223938dc4b7684286b11f54144190207da503a12d0f24b20bd4c3477eb574ea265971b697b40838049d44ff283584dfbb5c41a7f39128d58c29260ac6e79cffa586caee3fbb38bd88d6cd17cd3faeb163c279f02d44e80626a906ba05ecabd312ba950d5b626fd48c3a5e009b04235e56640480a6b0e51f925bcd3818ab07d608c4ea83c10cf3e211d487eb209eedd106a900ea3b67972638f5ed734c85b4bb15839e862887c914e7ea8e5199f838298f64a5feeab84f22c0fd156c21c6c3f1997dc88b5be7a3618feb9e0eee4ea72c1dc27cf9dbc24fb7aa7e8df907da9ce41e51ee2db2fa4e7df84e06088dabf38ece59c2944262084e7929788bb61b2f8c03b52502f422035fce3149cbc6db7ce934086daf450b583c36cd624443e83c9679d6396de789aea4a13a45a759be839dc0c66d4062d88c737d8199eab628fb35d68dba5249df749e7c8f9c8ea8e793ac244207a146f025667a366feb30b4ab94521bc24193fee38c591510013158721d8eaea6f667935aec044bef86ae54c832c71ff17ac8e514479555513213d2b34298976a3ebb19cfef8ad6b7c89575dceee7b25b1295a05d65f71228e16bb7fc645674e8747c5dd4cbb01673b3ee9a9a55ee8d5da3748296d395f48bb4f5789147cdff3fcb6dcb936cc2409bf01d19c742e7fcf33aa69ec82426324ff9eb09354bc9d1a7a5549ec32243437cc9095e51741e29e04edb33ba9cae40dbc1e11d3ab29beaacb660963fb83a9f187bd5edff0fb335e91715d657c7a0e148d267a8dca54ffd2b384e0221c909c09589a50cddcde0fefc96a39fcd8607303d354c520e9f9f3565fa86f1caf9490db3fc599327c3249c342e619d0d7cb3f493e1117a45f45503dc8d84112a7088940f037123de33f31b182c0ae4ba0d40f6bbe83b4909614e1d00e2054896ee352dfc71b248f81de9fbc8772e69fa2d344509f917538bdaccf0891937c065d0c5e18dd7df069dca5105053ba9dde35767c572b237a0d091603c9f19c8d0440a72dea8eddea7896500e06a43c35ab49a99747ff9ae5e8de15582a43413711fd84982cdecae45cb0e3079ac076cc21d5545fa800063b2f1495987c161150c961fa5c95c35ee26837ba444a1e7c8c2acc60bee20fab51594536c3c475c79325e561db7159cc5cb61d731f6562b80c0437200e5def81a8f47fb5a7d698c82cbc4788b4c357f2a58ae2b6d3a896e26c4551a29f28ac8e34857bdbf01750eca8759f2b9ad5a01297cd46c09b57b8677807d59141d9daebe6855fecc987bbfee13b648cb8f73e7c2d729124a461bf86ed90ea0c0a2b9e623acc235717d023a5fda6572242865358bd6c45fdb929bc15901dc30e9cbb7b159faf7c179a968ccc15a8cf96c064bd2779c30a2a2bc1b30acefc28bd54b5520ee0096656d4d7870a3a2c5563178f469f06c37135fc359c48af07d6abbf6d790d28659a954a8a0cc65ede1a52413a6bc373973d3f167222959fedfeac6ab26a764626a0cbf90414e0390b8d132fbf45616f05b6f3377c7e339cfe209a21657fca3130bef2b86469b4aafc6af62b1166f7588b5b8c60523f6007ded0ab86f18e89df8f1eaafe68db03347bb65365234348c1dca0ad0425f0f1677429673e66041c15e0710e710c61caad50a45ad201f246ff3bed36cf542667acfff13b0dea6a50ef6a1933f715aeb7a6f9c8dc053d1aad03b4e5f8842ce63742557779262db53b3579c469f460ab345ed19629e05d0b262c3e19e03de792c0ecd34895ad2174c8bf9e8dd6a6d9732427251578f996467ea3e7dd71da1a43e4e74fd026c925a6276baf993045017f036b5678ea6232f9473807c4709a54d38f5a15e920fc639aa5341ddbb5076e0233c232ef39ca6f7c737fcd7a8856667cd820a4a553f77c69a287c98516918c9e5280c6545a16048424520034bbc5549c3b681e10637b3fea299b30b222791347710adcf4f1e08df960570d8d8899d348dbc47243113cfa45b196c5301cfa2cef5d9a637282cc13af710dcd5c8ee1d149da51403d880fb52a292bf5215f08fdb075293afd24e2b0a4f54c9d568c25ad96c5d637e8be363eba8e947a92fc71829d8e1cdebcce4ed850cf3aaa6a0db412111b3d77ef7e1100d0c2a21e8ea6f00543a46001fc94dae7ba5ec361edfca25bb89268c3045f8926a5b58e177120f252b9b5af7014784eed0c3b18fb0fe1df6c2351d816f0ad04e40ecde00c772e98dfcf844908cc2491ef74f03657efea44b9b0324fcfc843dd2a1cd2b203237ec2f836bbc4f9c19ef2ad8ea4940f536a95e46aaffb1f637a4b06fda9b568e085c2365458d867d6f9c835205c4cd8009222096ba4c133aada0f63c4ed1c717e6e8732836be7e16ffdf6810ce85d9f5039b13be64d09a8ac5d6fb94c1d25177aa2f401dcefc22e8bf41374cd8d9fc19f78aa63e94a871b66f286278d06feeff32b5121873cc43338f0f2b767b755ff42a5f398efe01a1be2f1c8be76ec936ee372f00daa3708ff1a71b40a024df7ca8e272f84eb1dcd989606ddbf3d9e2991dc6babb1d70c2d4eb88f90a8d724034905b910c60855e5303b96569ae2c17fbd689423daff8fa6d9a5bf1dd20ac2d8a69828ef200490b657536da95e5cf66d88520fc627e13394d213a69e52e4af9d421e197fe99221ce9d87188c244b20945b01082841caa79eb6c7a1ebf4945cc80b84b1d90053df021b1da46dabdb51e010fb87da0556c08c7fdb6445a785469ee4e4233805c4eb11996d56c861f677b7758c0cdd1067c1574385a0ed5247900697a7306cb4800c7bf44974d8d521a7f0a309c08e5991027a866111c114e3218eb9af76d5d6d90e3d1c606cf9032cfaae8950f0f4a5a661f9236814c02c30d22d7c0d12db0082f0db334da2cb0bf44cd0aa96702d011e63a90f598b8218d3d2ffc349424f75fe3c9a81e069bd8abaa192c6c0712e8599b8ac7d1a0fae041e6de5288c701bda3be8670ae2a1e99fd840f8834eff1d5a957f71892459323f668a0bd09298899d0382d37bb4e3511f968b2d0e80d2a4d75dc6bd121ec49ea715779ed0ae548fbf1c06bb58821639befd6058fe75052cdae3b59813dfacbc55cfe4124592c9c95df10beae1061136f6f6b487084efbc6e4b6ca3bb75b35cd501d95247d956565884b05d8667c1aa199bbd7add94b0af10e7e2570ad911d856fd57bdc72c2b927498aa54b0ced649ac908d60d62bc78e05edec84b9dabea46c4f6238278085cfc6e080541f0bcd93ae7e5e8d9df0470848663acae3939f370bd566f0c4988e1c96b258c61096110eee92b9f244cf50324da08733831149acf37193bd09073b3d9accae4144e2e7a77d125218d3d77c9ec48beee4917d166d36e1f7d443de4d67002af401c8e537a883bb565f3a5758db29e72cf8e42e4ee479db39a927de820938f713acd430bb782621caf219ae5490a4cd073daa3d79461a0753924228a18288a38be0985021284b0c6326a81b34fc20fdb6e13ebd46b7e858afb7fa8ba37f893d23f24108500ff20c82498840915f2747905f1801ab9f9067c00ac86e52f49cccef51f48667de94c9b0361d4d2a5bd4ec4c9ef0468e9ed33ca86e9b4382421417c7fe7508afeaa657d822ec9ce7099b05e907416d148cf0a49acb34213169a9d69950bc6a5682d6f7aa284c5386d33ed5c26530b407c95cfd294662e98c4a16cc4420df60f7ca8aa7360c91bf1bc578f8d69060c01d99d219671121d51b40f21478e32ef7ba33aa4079387019d3fe21cdff50e76ef6a937b69c5f726500038053484ca5783f25ea71694fd1c26d3d0e95149b53f54b2257ae5784f2f9083812829ae6e380dc959369d494bdb8f3d4511bc04ab2f0d51ac44fc6acb3c31e619c1d43ce0ddfb07bbf8fee947b06ef284ab1437b0b972c807dc3a4f333c0c603bd8055b29dee9eb906c9620dd98f01af1c3177194994882ec93f81a4af0ad2f432bfbeb3612ace24b9e99914035fff18a213ab44eca76ebe451f49fa014cf25437067ca5ca8e62063d6bb4a1a9fa481106c96b2d40c6049bac10dd651d75933fe02c277da238c1b587134429853441e18a4e2bf018a90066317b0c9b4d3c461acb9afafa22bbaf4498f39c62d48908cca816ae0cb67fd61a7fb8c9cff95b3368b35d86d620f4e5ad61d0de1721b1565cea70dcba705fdb0615219e7c4e21f8f7162dfbad96c1b4a75a2a71d2d4b7f7e912e41b924808abc0b8ce2e993fdab149719944b883cad9d4107df6ae91ae2f64aae38122ca13480a22d82e76bf4b6709831556e00233ed925a133d9daa146846a5b9fc0e10774d27e1461e805f8b6c414cda55bc271381b1b0049e268f10ffee218e0fc550c9ff10a62adafa945af678ed9f563aa672bb8a9452c6a47f2ed3bbbcd4f261472868b7b3b3284585cf99849e75b7aae4115d3a908fa5efb8afca64f26083c2d686cf19d2da077eb7ad8e0bc7aaa7f2da15c1cedceb8cd63aa7a7f708525e1e147095697f225f5c32ff4bd6b38f0e4b3f72cfbe13968f0703e0298f44f15d8ccbeb148f4f3bcd52b74d3cc91393d8e0543f47f464fa4f6ac755d4d742720835804977f8a45dfe3e43ff261b067eb9da5959ea8a54a9f9cae7909e8aa5d78764276573427c6f27a0caf3f0e10feb53343d109d9e5fe2bba0498b39883bce8e27efb552f55c887af501afca42b04d5c2c28d419ebc425f083d31ac86b7e9785a74b7e7fc8c8f8109e2dc60513078a5afa21e88feb1e76a24022e3d0f574ad8606ad79f58dac85bc83f751db31f325fd7a4563dce5f72d1e83ad7febee7abd094ff892f402112e8b2c65b00b171624e46585e5109fd1ba3f1b6761f6b1355fd471d79212bb2d34ed73f9a97e60c05fe1b974ca7f8d46012dfe30c5573872d89eb34f4c32a29a51e85a66d1ffcfce076e5a710959743c9c18f6db5bd201410a75bbab95a2da34fb00c109b090e2c8449e48dfc2e44dd173f706e591d09135bf983d884b49c8f2e586761088616faeb5928b37f6f6be04318dc10e2e838b3d5ba1b76361fdd01b9747df992d15fe36ebc9d6f38c78b6bb728ca71e7cd3eb43151858c5ba92107e636fbf63a0279f87c18e15748b91b6a81df4c85c0d30642c3390e7a6b0a07a39f0c1720ed9b6be004a6c470357d10145f1588019a689c09a1b4292c4291541ef07ae137f1f7bdc22acc180751cbbc8c650bf5118c7cd632b4d85595995e6ae9f0b336725ec51e2dfc2b79db17dc79056a0b83316054859370e39d9d8aca729bf9fd6a4342c562070e489d2c86ca36aff95ae76e22fe5137d004a4bdaefa80b515f65473c828d983c8b1a853ad35f891254cabff5dcb867db1deed35bcf98e63f94bd95a589f11d9ad4c044f728d0638bf2d4f9b239d506a14d7f85fe338aa40df6dc469b4cabe40d3d35aa3e483cb098de56cb6b30206c184095eeb701ca98b0d83d464a20e8e1dba0aba612026e781c09993d95d0b2b3aac71068099a675f1842c3ffd607bf9fc508ac5927033be616e622d01948210f08b71f1321fda94c20cdc55effda004ddc7eff303c03779429d3606b15e560c8411afb3746464cbbd2c1b927e9774a1da86306cc07b8b31de671437f893d5bbd85a3139494a856f627d7f29a9347d86f48ccfa983d2d32f71782b1ca8701fc019dc0690ed1b71d5cedf892619bf2e0bee6db69d1f8f4ccecb78db07706f95f652cb6411af57d21ecbd49a49774d1ee731c4888c344e283e1a1b18014c989b8a842a014df6ceaa68b2a28fec1502d6db5026e57974ef6482574a28285c7994d625b5f52527dffc470e5fef0827f2aa399bc58b3a327f625e5e0b8615dbb60b284e986cf67015cf897ef86ae88bd16827713a515496226a328633c88726bd67ad6103e8a1305c6b8db71df97224708b1c01ebeb5e4c05acffc256063a04bb2ca46c7939811944dbb4e0998417fdf56372b3c95ffd0d10073cad867cfff20082f780c929910ee27d06927f748159392aecbb84f9b5a68c92c699f58346e2ac045824e660e40c8af7a03d7d6b4e68bfeb0d3b5181b0eb98fb2efff48675bf1f069c28f50c8c5be7393b1bddb4f0389a6f06a64963fa5c7359d20f071da8f9aa3eb795b0f0d7e9a1f8b13d58814b0cb35a355697444a3cd7e4017545c41c3bb88e0388fd0b27106f0e19bdc6e84ef022e1b9da32a1b4aaf9e12e18c5153984718dc5d1a57a0acb71278c1b56b61850514a08736cb8d85147bc160d395826a66a59f6e25bcaf982738b10a6b9fd58217a0423bd88f8ed0e305cac23a4818e44ed14892ccd1e265d2e2b3e9ef7a1c13b27b89cc623fab0b5fd96ca6fcc272c9f60126c1d6a1199b7c449a7470f997a72f01be1c900ab4570cd4cc92e7844a203dc4c927095d29ff58b7d6065b3111df130c477e0aaf2fdd98ec125b10fdd49e1893aa604cbf048541b14b371ca1368607aac5c4ebb19c9d496773b8b4046fe492505d8ea598b7eb2cedd672a3d2c947008ae01112dda2d5484dd13a9ca65130d1b757db76d715efdf65a6f9e1a16b7dce43d8ae03dd78761bf8d61428a4b4679acd833d2b5c06e926e5c0db08a6ff43b8048f325889e14131908d91df12018d6539a98c0a12aff4ee4cefc8dcf001750c68c32ab3b539d440ec52b27d13fa055383208a6ec6a4fa02bec6816ea27e001a7c8993e2dfb4373c1a0b2b457b5a0c207174d5be12b709e72e46db52930abf4e4757b5203386b62ba8f4613f767b929e9af17e83e79418b11a8a3fb9c36c3246c168c65e38aa779e781da554c8ca97504a9a4266271fa35c6570c9d850d7f18abbc69a60708a1eca9af3e7a34d3979c070a1e02ea8c967606311e26c28cb096566640cb07b5cfeb2cb083894f20a55addef9be11754527c2056d8d87ab8d8c668237ecf9210ef13b74d38dfa9453b6169c987112fe7f0a0b1bbb8ce7c46285677225fee1c70fe97f699cf03ef82ed140731f4df730044d4fc6d44e9a4bd0a8917f175c42fec203b607c4de06b6aacb40d061dda41b3ad1ee8afbf0cd6ca9b0cd3a3926d34133f46b19e34f83bb07f7b8a4f9c07b6e054358eb24a783810eda656be54ee8f9aef247ac022d08c956174219e4cb70334e580ea9eea78e7b2e418725b8f3f458165c8851c28c8407bd24e6e63ac311bbf89168316bb2ba949618b5f4d01d5634e5c5f661b254a5105d522b9e65fb7702939e7c2250eaee2b017daaca038cdfc823f7e9e4bd8891fd32bf2cadb96e9f85fb18fa83610b01f3b25cd5eb368369477b314e573348c6a1601aa64974a6e343c8040626525d6d2f285ea66a64ab22296ca2a8af98b264eeb43f766930bdc9d34b0a86f439aaa6ca2c33b56e9176d6aa700dfbf5e757562a1647fe76e033c0a91c7207365d238eadc525a239da151649d24f21b85e1f2de34cd7dd35ec2279291a955e89bd96168a22ac213939e6af02f93e48b8f9670aad4a429cbd96cd020107a5f74efc52d28a696e4f20d6c3039371c6d18c1dd0f524f2c42cc83f459766a7d498c3827407a30207013e43439c33ae86f4c766a0de988304ff34e1985a41968037e5ddc5550d4554be96923b7b37730e5f80c4e893d0d783df76e709f4083bf2fe5d4208586d71ce37f359c699b50ff0aaf0cfa882beb3814bd755e9ffbe10b3a796e8229b52cb78be420858fc103aab72c01a2bb43356c21d0e95dd70e35ce17fc22eee919e76f0974fb33299436c9b66e2ed5e8b98d9478bae0bbd22b03aa9c91ffea8d2cd4b041fe6ba743f124c0af71a717dc4abf2915dbfcb4caf289463957fa9712c5358bbedb09965e3465fd35e72a756574d8f8e0dbbb6ed3e0a5ac37495fafa10a443dbb2bd619284036bbf49e115bd3e2339747b80565739b99853eff05facef4ef72e838dd06128784c6e7673e1f3de53f3bb51a0a4cb7daded2b6efab9214e135610dc1872376d1b41db6b7500b499e70d24e5163e41f719c9f4d2a09b92c2d251e2e5e4ba939b9641c5bc01f6dcb5983638839c0d8d672183faa46b0c6a0b1ae388024024016731eb9a91bd1d453556b003bf8b1d80a2aff573991bcd70ca2fd0d6e72a8b0bca3f0f2501a7b5532762b5b90d3f4cbedb37cb67430d1bf28af26dc006ec2a886b86274ff290136986ebec46bf5343b04eb7e19524da5e30bf4058f3b6f1b33014c2baba93860a6384e28190d87c31e49ea2055002a53de9950d8961dc555c00667d817f34e4240feabd24881ef9a7759d112db996d632919ec27fa994d923be47fcd002b751c4b9b3794775637dcf22492f5428bf6dd279b6067c301fa404b01ed65152ecf9edf331917cd31e87335a6f6c51b9b4c4798cd23749c62bbaea1d57bce2da181ad1425b46efc4d31fcd1b2e23154d9ccd447efae3bcb813476faace3c9308878754df2cefca6a380878e5c60d131af2d0956edb9329165707cbdcbed636adcbf443fa0bf82d92e366505c07801e407abab9bd4b42b2a0e9b5dde2acbb0651cc0a851d1ed06e2889b288116c90ca3955000f34835261e1ec095fa5cd83c7997d11a8fcb2e2d008b7862f3ff396758a9e3011a40a625fe721287f73970e6cca7e6e0c1241e86b632e626c14101e8068f964de38292ca318826529d202e89200c8d0bc1f29b638db0814d6500e0423d2641bf7eb18ab731d41a813daa00877f13d6ac34c7dd62e8baeccfaf46672c4a91d182823fa7f0616410d7ea737bc3d9969666f204d07036e95497bb6c19f3929c1fabe442c7217d1a8c0b1bdc3a4c81cb44dd27717f36057bade355546967865fc3e8bc88bc00ffa8bdd5a70b32cb48eee5066d476f82afeb06ca78f1f504aea6909dc284c32607f77338a9fcb6db7a0c1f1792aa0bf3436d5004bfce8369b961e93da2737681a3effe8a937f2f267f0695e0c4e67a67f01aadb63a15e34e3fd7ddc28ff4c7ffdbb14ef8595c5122079284d4046ae2e4381dbd2e4a6e673ce291002273d23a8f6baf4255503648beecdb75","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e2468ae4da1f00a5f24932712ab58fc4"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
