<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"07285cd388c9230f8233602eac376dccc886cb41b8d873a773ef91573f5cc9297c0100ba210714e0e17f088f2a51f5536a6dc4a23afa07a850e6fd88c939974244b8d5f68f5a06d587458d1bda6cc9ac1225d417701866dd6faee4a5088d9a176107ca7861b67d827b5bd93575bba1934f72205f3e0ba3557e24cb7a6019e05f2cd33c81555a474d73f8fcc2aeb3f0d72bc77ea017337090bed4ce551612ac7066357b39cb1507ca7ef13ce284d8675de97047c5e2bc74c52ad059241cd288deaf9c46618c25ce73455077f3391e1f83480975a65115c01e22a2cce8266439dc623f64f90c07c0b5ab15f8405afdd4b34c9dce297c36f5f7a3528eb58c7894a5b34d05c6e06e56ef6912cba681e96985ee69e1b602264721d67ea35bfb05b70b32f0b84a459ad5ae7faff3e5a018c8a7d567a6fd3d052d2dec33a36b9171009f89116d3654d76c0f8f7ec738f130fd8a1383d5ce53ccdc7293b72a03f37db27812897104c93262d561fd943e6018a28b0a1ca0d5ebc1903f0c2a2121e151070a266a740e1e5cf91f98ecffa8152857925220878e95b10fb1a7c78796b540a79d25def9a0c77c86f299176a4310aa1030f41903cc71415bdb160548cef879849f9098bcf2066952f79822c021309319e1c99c8d405d07dc5ca8a0200e1657a8c83d226e9fd43e54cb288dd1ac911a81f3dc9e6997e90098b9e0ab8e75752c1aeb40c394b443d33839e529ddb77ceb3a943e425b69540b15906f81155ccbe50f48797cc446d093223aac9bc7aeef85b670dac596b8521c15c6113201d5a9f33429f742f78c81cbeb9d198803922eef898bd207bfd759da7c75044acdff81a1dcd3d1420f710d150e405512c5bb633d6b9f79b219f10310c2b640c7456afd1184816719a4b1f7a6ae4fdd8c14ff294a6f22c7a55a6e227287cd22a0d19ded5a84b0a2edc7554e258718524dc3fc7699f9dd06378a1f5e92ac0cbd32b6bb29331b833fb9e1627b82473fcbc090a8b9b91e6bc2fd3dae204c73886aa1eeffd3b27c48d4bf46a06301653ba6b3425933872d06d88db04550bd55750c21e410f598f85956e353932f55e38f5b9c8d0a0215e4174e6eff9f420dcf76f8c196e3bf1b4b62d5e6034212b756095268506bf1c803e6cc173f39de079097cd67bed444c70d7b1898dc7baf61fb8c0816b3ce0174f84e07981ff821c2c4313858dc3b3b9898b624fd1a922bfb559ba674fef798977343cfa81ec103eb3e9611e3ca1db5fda01acad81c6b858e859b15b0f9eac4777118a1290dcc683937fc4db7de04982fcf63dabcbae86b44a33bc8bbd2be19fd8d35cdda61804e8915a07c216c976b0d9fec581df45f5a0e8180c4da86a6bc3d57b0b31981261050cd1f68d9cf15df4b74f642850051f3356de05e9861fd0c3815c7775bfdf0dc21ad25ee37447465fb4fea558c06e3d05d39d85ee53db304f3bb7422a37cee1a36d63401f682f48f635d71a18a9e1ac730d5a1a7b1cb192e6ba1a54430a6491bb24da64af1131854d4c93886309aa442ba1863ae24934f09a96657ab997e484e6fec3d293cde5e49e15651fc419aec9feb0b48da23074d256450b9537925a0349a6a9d40696d7ed70cd1e7e6521139e9c78ab1c032b5721ca03ef84086decc7d828dbc219a788404fec74515b8b60929cdad3f1b92e68ee16e039954411e1e5a88b6273ff319205f138aee171a65c54c8fef1f86099564f80722761ee5cd6d688c3527a7ed11efb2963d7d58bddc3f484382734a4725625f4b4c36a39658f3cbb88064c3cbb8deebf89c21bbcf3470337a5ce3fb674a61ecef07eacf88c72fdef3c4aae665f691b4e5f3b21631ea3aef1e899424494f7e8add83b1c25cfde2a40fed8f163302da8da1cd37e682a2ff0ebf5314b7c43cfcf2f1f7343f11b8100ba98719b9cabc1e49b652a477fc41ba49af116f69692e5a849efdf348b3440289858c40670b48746b798fc1962c0d744df7ef7c5ce9075a82279079434503839515d84794486437a0ba0504b327bc316a253d5dff6472969fee00c2a94bd1a93972340f92030759fef2ae30928f35456062368cc91effed2784932dc04cb6e73191fcc683de3c33fdd02e864a39cca749a741484994588eebeb78c62e85406afb9af3f8f13a698c39fd2cf389c7ec744ee1bedec7c61fa7ac5aeaf839b664f641347f016120ec00dd89e57e9eda9605e37715ed1727202e01eed8eda3fe3a349878b793d6d4718b3a4fda178de897578d744bc14bab405b9561ac0a324c06585d15cc66a2b5e8da7074cd02852a3101ff076627d0e03f98587788f3a67ebad754bf0f60d1a991c9a3a362babf2dfecdc9ba21786524fd23d812fc290d50c20a0b296135767771051c5e9ae4273f7cbe431adc669eff016bc4139a8e9b1b5d54ea72d9da25a2a6ec400d13ad3fa4675fba6d60d392314eba7a96079328c1a6477867dd26e13988a5c260dfe6ea3c86651accfd76fe900488e2edd888f06c7092fbd862327b4ccfbb9aef5cbd02611cd2101c2f0b8a4e3716de2d192ed2b7d1c3cd47bcfc5ade4ff34120337d35d623552e738556249b228b8d40e993bc0af5b9e8fdb40ab3dcd95dfa921b47662bc785d76d97e6ffbb4fda2edd3203473cfe9b784816f0002066240c50b76c43721801460fb86a6cfd1e4d2dec73e13481b081d5b5efb60ec3d7528e542f0829050269c410c9e446aa6ef697a0635b80ccb9f08d8c9420342d612b2b5901391214d24375585be41225df842afabe38f3a3c9f61d35288865fa5f847fef17d7b7780971504afa6e0500c31e854348ecc7157514374e0f43d7011d4f5e3cf403a63d6fdbfcc93da1cf94a75232d724d1af9cca9450fde6c4893ca8273e6f40c5b8e703601704e53fe5fa99d7434744470b3f488dea9eabbff41eebf725b281d705001cf6b832ea1f071a999c773ebce10e0514396a6ca4dd27390236269cdb5570c9f1f5859e79d2f4055e7fbc875adbf2eb54399adacbba2c561e1b111a27def20c2eac3269c6855143e67178a5200d167cf1d44b2a84a55bfdfcdfb4e6d57d2e794ed69673769704bb124dcf2bc605d0d9f997e6d11eeb9fa54c409f9bec403dabd06bfc282857b3524cd5b6d601fe06b3f657c75464b46cf9dfc739f26e234d67586a4b158e447ab7da277ef56fa99f09f87232b1c05135e3fbbd6f6ffe683fc247d36fc6660d9d78dcced088f687b0ce30b6a55ccb8797574fa5167520ef6dbfc2c4c33faebe43c387842ee3bb552d3190a3717748a01b9da84f63b05d0e320a7a6e03418c517e771e83e1abfd60f79189e13c1df08632108676d20a8d628333fc1622aaed614ddb58dec39ddc4c28576c06ff2a829c1d4be04e374736ae6c4644ac30d03b5dcd674e8b2ece1125aceaf17f5229ba700f13c75acbf964e72fa48c2461522777fec99040cabc2a444ecba7a9876e0df233d1a7b17252c2d0fffdad5b6a31dc3a177b96e3c1a65b1711bc9fb82dda0477891af786bac470722e254c67ea6710b1cd5838d7cce671eafc7477e3b72f7bbba5cdbe65e4f821bb06972ee55cd8213547cba1ef7b8c9c56eeea67f9446e19ceb04929fddab514c8fd5a96c8b91246ed316e05119a250e7ae2809a302cd70c61a39495c3f6e32ab7a564f0765c5d158e9c347142473ebff5c19332521e6e098c24dbd760dc5560856ee6b65a07f1fd1bdd482dd687d41060508e398770b81ce84f29bbfb2274d54c2a464557b3d8f7fcdcf64b08575dacec0ef795b4237248145dcef184651d78cce93f0ac7fe862e48b45492f3fd58f296a57f47da4dfd1fa8455c1edf3c6056b8b185831063f21eca156760e87bb41d5a105be06b68c7c00005bfc67b6510a390dbed8cb9ced41b31ad5e5d52024a23bafa842b75147c1474d33c41d683c04ea1e15b1970fea26f72c64d5c4d82b5dc7310e679105aabd6deab740378edb0e24200a36fc3c35e6f9119bec8ca698669872e8d9ff43ff381e482dea5a4ae57fb5013c71d46163b38bbb6af0e18dcf86c090b54ace15fc93e26dd511f6b5dac9a4ea084a1c50f97e7b265485dea9c18b0b6690063db51ee8d3957ebf574a5df91f3f9dcf2564d49627e6723fa074864e566c09463d619ce143f827b01538439591254e4d76d288229f9c6a3177e9c0107ba38ac241c3472577ca87778226c529410598bf42a9222d92254be152375fe8166b4f6818a370113dbdd0199c2c4ee41edc615df066a4d66fdd28e2bdc39dc19253cc7b1123d36d11f477d59425ffe704aca2bd8457c78f2b46403e59400cfb76ceec285bdd37ad534efe4508809a9ee2d6a4aefc59803619e1a04314432212494fa03523354fdc5d9c553642507d39becd522bf8e8adc548c7624e3bfa2341505da73fa4d58ccfb7f176ffdb6429c5dda2f5916348a0a0fae8b144c76097d9111f6d36fc5325089e62b02b8a984b9d7338d37bcb81b233fa892289d1d50c501b1ab3450d2ab05f047d9005a17ee43e4de2e85c645e6e5403f0db0c206b1592c8391129c9dce82f23ed2d3cc22b6e0f2f34995f2b24c85601fc7ff819363f20fdd7f439f1db1bab368cb5c58d48549cd235fd487c1eac102f8e514aec4c74be8e8ba29c1ddafcce0844fb0b06dfc5e00c1a6d3ebaf41b47736d4e5efc86a4583cac7e8833f6dfcfc428542e9132798caf512ef6e0d38838182eb9d393b7e50fe3ee8a58a80d20d9f73b5c179a306faba39212f1fc6118fe657ef13f2a6cd663dd7072f324a876e86bfbd61c462a55b682c9b8b751220dcd7d16c3cca12281e6999ab87156b7b2a9193db9092a5d6e7cac8ae7d25df129346af1d3201c4683fb68ca523302aad03a94bc85a46d7a66859eae5000dfcdb93123210491db59d4b4791287240e0c2d7d57e67a96e2b6a03991f7d96d64327048be384b90370630e362dd09c4333a460fc01d6a07be0e6e3ab06e4e9d99e0efbe038bbedd45b0090ada56a3f1f886a34a77c15801f621e6d9fb87fece443206188276120255c553cfd36f030eca782b746be14bffe23176f5c719b161d9023dae40b783bba83d643e76208d049a5844e5f7a581e8f0ace2770722fca915093b9e299afa2324effbc1b1af0c65901d2127d2c6a5c64500878bd0361f49257b9772eef830c656677aa7bcf0fcfbe19c13070429629f79611c1a4c197ef8d745537945def5f6361e4968fa5bae16daf514019fb67ee145b3d212a05871e3a13739395862009efbc74b25527917df902e8b6169c6997b7e45ae46a8db4bf221d63aee552100a37796f57adba9ec7cb2bd1aea48325b0a3023ba998f262a68ec2c3abd474db70e2c1fce57026c0b1fbaf8e949da1cf79e716905d487bf16152647c4cf39778de9b4be6b0d31dbcd12865930913a18618a918ef02dd6047abf2f2eb20d7f0bb381a54ae024e47462b8e2aae442508aff86278ca1b1f6e4c35d6823cb2c9dddfe1c8aec19b198e35266929b463f0ba4308f41d801202f20f21c89f14cdd05e0a71312828df83e14df5216a29e6d05fa8e2010fe121a59cd449dfc8f7f1724b4ac75bc37e84cbf312e4e752788257bf858c5f3c9314b638602e69921ccbcf80f3f8c44115b0137b8f1d3bc217aacb555c1d62a9362bdf232b886e539ecaf0d7e9d2b315c6ce8716a68904c2adc360305e13c0a32b556a5d55172191841e13b499610d87653679047eca52442183d20200a48bcb62c3cdc6ca511c35188d5a9374dd1f0c45c1dceb7bf596275afc01d76ad92cb30876466076fb38a45fe6ee54e91fd5119df44f43238a135facf87490968510e0e0e8c39c9cbb76a7c75d351d44d10975e01d493fa70252fd8ce90f7f989708f20047555f991bcd9fa4376a8f3acc037c0f1d7e70dd7f127b446998b0dc81ef5b6facc38f3e00d02352ff80c25d956bd1f062001b2c39629fca8de9722c172d362912750469f7955a706c0d05f996574fab620b86dde16c633abbc8b92791cac997abec94a69dd976defa24af99283cf07ea2cd0601013c5443ad780765e8703adbbe9fc4af714e311c8e649353efb3ef9a6a4c2e9e44a3f449ee80ad6cd49b7895026927faf8c4bd25f6cc0f79cb1a67633c68f5d627bf3284b8e059d8a1d7ae9ddb6cf3cf622fbf3406e267e72536ca35469a0a2b9e1f9eba520f910cbff5fbbef9a732e359c4821d0b7cd2576d78b8f30ed0e691c2672b25086415b23ca1de44576c303ff817a58ec859b5731c2b12f76538c1063c21f99cb450f79700ad9bd4cf58a7afeb5ea2b9ca15e7e0473e18cfee3d085b6179c32375f84cb5c8c4d8bdbfb934a04153a235bc629f60e1f1a77f6f2d7dac66e8f55eb792f4cfb0f6c15e55c12e1d44482fe21a600b276a73be9a98c515042b3472efa06d0b52f5a5ef7bf916e8ecaf8e0a726191db0c7fae9aeafeeb02b3158f21e73b6341e1bbaa40b82a03669d6145b958ec5d03d52ca8a7c20c7de4c8017afd1febf077265415b7324d1564e19e950c8e3ab358fa3d63843c9fdd63108cf5847da0e0e3e538e6b4f07df8df800facd8b2c91d6235a9c1e7f42977e72604d347dd0344e89e51bc42cbb86b19c3edc158811062bbb1583862a71323bdab23893a1e70582806b802b41990be63ac2d153155bb5f20874453efbb14e0c3a01b58048e5649ca7e4b7e5fef36b7fbf00bc624bd72b28c4c479aa6531986f3f12cf754453911eae769b157f198918a292ceb6cd99e32508c17f0dbc467b80b827ae45b66a3f95d5970f1af41ed183a62cf123e9f9315d85755dac359de009e98a37bb1e308b04c0e76b87385a86596bb8244b68b475679a28f70e269042d16328f8d88b3830b521a44225c108d3cb2e394f6555e168912b4a409782ccf7a4164e438b8a7b5c2a112cb798e9dcc311aa6894dea9f1958b8782897f06c1c59428573bba2880adc147bc159aa4bdf47190350813d2536f9058771b941d5f7a221210490ca552376440acc592a749f2b42dcdc4f8760cecfb68a2c150a8e2fa8cf3bde3db3796d342d5239169c32ffadb6bcc6f77296c4482edbe58ffbe462309278a0ad76dee9ef4bd33ebf8470fbb95a0dd285f1d9ed2d92cfbd8fcdd59cf0834c70353683f6fa35dacaaf175a98ac735badc5d1f910cc87719be5981504c71dfb7f85d98ae2ce8e58e7a351cc2546420b0593741072b9010ee36b8b10ade25ac88feb36d0eef589cae8e99967eabd5b1683f267b126d811590b07d0936690dfcfd87ca5de5443358a1d609ba3bf1ae68d3ded6833d7995d3c4a2da666aa04eae21a84abf5383e8b22c2fb1a0bcd34d85fbb02ae7e70b3d33a60288e5ebe1db7bae41a32fd83e12717a144068f91b7b1619db69bf65ee8d529da0c444d3f908141d5498b4be41a3aeca34bdd6e70c9dbd0066673be119ca75e42d7158066f5b2a1e2ede1f340d99b0333c809f850527f6f6d30a140c5d71eed3ab2b10671790a7bfdd9f158a756f130e12398883e3840b09d3b3266a69dceb27c30563b3fd14d36797db12d573fa38cd1b6015bdb6defdb48e7796e46d46c9944f3dc4d01ee5af4c2b44e4e40b38f7e144a1585dcd10ea77e19496d3b3f157bdcf35fd28b083e2ac4fc1a68449d58d16bb76464c288573459d8691e1e82581440b87063e13996966e87ae839b6b9d894e18c09e5a42ebad1bab7d5d85c809db174dd18e54eb7b575b7208225229edd77441439e9c5e4f4bef2c2043b76ed1e50b05df960cabb7d16c32d8fa31319c5a02ddb9eb8c4302bd1dc623919d3a67cad6c2769aff27e1639d970e79368b0f5bc73f545803f678b21e40e3879cb94f9823f5874164396578c42f97b6897cea2ad6aa9370c5e3782dab4ef79b9d8610122dad23ef98c885c08ea0d872aee0a796c896fc0903df10565cd442a9ad7032231971d8a8a3a096a8f03553bedc50a1e75dc41442b8e7321da54d716fdb807b61903f9866dda954bb729a1665aaef833a69e1a2ccfcc299e0e406a408242ee022530d74f335db169ab190daae86e82f0d346a4bb3372746fb14cb0269ee3d97f4cd4a087e32f7a332d8e80191a32c71607f7d31b558f6afb4af6d8e633304330d1d20e1b1a84e89a6855fe992162091e1a952554693a8e4d5fdbd1a5915604b0ee0d768586d1e41d57b594928b418e85ad3293a792a18590d569066027e580ec98cb92410fd4321becc6af2d81b62d18eefe66202a67246ab9e62ae0395572f9046cdc492f4b5f7854618b8cd29b3c5b4a88367d625dfe71b4f579c32ac37b3a975525e017f23556b8f168766e46af38647e9dbfc65500a5d2349baad80cb83b02a753c31a1828eefc4fe541ad3f9d23a7a20602ff2661562a2b4ad1d53668c800c6a0e70d6a7108fa8ff133c34985f0466915d4e05dcaf9ceee1967e1e07deca2705962028dd7bcbf763ca9c03703177aa6b28fac6bf4dad8a4bccab45f0df12dcf9686f626e23a3f39d346020e7bcfde4753c9d5c4a88315148c8ba588369b0797f1e539e6610a8de516bc3cdd10e4f24ed5d0ba31e9eb07f694a706ef3ff0a50d50d045ddeb5b68ff642905becaef3ac8a319e1c93ecaa38e268d62aaad2ebe28ca6c3f8fe361b89a1a0a11cd114229a2b0aad716baf4db38f0fb3cbde9518d1cbc7ddc68db1e9143e9ffd36df9cfc1635e7ad2d72819ac6baff765afaf10914c60aa5042673b2fe38e86a60ef2e8fd6123c1f71dce431007ceeb6fcf704bb4b55253fdfec402e3ed6901c575533dea21ab69e82e98b46106de9e0d4ed6efca0d2614388ed650f795a1f359c20019611e15240800e526bfdbf21610fdfbf59a7af381db7dca4b00e75134a15d7644ea497829f9716700693da2df0caa2c8339b55b2463d71f06af73b5e872c8067f393cbd957e66147c76c036ad161b8e46a567406605abe828d6fd51784f98633a6f5f53eec2c24f249646052e34d48df656d7bc971503a02777871375ec6720d3b16ff8992a366205a6e70f0b026109fde7c4163d393a6d4305fe8faa7af32170d9a0b4843f5b484bb045d3fe2bd7a9709ba737e8a7f8223479959482f20c5cd2feceb799934713c6567188ee35e3a66878839446869267b6e93c88c37b40dbb7450a6dcea4eb902db30ec073ee0f94cab563fcfe2920362eff8d548fc984d2d5d05c2dcedc05fabd2afd1ba7710d6f04e8ac2d1281fa1a9e7835ba5d2fee40f0d65b71655214b09e0abfaa32636d9b38beced37c1280cee0d3dac341b57b11c846d6f94a776bfe03e1f4894e5f0dac9b88a3b52966f920d93771141efa5780d8d062150c85a8297251a137a3f7cbbf1b71693eca484249d210f134ccf50aee94fe26fadaaf5bb10660379cab7f77a033b6fbaf6f3779eadeb5f840dca2296936dbca5b8c039d0a68b0db54fea01dd0e11d6bb6a92b8bad5ae8b6911549fd4b4b3596ffe881237dd99f3144f0ba6bdb558c520b84c9ca05c7467558d437575933328c31258222834c2f32309a1ed832046288832539e724323c8f4202d16d6caf4a937679b1611977f81b6e9833308513dad4aef75a0a7e73229262f1a8513d8a8bb392aaf15ce93adec7c63ff99e0e3e32e756f537e52247395fca3bcc277c022546d5014151be3c2013670fdc7a45b80c797cf33e605d207208a60e70c95778a070fa82c620735a661010f5841fdabc61610df929fc30a74ab2969d0dc81b23e963f6e240f7f6cc16ae77382593e24007a1cd597f40e12b0631f359326c0b01d2f853e490e46dfde1fdfe84ce52799ef08400fccf5622e099df56778f02eae4986d53a6085403132f88efed576db8acc625d2609f6a077926bd75565655213e3f073e700ddea03517efa0649d77886ba1d2be22ec2450ef5b49109483e3c8d75065767e234d3c64404770d731f030d0a136fcc2dd990a552692dd37903a8a721b76c4b9a8d6caf7a7e67d48f24d296b043a9f078d0088d11c10302f23746735b0a8e02f3a87ecef96c543b1f6d6a9e44329140582d262ca027a2ced414a594f5b62cb316dc5316454692ee9c07c851d7ecafa0016e550ebf91654930c91e55af659016cf5f63baa79db738a71cf971be7de652801b77bb1ffac6ace72c4f5eeb558a56fba99818f9dfb4bf3660d214901a1fdd7adbc598fd8b89e92fb4253aff40c1f26dda0398793d252ac0e21f24767bf6d92402755d6136231519325abc7e57472859fb790caeb07609d7d916970cf2a26c920c1add57ea8422d8ab19a00b834a0b2d494e195c9d0f780d5cac6b856e00129e7bbf4d975666ba51e7839af10d87e0b38d68a814d894cfbe3dc3b6263ce51056f23c18e6006eee14b4e63a11a200a1aea44a00eb3736459c61bd00ac26e4824a86b3ce67071ccf84140dd2814949db08cb1699351c7dd7c5978be1102082f0aa9477dc6ae3e6fb7d9d6b235b59a28b41c18fab72cab7294efd5cee09112a2c2e6eb559af6e81a866358160cbfe01fe4164fa4341a4f2b0f04030b8e8fbb3036823869866c34d11606e047d54bbee6aa728a83bdecc7b8734f14e0b0db6438251e7c609bb7c35b3a6accaea4660236b5a44b1c992a4d21a676363469a7592e8b8a85f882e823c5924fbfd9489028db7a10e0c629e62e7a787ebb6627db95cf1d1a8f9ae5672a20efe568429642daacee26015b18ad7adea5d7c1601d20b3b0f73a604eeb9ccd3ec9feb15a7aa78d38f32cd6cd1500c149155105ef12c8f54093947d0dce85285c6fda85458134ea3ee3d78c4e2312be84d947f40ed9476e8f91473765864e41e61dd424e4c253eddd67d70eea931734f9137a32c973b72bd207539e8023bc44799222ee9239583314fb4413bc96582511b45df67cd90be12ba9d1db64dbe26a95faa7622fc1b64947161b10a1d8f40c75d7a7948457307e9c336857807c436246199d83e9643ff25ace888ce93ef2fe6724f8095b32bb75fdcd18e962eae36dccb53306697fa2055a70f3081a901d0337572d26adfa668dfc3cd2ac912861a8033253b70ae046f11e80b4567f271adb622b07aeb982a7cc14248eacbc68a2e6b22a986891f3fb6e96d14c9b5e8a6a5e8d517a4e95a14092bcb39710f0bf5f2234619e61abf57523f52fb1552881d717d3fdf043241e89eaeb3ee319d707d1fd62be323f02739118f014c029f5b129d518ce7a5ae4317d22676fca0a553f3e5b36537a757d7628fd70ce7615bc2c4c6c1da1667b07185ed112a6157b0835049acef52ec08847a91cbb141974fee5aaa0a41d4a495cd6f1c5504eb79dad810ba7fd65bf01500401e29ba39f7dd830f6911da3dcb52f93c8b6542b0d597baf0428c0a22d5ab325ad61097a176bbd874e43c57ddefb5cb9254f0f0bd1674d8f5a7dc695e5574f1153583b4008d5e4333d61889b81c281959194992eb9cce8e6ab1d1ae57395fb12de7ce1408c2dc9b29b4d18d39166d6bb4d0bfe0b7f4c22d17d9284dc7a975bf3369c84eb9285cff8c691f9edeffa682c8cb9a5ad087bd2db6d661bb11a769d80c96abe7f8ef2c83f8e78ee9ad4f0a549d629937853b699edc2b90b6406b2acd1b4c3da453701d0f1d4f654bb0068eff0ef690514bb9cd47671b98b839e5ec67dd7be397ecc0e7cf8ebe161a1e172fc915c52496b388f56022f98fb28071b2be300b13291408b95e37ec50758c7e3f4afe76e236b213b2d6dbfb18c3388d8e82599e86f6e81047d6427da455d2948631f5475bf5b483e4714014f405b0ee7551da187cb85d6b4ec2661c64cecf65dcb6fad0c472e98270126017cf3718692fc02b0edd0ea3f3cf0a6c82db5fab4fee7b50b14ba5db7db724d7fc9bbd9c00446a88127433f1570062c344c36355d7de20db8fd9e180517b0f069e1ee3062922f12c6dbad09bd6b4e05d06e1f0cc964cca2cfef4efdfa12eae64b1034f95b757320178d18832a5dad105e1c6def1aa9b5826521df715a793bca091b98d98462db114b6f0b8b0bb9d5d47b89540390b02a8ea258a8ec7a1c147e9fc976825bcfa145cac5c1698b3b8066fa717aa86b8190f1dfbee851c56ea42085bbb2970498bd2855e0754a1fcff38b25a7e50faf602942f13e76e420237b757f6d6cdf4eacae5140cc21173a679d400caadd3e1862433c0a93bcb016e3bdfeb8cb3981f7767da4fe748f13994661e42631cfc3fe1d0f9b7342ebb145f5f9ef6c46696e399969ce2792a127dbbceac79ff4251e59939afa2002ee6fc3fbf62d6b6baaee558853d6cfc6ba14db0f86d38836f654b50bf80571a76a3fa0c9eaeb3eb29de795d824a829f0e5e7aa45844a8fe4f6e8c00424202855597b9f2217e1ce203c35b3375c8b7dbe9f0a8aa22fbdbb831de35cbc7f6675a0789f4ba46729db5457931ec3143781058c3374fdcbee66a3b940f338e0f9467b0b9dd103aeb3830cbcb2d7d0d4c659723c677c24195d0c1505f88589c5b89e7b27026eb6e487776a4a527b4ba97881ae32bfaea09f070de743cacc2ccce458f3f176a8ee9dde39970f055bb2f5a4e3b3f7850f1e6e21fb136291e4526f35dad05bb18410f8270a2b184b962ec0e1cbe56cc3194b28198ec34e8e119fc14cb251eb68117a98be31cdd1eaedfa10ee3219f2fd43892645dea71e46cec0f670fe384a57d7dd63ebd56923c7e62cd9878387f50c36f7ef0e6eee5a6974a6e18108235bb61c3a5c86450d8bc51652720970c79824dbe372a655d03c35d173e3469c9fb604e3159879a5efb92a8018ef5034512956acea724af144024aa75828b29a5cd598c3261053616b05acef72d79f510866b13340253c0cc30f0508a7a591d2ce0708f4049117886896a2f76a5acce065e0d64f4428fcfb33f367b922c5526926dfdc199a5e318a87b6c7b9408a4f641f89fb25cc9e304bec211ed8647b6aafec8f348723fc665d87d2c57e7c91fd70efb5f12dd7295eb0bb60dfc101fdc91c99790d300119474c85666988b990ec49442f51460d51b7c774b1717d73f3dcca824418dc0777f6bb4a3741632a92d8dfe316f8206d68c44309e2ff46fecc486be4143db2ef89d5df59149b5ac01821b1baf5a385aab9a58411c3b4b68f25df2c5e104bb6bc0d784b46cd4a441a1cfe83c595e02106a6ae91db5a8776f94723b391512186b619d3d3be5755693e372f04e0aaec365ca30a4b3f20ecb798c3f0543d7c108c7d5604a80a17b2e50837b8ead9d198efb64c038dc87ddb75da4871c656936bdd9eb16d0f5dd43fe12e7dea88af28d7d7d3a3010372df3e0e74de0ea9d9f6f3cbebfaf5c813a543e4f65ced2d9e54dcfb5f6869f69544a2ba9b47eff2c7bc052ad74f6125b9495e45deb8f1f9e1659ba7a1a993d43e962b8a9374762bd891cef976d587bb38544ec92a70fad51b1107614709c92b7feafb2c87d4e8e3c2bfc2c00edbaab6713a68009238ae58914e8b528646ab8099ea37e25d90a425deb44e8634c236db2a19fdbd4dd48fdc7ba965903eb036edd1f023d69d210f7fc87bdb3668f8787704f8fcbb3d6a09d618570833fc03993b3134dd2fe00f90f9ffc8c4c47aff5771e3425a2ba698c2f95e806c5f5524daa8c9f7e050871a37db8c49a970e16bed89159395d73165a7dc80f4d900ddb90022d728d851bf5ef13ab224d8d5b1376d4ed7c63abbf4f5fc0dc44da58f4eb847cc72e8d41cff00120f96f5e1e3beafbcda2e58c0303d9979d272225847eb907f2a70a107b9b677c4d020dd2e246749549e244f0eb724f09297db682b103589688d8e510f37327002b444fe98218076a9493d9f24d29883497570210789bf8575264703bb18e92661079046ce09aedf07a17ff6c2a9c761c132614a2cd83b3daf356f9299418f39a26ca8b8b24a5f1d9860d0259fbe858b94338d10e86c7c33b6bdeebcd0f1081e58d1db3c658021d2070756b1964e3cf82acc518218155f1999219707687d36dc1679a99357328423002d0f3bcee532df2490c4b7eecc9b11b82e6e57900adb1aac1c51c86f33a1b30a3f450447dafc7ef176535397c9edb556326829882e0d49a87d39db89285a98518747854da823598a6e6b0b8d8755b364f311247efcf560dc965cd39b4f8399fefc4be5b01f8df9f62b5da1d5360d05239058fb9946cf26b999b44fc0f63ce6f24f74bf2c90b6346fffe3de763752ac914c20724c70ea4197ddeaf688ffe05c28ccbc332af3d06c64281565a6ff28d05bbca48f7c23dd28170acc6728b518e4507690adbf67c72dc8ba0f773d5316ec3f2b8c2681826a0d6092c7a2aa47fed7817a63163397a31f232dee68959098a13ae51a5e21899e2260fcae2f9ecd8bd4ebe34b154c6e638bb6fe7a87fe9fe16f1e023cf4ea837d706b7a2681951c7d9d8584e55ebde27f81a50401abbf01e545ed1c9ee30cf35f8dd7c96417e8f9c3d3a38282c8e4043bb4dc3b20c6ec2ee54015f8487fd9c1959d3065d9b35f9f15d5559c8eba8598f87687e929a0186815bc9b2f96e436beae1a11c78499d89f94341e70b9df17151fff58d9184b69de36ee8c248b58089d2f2c50f64cd14fac2c4c785b9071a333e3e1c83cc249f7ac2ad8d17bf4428611aefc56d9e845516b14d962b3534571dd76ecd7c99a2f95797d60c085814eb380d15dd942b544677fae94bf4601ab4082fa8a4757a34a223f80a6097d6b592c65d80b02c5df6fb9eabd4b7a9d28722499bd72dcb22f0bbdd5fb17e871dda0672c31a2b74e716000694cfbf5578b0618bb9e7191771baba81eaf435e8334189750b5ab299dfbfefe3bd956005216f605b8e6c3a544f86b66fd3ddf3c4c1ff22cf9cd8c4cde7090b1687787ffa60128e1b3df01544ae570a4a1ce0f5026e62e1ad3805f34d88b9df830418c3c9e83413f6b0ccd41f120ca6dc0b8f14df73715ac3bdcba802100a58d755b33e5e0369a3c965fc79422795b75c1acaf3ee6a3b564f6229c6a5bf125c6090ab5bb772b62086819a2e6ed5c9a6f78f66897e29a36d3350372383745381da70f86793a362751189dfe6a02b419f2e8595e18025bf7e20cf0339630722cc4c9973528e1636c008c4d7ee2c4a40133c632adb20dc41b26ed8f88afe5c2917682ba538d59aa8d0a6fa80fd5759fac2882f0fb1b11a2e2c7b621ded132d8137a22ffcf8150ed95c30f2607daf10bc8318ee33863154f56127606fb75b234dca9e705c1f8a167f5bd04f6dde7b016099541797d30a1960de278ad6e5bb2379cd25a2e29c5b9ff266d0934b26268fe0070f36af7c012407606a6d81e0c75c514fa8971a5e670902cf633f61ddc9ab1b65df5b848ce551a247aa5b3b52c0ab8687745fd13d0e4b66b8a20643c8861cbef83f44565e45b8c4315f5a692293cf431a59be56bbd231229fc82544b15b915c999ae1de8e3cec3fb913a215aa0fa640053d5e5a2c3da11340e7ff7b9e9d7e66005001b0ed1f48ebbf4334b1ec5d44da2e627013813230224e93cdb517644503897d9ec05f5f500c619b4717ee11f2163bdee08cf73d87ae5ae333661ae4acf7ba31bdcbe275b263a58da279352d8d30c51eab1ab181c73f2ef64433d55c160b47aa86baa01b778afe46f7238ff62d40f3379ae950c38298f0c877e5ee066d765565a08be1fc1d80520d776dadcea125fb34d32681190166dfd5d98f27a69d4d9d41b7273731d5a18dba9a76d82f4976716a2064ff69b0fa69731615d3f6d856a969ca208fb21b5906a26a094192c4588da329396ee2d0686bb4c16eede3f0f29375eca2c93f15683ec9e3edc4bad5f717ca404665def3494eb84c4f0a0b25bb5ce8b4701c8147c3c5d0d156b0106a36d098e07d09e8b2ec6959bad6d78eb8a24099b703375f277b8f417125f8895895c754cb119bd2e5308470578c97ad2420ee758f99298b6154f2b8b95d95df9502317edebbe7ec8cf0315295a775b0d8a73e3c178e68cebca6892d7297610c41e42e3313c6fecd3f60b0686494d501027e8a0599fbd209e1740c4b29a7ce40ea2506bde2996853c501c9123410b401ac5ba1cd91b355c7c57d57db6dc06b3e43ab9594e9ec2731089540e54fd65236cbb67a902bc4b2283395e5d736cb2be3152a732cc0c02e7e17abf5f138c0ac3c42ab9e1e2e7f5a01305d6f3b2464ad80595a5f4a351f4bdc5ea2cd0b13d28c665a352debe0d2db7845253fff4cf697f1cccc06fc169ee07334906254b56bb8c2c45c46c9eb6e7c19756cd32b10a5a23471fac75bf4d7da77899ee357a3c296d006da107af905266ec0f10a66ae92cdf6e53cbc8574fd1e1097b31593c09fa59dbefc61869207e265ceca931820002b929e9003590f86e2e48ac54fec6e71997e2b00a159e6dcbc8b61c570814cc19c4cf31ea4644b73a73e071e3261e99fc25503e08161c399b51de45e14dc8f046f1e38e56b3def69b805751286b2a58b56a15bced82824899506a7688647ae9d28482ba9b8dfcd5cf45bf4cbe9c77769aa5edc76514be7324b29e9d964fd97572cabc739bdfce1e518cadb92818e1211d422d87b228b41637f9028e4613c8e2d9f1693aa3789b348774879e8750b72c537f12b9a3313c9d49172e8a353fdef1a9bc9b6174108f2a7f59bb1c0e57eaac7e5c94d899a1f1ec0e385b78665477d29a42e30049c18241d857a2b6ec5d60eebdff7d4ab15770d9b9028f43eff01b9822ca98f60ce3aa41128d6ce2748118a3972d5ab9cd55aa819917c5a5b37f62d549f72eb7e46aa104f25c83f6f61a1d8643d6f09b5e2cda9d5e85e1b2dcda702da2db61e6587fb003d549db4e290752a001b639aba2329f71002515f5d53962b64d0cbd5fa9458862f9b52fc2cf0afd6948d8ec502c4b4e7871171527fc543bb883ede084663fe02ff564bbd6fb70254ee4a8dbdff974a7d4380865c4ede1ba951b9ad603ddc519dd8b260a0347952fa1c071fe1ede7653107b3d166d1ad41bf6a70d773be5aba837a623b06cf4de24e09c9136fa8864b168976550d2eeeed22888063a0074ab70c8c1dc96d4e2303b51493d0b61d91c7f5d79b2a0cf50acce2e5703458892632088d7159961af68c874aed0185ac4b92f4a39d871829b8cb90c2d68c14f93cd439c7015a8756b36bb84db59d7dd6fd3bed442a66e5e5e26b20250ebcfae77d3c944054f1a35792fc5f3b6d3d35cb1b1cdd5ecb26cefb6448b4a206dfad887db5ba98ff8b1bdf031cec8d12e7c17cd6e2374087e824e24ac116a5cdac557739527a12ab3e4601603d2c1b7d57797d6203771c21a54acb3ea403f9ae34f8d65e9ef6efa7cfe6d0c8aad987c017303d3a11abad30f49b6b5bbf3d7d2a251bb29b941926de42f1cd15c0ecfeb1ef586bef6ebe8e0bd604d84bfd57ae3e9da33330b55413622de48865cb089c20804c27a11b26088d4c01004d5eb0c0eef86bb8bd1fe2c97bd4d8a0262b93d0e717689b1f7ea371c0d6b89d07a87a2b57202467ec45d20ff50bc24a281531429651e74256b78f342e1253894a3270f61cb91fc975f9068261ffd410847f7ed3f3349a1de70857eab1325d3bfc47fd8039fd173279b931df5fe647d6a90f5f548197d167dfca7cae14d8ee6dd0e6a2397ab0bd5b82e801406aba6869be2c76d64bbec28f7957664170ad5c74544d514f8989ec4a84fe3a8567c1676cbb2359476c0c3d95cc9e8e131d5515d81a412d469a7fa4a53358e9c403daa906ab7fa141fecd44bf65fa64997517683f46102c6bf281048b97045bb19ef5573c0cf0cdd94a08298c03d3c868c10e2c842ad573c59f153609e13328b4733cab205d3d0820cce99a0c07ccb6ae7c68cffb6d5fb4bd6652f7d0804188f260578908ab2f8bf2e5501ed799b35a3203acb2f1b461c7ec512b4c97444e68fa5a85ee1884d3c02cbb6cfa2e1e21f8c4352aeb7196ff7c5586fd328c9564fff298638a51e63ff5770886b7235f0d4d51d593798d29363644b22fddb2bcdd1d1d5fb3be50aa881d093250014d1331fa90e59e3cd8152f209d4d17d7a0c95839c66e331eff50b94f782dc61b15f6992acc72aafab35651539866ee42ef3fe2c7a7660b4560952ea3f4a73b06a6795d737bcf28ca3aa61622c8f87bd4b75915b3a8a2c3f4ac0093c60c8834be23867c1416f2137e6ea81e7e06d486c407fec2b5750b55e873f2e6c4eaaa5d6a9411fb50570119b4031d176ab22f988f72633ea259ed763d8b641ebcbbfa146903482e58d04b2130490988eb03c05626307a7fe1d5244a619ce40336a1c4310ff6247f2559940821b21360beebab2f66e8a0411d97dacc3ee95fda0a8800e346a6accd784f81fdd01cb77c78b84ac7a60207ab2e1230a7f5d522cfb5cf085594c24b2ef65c515f0e5b2d0c68b088d3377653a0593660ca691704d00bba66f1b209ffc1aba32ce07a7c2011f629ce9c8434bc902436f7329a7af927adb8c3325d8508dc9ac9e26985dcba5d4f2c671154a5da8912b9ea1700e2f952b2f8667adddaa4b889e72a033bc865bdd666c268fb65ac94ab6c06c0a473032d45ae76ebc4b56756c150ca2099dd04b2038dcfa441dc84a9629dd33febd38877f3ccf92a63339ea22d553bdbad1f5618bb954b9ebb5525940f301fb20c7e4bdd40f276cbea7d3344a2dd1d43f6394022775466d1d71ce7d4781c08","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"dbba0100f462705d414068b345035e5a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
