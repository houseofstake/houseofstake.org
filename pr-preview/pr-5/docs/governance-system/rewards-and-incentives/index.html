<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6cfbd4246312931a52d05d0d585c01d35de89903e112a2cdce026018fd669a5f1fab81347dd264887e8f418099fde2207b2f901ed94d745684d45872478044d33bea25e0e6772400f8ce05cf457041998f7474a76b3138caf281ee9d55f669776f8024d022f2dcf43239b40293172e61961bcea07b19b8992e0c65ca4261b88d061cd7615ba21e3f6b75319c249a699cf3a92dcfc9b4d80eef59ac44e75db4fc290f684a2d566b1870b10219e44c23146fa6bf86f1542b0afd79f9fb266a8b31bea68c1ce7e427fb1db4fad1fc0ca613403c28d7a4cc6c747fbfbe1f14d26759bce1227f18d16b49988d1e0698b068ec88db7ec74d175cadc831acd8bc37433dc689b7712838bfa733fe628b3724820032e502beaa18af186559d4f9848e7965320f9ed9bc370edf0d298fe7a752276fb8895aa911778124971db9ea005be602820ed4c4df043a20ff0e1b2258578e8de7981667293e250fe0fa7a13d0b3b18d4d5e9b1d1a2580e0f019b833af567dee79c0b18ac46af4238ed9e78677c166f03f2f724267c149b7507a36397a8fe2e7395185cc07e013dc3ac8a0a0c4f9f747621807d2004ed1982015a21a4d0744b3c9ecfe4f1b3d05718e719461ab89d8528fdb85c2ecfcec2d10874528ea596317cb247c2d160d7ab37cdc37a08ec1ac0acd92357f798392382d833fb735eda0045af07b5a94ef3dc78843cbeb926f6974b2d4d57b5ca380bb13c6b608811a39360f51fbe882063d839155a9d3ce450b075a7ac91ad4adda70792cc7c0b57fa15c3ea5f280a1823499d8d51d2333da7705883653534673fbb18d80f68c74c4d5030ef64d042dd731c64f16602f4ed4e709b5031faaff03c6b2b4c64ac792c2d81dc9099f2e841d2faccdd8e9a9e859fe7d8c82acb7324d381b01cf0e88736ecb0756ed108590be67d5cd471e3632f5af77027faf51ca30b097182b2bac28b5ca118d179a23df1e19f849941357caaff0dd6ebadb67b20b2c4c60cc8a2d1ea3dec23b7f8af8333f3a8266bb0db1d553ac4d48720af0aaa4a5e0953548c8874891c4a5f83343436e7342d990bfb10b3962d645f2850d6690642070739825a05024b3b84c2b001df97a7f90fa9f37fc42b066bb144d9e5009494cc15ce1dc3aa4f63d256fbb8c14517be844d13f531388b8c6723028746cefa32f33a5a4b8c9c8ad9b1ea9ed4d4f5ed75e93820c0374a1a2f10007a4b9a5767c4dd0d9ef84c36c3befc06a8f67c6a45d5d9bf30970362ad1d132cd10ba265cd208c9cede058dbe4f283a169ffbbdc3ee8dec18633b5db2cb6e2ac0caddd031a802b94a20fe3280e6352ed2f5c4c26352b172311b4d4fe458276440e38a3d7b92842b5983e82256759c875a4aa97c494e8d39626beb1d97f08849a51b294a8245e3932e1adeb5457939af49522b001e28e623693fffeba07a8ebb50ddedf3bae2963241527b6e8f7bb4525879cb155699154826c86ff8d6b778f3ed7ff3c32bf938890dca0be1cbb6927efdef5395f6f0d388df285667db74df676fb9a90012582311b4eb3693a4d11ca27aaadb12d8e571f5f80ef1c9fd737049b7fc399e6c72b65f775045346fdb91f6429cac1167f669d369b37d4a62d0d52e267c778240e5ad612fd42099c2a790d29446f9e8f91bfd114b9cc7b0a1163ec1f7ea808c9b97536bfa785420172038e6d511b5312fc7baf9af488782d4b3a63f1a4ad4d6bd4078880961ee73730defc16378749773ca6d0ebb24febf58aa15fe1573267edcb3afd9bba85fd1e17f314bcbc1950361da281a7de066f58ece88ed496ad5822aa2cff0c80d6fdd24437764b8a46182178f2e0efd003daf24eaab24cb9fe23d29e0d207109ab60095280f5e8f294f89a6379574acabad2983b05f330a3ec84ffb9c78cc3a87a3e43151c5d11c8e17c6f3169b173f2fae74a726c31bd63fdffd4a4dd890e6e62a22930addc9f4bf38ffc8608bde2cd170e3ca1dc9bfb28c1f95bfc3ac5fb8009361c1d522bb01be0cef8bf20efaebe69d82ae75f38730a35a368b12a0c9682816bfb6914f991bc1247f4fbe5b5260c261429addb58929a030e80b3059f4e7b3c14ec19f2ca79a850e3f14071548ed24788367514e7514dcc0dd0254a85fb70fdb1344af81f2fc3c0b59ae46088950584e3c060251cac5dd3b421e9f680b6234b6996fc8ec3a5ecdab067eae68ba4b754eb80675057c38068721a20e27550d79951ff83985c3d3958a6f3643dd2d872274581a6bdb80c52f030b62fcf2c1f9a8d1ed5bdeaeed54f5a01ecd336a9ee3bdfde3963988a95d0351907f374c486717ff71814f7ed5a932bc5829b055d561070085d9976952665ba4bb9a7f2427d6cdc3e4ea8167f6cd8dcc8e9d5fad217d0a242aaa135c66ea1f08d8939596cc1aeb153dae2f20d4484e93948a3b9029a8f66bb983ada78b1312c2af5055676688bae0f6d24beeb8357b0e6dff2a4f351d7d0d16f103cb02774c53996dc07d7e82c6f5a9df4f97f5640f1c0b5fa0f85e74c0c703cdcf8b1a7e9442d14b3cb96876fe095e73c31847155cbca5ca80a5bf442dbaa208ad4da2bf651064ea96bcaf3e3888d7b6c75b1caf3df75f940e2e491d34145b9d949f081c1c65a25fb4a7a1367cca817e3fb2ce8cfc8164bb486702600cfc381e5b10fc53644931ec251a0e17a4cda8723d418d02cdde2e463271c186e42d334fe290540c4b8d894f9877e8d28df78db8cc7c9f41caec5b401aba4d3ede94f47e6ffd10627dd91947ba42b25fff43f7b587c841d4ce101aacbedcdb782dfc51d6d6044021298614489e252f30c4ca032437442738dbf01bab456907f8f63a05faa83a4a6d64f4adbc9fe8fca8bdd5de3c6c3cac662e6aa27d879f9fe07912c457725acea551bdfdd3c0b1780ef879490e61661ffb23d26758f02138e1bdb0546c5b20df0a955ecacca1382679892d1e0b1b869fbce629469edff893c63dffec6871eef24ac34a728be2d09479c9811972809f6c6e9d4687f9a99014568a1c1ef09ced23b29419b7f32e8d8c2fc686bd9c8db95d96c4989fc0f8ae1c21ba93d0ab7a8ffd117bcf83e3927df6bfc16e01f5c99ce2264bfced61bc18bb0704c8f2414fe7381976703f300e1401f555ea453be0cbf0edcba7c6dac73dd06fee0a26f9f9ea4003b7436fecd6bdecb399bacf62b3c63f25fbd472d719ef9641aef86da92f14e6eac12aa215c9bb3ec28aab7387df35509a98b3c80de2b8903780115682248df82ce10b598441bce3eafeb0401290b561ba952a1bfdedf4abc72c8b2720cfbe745c4f9381219c1850ace6e1f1859dec484fc07b679d67b6fd443fbee3eab71737880246638fb9a59f7ecc531a72456ba2e9b7bc9cd85706e91ba707369e1fd5e71c92b52edd3efc2a098869b71a7a928cddd92482a867d38b63681941fa5a5d637c34514745d7ab6f09ef0b020db45272a9c557df473b6d605a1bcf2170041a73ab6305e6ba2491a1f02f9a2aa5d8a02be903d551737f788d5364be91fac5467f5661b4e58c8aa32dc3278a1d70be3e3909b08edfd939a6ec90a70134fefbda5b964c6854fb553800d90ccd2728cff32b38baa2e7550a320edb7ea8aefa7a6babde3727771e31c40eba52fdbaac224f96c5b3dc9f6284bec4037b1fcd090147b097d3adeac4edce2a4c2463265e5414e3559f0a4ab3b1e387181a8a6aff30831f37331187d331d4c48b3b36fd4dc3c9e81b6f9889630173d16c7402e6d4d43cd877342bd0b401830e69c8b2d86402a632dbc3be02c8c64bcd1fe4da929067572678102399fcf9a576159faf745b94166b2660e601add408c219b2c916d05c076f6ee95c05f2ff25b2bf942274437fa757c9f3f2e9749a097eb2fdb7ef800eefc76e84ffff5244a7d764ad6b86a3ff39bea11e030c01d6b5613671ca5c333cc4112235b9754f2c1882c0b9522793ff8a1ce143ff6fe992bc1ca2b882b9042483119eb0bb1676a372809030ab91e8bd777cef24d98ee5630b799541f730bc21d46bb67e3daa3d2e4941f7cfa930b384a46d3964c18b4a8de36d7aac9b3adb55d3aae4f255828dcf23268467841862d1379ebdb5d4711bffeab498166dcd497e722eb412e42bbd7abcb491d17add38f409d2634f5e49dbf6e6abe16201d0e09903381806396680b047343e8fa2f613e85beed664666f787fe933559f8fbc4c7c9f40adb67b7a9c5da29b41fa464a98a5455dcb3d83666c4c4befe75e55171d305f1e46a456335b16b700f9328b497dca3392e49bc5c97cb647b4bb83124b202fc06d4c63c5a0b58c02d213a92dad10c4d1006967a9108c9fd6f9ebd11ccebcb22d8ae01cb3f8458aebf559c804b78b87e61cf41ab174e0b7090c62c43baa86b1c4cafea846ca89a9e8c282eb7c00a8e16c10c90d53c28c1d2d2b09e8c322eb2e9b3022900b8d7d5ae1c2bc55db3ca24fe53bfada3d6cd43617843afb4f6bb691d2b2a7778e8da3406bab57d8c01b37032a4073b60a33a320cbe52b4fc56d08a17b007bcf91559160470eabc131dfeffa04035cbf66fd96c13197e9d4a2bc6882857a59cabd9e88b80b695be08e69aeb03945de9811b10da21a3acc72444c7d762d57ebc81d34ccd0d55d2ef0c2f4fb217a07f5897ded7b3ac9016d3e2a83a8eb6b5880207914bb8a46a6205aaf89f7e71f7ca86c1a9bd19a3d6c5952b759d28026ae41a697d760d7ce42e585709677aea69968ff4852d3da2a60811362264654cb1ecd928384b1597f3337b5985a5e4164ab310ef9d0caec04cc4c238eb7f4699dbf7be5b393faa3c9be06f3c9dc2f513449ed87b6a3bc04f3ba0d2628314e539ccdf0d38816377e85fc95a3b03af850aa838906a108fe88ae479f2d15f7b4dda8dd9df74c69bb84a0f8e7e4e30f1e576201ef457943611a5bc4b16f4b486f051479225e72a982f3237c76ceb43d57d913c1bba04ce932613fbd44baf128ed7b242463cb8e1d29860829ffbb0bc4141abb4d1d2eb7589b7b27b510bb7afee664afb8383e0796d0e5200f20a67f4b5d54577f21d07e551b8eb6ac614aaf80b5bc660765961875f3e7ccc7a6f0ce98abb8effa21ed7b2e65b6f361e2e08dc340a6e0b06f69b9782de0c3cd4d721a2cfd78ce8ee5cb010db8c6a68acce09b3a5ae0cfac991e8011c9d76a2c5908fe3f5e7a4bfcfdfa430be90a5278f953c66e88170a3db2c8a34584cdd15425eba48f55162c85db1fec3e71314bc23c7b66b0356beb7853c87d2ae17321fdd50b61a708a79a0f50d5ce66d146fdb60fa531c073bd233e696356002f6f1e5871c4bb37f5411fdd9349d4d7f79b02fa6181b657f599afec607ca3cafdbecff3358b9649562908bbf0cc397c83809da413056baa86c2dc722d59b6422c4658f558c742e97676cc28836b11eb528f8593c9c8e3d5f4a3873516056e460154d23277fbb95458ac5cbeaaa01b5584e2551e6469146d3b9edad98519258ea1f260565bc62a9c5977284cd21ee720046c4a3a4e06fdeaa722f6a29ebd9f47c0c99b2ebf9e284473937f4267d679f5f4b97c3aca2aaf8316427c02fcc5f0aeb959175a851ddff015b8e000dd5fd649e09247a0468188c3723c704db8bc3afb6bf11d3b891e18fe11f223f53048d5cb171996c382a75c084cf92d8f1b21f78e994de2ceafe0cf21819a4d2662630e9dc93394094aa3d61484427468c8d5ca5b8db1c9635052d201a4585502463b8811a11580eebfec50255309310a18e3af3ed89283092cb48f68d2abe9cef646741195b88e3f20aa4191d1c3f68bddb91e56e01efb6a1ebc91e7d8a89ad472eac550c6184b61ee00b42983d027bf4bed30993f236d5bfdeb0dc7e5a1b51d4b17d53673a8457ed598bc6483528176b25a7dfc669ce907dd6f5a6a6206d9abc493b276e2e9315fd428cc4cb3cdcbd7e0080d571dc5626794e6862081d4be0204ffa71adeb7ffd4dee75d6453caf0f364cb73711cee9ad880a61de95a9797360b3b79a9ed5fc793e68eb9208c182e7a303e7a303385350c127a24e28aaa5d4bb60d9069117908ecaeaa0bcbb9a26288b6bcd08817582447c8ea3ce77d41ba3370e94b7366c585c2d6b86f4820ea7e5a4ab36b2c9b019b8f07e6acebd1d0b3f96d1e9e106fe9f89d8780dacb94056b70ff114e4f5d5f16c7409e8feb63eeae58dae8df989242f1ce7f3d94b9e66fc432ae1ab1e8d63fc65d1433bbaa1d11bed9cedbcabcd3e4fb8fdb8a2cea3a182fbe5d89683b563e5481f291f5ed4d9eedb6ee87d799e9010fa6daa30b8d53d3dc7755f83629dc0f3364cbe948b934a21c48fb611ed5542cc484f56d22449c4fa43c3b30980ffcaa013820413745513543329e9bfd2a21969e596578264a635f55e6790003c0ee6d584a7ef910726769ab3f81a0b069bb4e605d1372c5cfaea0c5aa73109776b214774942a677a379c5e76927f639f4d9300805f75815a5132e276d083bae8bc4e713b8f78e8da1fbdb4d72ccef380fa34710a1cb2349946a2459358c0092ac305e9cd999b41341f842c90f550e9151715378324f5bab4d00761aa1d9fc8e28938b44badfbe3cd2930f716016dbb9c450f5267c1dcc07d4f5d4c508448c173912165aa103ab55100e9b6a40ac00294ffd4c5e7e42c5c5bdb05579a939ad7057ba10caf77568f6c4aa2f323fdee29c0a0599cdbd4a0e605b6ee245c2e5b67da28564ea0e34d9d051d358f8a5b0254d54fbbca79722caa7d813ccb57198a557a3ac8c3cff60f6662c1451f816bc4b72324154ce4a0b03d542be6aea6a2dce99ae9583736116f7b1e402f74844180122a61c6393c38e1aaa23c1dbe6f64e4fb29a2a3d195ebca885e1d99c9968574b3eb60cfe59ae990e6e5dff537865c733fbe17195618bbb2f5e45ab3dae309d12feb9cd0f6fe2367c8f9f4f4599b3226e43ebeddd77d4fcc17dca19f117ca52904028f8df885eb306aa9a99381b9e10aa215c6e4df0d4791205c90f1883c0ef5eadbc845ef00e2cfa2c7b1c5abe8748fd88c9c20aad150d8d28d24ba51fe2478f4b9e846d9c3bf05c0614f4610c95f624b430e8050b670d5a73c2351255ac52f8509cac34a279439ebbe459421c5d50372d3f723bbd389f09ab99221b2deadffbd79ad2c34468c03814483a788c58a54448ebbbe7a832eb56939a73efa3fd12e9029adbbfdf585e31a636037c44e883396f1209bac67ce2b1ac0ea98aaafbe9e4522b128ae55e7bd13135512c1924ad1f4c05ad2b955546d572f2e32d874b5c673df1e5af8da5cb06cc63b8ef765635c405dc1e0855d42349659bcf4fe4b51060b33dead904f0eb4db8b40e75dc13b2f6ba44e90fc2198225c93c8f63842e4e29813e02700d465a1e7a4682438d932697fae0014ca4c3dafc6a1fb617d2a873fb86d0e11bbbfb2bbc422e065ef111919b372fe9f4ab958698c4b27b87c895528c1bb7caed9dc4ae1ef1d843619c2c0ab321bd9c6dd80d1cef729d2c7fe0a5a93f8371910bbf20c6d0463e9e97af169aa4499bbc5e1fbc9c79906910267ab00c5d8303cd4485d5ed221144c58cc47b42ee43f6c956eb761c8515caf19c012b240164fb9bd6c47ed413e1461ad7c13d3d8f612203036f5fcbd13d18b12cfa68c71e5e6697cf98051457af71994252d7fca00cb1e5758f85256601f216434b2f3d643752b2968f5017321c64a619165314da732e8d9771e3b807e25f3e1399e102e6239e67650e1e183259f7a664d926fbac62f6ed915e3a7fe1d48254459892da678afbb417010a3a748419446a8d366e369f25ea9f4fdf53cd3025b81e0dfe9c05c6ea2fc9e4a4892fa1793e710000d95c0763ff13eb194a1179ea3881923bcfcd946ccea3f8639b18f0a64e3c649f31dd53af79786b45c7d8a72449be1cb214899eb190e524cd2aea747a420eb6e45e087154221cc05adcdd00496c62ea1d84019ac57bb0c9c3349ba32c770d65328011670aa1fe1f0b5dd1492da31dbeffd33353152f732c9ff4824adce6056f3e0a16d04a76932e803f78b24e3a01e47c6bc01a49a0a2b2d0cc7d11c089e7ee9cbbe2ad682c63e209746ec4d3cf1e9738dd5ab7fddcd3a758ba0134b3dfa9af81778c73227601aaf4279acbbae04f7a9834af0fba4f9954edd7ea966b3c3b3e33adb1dc60080b6c2761ba250b2f8ed0a482b0b3098f82103dc106c52459ce93fe7f1291d464aa8c25fd63dfe3f1ca7ced07dda219e8259b01e6fcaf305fe31bab365ec5f63874c0edc20d0998168606045badcd37a1dbaa421bedaba58b1876de15f2f63caa2fb1890727a9e6fe206bbfc66e97c3ba3a3ae32155c456fce342163400f8bd81076217ca54a0b3aceaf5171cb6b0f487d46acfaa44e936c22ac1f9d85ac10235d48f5d47e580374d6375b4da7d22cf8bf2d0325f24988e88a249f7bc54a8b76ca44aa40dba336d53c48d9800503468d07c249b1d05c16e014310bd04c20afe7651697c8dbfd66a1e19457eb0a4434978b5f3aa17f1c414334615e4b9caada46d18bc988b057c620cbf351e3451b1d4f0b7bdf9f006e4b3dbef0bd4637bcc6d319cd48e01a64f066bfda37fe67be191a98b05e3f283336f6712af967ac150b6556763913a9b2b26a5d1e3a13093cc0caf3b493ef9c53b337cdf0719e7c731ca7747ff5b41ccd6ed07d3ce8be757893e69276d123594f115a59412c9dbd6b2e28df32f211c998db7233e71a4c19453e543ddee23872456b0691d15c2ce417489415f19e343bb7b2edfa3704128699150e59bc92cde80fb8feadf086baa5b02f064d5f741ad9011fd4424d9d0ba39c32d8ddd933bd79817985f52fcf60d38904112dc03b0d6aa9fbe4c2d118e114de3276256d29027904c41c16325caec8a9cf7455055cb5a44076f53fffdf546c6b94d95fc8c5f51ab9b31b451d8ef051e31ffa71a0ecc537b45d9f956f0835708052de31831db457361974f861396477455aa12c89df5dbc7743ff8d2258c18fe397282f35790b6a1bee36d5aa6e8a9e516cf6761dfcb78a019f95c04a91da6ecdbaabe4efb2fc2b428aed8722174db665f89f615b764ec900d809dfb977fa6a989bd24813db72ecc4530c567461ed4828f0df3920fe99e1ea1586f9c20331cddcc27847a00191161fc45a1a217838f8090c572eb9c612395fee1ad37a07b3d89e59990d9150ad8e080fc8021c46a653dd754da70d63cfbcb1763f892ec94e046245ec4c28fa9eb0b6e51052573407144a0a9bdbf720ab9b5c0e25a2df44b1c34162636e3c77d52c54950a17ec36269bd764402f3940cc8ea76e4b2410e6f5e3bb27f652035580614101b84c2d36d648024e77aeea447eb2e6b76b3b4414b2a747083345b0cd3ad3cde5ad4826670b2ceb7fe278562c2cd94449196542c2fea75e8c2f28e48b52545817c65365b0f2df912b7129ba7955957e0d257325e210f90bdc478238fb5053c296204edb683ba57355b485e90fe606551772def2f255749ef7b349414108e2e5aba316002315f16f487edbb05772e8406f3978f413b37b6862cf7b6b2450f63288c636a77a9bfb839413aace19fe2a1a634877045a41e5d5fd7c2c094ccd8a2ca30ffcd1961fe377dc0f088da3de1ede7b6fbcaa904093fbe4c2e937ec67bfb0b634353f78594dc0523b471dabf4e9c15fdca2f692e238d3b5d74ef2d72bc7a177213ad31f507abb6a33be11e52405fe9225aa9896b95b09beff5ce8d61899b0153ebcf8b7b3e2769aab0e88d711d4dd696e9b9d67948d2632688bfdedbaf07120558f3de6d205b17b5db61d2a38b3dc450ea0a29a22dce0cfafc40a0d7cb61f7470899f830ac337621f0df86bc887831de84ddb58eb7eaf2c8594bb1253eeace742e8456d394797378ab51e93441189cc426f0a0b5112a19b59a333b4d3d5a2752a58715c02949513a6ec4dae94de48a64cea1c07aef013cb7b85b60bc84fa88a1ccd24b75126796120faf8f66448fa415002dcadcb8ea3fed46c17cd99354255fcd116d4cf56fba4572161ce356854d803c01c2c8c45f50a22a1701699624999cccbedd857010426bf76890ccff67916553006e54b946d3045720b2688fc5af87c72496cee2542532918c843fff02ef238ba2376f683e7c0786bfe9f9eb86050f03c276c062cd1613fa96b19d3a88b8e7999d75be59e11034a143b52b08a68ed746950abb34ee0b25033581b68b014636555f0d940e3f117b6f92b08bc09a8d1ab5b757d9643b67dd787945023cc96d3e8fba1c665d17710e65efe8a773d67fbaa9ab7e1365a6104921b91357c0291ec67eb55d2c89ee276b72c44b4975e60682604881c30d17e19e1b70e2c3ffdbda749294022337592b3845babb227a724513fe9a5e56e2173c9e78365671afd0205b2ed5d4fd2800fd509344744c8f82bdec93a77f0f4e5f0d7ccb31dd0a2db68c40045316878fb290dadd39b6a149802957704b77a630b79455b474f12fce70731d3114290fe0e0a4e1b6df7f138237e79317120a9ee9539ca2b04878d6e12ad1ed333d8969dff01ab5a75aaea4068f9aeb98678b6849f0075384ec6a50ed117b6bfb7a0becad5efa5daf480477c7a1b05ba91cc5f13de3ec2e84b5bcbd2c7c538e35cbba96c2323aaf1edbb348a9ab4c2c906898665516167f8f311cc701beab6d561ae838d57568ac2d23e4a7b8b2bb9892aba308cfda2d565b31e59ee139b661fb8ef58d4d6b65b029cd07fa1bd53a90bd6d7decc43c8f11d4f28847c878572c8f2f36f8d4c29d0282f38ca0da2e32043b483698e13f205674a850b23c0625d739aa69eaf52ce4673866ffcbc7b7661375f136c765fab3418bd69622d0a0fade6bd2c5ec3081a7a7d61ef44ef084bb1ff2a31d8cfe64fa84cc424fdff635f8d73df6a8da644323f1f9553412cce801f8b74145eec56a4079711b6392e84d2c9d932da85d80959bc348fee0b03901a22d72a2d3c8c894269a11f8b26d755a4e3165f09dd7070ead883cde2e6fb1fff03d89b3d4c394d85ce95520a482431b5584949e57f30ef7ebf124effec797e63756aa2edec0103401fac8fe3480135ea9665bc28877e9d2b5351fddb131dc8d983c228f7bd3c23aa825e229930f1e972cb8025f7377fcb5e469ede87b3998a81805fa395c26b4925a5051a55a2ee7a0e6784839d7cf923fc6a132dfc4b6f7f4954e90a529d7339e1562dcaa339d00d6235bd1ce9f266957632373f807195d6ed52aeaada6aed1a119296e899765bbbf49d1617a7cb2f1c8ff5de3608212a7b269c10842a9db915ce689ad9f6a209bd0305647f54f12ccf5cf169873e0af7683b3d611bbcf4c3ad8e71c378e0f6bfac1aec13e227e2d8a364015b38bb4f62ad5d1b05787804a2cb1518c85f7d6aef37b482ad39d19f57da2f85b2f12b19af3e0bac12f76d2913e5c7b35dc7e0d6318cc8dfbcf997cfbb207fa8ea0c7dccc8440a20d51409a37d665296ab067af244aee9aa1186d9decb60fd3247ce1657d3548d32df39ee5e9f9f950576823d8dae9131945365ec73c26a64bfba32f51566477b963147789bd7be45e53e09fee2dcf6f3427b05f8375003df7ece05bf914c6e92060c4dd4a456128ecbcb66590dbb2c6c0be121d6143eb89875f42865dba58d58a8b620691c20ed9ae69605a5ebb56788ac6346a6393cb04769e970b308c39fcf174401f977f48624a524a541c59c6162cf75f469592d7390d45378ded0a3dec2ee879cc192aea0dfe45554f2308cfb63506f123b3669f6c9fa8025732ad6984af8373d9379883fe59c28273173e540c57e11d5dc6e01aa5b6b09c22e4a755853e1c4b7dc1cec7af1077114f519d3080c0ff3f5929bb8a38d2d5aea44e4cb847ea560370516b1d3481986454496aa742369dedf317704bf0a20ca07ff4afb627581c043b20d28ce597c9ecb8ecd65af7c8d765b14c9795545c4afd480ec09d4450096150f9a16f0b4829fd1b8db3390f1835ae6f91a12c1cd5124051404248bfe276f6f17e99f093d307654656b1acf97d5b8b28dc8f24b6c7e5c8659fb8eaf7d1754feea0c2a6dcc69cd6b3af7004e053c9ff8c223b3da322c0f567e14095afe8d6e523e263839cd85a673668d9e707c1fc950582d83f390082a24887bb0a5b536e83c636d2d3e9a8fc06a709326027fd432a28ae2c519d046728b715ea05ac9db45b7b4beb036f1a45dffa5e4aded09cebfeb1043a85851dc9f6f5aab76d30bf148af96dd0246f80206e5ac99d50c507ebcd273e510b910bf3d848d8737d546fed022bf586411eeb4bf1f6acffef385c7f9b274713e246e94d9cdb42581c95e9663a5b162e722f27c4c078f2355e4084260903a1738c18d05f8548dbbef560f260ce455d39fdc52ed790de886719f92718aaa8be2cc6e72a76a5ef93b6bea6617f94cd8500e3d0aba509f3a500ab9acffb646139510fc26826b50458af95b832094041387a52eb7c2784efb7e71664b928b1b34e173d493df87f010f7fcc8ba3b2a966d97103c0d6bb082e956b340cf568b6487b9d2395c733f9b784136886a50e4b67db279d565b8d35224b07f6fe022aaebe35920864c4f156957d99a11f35629ecebadecc82b882981af77e0cac293d4363f8a45f9086d228f22ae59e9d9003987e8a871221c01ae1b01fc5732e0ebbdea7e9be85f4f380dcb8f2c7f98a36df13a5a3dc3c9117858a12b106affa5ec1e1675ae9173f3a1943ba4594f55ce9c9ec2ac33eb3f74de8a49d6dc355d3084163f9ca2ddba5d7d3f75a5a5da467503b57a808fb93e18fc32db66485fb53ca34e838bf503524d4c67c0f1b5bf2d6c4e0ea4d65754eca3c472d4b4b0c0ebba797cc33f5033e2cb29e4f3b04b9adc2ba0aa5653e877d8af7697ceebe37fc9adc8d9c0991a1b9b90bbd4bff334de1d46b3d58039c6338ccbfd3cb89952090e0123e3e91f4bcd337064244d5c8a678cdbc28178b9a9845208109d3aab728cdb57debacc35cab3a7d3dc78df1d83cf97e992084d2ad0fd10d8a1bcf768c5e682fffb3bbc1d2c6addb05f2587588a2ba421e09e75ab98140213543c5c2c1a84e440231630aa8c42346a0659fc7794a4f7d43e506d2ddd0f2f0def2710012e5844ea27d41aa3a2b73c9f83d3ebd463c9feb8712508f9833a9ab93d415b972a19fcb717f9f2466f89b533b66af9b116ffa7aae6172658ad641ff66377a01908235d2a1782fbd5d41b3a344619d7888b744785637ebd6537ccc59594d20e93608b7f81b6bd9cce0d9972fd4606115f337fc009af7d67874627f76187f650e35129047cdc01ebce3160f14634c04674f1b0dfb18a431a15936bc7f938c9514bb02592f4894c7b02f84eaa26cc6937d9eeacc5526e9adc61788af4a9c721e015df55ccc830655b12a665cc2f38407e3876e4a277e02c0b6d1a7314eeb99dda12a252570b7fca183cfca106e49fb5a58c943b5916a76934ee810513feaf7cfeb1d7c962074ecbb226ffaf3e056985cff8323abef99ffd9a7bfd0331df393f46439d0a939137e0929859e37bdefe0139768659e5ccba26ee34161cdddc9db4c542dde7367f9c1f5be4664353c4d4502a39157328d13bc3e4119a9a43ce1e9341168147c171fdf93a5f6da25684387f84328cb52c67193728a7bf3f3331d334889710f9fb40c8283817f9a4d869f2c5f4e4785e48d831248dece07690907c196860e45c3a8e34f32bb8400205914b35a2563268e2b0f5ccfb655d562aa84dea38c8b0e520a82b7d31a1fc952e976c737caddddac192f772cf5b0a2bca4f92abeae8ea43aa495026c58449e77d17bfc12d390d20ffeab9afa8481d12ac09158f88ba73a9a4736524213c0002e7ef1809720df84aa99fccf3b19d445684dc55127e423c8f93499310e12972e0ab12a32d936fca4b1f3d1134d5ece7cee95b539f0bf18f236bc5f2ecf004cb734002434b93d46948b1e58a03fb1b7a78f8c79a36a1e4bad85febcab63d6ee925fa47639df23ce320669da5bafafeac1c12f1aefc589f46a444742d5958650b92ee45ac67a11f3fbd295b49e8a42f62cdbfea909d033059f4234e27f299ed3ddf16e5f6a10361d0e3c0e28efba7c00e3ff8ca9118fefd61e6d0cc7ed954335cb333b0b546327ea189710cf4ed4c7692571693268490221f66542c35b7357a6c2c7df089ea6b8134dd72af9296462ca4aac15c3721de1ffee0b7da3398333474756777ca65375ee091a92a417ef02db7551a1ee230941b504af529141487c41520fec946e3bdff0a036f7eeb1cc6a0ac6e2c02aa1381c6f23c5f737ed9f0772f3accf6aae9984bdc169e01107125c779eabda88a32dd1332fd2f33f8046f1312333b02f71c32288d39d5fb2834e8ce066162b45178a51efa5106bee562f0e42d264070d72bd891bdb2ef04318b635bd73a85092a1615a0dcfa14220e9d61abb9bac95eb3f9ca6bca1cf970e7c09fe52e1282b7a6a6fcaec240131280f9e34b11c14d76bfb9318913dae91866b837a4642288d94c1048c8b3e8740d483e2b2a59a4cec94c09d1d60546d182ac8f03e96b7556db86f6a91103e2fff8b3de4589810b84789c2d8c7949ae91f327e0b224d25edcfda567d8bb58eca43e0b6a2239bfd57848836b46c9a10ad05e43bf0fa3d8b1dd7055fa5260b86e0ca4da0a9125ee1bb49d3872a14725b39be041342216ed503ded72cfd81cdbfe49ed54e4473b79029fffd4957fe65220898e8b057708226c73557b47115647fa4dcd0bf5dd9626b2a83f9e50685b527165778cdaddb2802ff4b5260e4571720bc627ed89bfe626ed8b1edc49005c9db38bb555390ac3b2d5b09b7fd9a0b5040b4e1daa48491ab9cd8e5b7a3032201b5eb30a413a7dd724f79ecfa92b4b4f62b701ea0afe6c3fd5daefc7ca4c99f05fcca9d33d0f72e639aada2f35996aa840a38224363b26bb4e8d721bd03b9c4e090712b1d822a1c470c0f3766b98f3391ead6fb010b12b0961f3eb9938bf6173f8f99681d05dd77e34564d1cc8541a7bece438b0cbe0d0d07ca91da730a4ae196ce03778433e7c8ab8c28f9219068b0e1a58c8f0bb3aa7da290e21c3117481376585315e9fc34e9295eda65750ee147de8f79e47545551733d3f595e553d115d58dc1559ca88bebcff896ad5f6f6209d40349a9256b0d62a15a4456c79a4aa768e8667f843ce16d232249cc2f23ae7ed1bd19c764a18f492981c19a85c4a7a369f68d6cc7e662e2a63ab102551732a8c07bc40d390e7087f4e56cc5b93084b037f118cf4d60f420ee054a94aaf5e531be492897df75d1264a8c87565dd71b01c842c42d9a00e7d4c3f8768958dbc435c4c06ad09ffdffa8de312cf77d385cb4a0e534abd053a3696146fd0207ee82c6501f981511487ddeaf8ca6879afdbf59f96922d24a8ff2645c6e15411a25ade49fb90a590806c1d24c6f483ba8881e493dddb69b868c1e9df684c175a50d8fd472c5b1c75344434a52626c97fc7f8ef1c1132d0466a8a169284984b6de349b7ef190268e6eea7b7ffc45cead917283338a443a7376d693c278329ee8473ea56433a31fc97b653f9e9da665e1011c7a048710566c61a655b2440d48f7d20daafa60c5b821c2c166dc3a28ed74f6ae52bec026cbbb53ed121ccf5b19ba70cd328dc5ba45988964392ab24bd5306cf0446398d9f76b457875f6ca94e3ed3d380d0a303e7d39e6d6d0664fdaa9034006c837d2d6dafa19181976505cb095896f1e9387421756b8246d3400b8ed811b95a4d5f0484f8891d5b2b65c568ce667673b9bf2c7d06128f88571cfc775f1744f7449ac1086dcba47795eb2d68d25ac34d1f76b3aa338c755e9dac06071cda09dc69f7c75800929f21bd1edfebbb504135bedac6ba4790329485e63acaeb5ef7eb2d82f8b319922b38196b73a9cd0899a9fd7e2e23d7238f9912237a6c0451e369f12f209fc1434a712097b6eeae94ae88e763c83203b66902509f864d55d0e8083235142989e385a6d9cfa4e19d5cf857f129bc06f5fd0133665a88b002a1feb8bdc470213b007b463d0ec295552dbfc023da32465fe800bbe7735184c30bfcc057caf572ccf8a1161f24b4ab40b590dc9b738d56d5eb0ec1a8d492fe0eb533599a33c3d7a7e313ab9e47c6b87e0080d39376c1a080ea4d504342b7c0d7e0e51a077eed83f1063df7d2485bd9d0e0c5ec7c96eeb6175199952f573299c09195db5409f65abcf5e301870650752ac15688a9edc93923b22bca9846f3cdaf025e3d25a27ec8115fb2b06bdf9eb0f19437bd34e5a98dfe01e37fe53b3ff2efe248e3dbede7034bb3e06e29defd17e6f3973a94b5e81a8db0dbd8129bc906ffd21d06f774b00ae88ee72fd73be8669dad238c76501ba9ad30584415989865ccca491e7e84ae31fb37b9e42c7086b318a2e370fe0d8538c64014daaab8a299c1eac8c41c0d4454b861a3dd09b582f0988fcd02430903ee7eec9f1bce9c21671471027428ad45d9030f26033e86e4f344025ea4395eff474de49f3dbb99b125b1a5c5f5a0ecd908441a1199a711684a873544980ed9823ec2a290cf10c5456e4d2eb4afa723678f438f492298a700386d9eb68eda692600a1682b826430e4c6cf90d33cc6c059411aa52e04f74b3d5e999f29d9151a7f49af030db4bf686f3b09c59a5304c0b27a0e662d217502f076819f78ad15a365d7ef146afa6d9b5aaf7c1c1b7ea2362c4cbfe493a7e45059953d09e08d6232926261eef4fef65b3dc474f4746c913ed4414fe4d5e4a70285569edec2ed9d1232716279b4836e557a0499a0995af13f1f75902364f893d170968ad2ddd499861688b6f76ea8d61f858d31dc22e64febb67eaf6c8e283ebf34d22b627e0d813ad6c72497fc1e1e1fd94628838cab60d1fd6da9e06b42fc2e26c34362eb3634054d1b9282608aad22f5d727c2a432342b0f786b10fdada0fe40c48a3d49a6fe55f64ad17e4f5bc70617167ab31dabc41b8800daa5b887552d924e423c60d563e96819dec1eca5079203f0fd4215ae85410dfbbc0d0d96bbb9cc27961050e7cee8b70c08b5f07a02c0993cdf15363971faad980a784ca219ac161e73744926a0485d8fafd07913c62c4e8b5d82d2201415db9b9bb2aafed5bca70348e282c26005cdadcb3d87f83dceac2a1a6aca0f278cdc4fabf8a8f8c47b315290c2c492d1a0e4e2aa5541c2e45ea08f6ae812f69e0f775b0e0b83b6c10def5772873cd2dcfccd0013d36f6d97299aaec9b24bf53a71f7b1d6904010881801ab40d59cd512fcb309610571c6c9e584f17706fc55684e0d0a5b1a3f403d540e64c2b4457204045d9bc48bf299f2cf334697c42a0269bf5229489b235537c33cbd86ba5307be270b469d198cc3aa31f7c23237ccea731959b958b196d98217081583cb6c852fe268e37fc60ac55f75d253a6432d2e8e56a09e20362ffa38527e8e54f59fc17bae25040cf9d6fe2b9451a90b82ec8f201bef3d23d5e55e9c5f0f241268e2e2042c0b546b07226862742813bcd29e08dfa2420933497a3316ee3f82fd190cabbc9497017e7c5220b418dc4b07820df9374f0b3870c8f5e84b57cbc1362ef0a27a7b537ba3a29c38aba5683dac48e232f146a34f07f6828c5ae2fb0f602d176940dc51df0bf0b87040924f2952fcd22511ef55886c77c5f41dcef1e7004c635046e0d1609f53b95cf73e30d2c30e44e196d3cd5798783b017723413bc505c814c17ce9bc7cf9de22b6d67fe4c450ccab0da78d254a6c5d9d2d10e9c2ddbf2cf06ab2126b73ce72dfafb957831cceb83a5253e894c4c3b05c5b4f2f4611694f62ada075fe1265dd700d7a9833393c1d5b0b119185e88474414db69fa6f05d9378514eb25b29234497bb802634452b642f2e1357ebc8b6737505b650aa17cd4f8b7dada291d5b00ac1ec956edf829e7f05baacffaeec40c96f238508b76fd1fbaa63a757cea19806033c73361eb4120bb64a3d57d492d18b10d650b92ec25003c4315ad2256d2668bf3fbacee249a204c6bb89ca0952f43b126e4f95e25438d7aca24b4b8da4f9b6671bb922fee1cefa4a989f68d552534237b9eef28b7e93649f433e7b7f1f645ecc6d838f76962a5dbc3e36dacab024a008df66a8806470f69cd501794dbfaa7edac8d4c4550694fbeb2b14f7f45c6eee046eca894a753a51e1c767493152e58b22cb897f4835dc4f9b3f89aad550f916cddeb662b178fcfa79f13e94f491902bc5edd7ae27387cd62a6f4485bf57eb28b1a2d34d54b7b30c851967a4ad13d185a8860229fa9a2fc47063c990b3b30360a2131730773ff7b926ccd1d284376d8e25a705fbf620eb884f14a8d8a36094e264f1721d342c442fe4e8787ae56c13e2c5aa20b74089483cfe4e0dee6143e918063ae56fff4d25feee151fbdbd779b69dc0ca764682d2dd55524eb17135ed457684f4fb72865acf6b342778dab687fed04c87141380b6558e86b00a14f69295f665decfa620711f1a005a27ddeece402d8b3daf58e403d0d424f94d185b58fd04e9717d35701dcf9b997aae1c9d3f8eb6454ffe8c75bbd5f31b6cfb34ceca9f5d99e9a8a53559326e3757124ec65af01caebc26298068a6ce77e9f37625c841d55a4179ff35732894c0bdf062cf978f7fbcf2d8428c86961abe5ea7dab5b6d51a2d5ddae1b7d8de941b5ecc9ee496c061d429efae42958892ba94dc6c13e8c42d84dad00731f41dacb7f40a0356cd7c20b0b4796c34ad1c8291f984460809c5b5667d40a76659031ec414f7c398ba151b974e52623af975cf3ab5ac83dfa1d8a4fd414481cedbdb81d77b76ea348595c93d93058b486e6676adcbeb37f847e245d5cd32e85646d52e6ff075baa862094a66c4aac21d852c9c47f8f47d03940fc778461cdbb98cbbe7e1b567a120aa60740173db9ee4d542f8550119829339b5f6894f9c1e8e8ba3e6ab641928e988d7ff9660c79478f23719030dbf03c5a8b85a59a9a7bbce77dab2d8bab203414a6b4caf1283da5d14fd322c179d0a427bde263091f4dc64e98d25d230ed588932f4363b69ef67ab5ce034778bf6d0de6525d63a1f486b5fa8814d07a906a43afc1e1f3b5bae312bd0bd0681554f6375264281fbf2b9","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3be029b79a81f6301f4069e0a77bee15"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
