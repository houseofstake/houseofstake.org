<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c9940a4219e402e822c4c07f7e9f9ffdab1456b14883f6f9c9dbc4dd0c121aae4f2f63f82978092e509c917ce72fcaf4e1dba63f5c00bcebacc181963262dbf14346a5519c596c0ec363d8664a19d70c81f804ccff00bd4e4491a94e00be3b4447f209e1781ee5c341e376562f53ed4ac2224a810ae288a84dd06bd0850ab7976be3c1a46b18ea044632d2b5bf1a1ac542be9d898049ff6867c5daea6057abfc74197ad7cabc0e58d1a9ae70f2019b3237f875512b277c4d406b7de63175bf1ad0e1e11424c38b8727484f443bb0bfefd6f60eaa26c1c13811d1559521b7435dcdc64b5086c54a26e365a0ef0a8668480143bdd9d8d44de9a187a88ea4512d216d36e88c040cafca12cb443066471c5939e8b214be7fa63046794a38907b5548176b118e522feb9aa1902e834519a8d8670c90518523445acdbc7277aa9c4404880e865735663cd4720f42da572b1075b390e8156abe9e3b8a42a16b4c6ca086ea861de74ea0b0dac2a0358a596468b9099a5331aa593621ee1267223098dabc78af94397d5ac83feb46ad3a2af3fdd74275606a7c0118b017b2cdcfa005d5f06119c52053bac064f920be665ef858ffb44df3aa73f1dc703e531645825d7aceea9723d88fd3aa7f402b4cd118e2bcff26f996b1cb2a68d599abd93968a25df572ced1844106abf3d1fdbd7ef86ffdb910b1dcc037599bc306dc8512c4b7921be99bddedb3eeb5d749a9b79ff11aa6a444d211dc3878a3d6ef009ab45e9bb661312b0e0aebff0e9057b16a0f46dcb1bdafcf967142e4ad1bfffff67d777ba79eb3ce21948f7f08bd0ac0bdfdf8ba40c9c86634e7414b37647634ed03b29a16badae617be3ff71a1fc854cc027a1e10ea39b79edc0b2049cd12a0b0a1c35a917b4e5a380a0f9e30f60c388a7522c3877ff1fad0adccda86d83ab28a5f24cc7bdb04d3b19483d534bae0e1465873d753ca67f623ab3eea13897dd3f301fb46653a42880b990eca42a4612a451f268248cd75d8ee622c05798c231502b1966f0dc6a67cc9fd66b638ae63c3aed08aead6787d7a7b5b4c9591efb313251104a69c6f2334aada25b86b5e0be7be349df3c6ab1f21aee42a3e8f8bf22c38e108ade51bbf5cac70cadc14f008f5d37ac4923d43c1ebd55a366267e998835ea7ea5869abd10614f997f420eda8fbfadadebcc76699878b4fd49dd4fc936c1c80a736f4250c713b614602d1e44d3ab97d2555ab13f956782fef4cbf14d7411d1e02d814882098e3074f95aa7d570d855da2694d72ae24e55a08646cb76ff43774050232c28ab25f05870833eb6db1e2f097105a15f3a0e76d724d32d6576ac9b9e4c9e3a7d00fdf46663be4853f5bc0c664bc8cf8d26f5b5be09c0db44804771fcda6f83db2b7f9ba71886b26e8e7756e800848db8eda184b3065c3638d3b765444fe777e00a7ebdbfd5a2ae4cf6228331f150a23ffc6802add1f572d77b9d26fd3c44acf82c793b8da2b64d87cee08d65b9820b7b2fe539fa3b1779af46c0152f32f5412ed08e0b3fa040228ee8613012f37f9d77013bb3031af8bca5fd0be6ed353f8df1ef5f3c10d752bad4080ec2f5debc03892a3b52fec731c69a6e309731078cd998a7d194facf3b5094ff06561221943a38dd120ce06c2e0f99b7a500ef62024e9d689ad80e874076cc6ec52eaa73438973d6e37b5be3469c4973f78ed935bd770ce37edfa20b88249e8a85b8ed8a07e643e2cfc802ab63a4c95f4535b2631bec58831efcd4b9753c8a5e6c6547c1a605242be173388a55ac12401b8c8f0d725d3cd9efb27bb70bee44f0907c9ccb4701a7f7d5dbb2d9c02cd1b38ae8aee27773d6c042bf3bf499a1c5f9244dc9d2d5b7a883ac91f20d383255eb8bf680e0dd8cad7026d71c7d0b4387746f9f9aab6caf2c53e0126250e68ef246daec41b9a952d1e70171cacf0eae9c5544e45013808c5158fab453ca6eca06d2d252ff74d49d54c5388161633dbb5be34b95720aaf700c9e245363d66b405fad279e6bff7f552716a0a332f57a6385db7a59b91bfb92caaa38f5bf9ba13eafd8faab96fdedcc0cd2a312bdbaa80e8b2967f9f23560754bb1aa05d4037026e2cdbf89b7325319dfad2731527695aa3a407e0e2ae97ccf9a6d1ef71aadefcc3ae9225de64480b2e4ba3ca91640d2f86c92123c4e83de9a908485f58b4e682fc70ee3298f81d8a07401634401204013167772da60759dae1c667523848f94e461c0df582c1f299b393a8d1f6a11ef81a769fe9eedabe017d29cf90bb6fe8b76edc367a382c2fc92807b33a8b87f743d92ec123742db702f475f2b7a1f31708bdf1da42f8107e55614f3982e34b3088260111922a0bb04b6929809600732c48ece5568a27fd6b904b947fa18d2a11528fa3518037e2cf95a6e8f01d02359ccad5495576c18dd6dbe2436e05453b232c122eb9b9d8dd0369beec642c52c6656c7219da0be8956df16c0f1f9bdf3b336e94272495b3c833f61c3b1cbed44ac9cb7d124b7d6746b8ae74802f4c1a732e61c979dd1ef02eb7f34aa368afeea53b8715a16157a62945d77cb1c871bfa3097a61efcac3dc48b88528ecf827d291398cc1c4907f66e051f3135a72beb199eb9e734e179aeaa5ae17a704ebbf79bee2c811bfd2a30a21c185e03a6ebcfd284ae991ed4d6d1706b9e4b565580b6be4eb113bca129ac4d1d13fbe7a2eae457acfe7f08faf0c227f48a407c2f4332a20204e565f5325daeaeb2c0b3fba3b51ce29f5b0c0b3ce14985511233dd0d757ae9875ee12e651cd49cbc15567326a9860b0b68ae28830189d6cc22f0dffdf0367fb2065fa2d692d56f1846b5ddd4abfbbba309c440a93d84977a46281e9bddf96c10610bcaa7fa78fa8d411b392b0654cb5916fa8db9842c2964182846b5414b9ae3a9c4e43e8a61ce46f5ec369cb8a2480174e1ef54c1decc0559c44cc365b4f8ba8edc3d84e586fd2268d53a28214b10299e4b4fd86523c422e4a44baa3d14f5f08e95455bc15c97b3e539ef05aadf56bb18b6c7e7f14e36a1e78f01f2ac3dc80df2dac9b06a818e143789144d58bc553801a241215e517ec19ea40092894673bfb22386b9fe72876f7a38ce926e22688ff787e456b2a48f2905708045cba7cf8b091f08a88ac14da4a790bc1293becb170edb69e319dfe2171be418b85e6459419dfa6d2b34651e78299176d589927c387a69faa6752b034b019e50fba95720d2af8a7e7e8a5da0e1ddd9e1af9df6489a3ed41bb30032f62854e34914d2b401641131bfab355cb377adafed0a00ce95dd1f42e1d91504e050993e7f65d94e54a43f8325dbcbf853a0612decbc8f46e34d503f7a3b9738868817015bf0494b95dee6d0aedf8dadb86c59daeb19f149cfccb18d5c2f7cc1e9387592eed8a106ef8c27e925d32084988fa6ed91ac2e26d6ee56f0041aa24e1e0717bb67258cf62a5f098211df7821a4a225cd686776dc360a1e67bee1f27da102c025d75b56c4c1d6b37b07ea2029d7d85b0fd6fd9e295a49aa5694b00caeb84218445149536598c85f8c4e6f0f553a1f8475a6300c02f76c55fbebf701ff2eeca49244eba142f7f56f39dae5d3c7239e526c7522edc1c29ef4f4e682ac231ff72f659ffd816dcccbd4fc594268dc91f623e8559e051c96a91263bd129b958d2bd3edbb3f0cf1bb7f304f83f8bbd16549972a4d1588707aab232992c43202c9bb42bfda7a841fdfcbddcce6d4965bb7e96a167cd84a5c5faaa64c44cf521be3537b37245db68fdf6aa9a938e29efb78e023e38b8934b48b0f437341e0aeb427940ebfaf2af14725b09351a90f45534689e13134c79c8fcc8b7052a69fa2bfeda0b69645c40bcbf3b8644b038bae99cff297fb077f62e511f676f899d0d3fe3275749b60ee4c4b38f6bbde17c7f8d699b950418629362c58828e3fd9525862b92f16147db5593c76f346e99c863fbe8e1082fe80b256ecd1130a190466c537ff56325de2d7539fa5fc93ee692244de7b89780f190d9fa127042a35dcaa591d368b1f0b3fb0a3907adaf317a30b57fa94b3cc633b13e4cff035a48f936a5f0ad1306c845da4f3e9a0ccc440b64776352c364b3219ffa056202d3aff77864c6f88b4c70e51abe9c73308bc55cd8c24e1288176e606f9420deedcd6843a757b65f1db4fc007e64fd8b14aa170124841da1e164c08c625998c633d3d529e515e88252a3d6522a46997e46b3656e161f3e61e7709e26efb8196c69e26a05d6336eb8d2c72f07c33e968b46d929edc5ee905dd2558280dcbad72cb437f88e5610d9dda055d218eab8b25eef04b6e0ae8b2858bfee3e50c3bd506888bb4ec0154663278baa77eb26a9d22efce4418a21e81c83ee7c64ee5f423fdca833b591abeca59ec7a729a7c7d260e955d812d2769b86deb006c0bbdf2c2245bac7cec079f76733c504639af90830ca0c5d5290c2d3b640f8ace3d831303b15d4449e4bf2c5996fe74a9bf8860cde8e9e3c8c40c705ed7405f65afb1045be72a6a7a52078983075cd54c005d3a5a8a67d0d8743bf75eba688b071c09e7189e9011cc3e4ec56b9c77796e80b4e5c9b85d98d7c1732fa07aa410a65c56118e9ada8d7e248e14d14b1c4cfe857abb687f1ce6dd07e2faa31f0fa844b9d9540bdefecc5bce32dc7d94e7d14957fe46711d6a7ccc586a6245b2ba311316cb7fa12f093fde4efba089dc555e94486afa209d49fa1c7c6891f7a3d1f816825ea7b07a48489a639b29cbbbb702883009f2de4e71a3c1b801711a5e767bd4eea47b7f37f221969304f2ee68518578fd795846c79bbd967d66a4dc3cdf3f512cff1e9a4d5798ef8c2104d3bb35e7db81802f175828760868424f3c22dcc0d5a23302479aa71eaec6841898cf9340a9749c4d85e276ca54bca12fdf1e07b7267cfb24058dd2304c92f801d89da1efd2d602cb8e7ddde813ff35d248ad8da583ecd616819429110f493bb1d976dfebf9f3dc6d66968d49cd92e1b3310ba780a2d0c688cba29854dedbf206370490494689caf1b6520e680577a82e873a204859ede44ba365b6d2cecb3c630d20e877c0ace8adf0ed287a7cc5ab2411db0a55d222a21ec6c8f21a4df32d7cfb590f220c569cee16c67f468ded8d48db2677773d14466858e0da972b610386f71140b1aa9f45eca847612260c4e4f9835f2be6441b1bc61b439562d0936484ce04b1fc6c7ead447f3ae76e2111cbba0e61a5e09cfdd082cc4a806cac8ae3388b8ebb0e8187c3ea31d68c099193ffd2b660691255762839ba15ad0fbab6a698cb34b2f6b89df10e0dd99c4f086aacee6b47913af398488111edf96b157442ff19cd6c1f934fc2f3349d597a6fc6a48e87c3b6042a28d2352b2fcffd631353ba55b22621fc76813f4e56af4e420404402e52db9e786e7161d7c3725339c3082646f1ff2c753c3744696d5df69af17a6331cb0eac00e00f674c3533e531b2b88ea0df33fbcef0db0d6d408782c8d759273528893022ff5106bd7010dfbd4be7295024e9787367e686e55eb2a0d017e1faa941b00a2583f97f371bced4f8838d12904ade8763c0c0022f74e319c441d0a22610b4999f4a6be86adcc10f27cc2e4428851a49b72eb8b9317ad10af81d6a22b66914f013ba3d6d680a340748b633928c84351dc44be6cddfe93578c2a2c7a3d9feadb97642eab1e3e1cfaeeae87d92dccef2313c115728372a0d87fb47332edc66530521a93832f9f304e05d2819eeca2d8d10f887b486bca917af501df402680473c48981f5ca9b4f8fd1f066ce64a041295febf379976485ba2e3b3d41a1dc8a336dc6f24015a6b8d3eeab476a99ee71fc1b629ccec83f79bdaa86ae467fdb873df39a5f486c2ec6f3c09bbd77c15f0122d03fc56d21fd2eb9e30cbee1929199e95cf60f41a8a10ed23a2abdf6e67386e786135d0772240bd80a172eb86fb44f827da1b28555a18ee8391ce44c7705713ac5eeb898451bb37f11b20311e8081beab6d8377593a312a0b57404e21483acde53665b2f733da36c93a9fe7f94a3b023d43d2750b0d7c4e3de83ec6508c954245c39841d924bcf9723254e7ca7b791e046cff227a85e2d0012a5ba45e5077e7ff281de0c9297949b04a3f9d1ee380f72ef94986e8c5dc4c3c3913d0fcb893d9c0e1bcb779de4d3aa8493e5837c522f35cb1e95d660227c86642869b74c07ee59e3c6976135fda89ba7a0ddd2a6dc66782ac787758f884ea27ccc5b6d3430cbb1c4a1c81fb9e82887f9a4f081fd14a691ca10c6e006b970a17d81ece3aaf34477d8db35b96d67fda5b52bae0335935d2abd7ab7404da121222421d81fa58780606be94f757ae48b52531ab2e6782c0fdef0ee52f7c7d400a752a808a0b88c5f723976a67c9e9f7b9b79eab07789925661854e516899a22fc08a5476b66e9f0dc7e507d23888be22fb1820f1dbc97a0a25e4e171fc6ada768928e95f8c9e38ac8b7dd9b9721ecbd7ede99b10143fc1fd49ed33b78713038255c5154d6fcf6c80dae47140fac27283bf04084cd3ce3bb94b280dba86b7e7735d903a07fc3558f4ef9a73a7ceb9f310f5f9e620078ce9a08a593c103b350f0e5394ae342def186f923864688178983d678a636871fa24bcf9deb03863897e19e054fa3fa813898bd1c16bdf4b065068e0ea0706a90fe0c1b864f683136dd6264ed506ee0f5698168224b3aff7f404b8dd3300c58d1c6d2b0b7dca11b9387f70ec87c655ef6153742006fb9e67ff8d05a03cbbb29d65687c163b97e13c809fbc1e87733c874b359ec3420be9cb70e288e3bf407bd101705a8adc4f41221649e857f5519403c212d1d884e7df7d38d71e809c5c4b154a640b87912e234ce00595480aa491e245997be34106af9de9366e7cfa294ccedb5cd59ef3d5bb1e56318695627d719d6eb739504917f31b9d589cd062d52674ae50e48e969067de631129afd55bade77a2dd9c0d368d59cf7c5d4d322501d575d9e6873ab54b909d5b3ff18f4736029d49abc71ae3be51999e7c9fd8dcaf9a1decaef96bf51fa5ed65ea5864e935961090c38f5bbc84f06911dec9b3da734a00e86de19d250816dba31a29a20f7de5b8ce8e7033679b9e78ec132cb6fb9240b8b9aaee563cdcf8b195104bb6fd0a51f895349bb50b8e1b1e079950019b6c478de5192baac7520191c8b3936f8acedd5a665e5f6f7fad58df9d61bcb36fca922b9ea3587641db27a1db6ac73a8f682cf2ab03f33e077a27d6c022e85c8bf27ffc8f4e08d4e00e3e84117959dc16646c346eb9c5e9258326f564f4f61d462bf5ace19f78eed1fbf51495314ad47365ce227d1a64d9b80120d252e4b74c188232a45de31877be756a02712a4cc25f465e533c67235a93b20bbc99e86561efb257d998aa2ef4ca226957d3386f318cdf5c5be88b85ab6a9973269125a09dde1857e6d9b102eac3da65f2e8c08194653db57466bd07aef8269f7c10c3b041203e112680ba7134989e102290905d7e1a4254831e3de8f473a0aba4090967800e8a7f2adedb948ec3876526170a669b504453ee343b09904c7d243b1e4749ed4381544779cc0288807054f85d186490e85e1a32041468a5e94cadf86ca5a9732398a2a94f146c121b9ac4470796c4531ade326e0a1cd055b71947380dfa4f5a558d354a3035082c7475c3b00ba6294a2a4316604a1f439b9238d95f345093d9448c6b36c3aa2e99921525bb2ce48fb1836629f3a0589945c3316818b003fafa36dd2523b34def118bfe506b1a85a7d3ed7638656ce61646a9d00c2252155f3a7c843c7fc95f7306bde7464292a6d42308a0b24dba7a635bde9924a89f5a4abdf93b087f3f8c59d4b1e682f36cc5c2c886ce7fcdc92a4ea5e0e2dbaa4d310461f1d1911c6c412c8b2ba3dc9eb4514db31ad70d0219cfd349baaf64676ed37406a74232739b213108a8dcc629c09fc1f2482110f68e2f66e3ecbb7a9c095a5df984d1ba9f3f22dd113f7de341163c0c3f642231abca5f5daafbff9845788f6242edb144ab548cd3fb0dada91351351daa73ad6fafd759c7b511c4a9f01eaec970f8eecf9b1a6017e07fc92bf220bae954c792510a4b591dd40c3308d07a2f92e039f48ee9a77822b016bd50365c882ff1ac74b361b3762ae94f25f302b9465eb7cebb6a0ee673395017a24426b93b25bf676fa0fb99b2ba1954c311a8047d0bd1b228d2fc24a17d8447147eca21806924b63c849f261e9e28e1756c6702cb7342f99c8377d44a0109ad3abdd36e14b32d68b85b6227c4d0756a4bc0b5981b24e54a5c95f5a5e919efa8f594716a1f0c6f3164f53011b8223cf9c24949bc310f273292e1f09788812d1c05f81dd440c15e3aaf23e228d6ea911daf48938bdf84836c1a2fb9aaef3c6cfb0a4395a89cb4afa6f95c430cfd089b80aaca1251e6da4d57fde0f2494fe3defe4db9eab646dd7014927dd84cfe688ff8744d0e6db5cd126f42c7bac58c76a36c9286485fc53f764fd49f808e75072bc917676516655395b3e1fc893eb38bdffb17962d93b2b3aa89ad89a57b2f527a937637966cc922837931bed6d8cfb55b6f5b56a45f281a72839f624d3d9dbe02b9e4c6d00574b93c03e76d7ca852df521231e69685490a26448d29a0d5c0d564659c271a23bcf6335b58db4b09d1711f3e2a3123e3dd82ac13601fa77e48495206a0ef4f1876ed1fc3359ff6e3a47b522b41cbef4531a6b24c217c54a92c9e4379efef64a8c0d71f98f2791be39da6718776d23818b50facd4b53b8c82cba155dd9d9bc4548a5c05706778561d5c76ecebe1bd91f574a5cd3ee1e0e40909d87358816dac290e8cd5c0219716685c3914e4cb648a10a13e4ab0f15c703df5540956cfc1fcc1505f9397c541d94450951c4b6723963271803f4759874a1388f9ca83384138865b47d6915e6f12456b840fb264e2b8583c6c45a5ba0bf4b5c4e3bbc7be49852585919f15d894097f9f16dc7c621526f01019a6a4e85fad442d064cba0f98efb8410ec81006e23b406d1b61b33e0a69699f36d1f45c585814642a1c164325f5004a789f61cc0db0c2ca7cd92fcfcfce5e9b9ae0d3fe088ab4e6c6aab4b3816d68760e1510e31cf7acc46c71a9c488382e8d81bae2a2025c316c131b719c5baf9db1703d89af01728e4d68eb006c9441c4b3949b7c786ec97caeea0b267feda29f700efa5e69e4ff07b6bfd270eef9c64b229af13e47a6230e09ec33f97c291c666a6ca433ce2cf05606d7c6e59a096ae844861ee23ff8fb6cc347e08871b1a55c32b530a8579cc6618ea5c89eed2963170e7b82251e00294cf269f50053d9d880dfc2b34c41e103468133c84a458e06fbdc50c1ddc018eee2e9cb2d82bf8d8277eb82bc0081728bbd562264ba04454a8d354739c6cc54dc0c7d412e22a16da5f727c0da3166fafab63e59ce5fe85f2053e7d2f70c1af7eb9b2a2319fadf293ad63a1b87901275d32dc76bf9aaf82ffd766170664b7befa7683dafcd764989f81efb1705b7a3c4069725fe4d23042541100f16eb21916cb993d3c16f68414c3c501417742b136f6679763cd794be29cc30e082fec18fe8cd3f7256dbd0b3f9128fdc051b5a7405ed0e09e0d25e9f2b3a21dd6da6ca0e7c6561e8e9678959c9440551339ea73b83b84e88677ece1fff6d8b909b93138e8d3034e3af5cfb8d1739c33002c04ae90cd763071e7f00fffaf189aa0f4693eb0ea4a214dc27e9d71f1666a73789e651d9a6f4665fe5bfae51ffe01b273575d238c8aca6d7bf6f4c1c4c3e851dadad12209a1b9763ff01df523124510f185234d09488337e928bcde4dde5c36b3a019e9829bbf9c43171e66b8ac1f66e17680c3fa989183a277e469b041a7a8b0825f0480acc3e2ee8f4ede5bf1993d67fdeea38afd2af034a8723ea3bc379d5ad957062860081b75dbd2984c349dd21ba5b9d478f3484563b6c87a2038d892f18fbfb605210ed102d71a424bf5eabb5b96d46902f55883ff5c211d075f215516ce045dee4d67ba4eb8d257b026bcf9abe39e1b34d61a05cd0521459f84767b63895be057b4568e38e3a8ba3a6e99ebd7d002bb3351a1a8637e5a32995a9e6cb7f482b57a254e9d8fb921e7736e57e04da1cd906b16e2f25bdf9fdb2940267fbc330cd6c27adfdd7aad7a4fbe1cce464abd253abb0218b10508f99d400e133436653b8f3c389e9f58b920ccf82b15937169788729fa0884123b865fcd6001afaaa94739ec7d446402407c3710291d9442428a13271399e75afc4b46c639a8a8224ca77ed9ecdd5785e5a0c08264c89889b9035332662b5efea49d7db4acfa16bfc1b2a32e89e60d2c27baabdfcf59b1c310c15c84a0504a766985c72e418447058b74ff157fad256831094af1c1b24f341c03eb9687882b7014936235eae4955d6a232842db132050caa5d14ebc06ab4a8e9e9490faad1f63a4e20bd727fcc50faf6601c8da28537419109bced1b9a0ceac0b12281ac648638251f00a6ade3efb5eea9e55dee87cd06281552a9a6a0dbb144e9a630fb5db8897c89aa1198b76fa28813e2b52ca18ce59bd719abaa035220057f33186bb63a3c87516fe24cafb2a28177b6a62595707e1e96a7296b39b6289271d04f11e4b738836aef859069ea14c5df62b3dca63d37a22ff048a97c251a70713375b0b5bc6d73656d817b54aed47a7959f9694fd707236e15f6c5d4b6ddc0e6687bcbecf61ad85e3aa62b786d8b25af78081e39222a949c4fa3d0b618f381803c37e816fc9c3a08cd7016c19c104f8e79831f56dc337ef4326fdb61ec2bd1403e33e0ecd3447098d3ee50935e485a76564505e33ebcf32618d538a549a196276bb2f22698e1ee0841eee140654c05db8839632a57dad6069626ac5fd37260ee82a3eb164f7d2ffe64505c22867a045ac7611ac9c7fb3e0aef0402260399e40ff30d8ed489a104272f9047324d8d0a432ed14ff86d51c48598004b87faf4e4de63e3a8188f36dfef55ba068c7b62f3605ca8586cdcf85f8a1182aa44a9ec4073af6c5b1b53693effcc283c3465a0fc0391f1346338f2a907ab7d4a20b3b7697d92baa4005136cffa9c3e2164e5917e3cc29630bf874743876db79afcdbc249243f666641b6d507c0936184226e62a9b8cfd25713439d118c961b2a2916ce0fcb3a54386608026bbddd571a2aa6f0e3236679ce65523a5310b3a394ac8d70aad47344632196650ea81c9fd1712571a9408c22aacd93eda6650cb9073f5e50bf330d018085a4e1d1f12b961a44492fbfd5bb49212134dba4ef448f843e4bb7b4d3ce37d7f82cd2cd5c1f5b2c9f4260a01051090558bc0a4caeecde47bce1ac28a9e881a303b10f405f599ff87aef5e21041df14a090cc3d685afe518b0e7755c92247f340ce02450cfa0a0aeec59cd601fdc062585871f74b9da8cb69129f26a3808f045fafa3fc45f5b6b9f2e222d709542ff8619ac629167fe205a0a37a9ea80fb3bc3b1cb23501fcd18f7cef2c025af6c8576887a4e1aa445b00889aeb5510a70a9d3bd8f15786d1c811d91bdfade9ccd6b65ec458f59a12b099ae3c24029ec28f78f38ee05050b8212df649e15f65a3d829ad359184eb8a01884476eff2a134fc5d1edfb02bff6a7f88210e591aff68607a372dba3f778670f47cd7f36b0538c56c8327d7a8fa80ac2c05ac99f3dd17b1c6013485ec1a31f2fa1bcfa066047626f553b4005fbfa32fda1edc44f768ba355beffe96e132fdbf31731cb0d8812278d1de72d1c1e059418cca91c19c9d73f2e44bfba1dec48b5a61960985b6c5fb6541ee705f5bd80d083396dca5483e00c672f09f5911a7fece6d149ff989720267938e6761a2efd939a051b72a70fae28f750393b03c3b6f4e1e85d8e7e05de801d30340311ac4f5dabb16e0b3369592e47be2f5798b7a74e927c41f7b9afe658be33aa375428298c459aed0afd37cd5e25d473ff2214faae309dc17b0615c785ba041596895048799459cf897d538f8be2edef8ec37d6f2706eede3ead86e141031fb9eca6457af68cc696af8b114beee4145d34037312b4bbe97d586b64482ae4cca8b48e8ee84ce07bc1e06ab2b5cf7097835f7bda797a69dc90f6d348d5e02c7fdaefa62bd6b861d134d192bf76d2d1e3f05b0feba42d2ef139f103343f474941d3a06e5ce5ed0922f6e0905291464b5726d25f22c3425108b480c3c412c8d0eb76c1d3077d05f0d37fb3b443ff7f3d5bbd3fb00a9aff0d8d020c7a705ac8bf99f7908c1085ad8b594d3192ba1373b003558a4c83e7c12963927f213c1c96261bf5ac50656275149efc5ea033f742929234bc653c8b2fcdcd049221ddecc65f8e5b1bc4ce37208e7ede4ab8c789e5bd72279e959fae462ec4c9abcb9fe3c5177b30b381024a6b607e718135e5b8a255c506082e0dbf8d3523721f864a04ed8d8d22495ccbbb7e46248f03eed01e6a9f0d426db2cc796e40a711bef04880d5e7c1528f9216741271dc3c20efe6e478bd55307c658d0d96b251f20d929126a6c358ede5711b29ae4019ec1f878def6de2942cb115a79f38a44ad569be5472f89290eefe0834bee7b3daa5f91dff43f3a3adb1414673cd20534d79aff4051ebb29676422d060e66297f2aee152c6b48363e77731afd35b62c1d7b580efeac2f2d1e21e788926af667a00871c7e98af8d0c0535f23351baf3483ff0ea941bbbb6a1d0f7ccfa1bb8e1bf102253bc232bb45070970cf8626642576f28819657354744560c27b85731fcd16ea1e4c913ed2089b069a0b641c303d6544c3db91a628a6dec6c89f07da354d8e5efd7e28aa7d396f0b19d2c36336cdb739b1bb5c90cf1e7429132f3780a40663217e0b48a9f91cbc0ce0e81b0cb95be382de31b3bf7272adb3e00472e3d237ad3e37a4304f6eabab18602503972131d5fbe354249faa3bb17ea856e79c3d51304134f8a35e8b03c1acad8aef85d07ba267841dbc89fa1324559d961e70de3423bd1a8dbe8321ccee8c24a63d46595f3cad02f597a6c9b5287f8c8eceaa55e671ca6d42ac26e82e1fededf496598ef95baac33d4b3534f9e22f5242bbdb3a67ce48d314ae2e2231e2b27569e5c8b84c056c4a25853ad78b271364abf3d8dedcf80d6d9ef397c8448f03ac30310c54802ccaae2063e5ded713cd4cb734e05f6ead94a68c4c09c4c5bad1b04063eb74a63cdb77dc25c87c1a07e758e87b14b50451589ab76a3e028b5c793a4e91b316267fc6f26a63b415f2907252a4822393b5198ca9eaed6269fb813ed8487543bc9b7ecddbaef134724d529fae7fdf87c3f1377ba5ebbbcb25a726d9972df7ea94e944f74c6e3b91c16e80b614717564ff74a0c3a5caf85602fcdc1a9c52c2b4cc2d52da36a90c3830c3772d0adfae704828c16601aa09847b85e70d1fff16d11541e09af37ef3a5af5105e93de7613a6f96082f9f6a34a8ca7e6141d4f27a5887912d7ab3a228f50f8dae11ebac4b971c42f9d9445b5ad265f0bb3c6fa05b451727d5670c3d0ed1eccc899b9e4343aca8aec97fcbd8017db6da943d9718fd28bb25f4d6c2d05fbb297d42763bdb57e2ad32c5ec4053788b96c2dccfd5a7e47733d8dad112be2b9f9c8dc1d7d31de3856130c6ad06cc82753296944ef58d6861d7f421850edc6f5882f63f6b96c2b6dac1a142dce2057c75fa30a690cc366753bfd3f157342c8bca6dd649af21b41f8e695a0fe824532fb231b53dcf89e80a45791c889026b9cc7df6c8b4893009a5b99af04afb0e8448bb3ea0010bea3f250abcbed9c31a7a9f805d885acf357f9dd8cb771eeae2c66fe0bb78add8bc3ae12e8f17c8b3b69a852b2580c95a7fb85b3cadcddd3af66fc5949468b035cd0d70617661daf204485671cd49387bb38e830e3e910b5371a791e37f96f9797f225d57362bb5e19e98484b3c3855e67426337edb8709b7f35f4311dacc75a4b19e33dd5c4da72b77e28a6278d63dc8435cbb54ef61adbc924ccefb399fb626c37ca3500ab804f1881acf6c6ab1cbfa7c3faf79c3ef1fc7580fa79ee832b146c6cbd3678ca79b1efa732d3e340563c5dfa334113eaf18ba984d7dfcf988f5ffbd58e3a1e2c75ea7207014b9e4eadc58eb5564d277ebadee13eab3247f194700d941c46d4c3d76c8bed8ab6c48b61334745f8cf6b3f7a541656f4542bf2e35c1b6a63e2c952cbad9493ecd1ca442bb6c4d022cac6f0a0484cb11c06cc41b743174eb2df8ad2878f7f0791914140a7d1b1b01e11ba2b8401cd75a48fba9b6b18aa03f419d46f95426ca08eef810829b373570ae2a2c3fb2b22744af82a173a451bf19d932bff7aa762f37216a7f4056f045678b9995121f7ce3b803fd309012a449d06eea19ee6936f4e8957e1e881ecc5a5d6c34ace487e45da7d2371dcbc1e5ccfac3943caaea6d1afa0763d726eb8cfda5b4ab029de8ccdbbc9c360dd5974082cfa34b237fc99ca7adfb5c78b62dd3797b5d6d393ccc8814fd7edf70af4606e6e994befdc5d8c3336438444e17f356dc2861771de1f1fc232b9406ed3a435893fc95101d982709e3ae605c89eb3015bc433d731279d3af9436e027f6d9f88147cbb52f57e612813a3b336dc092f3c2c7100b72fb1357c3ad3ef4dc8af42de4a870249314475ab7edf32843748f694b755e16638e16360bf99b97a51fe86dc89bdaf31ce5e1ab8a234d0133ad7eba70ff7f0725fc8e442cec2ac2fc9ae590aa93372baed2575f0b17235caf9d89f4a50dd405da52c29f997b5aaa4b5879d8e5a2c1b7a659e33be6f3b055f3c148b273124b5a927663f1c2d19655c4c07f41213a4bb3dc9577c99c55cd6841fd934ec449de9001d1f42b9cbdbdfd14e3408bfceceba857149d1a74dc02f49e2761a678941d0543344e95bc518c75ffbaf4f3634f6de2fcedd97bf7e9d16b5794ab71473f0f917667689bce3fc6fd9f12e2acc13e67b13cc1a5cec658a201c54141e9e5be5034aea76d815ff5fa0f81fe97e5224c6cfc50d6ab3e7f676c3c165052a7aec1e4fa6b82806d299605c1c41da50debd9ec411971394eaae4a838ff9f4e0fdcdb7c398b3ab622c5e1f1fd0a0061c9d3c928036fa35716031d173562ad1e7cb348509a973fbd88ae3e8194b2090774be83bd83aff93394e968adfd646c0f59f9f7f77f21fac8ee8498709f7306aee19c3b7625a6f62afb6690b8afce761591a8172e75b548fffc349e92b69e95980facaab1698c5e2be19d92a86693b6ee6add45ebf303a0dfcfc75efa38997ffaea641ef09e612ae1ddc316a6c0fcaa0e6162af0fd37cba69cd0f8e4a9e1db75f1d3030a078bdc31ddc936eb0c4caab927a1b75fd9e7f7e263a7d0a31783afb3fa609c5a3183dbec35d30d75e0ab3113adf3c04c4be1bcc338bae19488f88e4fb3beb693aa66615e2e7b43770eaedbc0ad85ca8d1975f895a0df24c203b447b725f60bbf0ba5e344c2dff1f7a3bf35fa04c9aed841dcd97527e0c1c1519251ef71e2a675e23955f4931cb4b64f15d7c658854e6dae403711b6e056c31e6cd0b2fd997a522c01e3cbb7dac7d23a3c2dcf3e565f40e3fccea315f06921be65fbce8a4d0751ba6c7e374519b7c31604b0caac7cf822ce1f42b7bf8439b00bbf12a634e63b36d631594a23b916919a2df5409f521d9cadc1f476ff68e2aa2d84869128b74c107e91f98ed410b91ca53276490ecab7801583cece5501fc30a7366f7ccd1d61dddc6722e6969247e3160161d909e45091264c3a1868a01157d4cdd47c02d0426a87e907375f835891a367ef8945cc77fec3cea668681539ac5a51bae7f85e92fbb6191a14f4f9eda9e1f91a7672f0fd6b4318886cf0d4a78e403ce1dcaf158ea39fe8deb0eb81ac844a08288f9bad7471fa71436c8b2c0f944c6da1eaea92bbe29420c56489ea39e83a4352bbd05342adee72bb13ac0539abcf87e2abbe59e84cf1d37356e830140a768506154b4b9559483c5883b2edd9c87d607df4f5b57b4974e42d56754cdc9cf78af48aa2f00d677ac574fd680fe033733564950098f1bb8725e8a20b9713f7b5d58ba8c0dfe51f8883a2ac1a7b7238cc9f5584bf8999337562f5c6a923d23c9daf36eb3b9e102fb37f9b4a3efb71adf1db57f9377bc0ec11be0c6e03f94f976f523bb391ee5a0a419db8b87b90fcae76b31ce8c0301581a5096db6d08fd02153fde6699265cb46e491fcce3d198bb6737cc573ef5a7b764894be75343b12c00d2dc4dccd78b5b5a7c961af21b5e115ac12f061d969ac75cb4134bc167b6f3339557a9de3e8e0c1188942569b0d41cc4793eeb0f0ac82f599f492caec63b43c127414dc3a16ce5cbfa9504927d23c13b6be663736457b4412675772f87421968f2c162b2bc16dbaed8589e8d571c46dce19043ed0f91611da388a1c3df42098eca096418dbd00cb5aed4c060c783dbc59d10f8306cf0fbf0b1320fb47f2791d8c5234c2e303de9d9448989652368019607cd06c6a990f1b9d2a5eb01501c0fb85481e801f2b06abb4de7cc46e853f87233e045d1a978647b4be9a2bd39cc9f18d47d396e28539a897ee55d8318b580d0d55b934d4f8f7d658e764802c9d3dfcd688c55def3fd705833d6b62228adffc7f04e481561dea9a104d7afb0d76f227ac7118f08bdd27fdb4560b9877fbac04a508a5d401bf613a4009ed330a9cb7e11ae610618092d4f4c61b23f4f7171353ca5a7219d7c7578fb0f991e096e6f471663c32c0e4e17e85839cb29b59b5ab76a2c452cfaa6132df1b7ba611ebf1b15fb346087cb167681f2fa03eb06eecfae26d3b11b246412c027d3b12c87c6735abbaba9534103e3f75b13daefa7045b548527881c0ab5ebe9f8ad8f750343206ea0e7b649ddf6afe1368cdeb18ef7f0aa19d63b50f79a9aea4271471e9a1491346bb269ec1e9fdb2fd02b5aa211d56896c99bb7f9c9733e1eea48a39034b89cf4a8e31907a407f0c7f312d4f90fc2b5dd9a9be30c7737c7e99226092ced2c61f46860e148ae1b13e1faf3ec37c1a57a353b96f19dd4ab4042a044c9485e4f67c2bb00517ab50596f74086ab8af82ea04326a595a0ddf5a65ace3a774a4a44e1a3839778b015df90a6180a2b6842327365f45ab1fc11a86adfc193ec8839cf87bda373f8eea5c4f9ab1f4f52d181520c88d28a154db22cb99849511f53da3fb3b80475b6013649ed0c458734cc488e8c546ac51a087e8e8801453fd60c0625181564f1cc8d41e65695cec3b299daf3cef4d10ef3a94a8d5d1acb70b8bb2f0b98d7b03dc8a7cfc9e0c027c31f05213f5e5933ab37f2c526593ff5124590a73fca2a8e15f5ec4efef9bfca5b703a36d5eb5a74709f6a43ff609a321659975b65364ab70f1d1444ea9f3f771326c8df1159e8a023a1510e53bf57e74d7788653c607511de64360998e67bd19e08142a624d287b126f148017a4c6b0889b6747c9b3d68b4316ee2d83cd906b0fe8f9a405a24400eba481d5c3ebad486e09d648d6964b0985c62f76e699cc19224bca5ddb83f7677ffc876ced8f1858a671733d6b171a88e1872d1cfbefccb32bdf9857f79ff57be3c47e2e12ae267514c87238ec57b6dc6fbcc27323bb74f5de31680a1eb9dd135bde642ffce9907370d86158293d569dd890c1b6221be817f32bb976d423b82585b06f02e46a747bf4e2110e81921372fdd71be926280290afc928a6acff3152d5a7da7f37f274462330bd8a3520f4c8ded8670f65ea4387688625bd3c3d8a71dfc9e8f7fb91f019360dae936ac26786fc33039e3c6a5c49b4f4f12a2a05eb89e7a348e5ac6633c99d9ea054a8b7d0620df1b2ed9bb68dea15ef8cf2e45683e269d06ecfc12f12fc5263efbd5be1f7d8cc9636b5a1fde682c6f43f2652a63a3041bce040cdb62c3d625cf4619d4e93bf05f1b6c4fcfb567addcf9dd114cfc88ae204313f671574b2a9063770898d2e4030afc7a8224e5844fa76a357f70b6b231b742063eac82bd7734b1a931b1500853a784257e7b8b9d93fc7e5d8ca12726587b81fc34a34b9dd0ac09b9f5219d1bfa4882a253d0c6f3f98a62078a3450ab23258d9c0c9f5a88c87a13aea16b6b0a12d91b0e803245a4e5f54640d8006abb35aab3ef5a569a58ba4390ccf5134b2082b6230359ed1794a5cdfb8adc517038308deece9890d38b87010b11ee3f6eae0c6bc62e2c66d2d40d5f076aae204d9bf3f58b3d72c4231de8f4540353ea383027e048a9e8a8d6524890329e8075ef1369a69857c85f4b806cffb0a79e93e7477021201f4177a776cc489c521fd3850df62dfbb43530b750e2f1d9f51e50c58d9f8d7dcae82b0f93b5bc30ebe00b8d2eb7c8c4722bb32b7fb9f55d10ef0b72ee346390d50b2a4a2e42dec9c48a890bd06ff63f526c0c57bff904af9b0783a2783f1c934865d80d4c176072a0cb3f5ee48cffc60faf4066fe7b0a730c169a3c687f630fa9343d4f797ab0df396735059f4b86a6b635f98a2fe83431864bea4e3cecdf468c158a698a1f1aae3b1208c8620b55656e794c96b127f4f9610410f19f9beca12da7da7d73e9b9ff3fa7ae33d20b5f441c61a85f797fb003af3e9a3d014538a614c93e8c8705fe2e324aab219d902ef9d72139eac6af10421fc238a89b44156a0da5a3a2a14f39e6a6f20f6ca853a2306ae870d0dc871c84c9d7729e3619d794f0ffeda0aa63283df91174568a5ebfdb0114460adbc804035149b2fdf09d121e9edfc573dbdf2636915a4f2ee1cae182bd72921720f405096d36238b3aae4eef979a6889200ac72589733d2244cf65cc010b7aa8d67abe770c568087ec9cb7d02ce4a9fa6a122e7b9cd2dd97c96844c4a09fd8653951ef1a07a608f29073bdcaa0e68d370ed4e59bd1e4114aec32b9d60186ab2b56ac8714ba013e9ad2361ea884f81143b1408e5fc1790531df7bf3696c55df51dd1fa8e769501a59f543d7f897d1f0b878a5801f2944f7f3d5f8d9978c86de8592d5e5b59e8b58b6b0a0787952ea1d7269ac5784","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5197399655f0ba2e7412d816aca469c2"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
