<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5a33a9bc0b331f8020f9d019a0d43046d6157ab4fe5d03eea7f3866bdc71756f51bd5bb9abef5f2dbb9a8cbe730862fdf1defd30d5fe27e0b7687067bfb858455d98d5df9341a3686b60f89bce4964b90147538772a0b7259f26135910505d7d52790b2f3d0fb4afcf75740ba544a825aaf156fe841e3cd8adda945b343cb77149775a6686c3487ab5ebc99c19e27e8928666901a89f7c10ed5b62c1e648c1f4d10bd0e6b740ce36bcaa750bd87b41b84208f9ea5919b523f97f841d21fea29d274f3b6911ff88699b560c55957973517c39440df911c81c3db74dfe737f025dc053b1961b65f4d18ec1e1f1261c424d46fc43be878fb5791db44575ce0dba4ef361602012397b2d706849b7a534f5a3398210869058d33ea89a4746c0249ceb7489e80f985745d6026723a54da41542aafc15a29bb09cc27d16c6cc7db283356c85b55a91ab2c686a663d5167e67457e552fdaaf003b5265aae3dd2b027fad9920b1e5745c1b06b3ef49f35c9be809476bfd62621c0206dbc49c958247f168da3008b291e4f6713fe2052141eaa49caaf406003c8bd6ff8e774a55c1627bc4dc27867d87e8ceec86712a71507df188cd06bfa249a75fa2be518b0764728beda78727eee30a0f8fd76ba15d6fe3c8ab8f9f7ee1f28d3eeedfb0ff5cede5238a7039ecafab3aee6fe79309154d36192717ccfc3ef21f7cda29a70f9b09ba25554503b6ac1f54c2075601009d5088fdc8b3e9b2f391ca73b7b71477f6c6635efa8dce5976215b8e9c73f252df72420f28d3265a52c7034cbfee9dd576c2f8842bab9a0eb95e10365e180eaea684d1aae4179fe30017cc095c86bafffc8bc10122e9e455601cc9bc519c382f0247c603060980deb6d104d93c2b1c231c42b59026de9f92fba222a4349877ab098198c85b0211d733aa037051511f81bf75c61b0deb90a744591a3d44cef3409c6c93ca7faaac1f37b672347ca57cfb45259a56465bed199d0e575fa8da22790680b2c4b5b0bbea38d057732ece6643893307715fb4cd37280bfd9ab4be426bffbeda8d7e0954ba352963a3667b8a6accaea34cff431ceded6cfe84f1c56ecf01fb56ae10fa294fa29a4f3a2c618234952930b73839c137969565a7f15afa803dff73d6aef6722ab3d9e6bf545c768aad19995d2c01c67276836479b7739a04ffd3ad0a4a6281b1cd6a9408c22a19f0d0ea72df3907d10157eaa72e00d8045d88e6229257953f381d1b0f7624f47aeeb24ee89883d5a7f39826a626de4ef1d9256434fdc4e7d506b07ce58fe7ade9ec7df43a1da83e4830b227f14adb29ee97aef4f8a68e72eebe45f82dc0c92e7a9e332116286301cb20746d1e017292351235d548bf6dd3fdbb382f0980f85554e95301e634fc295270a94c8dca00e6e4e552fa4b341a9049e3a722ecfd97b8800233a9cf45132a3e26671ca420b583aaa711eaabcd69739a06b8e2ad35d0d77bb6ae89b59c4ed4ec878fa2cdaa8e46b2e69d53305fb35163c3b51069af5b3b954d8434c36de6f41c13343413329f2a8e8afee128b04e6bc51b1d3ecd43d2a69b92b6ca88aabd6eac1de83ea4366744893a97088668bb4fdcab5d55b2c0d3291fc61dec117d53bdae972d2b6cef43b519fda7b9b00331e95624e5b48c4c2a80a89ceac837d1d9587ca7f30b3064b8fabd1047bb5e29d2d6c58d79af7f8573e62a240090448ccad49fa9da68b4025771933cac1cd479ccbdb6efc883fcae6940300aff612d1ede288c01da357758af70f85b7416637787029225d69a6b6899110fae37e3bb3f14e6676c19ef70fc9a10fb1fea606482317d6c7888c45542a07d6d318b10783ecde2667394bda59c5e9d3b235dff79db2c2f110f8a360463d11d2c398c99c962e7bf8e1e9d173674f4e7bf7a7493554728f061ff966a306bae9e836ef1fad470bdf8f1917cf6c034bb0964c5561355bafd798c01fd9aaf5c28b0fefe16608589d1c2183b49b32492162a2a5ddc3b80acd8d1e78fc49a4bb293c813d897640458572eb89ee3f55c1c099942ee380acdd4c760f3e766ee44c6b0efb68667c2420971008c64027ebba2876034d2c2ea27820ced13f91dda43c822549d7c879e17dfb2b9c9ca32f50763b8dd9d7b836be53f41281bedd19e9caf441a21e784d5673970936a19d5efe062f4962361358c45972c4edced9cb75768f61603f61d388bb533dc5053fc007b2102fb40ab85fa52a7fe3ad81a4f697fbc941e9442dedbc4d22e87493b99e9f8def4c958a85630cfc4c47450cd8108c659f4717e2f58fb7d787e953bef6b8fe40e72b71f3a6f09a48c8ff619549a5de03d4a63ea68777b884545dc7742050f5082cc7d4bdf19d6d9bb978c4c6b613b03d12c6338a5a319121b59f0afbfe1147dfba294691fa77e0883cb89f3f39be4c9e283ebde3a1c14674f2e509c9556d1e941dbacb8b5b5be5b02fc4176994491dc041b4f1c81693724d032cbaf139491cb0d209125eb63b9224fddbca29d9771be3e7f963486aa948780a20a9bd00539783a296b2b1f5f2805176224c75c39a3740bf27e5cc0779c2ea9cb0baf1f0d3aae49ca41859e17874eb5ad2e98db894203e9d3d3e29d975da18313cb93b6a7167a3917376bd3e19d6bd7725efd34f2fd4d1666faf422147c44a3d868702086020ab261c273d4bc407688ca66ece737edcb553c617683b34ca831126764c4fc5a2f09a5b4fea9d95ba82cfc65b23e834068904f7abcc2fae5369aae5183055cc63f7e3eb77707562cfd722772715d712747c37fafb30643b8638878044eb43c686b9b835bcf5bd89050e22186220f9578e8e516275384d8dab4ecde742afc81b2787ca3e92de07fc2e1e3833c2506806ab6419f8c454b97aa8ca9fb410d8f59006a20b68a9bf54afd899f60cc719b48244a35d6246ce6bc5aaeef66cb7427b7e3b06ced1709613ba820f5dba73a72d1e047999be43782c6e7582269f4d536db4f2c217a342f6b13fa855fa25609216f2d046ddd77ff29e51c53668d54849c8aab17ab8af4dff080de9baee88110a854b359edaf4953e49164e23fe0d63cea462d826d26baf282101a1ae5d8a93513d0386b2a23d0f32264492bcf30f51a661006582675f318f4450c0b292397d96a12108a19f82a52760865fd3b4c1d22643108ac80d4e5b91938c46249f632b50e09aa1e02cfaf4dd3dbb2ffbb627fa66446326b7cdc16bc7c4ccba64b966eae74870724370b177bc504060aae3ee487898a243d320c2747ebf369e03da7418c4ff04d8740eaaddef4ab088a017031b0b0ec769f8309eb2b8094bef079b953a4a34a0745476441b242e5903ae70b32870f8ed1e599b6a165820ed9a01ba02400733c51633837d05440f357e1731deee9e2443e18560a8f7440a71c2fa57d041c179f321044275a3e6f102a567a00c0660d0764b3df919bef725bad2b48e79afa3751dc5111a3079b9bc3cc4958ffd5c16e52a40c0902dc253fb1c521bdeff2d990489d63cecd6a07b84e635e79aad463f4fe96953fc30fb25fa8774ba430500743b3258adbdce1b4ee14c246e1c3c18fe6ce5b545c087c68ba4214988c7327accd47cae85e0c95b337a5ddfea4e64e2bb3e7bc015437a1ad59ee3b901ad222ef66d76537eccad28039a564ab7e8504d00a7d838658976bca92743746dc8e903f822094bb657d4e807f4fc50b13fcfd838d532c87398387ffd2b3ad063c4d96d7eba2b96e9b138dfcf4fd7318fdf6e7f01fb8ba8aafaaf8bb0c587b601bd80a7aad5106befa98992349d9ec496dd6cb1c65f273c3f4c0bf5ddff203a6011a7e2bc239ca1732ecf809d55da863cca340ce46da307dc507c597b3596edbcc88f20ad2aae56c677967b5dbae588bdadf4cf768d95f633cb4fc6a3b82676a0efc2e208ef9d25e20c5c7e170474d7008af5141069d9a5968e189207a081c62805580baad92617b03142d339023d5afe9ff7d3d43a5e9d42efeb977badcba59cf5ac46bcb27503d00de761d9d5efdbddd86ad06c7133d439eb7b1c87e6d87a0239fb9c722d8f7c53d0a8623afedb7669f402307958ab63af9dc4d394dd28ab39f4e211dbe22baf06ce74bdd8b966cb3abb8088106dd19a106e47a002c6de33b575ab1f85808bd3ea810b71b2743cadbf97157d4e492cc91d818712a05f46c9f560f1f1f688167f07eae594436e8e4fb8263da8352a9642305c72614b66a6615bc2f75ad8030d76efee0c266b36622d4aed9205307a2696a97384aa857b889b0d8c01b2a13f2a523f87f389a08112d27fb5be4981884689602c25d1ac8047846fc56c5774944886277cc6b47ced6e2b16c0d14755b5eeb1602169a7f2d41a01cfcf5993b97fb76664276f5610a8a3305acc9cd8c594d3c38b21cfd2b73877d7ba14a5cd735f57c71976e3cc53a452bab2d92a75d577b3815d63dd721e8638865c545657d6031e290a3904cd3f20357901d069595c9e9ec098bcd616e95113500e512465611e2b44f06f62daafe21e77a8d9e35185ec5d43f542b725c80d331e225a1d2ee7d4e2b665753fe1a31aef0b918963aafa866b72829c02c8629e80b1926ef04cfea37191352284bcb03b0d576b48e4881526f3729436cb29c261b3939d2a2761fae5736fe4120f3f9493bf916aef8f3abcf49e7179484a63e40a237939651ff7f3fbd05805378f5cdd713fe3d450c4fc692cddf4603b631a886203b7f5db9906debb8806fa1b2f9f407ad006d9eba4ff216801357ef559bffe8ea2205ee599b36eccf6bfc52e13b2157ab0cd0ee359f786502d686f9dcfbff1a2fb29b11ec280926bb8c05307c233ae345a45afc0f16d2ffacd49119cbb0d4ed06541930261159eaf52b5a1e14d81224403106c34b3b4963c2384630a63d19d1e86556d204882f4ac4c6768131730afce9c7dfc67ff0683944133ea0c0d7b02c1680f56aefcea6520c1fd3a5ae070b01d3a2324e82b4c9d13d877dcd139f9840007dfce2ad14598524ca2110aef9a21842ee66b7237b9a276427f9472f52bbe37a7e38c54ac10686be2e91c6321ed1aba4838a0a3273c0894dff35127e19ed710ed8dd4e63e6765aaccbc890500d025ba21ee143c1f62533b1ceb3c5d943b99dc6ead7b8c8ea285b0b0e35d6cc96f26046811f662f937331dfd806612a01e29d1936813117e6d00ed1e4068fc3ba5d2345c516446e6ac41d59f77306dd40076aaddc79674d46eb4fe93cbffb85abe8cfd8da4ee445dce8557abd7278981dfe3eb666091bdeb93bc5a6715214bdf720d830c6f4cf216e0ff2f0d2c4b8e8058950e2a94d9c7ec41edae2b446f9f06b03961227aeb72a056856e6796077cae18e14815ecb85455ec7edf517f59390291b49bb290026774588d8f329b6c1c7b82fc083edc284b4b04447974b5facc62e93c8c36f95e42f432ea8e6a8f16565d29e9a8ecfc7966c03c8415e645d7be5f38f61f890703090b9153056df9601df9661333d5980d11a79c64297ffc8352f32e3828259b3998d822a5e9a677b6699bad8bfc3a47495b6fe234d66063d34cfd37aabc3e733845b167e6805c9d84e67c77f451420471cef33e22a38bd9b6feb62f9c11c6256673b5d1d660c56693753b9b841f0038601a1170e853f303a74439f7fc5d54876b3736b7ac44f3f1b98534859a0733fec60baed37a32e3d30456c58b58b0debbad6265d300c9f84b2b61f01810f8e0bca8b9d62d079c1797d2c4a2b783ef22501ea7f989740f388eb437bcc9daa88c2638624eb13d62d82c3c4d59b1f0b3e2ebd24446f72379b37a113b38ea53d08f205da7090982ee4f38a18db08738eba3876748ada835c1131d5691528b3746ddcd014f8e6ba73a3a220b24bb611ff2a6a11ee85602cec158e60e87b460ec4c929d304dbe087b4e9e6d2dc3b9c717a806598533a572a771b4c3e30250743713f3d45256656cf591282c365989be45d96301922c04f974f25ce92b1cf66d8ba905eaea24fe450a3a30d8277df743549e4742c4a837a05fea3a7a8f02c6b1d1d595885ea03f4bca4cbd9485f027df172c2d1ec9d9135bad1a647d59a3bb1ecc87b3bb489db2cffd59fc5d7ed4037a3b62a3d004e56d081e3e0d20bd606187e638d232d980be4ccf9c55dee342bb37284ce507c84cc672941dd645eea063feb3a0cb187f35fec09baf42936f914e7118a1681bb35d7ee3010e44a8f3367d242511dc813b30fd17145f69400d87523b7d3ece7ad940488165a1f7cf9613957b5ee3613bb85897e07801678ddf371ccc949b4a3020c4ceb790d6d08620e91f1215464edffa1622417e31edcd82d14eb073cddefcce19ab1c3e56be1ceeae779a1823e032e6d97782edef8edcac1c7569c0a4095302b4335dbded2fa9ba8b7b691b5656883b460d23a21d37351c90992c2c78247d4d9549c3e7e9cb446cba514986e5b5aeccafec8b705cd4a2a232ce6248a663952e72470fdcbdaa90327f7a0fd36884f9f8e0030204dc1a119ad3b836ff66bd22afd6ccf49df7088a24e72568365f04189cb8b05563059a7e56d3ed1e323752010a54ed022fe06c755f2eee11c05fdd3035c4da3bd476a1cbb2926ce944a4aac4aa16bccfa57df134e5ae94e856c24f26e2758a6e55ec364d62f5054d6ff719777bf0a5d066dbb2956c4f8862baad19874199cc9d63aae1a616279d82f84fab4fd339f2721d2f43de573b0e205415dc27e7108d7edc5c095b5e24a57406bd90f555422c9328a0ebe7abb860780b1650a4b69ccedf4a92675e3f3b4904c213f0778f45f5964626ac249816093b15017062c3a8d23e5a635bdd3f730f0c87a38a5b401ca2092e066b621dd31d91ff34d1a40f784cf96968c9079d496b32724a8a3eaa23564d96538c89e0c6709f143a9b6ac58497b904ffc1f05d17eda9cefee158832f6503581008f3f780a73f17766d4b414d9d4f1d9ff25727b75e16db1f3733b5c332c42a5985ec98c338f68753d0a54d1dd4179355fa78b920b1eb9cda9594e2ab2bb7d8d372f8066a06605b81d3a325bc1e699f022eb26030406ee5bba979b379a447f4ac9aba9435e7eb6fbd622ff3dc2ad81aab06368fd5af63d0490caa7a68fbe18ef12d4a17552224a39e5c4608d98cdfe2bb09e64fe84ea494da56eef8c24238c45b04fc5798e737cdc70d97a02f97b1f19724d4e5bd572db86575a840334fde291457708ad1d9b15ec52435a95bbb99b84b11a7cd6ab0df579eacfd85661b0f6d947264b8d3c6daab684b61cb81fb1e6aeb99bbf60e743012e79a29528bff1a200c5d31f8423ffe1526ee118f8b9145f7e9e4dc038559a307f69c81b330557280f234e02613da21300078246fc2a79fd3da33a36458e4d8adc0c4dc7b65fb569cf0fa1b06c81caae71838dfdca3d15c29ffc4c4724ed37bda568b90b8bce84d2bbe7dad22c187314b5d4c743992dc9d8682fdfd5601ddc1c215bfbb39671dd3b37167882b0a63ac2815773951906abee969157ba109d2be143a92396f732ab91eb73c7a9f04a24d82d9aba8e8a6fd86001298b0dbf627af621c3399af0ede2b3aacf7c610414b124c5095a0eb56a9e127e912e15a515d539e4e3adea71fd35ede1cd4ac17af87091ac8b1b8e7aa2f9ced30b372ac42975e634b60ffead1f3c0a3fdcfa496e40237514db2385fc7f72095169e14e31c46d716e77b3129d1fb6babf7747c5f5d065a633c74c71e720c6d4fb34dfee1f635804d1a7094bf2d0af611a829308a64eebefb706749f572de3d38db1fadca89f07f972006ad389d542027a96940f2a820d4cf63c965f4e1ff1a286214c36b2c855493756289b73e7cee8b997d9804b3bcd3d24d311e030565b16f7faeafae764d53f3f5688d4d0d3db1a4114cef82ab76bbac39f3df7182d7b13f151d871b7aec65a334ea833b1b87c0934bf8ea7273e26173f2bb3bb177043d5ce7d6e64fe46d5a87aacb75cfebed3811d0b2782bc17cc6578d22be7d2f92d4e13162fce05c00111fe88d19ec69526d157ec0a49d0a630f7260f2317fc2150f5db82477d5f3752d61718659cbe9795e1b8ceae7b77812a87b2ee0c8995b0f332f1d24159d049a8718dcb12013e2b77f2cd74c7ab7c31292cf784feef72d32c882cdbc2efdf015d5b96cef02cb2b060899317b073da73e3891bb424a3dd16ce189fba3e4d8555e66e33593a72c0281714e13b1587508d02b675abd63430658bd9bc881607a86a429bcfc0b8739c55ff4d4f378a965384d562dae0e211b8bf312ea676f57aa765e578e69ec29407f02d42ed8109c27d0a0c8fba94e64809c06ee1a00fd7102a550ff69ff69f1e38e16b590b62e25a6d459a6941afac88d6afd1e9e0f27214b776516a193a9b6f418096012c6d4f53dcf64b7696eddc5e5f6df9e93276b811a792263f01aa91e57fda550bc3b07791eb28e80052416cd8ef137745ff831438c8de0064dc84e696613805b5c1f3289bf8c19e6a5487308a8d013947914bf6ed894049857aebb926129ba360cfd7590d730ac8f7c9153a03ca9027580bf3c4f3e6aec07bf00488e150c2e49b412cdea53cc95aaef130449d16126888b3a0337c8be15b9aa95777b572e9ccbd5c24aa48897aced2fc39c95de19d3772ff678bd98543dbfd64ca889bbc3ac23f0bee7ec2884204cdcb02c432f764cd7e0ddf1fbf01af20c40d31c9369e80c82c9e27028cfb16b9b49bf2f519f99925a484fbbffbcc24082623094376d48badafbb063647d26d18db57af4ff266be96a6fede973743a1bacfcd842300f2e4cb25fbc602d93c3f721eba2d3ab5c73ebdab82a880b81bc61040d5ee0ac7aeca03f909ccf89372dbca8b13d6a4a35dce28641fa6eb2ec2ea0d4dbb0dceb18f3c26724b6eaebe71f3810b3ee87779b0c3e5e8a569075719f13365dac07789db86f37635d174f467c199c7ca7486cad0ab9ea74db0ec0665a1d1b72f334fb1fc41be029b8b550974511904d71ee88f8559e89149ff0fda31eccb1f127c43601fe4b9da302f138041e031dab5925b73a0d7baeeedf66cd85ab53528a810c6c0f13012aaced07aa91d0fb6ff2315ff303d56959db97178922b834040ee4a6352e36648d19df73a8fa07eb21f05e7b351e1bd7d468d59117501a31b092aad4d0e3d0d3a8db3df64d45d5c03965c1c955c8821b8b7a608dd8ec961acd28559fc5551f560d461ee4d1e65d76417f52ecc547309b271fc8b58c66108a9ab0f7506a19d7f6a8c5733159f3d0aa03875cfffe86a9922f272302264620e21746fbb8992299078327d1b89ccee21b1a9f229541d12fd700d3647f7565c04398f39158b1920fe4b0a928bd21543e73ac63e79e496830981d03331b9c8711130a3883044ce18c21ca53da18086d8894f6c088289ab6b2e837a1954d977c6056f380d40d5cc53136bdb992a20db9ca9770e18edb0e456d391715ea37b6fa7e41248ad3bf5d029d9e34a069ff53256f94422de0bdda228f9ec9bda10934faa71ef7a070c52026b21c524864b0ccb397eb643d0d480463f4f27e8f8e39bf01a3fb24e389599e9ff61a24e2675b85cb86667599a5f39f662566157cfd769b865be4f42322fab7b97983a6ace5333fc9b67fdf1ab492e15080ef736385bedc842678515e96c4e1249edb6d5016f8310062a3b487204eb2947538a09bef80423467bb137f04327a2741543951d05856eea4703b0542f0b7d06e4e86237bddbb17803006098f176ebc92edad94fb869d94238b178e4c4f439f53a68c1004cd95fcef702f18bfca8e8450363bc3f64634674ccac2bac58589ade1dac41f604e05569d25cdfee3ff1e0bc902fcd884bd7c160f12a1c09edf9a27c2d09f327bd9305217b8afbd948761934f65dad31d9c7fc4ce3dc09b5906b8d7e9d3e53020d77b3001fa7e2be195a6151f04e09e1cd9631e3c07d8c33bdcf18e35fb61386753622488027623ac7a79f129421ce2ba9156919cbc2090672b7247ea802bd15a3c77ebd233da2f9c1afb1774f2aa7c8f7fc93479e2e957394b8f9b040c1daeceed83e69f3f3ba979dd91f784ac9a7018cbc27948110f1142c47b93aa0254eb0651353a24aa4c021eec848f07c19280c6f7bf47d5f4bd4ea32c3f32895f8e20e1ff71b595adc3b141100938ae9f8ba327b9d132819a5a3f27e52fd16306ef5be40b0f33c46da29703504791d83cc7b79c709a3b7ba03fba33ba0528fcae344ba209959097396a9b95124cc2b3ccf0b1885cff1004b57a6c82f99e042d104af9c5e487b21715d61c71d277703b0575c8648247db8381c1f2899ff16bcf4c5ac734b6322a3aa6b00bd4b42932de1db3d10756eb22a85133c2f35e60cb6e16fd15ec1efd7093d5e84c1c87d3bcb3c6b8d598a8aa4d35a9ed9e3a95f7878df8e028c55b22ac136f223680d33ada35f4f90e7dcb1bb26e2274296a21bdad0d47f45d2a4138f6cc4727887e0946e682a157b2e9f2b1b3ff49c215c42c04156566d831a0be3de4197fc465e09a97e35ce779e6a1caf51eadc5d0493f3804f73e169c36f8c9d57f74e03a2806b0ff4e2530a436b8f76ecae01c3badcd4ae505fc324f1eb588ac6dc2e65dd9ac2db2a2fd10b8c0fee1b9e412d66d2b976fab4a5aa6347c40bc61ea2069539a85eec41419e2f658a05853f79185d0457ea15e97fc5831b8f380f4f844785ec977a549af60c09121f686269847c27bb7731ee8e4bf1137f51d1162aad9be5e0c67a3228099a8f617953216266a46d47a1aa03e83bc31bc779d91ad9f5f870bd4496b14cb210028012b0bba0f5db9c341369d11dab9dccdbf8b6109a442317197e1079daeec3dbe88a7aa559a6d91e37a5b9cdd5c4c4d12d666dff934c49a30bdf2cde2ca391c8712f39c5dbe742745e9c9eb997ec77a3de2774c285153f63f1122604f77608e497504087274b81ac9b4977dd2b5dcd5d58c348df3cc7252a3c9f008df51e1969dc538c061431dc6909b34985bcb7f12c15369190199808b215dabde81f1ffbe4aa5bb3693468017f036e92fcdaeaca90e49967cfe89c2544728b83716c0ffdd9b12f070347f3a1224345213b1179bab4a422baf1df8e5ccf8402aa9cf8cab34c064d0d5e1ed26dcb492b246479d6fab87842c1f1757a90db9cc447d74377cbc72f64e3f41d717b6237c09760db0462a91c3fc5701621068a7db8e0707155c256746d5b98990de8a82b6dcf4c3e1c7089ef743c66b8113bb6c9aad3132d29587ed0d7a052461fab43e1ecff3397d03431e3afcfcef493c7b0a67f221c7a4e9d905661364fd6f2068724f38bdf46f717a860f94bf9a84f959abc18b198d0c501af342cc12cacddf067744abc7d892a6d3ea0477d3c36db0a285fe42e24cc151d77a7b5af31408f96c03f5e6deb5b409576df0b41184907bc7cc815921e5242b046b1e642349eacefeab0815b04db6c246e060ab1feb59802aefaa8772765a0ebdea4fbfef3c3439ab3128adf676974541ece3b8426c9b7805e9bc513b9107399209e074cc8eac0d64c9b5b81279ab682a59d216bc7301cc5d681e51f687acf8c10178d28bfe6223354e00f80d87a62511cb089357c4c7d1044237aff3bf919c3064032a73d57a7d322cff1798f70b8c0e5f6b4f391ac90afdc979d4a66f9493f6ee79a295779534e2467d4b211f76571916af6bae7244dd6099eb89bf4fb7cf8a0b9d8820248db9aecfc4bf4219c24d5c76692d013231c81f22b6d6d2924d5b5249e2af73a9b027de6990a2ee8c80356eb2f893ace5df47e3d9bdf8f6f27ef0208d198f1a3c013bcf5f196b847d5d2fc16fcb0de4ee3ad306db70fd9c7045d8fdb46bf2cd7f34f2d0e95a46da8ba989b881348df2d59c171b65aaf453e73bf1f42a8fb960e1cd6f831188e2cc18d02e1d82553cc40523b84905e8b68593505f0b7ce278c8a230cd89b439be0e78f581d6e294b274de2520401cf2025ef308d8734306fbc7ecd7d874abecb39c9f1821dc9b95589031c1e7961490fd296c724e4144a9841c4bfa962c9a3c30a6439ec84edb1bf9b5a823aff45787c3bd6b8ef1f05ad2928e6c3212e483d24c78131b8c8dceab159af50eda9272be7cb3031a6f27095c1a0ed016efbb4571b0be38d31fd80e6aafe9902179ebdffd360f6ffd1feb6b5aefc0b1f80a034779c216ce4126b90e6daa16fe0941b61226bae7313f8f65f1d3be37c3b113087b3c331e982b60fe049c7290ae76289267475ecf67fa504ae0badd11e9dc4cb6eb582be995c6e84e8bc0dd13c5920193862bf00364ac8b74a86dc7b13180f4b0b885388c771468202d7af943a681e38d8be58b4af8a71713084f8c8787d04594d73a1c681c3ed7e038df0ae77c3dfc211e0dc86db3a7e6b66d3204d9bfbc95fdcd76b29c0e1e17da4a3634e161e55c1ecbb93d2ce3f7b7a08772a153cbd332a5bb9f32277b833bc62b558c051a45143609e75220ead48ce5db1ebb737b6d8cdc3a6d9687a37fe7c517489b13732d46012cf360905ef852c30277b01d97934f2249c91be4a740e5d5338c04705646dcd6191cb541d34e463dafa429cb061b470efdb8f69aed7a24854ea3e63b1bb153d709586b1aad6ae3abc4cad8ecb3c9375fe5b580783901f0b03d9c818773fa51d1963e4fd014803576b3215d62fb5d465a65e44c8f02026e2996db50200ad6a260df1e13905e4233c4f3f3118c020c02307869d218e99fab3a892d86279fbecbdb57d78d4ec5a04c8468fb2d57dae16b06153a7d2516e7c6668605167a3de34e872d5a6cb9cd1e1ecff386a45ea6ee5ba517e15e207a2a870c2523684b2c235a24bec74692c4ea0d951850e359e44b224b1e88078fbf61183e5d42216ae989ede210f4907b11807bfc617b1ffb47a092e8fb51d66f45b97b3ca35da26a7e5e8ff630d3590fcb95229c2c443534c4979de2eb3a1b724aad1437025e06fe89f907b351b6a73afd7c6a2903397a2485bf1a5d2bbbb0a330b1c2f58dda29ebeaa3cdcbf53c08f8fda13fd795942e6c6587d7feb1803417c25d33bf88a97ddd6cc655d3dc020e055c30f8ea6ae37aea98cc92d99ab19155bb4237f43f6d5b1b6b134a09f15c75500a94c3a104c40c21b9101070be41d935f07d9906f3fc8228c108b87327a20aa1e79cacc7ffd8229a4903be53ec44dd955a104ca9d1a80bb6eeeef4c9e79ddc5c42cc6ebbb593ce1cb2e54cfc861532fc60191a0e68ea30160cb2bde822f4fc7aedb30bdcbfd59425fa4934a1b2e9c36d40e8f066ea60e2752d3d950f1c8f511a2590bf46538522de1090bf11223721e19b531076699c98bb03f4113a2b206c7faacf4debfa030245c494dac6d8140ee8fad62cb3a256a30160f82f627ae7b14500aa07fbbe6512461a17712a307146f9875601a18b6703727620607b15ce1ff28aa4f57ee6dcd22529736a781fec1e5e309678320b40ca5bfeab5fef2d154fe11eed6b40960502a5bbdfaf143a65f6959a634b1e1d3b4eb2b25ecb6944e4281897fffc0069b69ea29b3a1efdc5178d5bfa8d9d2710d2cd6289378013220117fb717be7f448c7bdd496cf7fbb7c7a66453fba5782ccab0f60a50bc83b558a0f911b535187c3059b9e61f13bd4f2738a35b0c5cbe7ea481f4291b1396a7abadc1b05ce354d110ecfe0c650d997a171fa6c751ff86911df9f2df81729025a30f9128a0dc493499d04999264272af87e7a7f0345e2431ca1498cff1e10a49132a3823c5119d14fb0bc34245b3eda23adb599ef4e2696dcc1d2d6f6640b4216d602688b93db3f4019ba720fa790f15105210d553c8cd4d8d61fecfa34c193b7ff98b26a61c2e9838c53054ca705ba846e8746f500d4316c135c1e1e1c7b665a79a20398d037bd3273117e50c2db2a30de68323bfe6a69c19bbd8eb9cb962c323a6a2a5e108e2a1d9d3a986daa69f146f61212cbeb82185cc0a856aac649e1c26ce24c20def5ccf75f508018d22071edc549867273d0ca1cf99510f8fd60646f3e96c66ace263d537ed022b1085ea8baa8fa37830d09ddc82d07e4a3fdff6970a9f72e54cab511ee12385d7c8ab2813e68dfa09faa18d3668f315c43111bc8cf549dd389e4e7d29c1c198b11f8b1f4c5f654305059ccbe79b8828e804819f42b0b645bee88f4fc2bacc34ab95595fe2208148d5c903bb08be5c0a9a5306c67097d5c2ab77d323ecfbf58f5d39cd14635dc039aa44ab98998eaac1c063c723d3aeef1d02246d093dc718fddabd7e68b0e6ac7ec578c5b18e0fce2fc2fbb9d615a6a540ca00c33b6f1134f8d587063561114793bd3eeba5484f8ec29461459be623d4a4851672ea59cf0766585b70404bdfd49b53b84cf1aafeec6dc93a40b7639cd9b9e6d30dbf7d22c87c6d95b7753754f41955a8694fa8ec68ad7eb3bc58bb22e3a9f9a63e6180c6e773e92c8afc4bdcbd78b124c78aefbede878e556586b14ee23a57fdbeb37ea3b89ae4b63642f7c474c69c92413226f37ed6d4485d964f9caff057c3e8695dcac1a84e6b362018d2d42f05223c98ce7fec93603de1afdcca16b31ce57cf11aa6b5d8690276edc61b2668d7485a67ba699466ff7d37a81408db136b6acd8484e390c03102a95a50d10ca6dacecbf3948600ada0902fc5d762e7e83964a81f4f38dee7f627475fd30c81712b7774415cd33522cf01bbfb690241de7554b0cadb84bde33c1243cbebd0e87cba2fd7f0ffdceaa94fe48ffb227ee7450cdeb726c47eb66a252b2d07a5a6717a7edce7e10f79ae56d7531f77f51e13435db967a5c30774726e0ba7191d9bdd92ef5ba6fcda80077dee9255265e7362b1df63588e0b83f2aeccbfaf8e210dd0e6b93c4c3ba8630d49dc184fd967ebee6c40a7fdccb302eb9976632369963ec0111eb2bb82f415e2412536e235b78a80b786d2134f8d2c8ea1e1aaf7deef9a78225c3cd59d2bdebc3df9239291435ddf0996b067a46730122dfab7717000de182b88220fdb560eca87f8eb5248931cbf33ccf92637561ed5b9bbf441db58574faa7bec71448048bf175f9b9358d5370eea5a99c3d5dd1fd0ddf1a352cc26f88ba6d0792120aa10444521e4f7956136c4f8f4c7c8384b070cb7bd2feeff1b6cab4f468e090494ac2603e8b74b5bd69dc9847cae08d65a1fa6c79fc1d99c26324ab17bc9dcff4f1daa106b043497eefcb63ae9e82f1ef3a0ac1a8803c84232f2996cd6141fbae97846ac18c2b12326a22af34aad5c7505bb98ea290e1816f63dfa562cac763d9e282c4fab7b2f78b17be49c18ffaa0592173a1f804b90d2daf0196534cec52ce13bdbbb897b5d08e3e772ce17951908f806c6546af49fcb7750d2265db2133d77c110894874fb00bf9960e5ea28a7999b012393a9c0105b70dc9e38b1be4f58368cd01cda855f24477d1071fa6a80e39f1a62e870355f60b7de3fc4d38b3af7ffd9b8be675467fa5e62a03f83abb048f5024df74f90cd87ddac2b369e6eeb38819ca8ad6e17bc873966ea8cecb1b307271be064336c8c367ebe3fadce61370c4ee47ccb495781fd18f7b7679430aeaf672459d8ae39fd071713a6d44c728433d79f87deab3bc0d34783fdc86a867bd88d534c7e294631b2a55cb0586965d84c3860cff86de855b9aa8663fd55ab6a4bb40785e695ac499c243b2f0ba2686c7ccefb642fb78cfd7501103d4c58e4c99240a4f0da251bc95281a38378301d758f47cb12faea6427b8744afef618f26643dfb060195160792c1bda77f424ed57b0433ffc1539d42c82f541ff6963dee6f422ccf9969266274ed855ea6e9ac814824c6afba3a5b2dfee30b6f295225886e11dcffaa07b210cf06299dc5829343616fded5c9a084d296750ffaacd14516f949ba33b54a6015bc1f023952680779d23419bd2f17df803fadf4e0cd0e14cbc2ad557974439bd61e9fa178e979d499de661b539f1e31cd0a3db4c8b4c199df538dfd83d967e6c0a3175df48a44bdd7cf982875f72867f8d87dab0eb733b5d21d14ee0a7e7720f41f3ba4a7d3dc37eeb50a0c89cbe6d146218630c35b21eb1b886f0cb7caae93008a40224be348f0d742dd010c76a085936f12ab3610e77afd3d9f361651a0678528bc7465f714253ccf8542f649d6ec08c5bed140d3ba247325039a3b9d52f018785e4bb6c2fbf58a75f3e72fef8609cce14db45f34be34ad14da005e2e161569a9249b5fbc2e5b225f460511a92ac4017dc33707c15b2e293e4a3e868080e125f69eee8d7520923c66b4830fea8f9dda45247ee48c08abea9343b3559fad8779f7c37b9c5383c7d84e5e36f093b4e4a8642a614641f5e9e48de9eac92fcbd076040266fd0c409270ba76f7609cb962478a2ccbcf35e5c985488135c1c560f1bb4c11aee86832f1392289153e24aebfb518612e842f4956c927bed94b0e2a2f51238cbb5e1528f8506fb6161ed6451d49578f118bbdc00dfed8b6a98f1798c57aa2145261520a23f6ae5ddd9bbd5a44373d9ba9a833228b336c306c4374b55ad18efa4d4dd2d73d640b0046741a76e8c1ca382fd228a43789348363922ddfbce7d89e1049e62d39d13f5de6e804e8bb355fee436ff04f0c54d26137c6c368b2c0fc3ad15a9f95d1841116ab7cbef8c60b0f1ef56f79b69bb6145623672f43812fba5562885da918c73f363e5284a28ac02278b6fdb7ac981546337c576ac475a5d8bd0c673e5e9a8d6e8b4761e9db1141369833280828948077325a47e4fa3f130ba6718ec0cc90f5717b613a0b1d8365abfe28de570f3f30fd70c73178721c4456ee3dcbebc2e357e9d1442dbe4d7361e4055db997f7f3ca153716de6c80a53d7a1fbd9b929ff655b1ee9f8428369527551107c65f2c237d71f236ccc6bc61b63d3a423fea6051f1305abf26f010578d420d6282d62e1d23b8d3ed8c9d50c41cd1cb19ff7446de884269c66694b3fb920170b2cd109d2c856204974a1979b8d373ece24f43b83e55fe76f10ef0de9edabaf7d8c9f9f895e6d9026d5910e54e2342b014cf1425e123dcb25421ae99080fc7df8fc748ccbe987dc804e223c012d424745fbf70c981351e8ecd5f3ecdc58d77b4fd7a9478984d195bf0b3b40a000bde520254180adfe30053e93d8127938f6a067ae89667ef8fe6e14abd4f6f733d7f28a167dfaf00762af98cfccb285b1f3e33b8552a95ba5fcc52ca09f805d5999679464af6b2623741ec5c5cc974efc6e4eaf93e957919891e9ecb1e42de86c18b4beb9109ea88f8be0032cf2a880241297ebc7cdd41b9f0fad17231ef6f145aaa5f23873bd969c4d9fad809a6a69fd02e70767b041e65b52e06266838fa8d90b2da2099c2b1184fba0879285b78d81e3800f603dd06992a575a6a1217b5b60f7d094978caa68f4d40466ca9079331d102f0be99b116598ddf2b93c9d53f7d7fa9e292ed83d7d87b129c1cdcfbf61277d471d7f4bf8d2535e0b738fcd63ab503763dcab2d86abda33d8787983b06ace9f54ad0cca4dea16992e7abdddf570c628a0308066ad879861fee5de396cc48b90dc989ee833d32b9e49d640611e31abd76be4bd53c0700c4c2efb88633a28d622af78dc0cf195b702fd746ba4bfa03ef2e990aa11378993c51e80cb6db26b523065781a4f0ae9e29de2031f9d6cbec3adc9358159ae30a8dd32b22e55821568774c086f9d526fd42dc7bf49e59d9b77d6794b10f10d164498bda77e2304975dd24cc9b1ca48d99d135e5e5f81740cb4ad0d4005e210f9c5b58a0ed7f296a8ccbc17f56d333c3771868cf2ee7c2b90a7db0a6d989b5cf66ea0d97defa2a27e11d32bb00c84178ca36b5b49cf65392db0bf5493e163742eb9bcf55cff9a57e030deae3fb0fc1f0a2645f8dd05a07e2d726ff181ea6441a55ea63adb7abf0773437c3039af90f12e107497382bb464f91796bbabbd0433c9ed21cc5ac4f59222bffb4dd91f1db0e71cbdc9971d8066e5ae0e7b0fa96a16a8d444ac85c2d1acc1d36ccc91e3e1657e83d49603d6915797beb917b3a47d0215d7975e080685af14d9856bca5f253325183b6ddc60f242a14c81dae2395189ce2dfcac51f821ede80e7ffa3e2cdd160f5e44941ffca00fb2f516c12f745b251fe5e376910ab81a28dede70cbf0a9b73c7229a6e3f5afb51d4636437f10959380d4458fdddd6abdc3ae733e0b574ae0b9c39867fb86c32da49820d1a1d57a659eb865caf92737e7af5ca8773a0a3e9cc99eeda98ce64c51da4f24d4c954cbe0a859d269d3107448a6693757af57a0947d445770f304ef5d319bb9e14290be0e281a48cbc3eee9f5eb18f91dd433e356c847c6db69bfc986b9205a5b5e2a81c3044bafdce08b8bb859350faebb3c02bfc38f801a1d0a9916d1ded024d9da74bd421efb9cb3d614267fdb04d56708b964118117a071f798a8b813a0e899245c2f2b6c046d5a19baf64f800b36ca549a1a57c06f103a5136cfce0309edfd51b47158c8664a9070ccab38b599a4fd29dd6097d6c4f6d224e38e548afe29f83c3cedce8cf56d665c6426a3999ded76d7f5be98a4e09b7759957ee77d75880019911c3b4cd8b27b9d835f0c8444fe0b79ef2cb903e2b192e359ce501a5278bb6c3fbf759447a35152aeaaad0d77787609180248f3eb93d6a7ddac7f1b78a01c09742907c64ead50c162f7869c53d27edf20b2f6399b4cb8b1582d69cb3ddb0de3af69d4674335a1e14e52a0d4c3f492d8a040325e5cc088b902c13604aca827040531009a14b35f626617270c918c169138d8eb77d3c69af935f48588c1047123865a98704a9dc4de6507471786fc8e739148d082d77d226ff181cb730f48c099bf9bbd94af218a02a0ffbb0416377363a6def8a23362fda6ca7d5ec932a31e8683c0f0b0cfd023b7b9f625796433d827ec9560a67a7c25939f784cf935a48599cd3eea5f3e7bc94954fecf0cfab29f7dcf5e417486faac562e87513acf3a38311be72941607277a4c2edd595fc5b84304e58a1aa082631317911a76dc0c85bb97684516ff72e80f44d8b608c6eb849b754a08e2bd6f2eee377ec0eac4860976315d70ec67edb0fd108f25c58c089d3de98ef76bffc7e2496f516c3c8ce3432b53b50c17655ec8ea0716df13317f4d7e33b617d558b781","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"1d92f157948d8068f33f02e45de5d720"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
