<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"fb714b1908697fce19e9710a2b6801f69c7012106877c55aecce504dc730c212f6f9a13c58322d2d92d41e576cf1090c214d52e6dafc3189f5ed72e55bda563367be435fbba3dbba8fa09c44a4d80e62721ffa7f5cd59c7b7d381582229de0eae4bb982b5adc5714d1c6e4ef9b457c48ff67a536075e8d6ff35ca7f94abf7e01e9078f237ad7a4ffba4405c17a9108d45d9adf9aad2f5761fe408d91d6acfc68997afb45b0fbc92363e219baeaf624b0a49156f196b6af103b0628e9c4a24704c2f2bdf82421a126c3aa01c89f030c4eeba238c03d536d34fea59d07c51c13fd088d9f0a16a76e93174ca185b9d0d6192be42420b9c36a8b84d3e7f4554fe1ed097f3b0741d84375e86645a29f6267760b2f1649e626a433850d94d3ec0b9407568db7e45ccf93db3430d04b88e78ca92475028f88fc5f70761f22b238c3ac42633285320471a05efa19775a32a6d1d798a2c2af87c6ee06b41f5afdb57d22c24b1e0d9ad1feb46dd70c5eda0b85bec48553067d59498626b8a7905050ac9c5a13f764a2523c80346c4212d954a178f9b6da7c4a82f6974fd22ddcd75f683cfa8bb73c0c0f5a706856012fbea3ff1ecfa981bbf5c724fc2dcb5730bbb64fceab7b3c191ea137fd91ccfb45e964931029726082a13b849e89ca1243395b8b921b2c78930eaa8dccde0739f5b4119589c6a04184750001174caedb3eea8a0807b39ddc854683c3d0bdaaca46407bce7b0f22a5cec8dedc98ca9a9515baa322a11d85b79b92467843cb9ae6e03c0fe2974e02a6aa3f1b0a2ed3e4ae374d8691a3596ad8c4482d75f069c79f798b8b7433785d8df0b75186daae509294589ccf1219924ea2859615b35951aa9cf009f38a604558de89bc148ddd3c58e19663b2d51bb10ef8f62b1ddb38f7dfbf076af8cb68b102bf1ac0ed8f2f717d2d19eeb1d0d4ae0650873fb0c59cf3a63e958459b447b5c60e8fb2b6b1890a6e0bf7e5d2f6b3637b1355204259fa422ef8c803aee2f862dae333b81731d2ea4302678579e5c58057a4849b15241590263c98841b49c5f0078b33a518537c89144c9c2a468e6d35b894d237c53d2a2e5b2245bc84889e537b27fa1a13237595dd30804fae134a375bd4c3034a10eac280f86d406fe36731b2c958d1e6c5f5646aea9cb525259252b763a55ba7df12790518f3cb8b13ba56c8b141714db984c58237a2a73e04f6df8404c3915e81cbd22efd161c52df9f129983bfde5f0a84ac092501251efc3c8505d7715a9d29b31ea9d89986eb2f7010da162e3b3cb22a7390af5164672ee1975911eb379b4d5e389c26692bcf89eb61b13e91c34968bf691df3487d15d98f14785978218d635a818ec2e49d8504b14e8f78b71c3ec9719b98c58590b0c941c5f48bdd3a2deff07cfffc9f985234e980bfe792168d996b016c613278fb6a26e8cdeae165b3ac8c4810115be85da2b9f61ff88030193a330d69554f76bc2f58bc3baca8e206d855c6d52997ea40058453aaa679467f7c98be7516c48fb55bbdcfc0a5064d75c7569e6d42da0401ff3142d9430cf7fc60f72482d4602c6a4aeb1e551d51e0d8a3cf7f7b7ce5a07ffc3c99d5deb26178127ddf7de2ef868f4f573e0a2b7cf665764d3825fd91aae66412963481646e218a0070af3b31f009f982c8c65d4cab6946551803fc0b57105398cdff8cd023cab629692c6471d3600b8f2f8d11a6d82b26d5a975f9e68a4d1f660d5d7b631b7c85df8dabb2c1f37032930186a8bed692c7976600959ec4bee41bbb3b5b73a065763a0f1ad6cb751fbcb8b9cdcee7b9e8eeda18891709d23b8fef122437f0e425e7f1d935bc371053af989e8103730ac3e6788c20cb0f5a20d454da83bac260f873589faf8c425bd94b8e92064ec4af918c26f709a6f1420256d7741e42bcd09530579ba07bd60421c97af11ca7bfde5689db3ab28760e4ebab71f635c9c4fb50a07c4f947f17bc76ad8f408678f6631d25524a6883ddc40db46430fbcdf3e36a0b9ee545175b4506d6a1ef9cefb292e52b0fb7de1ebd1b7cdf7664ffda32c4d9eb1d632f9836ce7d293bb56c64794a114bf1f269ef12eac4cdc1991334448f42d472e9a22cce182ed3852c0ae610d31b1178cfc8455557c0ed9b9abfa0ffb66b04db4e8640a848a29853eee0270138618bcf5770e038576f41f9e88d83f5c37b7155ff2423ff2ef50112bbf7a4a9060ac80b62c28d0aa8a0eb3ac4dbb1e6c1dc604565d3dd531debd2a3685ca389de25972ad5036dd11b3b6332d7ffcf29b0639922954d2dc8b3b5ed686c52a4ae8940131c25ecfb61eebf6bd677a52201bdb9cf69b0f55b04187bb31ad11a3b9d1f0d83157d6cb650f91f96e98cd8885e702d0e6b071bd79c699112de14b92efe833013ffcb9e6b4ba549cc11a24ae057a9d16c2c4cbea8b24004299b0136c217bf48f8e3451f1f5e6ceacc62c85dfe0996e04022c8927b6810325636262bf77a69c260d094b6997dd2b07ba862cccfa550456df10262545603fcf6d58d9a0985fe8c46253c0091010898a5aedc0e330358026e284c9d39f8857f7f012408e2c12eb2bf7e108b6e013f927b7baccf5e118333a431fcd6ccc3898249bf6277a41b70ee8c7d534a36059320f44a3feea5fa231fb5ff6d6e4a41ae3ec0de4d3ca6e129bd0cb80c99c4a0d4c3368721c41b09b8cfae4fabdbe736dd10f7cbfa614c6d6a75be7f8dda9cc01b890147f292817bce2f50df314b61c6208ed23193eb3db80d96024065a0d9a1fd0d4f40cfe9cee629d04f684751e19188e565bccfc9c12a7e0de248d351ff50262e742a17590e5dad144762cfd5c921465e85a5c291c984d01befcb83618ee9ae8d15bd9c68726f93166418b8abc2d23888bd3ae9e7b0c80c62a52e78405ae1651a47a501996be89c3d623325eeeb89fdb293ac9afb3dbc7a97ba896cd10d0dc3376d260569746127e15875c311ddc4401715fc3dab797d318a7c14b281cc6a7d0492c3669a3db9648b7582b01bd323963bbc942f9b45bd43580a3ab37475da72627c4c525bdd47ca450a5a31b17e0fbffaac88c57e87c21f91bc11a3d8af8be38476c258447b02ba71a6f161837caec37867a4f3f2c82f1ecd3e3dee9acc622643c04032fbf0beddf5485616e13e2be8c7a7dea07bc8b3b03c63b3433ab43799b4d1e68db1489918f6eeb8c8070c48c40945811acc2198eb637c41ac5aa82beecba4991efc7b592832507dfd0224d41b97bef2accd670c3ac8d254cfb161812e84ccdbe56e61ac1c452b36b9999faaa53f7cb75292750c576df783f1af5322102c4a1307a0cf1852e043263cca2568e93bc762fe2a21cc247217096a9f68d2750370ca0d7d203bf49dd01aac1738d42d341c8f41f750803f04420c2566b7000c2ac8283fb574a33a57581dce36b56bfb95321ac5a22d9c39bf4050370b1309a1d68342334d4c7de0b8d0279825ec0f9d80d48def2c01c7f6836de43ef4a4cc2a21d9ee8204c92c207c75f6898fcf1fd3ef491e8093a275400e135acb3c9d9922265766a1c56d90e35afec6b72f997af3e978b77ca98b25631dd5f4c1b498f594e7fffcbc6dca61cf7abd34f87a05776053b8921d0ec771ffa96b6d714f45b0889d14f31743211a8d1be2c0dd698be59f4a512a73adec3f69581d7c8dfc914f61bb8f1f5867f17ad2319045c307dd970cead2077e239e12a6f3725b4328c67ea60c7b5479956dfae8fc1bdedd36a0f63c6df985a11434a950792eba0025329bda4464c2bc6049613386857b53c903ac58a9df5f6fb6be15fb39738a6cd5242beffbe420db17db36d9270b0e8b11e50972d80713e56bd97916295184a9d7afd09a0afda6cbfc7db542348fe46c18bce723eb2fe7025710f7196b909385baf961c5d3fdee55c27b71f37b25ac1cae6fe13c34ccee81e7cb4a6e1299469309c119289a6458cd8b6ccee7d8d6e0836db7f8317bb650d4fba8af1069c86dc47213047169280d20c989372b25e3f6412e034ba38aa51f9b9b4f451df7783df400f23a61ba947da9d043b06c30112057461a70e581cb5c290ef03c2ab6ba1c566dc295244b4e87774fe54fc08c51d041c647bc1a46f66a008fc35e9785c759b53b4b2bfa7556f897dfbef72af0109fa649e030db69e6ca5d66b6fdc24434baf414ca628112c30139337467f705b8b794b9db1af9b25945536bb21f8b9b1930b02367306e7d55cf3f5adc3a7605da92aa13e902c50c7d6ef1ce3292862015fa3aaec980df151b0c5ffa747d881fbedddd3ded73b53bf0541e230076f324fdf0852db4306d48ecb46dc5dcf2b3982107b10e3ebbf5be6062a2dee12ed2ef8aafc0cbd27e851e4cb5e3b9f0ad1651eb0e8945720e181b72eb54bccef2655d9ca98d37396f8e0f441d0a93d6ffdf4362e4325f6c985bd19ee50e67029a375f98aecd68de89c534cd9a354d81f967b5b3d086d2aa520bd4722cb4d9b32acf5a3c742957b13453120205ce7770fa3d2725ebeebd22bb5212d630248f096668d11cceb2def8001fc07204db290438ef250feaf9e5e36ace94ede1339f74593f95776bac042afeedd2dcaa9cbb5ce8990c0c658ccef915ea753939a2e1596ad0d8fdc07801cf8e7a313aa88789e6bb372733c1344b6cdc16b0c471388bea5d056010daad441c362ed968166e653aa917546d157e9c4d2cddb8d86c7c32e5f4e541f06bdbbbd716470fd7b9c1e2a70ddb69c84233226ecc06fb47ffa74108ab494d1e0d43a81f7595381eece56a50aadbf7909c5d63a801cf3e291290c6a93331d55648e89f2ee8abacc642c6b551b998cfdfa833291d71334c53e783503490fbebe15a80956575e8d73819fefbfed8e841eb478300292926f16c7f0293c0bb8b25509949d81b83b6919c2e59658e71c929f7e4f61c067867a959c69edca189c7653db956578b363b1078a9ad2baa00348631a36455bea820e823d295d5706a6035af87539268a30f1c48eba38c5a9fa67be74368b968421138b802ad6211e46b453d9fb87abbcab1d0b778e2c9cd2d13cf02fcb2f620479f605f174b2a3156efab4d40e1b7babf3d917af2452a6b04e4d629a28c85b14df0c3d15097011fb3819d60956556d0445e3acd72be6b63c52c980e69f5c248815c6134e7de828281fc2292cabe7513e1618e992605884b9bb2564fdee12d1db4b63dd5fa13f2d66a8722afc526ee026b4d7abb202b73bc14b971450790e503f500ac6ab92286e4016c3e081c278c5d9e6b5218a500d055d7f4a46284d82e963dadb10d8739e0798997193a778be95db1ba1c72b4268c54c03da305cf1c5fdd02d1e9f49a27e90f5d4f88da779f97e30801d101c0039aa2311c2a54177715fad7ee8f7b993016b47bed2fb4e20c47047ae9801110aa46df3e95586545ae21a392d9fa00fbdc1f96b8cbdb195121a28a9e2a6ae45d47277bac59b0f9ed87cb13d4a653d94b75cec54eb6f0ba3f8ea2292d3ba2d7e875f07497e441702eab8c317361398d0eb3ac990c062f90bece4aa05640e5d0eba0527c1246e43eceb6b04b16dd4ffa0a6f8d35c10bc59237377a805ccd222df2d2066bdb1fe9e2a1c1f1bfe558f2f53df328d9aa683b8e56d9ab60ab077d954da6dca0c87082cee4428291a603b34212480417f3c0a34e7650df5f53ff50a58bdca3d85bbce298b5e1d0e1bb68ad37122c54ac578e40ea2642a1e005a6ef69eb6020003a3c59c6fe4812d350ff3b5e8ea581d9e5aa73800a556b3c31c488da5f5906cbf70225d533116815bd96e210f3f5cc9e9f386a6f35da5bf650f7c4140d3a956602dd8ab8c045db5d0a56fc2e7be90cc30aa999cc0e1e1bf0faf351b704354dbd208a14d29270ff7feea22a62f2fca51d245883e59d8d1e248ebf135ad27b6d25afa8d01cfad78400b4a3d8ba4140edf805915418232ff35795829a99c8224b3ed5cd3f37fa9afa9aba4981161960b98d774990cd000413b77fdd2ae8b4dfb844b1483a01b0731e655a4f3792c62d6da2dc067c1f67862bc1825b262bbb8cdeea0b15993d2df26fac43962fda1a7f2780c9f0dcdd1a875344305c46cdfaffae14249c39d91dbbea775215a80de5248dffdaccce93bb7a5053f8572f0979d256e04aae774f45064ec61db683e85799648019574ff937233cf878113d16f0d4e1bdead9170c2013e3d8ed4532fb8246c7f55825a895b7a90770fd2b0afc1ee9fc388029150714af215078f5b7117d172c7cece50172695abdbd0ce67c35f06fe05062e341ef4af5bbdb412bce9d8309547e9669d77ddd2d866e67eb914fc937c9d53637dd20b1a016a5d93b26797f3c9c44307fd24e3d4f594222001ec1a99504c68c0bed2c013243f4bd034958198ca60f6767b6a4fcf3c993f6768a5e20b04aa948f1ac37227e49bc9d1a342febb45cea0b9a3bed1fa837c5a273fea61cef1823acb5fd8d08204ae0d025d3e451dae2ee2088bcdcbc821a099238bb7254017016c7c6bd7a1cd70b4cafd5ea8516ee68842b70827f2f643f833dd81ebe5558efd1469946f3546495dd9cd0b42a651dc7b8f8dbc37c6005b25ddc48516ee57e41a0c6932a732947d220414fdb9ccc27896fae9eed5298ace33e1afaf7bc24e56f3d7a682c68ed3aa8107a293992b2017b27f2b3b718b809c907db06f662f2b23c1c8c8765d4b6fe18f53a5311c01145689cfcb2b311cf03e0d81667b26a1bc00af8eeef71b1d96676334983f4e27086b139c4f8f22a7cb9c8627f37b3a93e9bd599d969ca8cc10843d9b3a346c3d01afbeaa1e5ede54a443cdb303c59e9fbc08bb0f4f2bf899f9f8170aa5b97af7c8c2257ed652b278f5064be6ff3856afb5e8073dd88acf6b8bbe260c99c672b939c196acbe37c159d634c8aad441da564a2f3f2a2e0d81ce8e124ffec960db75660fe1926ab0f3ad713fc0236fe404ebc96da2b90fc696b8ea8d46d6f2a17105690a2f8cef45d222ba23a9d12e1b1f5ad6daa7c6c7c9212e2560c27368e448cab61af657772522718d4506aebdf6bcb024f6e2998d58385668a12a7f5e00f11b7a64c767dc92b6d6743ebd6f6d53228f4aeacb43eade1811dabfce504c6cb30585c2d8fd1381df2c3b39d2e3cc6fff2093bec8212147d467e8a71ae7dd8d3842e707fcc150a145b773752b212034f48115b21846da4f6c2b8a247fc3cc8c3e716d1f1ee6959740e3999a006ce19b9a815da614ac42bf96004ec85068f78a789e66b203ac0b1e8882e1dc13796a67533004c4df9fe6739553619e5296922f00e8f656e05380437310747665f981452757c68816eea8f8f329ab697dd4e839001a5b5025b110cdace36ac64307f51d2274720967a2e69ca751e0dc10451890a917c26f6ee0051699ce20fec27a15313d850e9c835dbf436def2611eb8a3dd60c6c39b43a0637d5d49b6a1a1a221a821836c8d193816fdb50568bf0283ee383ea1deaf0ca29b99e104f65e30e28d78d00574df472d6e5e25ccbccfbd3db7a611fbfcce1cb1f8ee3d9f6eb7e95bb5145b5652caa6f7353cbd7eae71efa61cdd3a4dcf8e7a059ffa45f39f8dab45897840f968116139b347db6eecf78918b752a33710bb016ba065b1ee8eb5c2264941f757753ec7babaf4e60e151cebb496682c63cd3cb348473f5c748c4e521e7cb0e29377dd2dfcac9755e86baacbcddc0fedf2f924e4505e5da38dcb76e00475127220058a34ed6776c595f2d48dbe4c2e328988d20f83c0244ee648c7ebca5646ef6d8996cf3a191478614d28df29beb99289f5a3fc29a317037679d1e76e928a240825e7f02ec6f0b26ed543bd69ea104235e1e064dc0c1eeadc33cfff8367b03ebdae2f4f6c6eb9215137f6d91e93d31a4f61e18e0cf9783fac6f754fc738138495518068ab8d593c1a28022ae119da679052a932c70c12c84f4ff4898b8ce9987d7449a93cde98707548766d6b1ba7203c518d9dc7542741015aae752ab9e505ba529239d409940679efb6810942635c1f54db53901a207883fa9eacb443a863b62322ee1e7468ea32f3ca345807e15c8b06e13e6f939ba96e92e3e5817f80b608064d6e51fa738937c35deaf70bdec9b02e167a72f721368b952dd6ca6f6640f7714d94a6d6281c3d529af522ca9ebe5162a7c545f074d6e8f5bc03525279191db324e805492a079a47a652f0ac84667c04a2425d68b027b5d1d5ec1ab50f3951d87d5d86e0412f2f2b045bb1f20aaf6ce8ec2419a1e7b6ccf55d5c5c282f84b0986c1330237581338a553db55372d52a72b1b53cb098003911d4afb3822a004b6e5477329f43f993e61ff7714f6a1b6b8061c643b4618c7a5da20099a273411aa4a9335ad9a9265f532c41ba4123322fd4c5d7d5a32625f2bebf55de65fed400167d3544e89b4144a4cad37fde9b5a9c8b81bf19f2beea456b94e95dfcaa77d5b00b14029d2473a0a3f9cf4dc7712aabadc825bdfe7e0493b8804dea6eaae9e92fe051576e53cfdfade149db779e785683eb0cb34540a6db2549f3b0b28ba4739ab3bf489a0b469d3abd44c6d11539bbc0dd3abdebe7a27c08507bbdcf01ed7362a97e5c6edc2a7bccf7fd3d29353d604b43f089c86f1a8aa5c370b723901b8af9110b8e26ed991e82204601a951d84b6fcb6da1559f847b5b07f725693cd95a09ec3e12ceb9943e8453f19575b0883565cc826278e5be2ffa4235890333d55c2730152293e17eb6f8bd97b78c97bee4a8cac824b91e11aa003aa1784392d615fd1b6f6976e569d97db94b1d180c0b42ae1f43d160ae516134c2ff6e41457154c87ad96eb3ee34e76f823f2e76dd12b0254dd4f0ecba5037c630706a20f621d21de1e378f53ce468fce2418f1c93e07f1f4b9b41f1d93b7f769c7bf4c4a70de565e01a378d996348acb017660cbd7ec1942337e2433037b7397454d3897412c1cf656deec5c635315fb77128c0972f84dacf70a9f096437c3c1e4fd1545ebfc618ef780424e52dba181a9856a6898bdb88e346ee40f1466b8c11732cde1c0ee2f828ed25d0ed6a5638c45512f02822aa2790d87e607b503bc2cab67b0b24085db5e827c4838672b7455a779f49ee30718de9951de7e31da5dbd18ad5018c5f2fb22a895645edb7bde4d35b57e5ccfc5f4a671e3675df541be66752b89147ac7a8c07ac536dd317086142dff7754f3b5a3827b3e4767eac6a6d6a8a81566de032ab3345a6fbf5047f70299327b99eac796f36c3075eb58608f9d2df28b1451569610f2c8be58877668bb8da908c1edfa721e73deebb66cafc57dc030f595ed21e2d61727ee36bd11621bba24d5bdb41e549230e382ac4efb51f1b003563f6fbe567bc9a0fa924ac9dae18e4d34c834465e462baba7a5c16f00e0f9652a50bd1474e5dfa7fd49964ec808cc44840406b6411c54a483eb7545d0d874d078ab673c62b713e25eecbdd18a4f2a33d1087de80e206bc3e1d60556b0fd8b22be22ae214c25b8d3e62857bb662a000d3f32f808a8a2d59fada43a2a0c377413bdd46cb035aae6762247a577dc9e78564edc2584fe01cd82bbb93a47e7c98ba2220c35208c1c7e6144ea68398c233142bf53a3ba2d0898c1953913d0a47b68f8e50078e3f7bf0dec64f19ffb1008c72746288c657ddc44bab35f648ea48f1f3b2e75def00af07621fccffa93ff3d7544aad13ec2814ecc1540cfc90103b24af2362f928093d375bbe0156a4910621e9c2dff87fd3cbbbeebff73517d06b020e6a4f28d40aa300814248d08316c8bc52775b4cfb56603794393ed8f3d4b2067d89dbeacfd7bfdb7252265271725ef04b16c4dfb661cc779cbbfcf5d34076ab5ebd2e250df9398fa845e0636977e8f038e2c9373c8079a5b3a0f0fa0ae5266de32f58e6f9f607175e70f9bd3949811aefd102e478c4e92b2316b779b121a4bcd26c3cd873c909a4e69f9dadeacbb310a6bd286d27ab454b1ffef8ef40baeba9a211c96972482d8054dae767a6bbf357aa3d1c591fe3596a45eb7e5ce0a69f1982ff7c494ee83cdd514295b3b03e11b7a8c7f0510e3a0bbc0d0f964a9ea603bab601e0bd8811eb8a91ee3c6f659723022e79d0a2ff80a90ac479c11878d8f5c8e9c4c36d14906063d19a04b9da4c5dac0b999b79a2b62d8aca2fd15a0e0a80df084d9202364c5e0342feeed22b05096ce544b769951be7850090ef02f4bcea6068f7fada729935adbe69ddbc8e8e31638d388ce9a3241b0f78e0f023d4b52dfc2fa70f133d18fc72c3b4d4c493d41bac96c439ea8b771696b561b5000ee761732b384e6f407beb2c822a5056ecba0ac4ba74e8850e588c482e8072ee723d900fe123910575b9457e79de8bcd8f4b2589fab8b64e23f823d3908a8dd03e6d06b35aae145558c07cb1a31ecb27baada99aa107c6fda0b9ce0bf516102fd6175648557c028c16aefb596a39ce18dd523356df4956f56727edbdc78f6da92e75255e409b98b0c1989c661d212d0967ee4308bbc7f08a8a6a327cca88484c003487391614e795fb4bf2514eb788233aaa0edadb8b87b94bf1e711991c8b93aaa6e1fa530cfe7a14a7ceb82771f7ee12f31506de35d905cb49f061c2007129187f5143837d85eff2b3867fd7978519dd0f085c3ad8d06b492dd4eceea8585e792f5a790e125e2d10c433d5c9f36a2b2fcdeb76c05fe17fcfb564e06442ee7ca0a31e5d00aa43622f010dabcd95629fdd9777f8c8abdb338669cf53599e722202e699f0d945a8165c19fd73b354c3d5523628ae020683638bdb8e7d9b79a2099863cd26f78b02e4777c56a8ccf1dd401e4220afa2607a93fc91f7f127536a0ef1987f3150ac27c24343a1143d5bb514284b79e3e11953cd651aaed8b53d76a05fd487a24caffed67cdb2c961a4e2654f13e0d99f820ea9d24ee5cdf7708d90bef58cf985254cd178874616229266da48729440721ed12a16e17155da39261d88ff141fccb880a9dde0289a020c17f8ec1a007b6c353e27ca09a43ed4d55bf5a54eec7eb381a229b23c2c9ffb7b49bfc1876e6b98a00f5cdb12c10389d3375419b869480dcf068b09e6b2b7f5b1dbf12e390049a9dc6357fcb377c69350b0ec1bdc8078ad900df2f272bd116bdd9ea1fe4f9229bbe0bdfd180e4aa9dfd4b2b46892a4d3d90cfbd1d73ef928b145ece91c8267bd7b04b14a4d5c0fe7c4ed5df9bef14f4d8df49a7c6f6929e3abdf669da89b95b6387c4b7a30fa5ef558542540f0f20dd9018e74fb04aab6689e7e868a718ad46f808383d876342779ea4bba6859def66c032fc2db3d993f81283a04311aecb735c7a11e1c0ac44fb6071471f9f09f4216fe214156df4b72ab5a39066ab65186a6beecd42d91b9df3c35f83f4a74141724087a15ecfd2106a039c0f9e266de0b2bd0156518e3d126e90a5b09fbbc182598e55d9f2e6af89ceb4ee66b64c3e50d04972bb4183e0c76afc69e4f902ee3cc8baece8e0c2b77489850f2a4ed83f2ffad462f3f1a149073cecd006fe4b8cb846cd62ceddb42b64e8b0b294c1f53295050ab15405751f2f717715b84dba34f1857d2df590702e938f192ff73fce868a2efd47dc501eae46508c6a4e205b76a692875e1c32d9f8763769ad634885825dfc21c0cb67441686f733069406a66d612ca0552c2f9562a9dca7fdb0b31f191b368ca5818e340d26b261394749b5115e9222d6f464d9abb001d730ea11ad81e390a1b0f190e81a9c45e98ef05d035b0fe50b5aec8e2b11edb78ac7616dcccf9262a3fe638c8e8fd9b063409f8ee8feb5f80ac381eb1eab3e1af3360f12fa4bf66bdf4c18d675f45e60d955dae6907813a331a1a8dec79d6f52dc5f42d04606128692df774e25530924dcd08d966448a2153a07cb7b6d30825eec6711130d4dd6f07237f31350b2705d81af542865ce1160d5d68b845bfebb9498a91bc60455995224df90a098b8dbe5beaa5ec495b844fb51def25d71b57f032a89271161915ab444c11df46333b1062d3e1c48460a2078471cff1d8b6e792f1ff052ca4568c6dae677d95a88e1417d689f591d6405ec4a682435b0a67fcb32e49bc7c5d3e525b7dfba2776eba29898fec0edd6543db69563a0725595854146c3ab601c5839f8ea601df123a48b81f7c203e1259a45019ad2447f6ca196734d00861ba24776c42810d8283964dbcd8c8f932038ff3fc80f2c48fb176d4e0451311371490690c13fa46d53163f52431bde3861fd429dc354f4fb3a9cb466336ad449df91b21db2e33e011e8a0de19210309522d83261b24514ab30af791077829831eb9c96731de2fdf090c745501988559ac8cfca05fab678b14c000f16be5cb9e4256ba338d78dcc548adf9501502934ba402fbcaba55890c10ea32c4866c7b6e4975bd15450e27507d00611244734f4470e4b6f1fa7d1d2f754150da76bded0de4fb51c7dd9417809a77c11ff281e5bdac442ce7c9873bfc4c2e9bec1a845fde4f7c03f508c1d0f7079b1475405f6c76c31d0f8fee8cd90472f679fdaa236589a8466a4d666121af7ad0c65ca91758014f561bbbfe1e736aa0d7e81d222c9373b22adb0ac23baf6a4d262a59d8328353c3b92b70fceb9f8b8033e08763c2dd5bb2269f25e0bbbf01135a3da29398e10cb896bbe7972e971e716a053b29e602f48a415160cc7ddedfe9fa06691fcf5bcfcd9a43c214b954d586534cfe6240f07710fcd356b8a98211669d6a2360528f2e1361b1f6936143036c59b61ac98c70172772de8f82a9021f79696ed71f584e794027cb2543ac00d4fcf89ddc19b7f883d7b098e0952da7076bc73768e7744ce03949a39cf7ea7ad20701cb5f2c04c049f95ae8f7fdfd51df039c5f470654edfb8d8aa08d98a41d60981ad2122b559fa70572762f59478103c8f2e0e5e39d47503e75036bcc39288ce66ab6d1419d08f6a81dd01b2fcbc8b71bbe3588de9785da04bcb7eeb99808c0d14bff32354cd0a1c1878e4a4b703160a661e69354e0ca7b9c4d9333e6b739539b31dd7d038d82bd2d5b21e7168cedd60c49b21a66699942dabe0d9118d2ad17b78b5fda45c1b7a21517b6a29a3830c2e0cccf1b0fcfe597ef9acae2b3a6003beba04712df0e96969ef8a9b44fc1c146a06afddad79be8e874ebfb9e4838dd215ce724eecc62b6a24ad7381619dd24dfa86f7c6230f7692ce3efcc6f6c6343e3c8114518154bb5c9c9e3a2f58b8ad9bf80039c2099d24f4c7a1d9526479db036cd57b5e89dbdb761f4bcf920f88482c2827f2a5f6920c73a2dda0ef8910509b300ca6988a22a7aee3f1a3c349010d9002b4228822638a3edc2997233eb8ab4ba726a4b0c713fd84f5e346e128c54e7fd52722b3edb46b7a36cda651a7d64777efb8cd2fe2289987f388432b4be0f2bd215ec1491b8471cd9851d31ff56370b2342c5b2de294858da6d3e717ba7acb185aecce8e801ed6ef3c4c4bd86c1ec9741cfe00d0677ce8705cc340663424c649e25b2ea0152786d5cf946dda315a7a60038c4319e2bedf01e5f3ebf67102defd31baa583a2077fc791010423f97d1d2acd73f8c6e964a510f8e3b92c2745f2fe79cb882aa51b772325398173cf45c2894084ed4871341badc311694c35bd407be407718a39a0de8fcb1b32737cc32c546cb34834a8024252d82c5b6ddf073f9839484331a6b8e5a7f2f70b53e9d7ccc3a49b7a80cdb4ad626b6b85dd7ad00821c639be2a6b3563958b95b6998e510247a6acf8616f17e19a5eeccfc28a396e4f6edcb4c94f058ca5543b8df976ccee1ae77f627098b7ed95d24bcbe2894e504a5d5e823ec0ab57a702fbb0906516e797cd8eddabf5205ad069ed95240f4f15d61f2a02f0a8f46a9f6d1fd72dacfe96f78bac7b00f99ee7b85e3a99663415746d1472208e825289906fa20d506c01e4a97a9ebc0042ce2a14879156821a8269dd90cd7896cc1f81fadacd6c2edac828edf244be20108d9971e398fec5651d173b30729953d66d3d28e7238dac275440c0cea8316db07f988dbb0cf4511f82a85319920a36924e067069790fd86fc21a166239c380d4d937c01c947e60b6d652b08b7213b629f14fc9be830ad8fe258dd38235d5478ff29ed36c083df8453dd2affa9c65dd0b5159b24ad241fda2da73d2a15a8a508c7db30ebc4e9624ad22ac7168876536c0e11346fa0ca9e0eba7715bbfa952188d4ed90c81459f24f080edfe1aadb35ac2f6f73bcaf47ecec665279b897fc178b169e2ff6c45f797bcda596c690c6205fa2fb1b26ae210724a2a8f499b080a9deaf4e01a3bae7d5746adeabb3c72390befc74f7cd0ca47fde2dde240ef62d7bf49a9f87ec11b4ac65579cc1181dbd33892c9dd828017f48871a17582a75cc97b175a05b6c892b51a0522ffb43b4b581cd88a4203498ba08ff3dd05549f51a6c376f65a1addeacb16fbd998608725a536f837cac91088a778571a2036611fb334ead643e137d841578e200ca418889420cf345e7a47f6d11345be2a9f9a5ed4c988a76c7836792bcdfa406919f4551bd77e0a77c4b8d3c3770c4c813c3ed9c908bb8e4bec5844a87e7dd9cd22d44ed49dd08540dc349f4f39d2f74def5de22e1679a30f0dfdcdb742a7fd8baf9af3cb3def8ae64f59eef0950e58bfb9887691038ebb0072f3b312030a3ce12cc3703926f9b747dcc20a9fe50c7c38a112ed43f37aabb36933f8959edb5d2b20502a99a0c6bc8a7f227da328b47dccbd5b4c599e771f2305818859173c478a4d86319ddbb90a848e9d46315abd3684906fa1306b8ade94b9e8fa1dc5360e1218669e12de03ebafe2fdbf20ef7b76b431f0dff60cd974d28edcb90085b32d9ee56ee18175871c0358e69a9150ce4cefd43ff421f79df3c6a6f16e48ab4a46a5f736bfa085cc5350a38a58a33df318f3cbafd2f8131829534f282740f90ab3322da9e24ad5dd152f82db7959f9179577eb4463c72e73e01bd71577dfa51ef994cf9c5d4e96018e666ce61b6774efd5b2a7d0987d4b1c03a4d6a476521777a38ff4c68a4a07a7dbe28728b491c3ac4cc922d229fdad4b92c3c37d1b7115f0aacc0c8ce46259241c6a4918c4fd9a3a82f19118b6da2a925ed3e75f571a431b5e35ed88346eab2f78b7b4dec12a55eb66c55c72dfc8df4c326fb8b334a1125bec50a3347e7bac7a299cfc26c1f2ae24a7c28ef312f7dbae439c8d5b11cb36581cec8bce2aa7ae2630a5b7f54fde2a1c4fea73e8676035a57f57259764eaa123f3db9d4dc9581a0bb561dab6b63faf19d816e4ae989c4e711afb4b1bcc2bc6331e3649f12901b722d52b705acc1a2740a434115dba5cc008efa791798feaaa53b263e85695015a24041d20b6008f5b0aa791c52257a92196861f8cc92cbefa8963fd9c929e6d38a07f3acf2e39112c79de76296840ce9f967df172a0a2872a9cd509f426c08413e40f225d9aa6ce7da3ea85ac412631e657585ce84333eb9cfc7b47acb8c1e829404efa6324dbe94cf6fab6f18d691e35cc9d2c12e351040e35c72fc0fcc02755ee5aef19e9c040a323afcf2175d519a288606c0284e05cb8c4b14457731cc59a194b8d8b1692544d83dae760e24d8e63063587a47c5f0efd30c9b034732a78d1b40ce675ad5a1fc0180095dcd6e86fbc9de0246a1d04209235ebc8c2973d4efa2bd8160ff4a9e89308a5e87f52d87aacb06fce088044249723b6372c4f40fcc4852c73f67a6026a5b8f69dc62dbd0d42eda004dedbf3df476dd8f370d0264cb39160f963eb2f64ecc33ec71f7fd1bccc6687ccb5468822cc95f50f691b36c658e3edb22ffabeca7668dfff52f1dca607d46a9d11680ef8621e160b9e113f00cebbd1563da37cab1ee80950bdca743f15fe40b314784eb8917faa3bdd8c126f07562becec293efd4a28a2070a124a75b81827545815ce4322fa5632d22b1bb852a99b2e5f141d2bf84db936f16ddec0cba42d73cd9053b6d6fe3f5f389c7b95169efebe6d2320f7a70841f52cb87c25ab1772a038e5323fee228275a94ce0b8896743406b24269003ecf305764fd42ec04d70964f35fca676b0eb6c211bb2f5250c170852eadfbbdb674ef440fd7020e3bfabc70a649037f7047d03a1a30a06b02475e5033011b895119f9c1967a262fc729591ebaec7a584d8bf2583d7e81dc555779ecd9f2387efbe1941fd3e613e16f35c607dbb2fa6f2de81a0c7177954a2084006543425c8598818ba0303c79dbcd5567de705dbfdeb83e5fd7c522aef9e9a3d81e29f6f8e8862e45d1d1380c60dc4bf26f32dbe90cb143e149180466ce90577417574fad20d004d764221ccb2d38b31de9c6e00d1bca43060feb82c7f6ac88408414c0503834d9d80b5701ad83b126b24a5367b11b3315a3eb35e5af9dc83f1b3a969d1aec2caafb6fea478a30533d8bc5e9473a133c7278f97b69985e33939ca2009c8d964a00083140190ffa056602f7eadbe422d0ceee2fd8c890ad105f86fdc608c7f65adbae0571ba22a793bcd7af48d732fa2571d88cfb0b3501f1441eab32cab8c2a7245a7a4b543e0ee4692051c35fd6af2418030685504f0bea82426543b7d15cc4eb380ba083393ba42d2f42e7440705ba8512e481d09b51ce1c3581871382d0b7f8fb61135a9a9180974ab5580ea3d1b5b872ae5e5bab52dba3efd184bff64949281267e8bed9290a44d870d1943564bd074bdbba64dc7a0b09b1845aff38cc537303782963847b22441145cd985cab98692a06498e65a85a2480f8196b08b55d55ba4cae6345948896d0664a92f58b54bc954d73a64cf8a34e24df46df192c5145f33af87ec6ea4b61eff7826b7647a5a10f712402dac9c07113eee2abeeb04d3e6ddfca0f1c05c4683c680a922d7aa7ebc81c1bb29e1719f552981ef4dbc1b62c3485f60b101722eb385bcfe71619a24ba1b2c120d6b885342d978216b9d1b7495e470bac530ac1a31c18194319adc547a0dc7251bffd565b76c74e6bbf93e479f1b98f79e6cc1a5ec889838bd83738b6b25f0f231219129cdf948a5eacf202db48eb7553fc7877a26066b3e526592cff831ec3032167b6d3304427ce6a27e603b33e465e8bd5f89421e8473f1cf53d3c421cf40d9a601a2670a4770151604ff7215800e9ce8f5a71200d9bf9c93e3aeddf65f88cccbe67348b0a9e92df83800a191ef5750720a79fb87029f4bfed1bc353925a3de1bb22526fedc32f12c91ab22b51fb83d704eae551ddd05580089d5fa44d6d1480f8588c5cca9ecaddc11f7371807e3b6c1886f378f8ec8e3826b7c56de1b59909a0cbce4816de9e6c5dd684d443c395af0ec4e33add6bf37570b111c2271ba45067a6796e2f923941fd8506d8974f78c9e74656c723fd1e899ed439967fda23dc61cfb19eab4d0c72700a7a8e694bbb1e81c1aab4b6694f6516a8f9206284a5320e452479990791dd12723812abd1f73f2f961aef30c8281b779943bccb992ae02fa0a3e40e0711b67534fd0d15558dfaf6568139176a8458e907e3e6989583f997be6f9b212f97fb86139521314b6026cb098cf25d8cc487c938eb2c5b267eca2f02aa3ca8b970732b0dd372e8b5749ff2cc831e8e97f83faec1bffaa995464c22f40cd1b4f2c10621ca5e9aa2ae3b2af559829d6873c41a235b36032f150e78ace9d9e9c2256021e15cd1bd410ac5f3adc5de940aefad47b6f92faf325b1cb0a979d257195c615d75942a172f229807808bb1873302393a0b8e1d669c5f4f4a845b36fb26785a1c5582d0b6b290dbedfe5f0407a0b696592dd9ac76402ee546066bb7ecf6d07576e13cc45cc6ed0a19df16df17d751cc2550fe376aa3959d67eb31abc11225d781d62b0037037522cd3b81f29ca65385c0be7b0f1c248d2a108529b42140b31d77c768a710029e721caf415f7eb7e1a45ce9f861ffeb825ecf6aa50aca1985b63dc597fa73378eedb2241e6b69c9690e014372da4a3c3cd6db1f4a61b51251145e70842abfee3a9f8b1367987c5e61e72ee43a517b1462bcef11a6a325410c80a3e9d95e2ccfdb4f55220fb54e148177d2f891cbefe6a540342a7c047f664a1c792a1c63206d1cce5f98e61d93fd46a4ec8b57f174d7dcd1b84acae51325f2e99bcaa5d8ad8ff22715cd477c776ec00443c97024b5a95dd230b2574f9b8d38934a15f83b88a926bdabbfcddca366e5168c6f05142568ba5448ee55ad0f26c3738257e7586fdbbd8208fad6596a5a8963cd4bffbd35843dc964f0a497a8853fe1f12fa76a77263388610806dd06af55076d0c0f66b1459443c69669322e1235fcf6fb4efdc2696e8fb5c796f69fce95b5945de5859d8ee33722d58e1e44ab6e2e30b369eece426b01efede59c85ded4b654b179dace053020654c2e24e50e4890d1624b9aacee45d90e09e23b7edfe429084bc489d317a2736f9340730e8f9a266282773d566d6a58f9274934dafe7ce927aff77d5ad0c4a2acc2461fb53351838f87df7217cc1e30517c0f2d1304e9230f0a878ddc478dbef480052ede65039faa63af1788b2dee23220aa251129d3a95fd7bf2fdb4fa600e9ee61dea1c4872f8b8f99fbde0136135c4ae49fa8160e31b03a098ea162ea37e071dff6746f2dae0958803cfb3554799e03c3da6b6d981c1733855fb6c35e86870120acdb75ae4c15d037cf57975d8baa3775e121c61eefdf60a6dd6d47405fd93704dd441c720511f77448feb5364cae77b349fd1263d1bf4df6d30403077371e29e59c060985a34cffdf0ad4a9e768d89f5df0d9fca999954bc5797bd41fc385a3c4bca2931322649e197d2177555ab70a69c59e087d25e4fa8af66919b45bb42596cdcc153583ce907422781defc96e84bb0de98559410897b923dc61b064f95e6d899864486fd48df82d7337d81da8071ffd64f0e71b8439ab0799136b2cec0957421c7dfae53a889e8234f8fa131b8852a7a65281f024ecdfb82e0c2422583632c2d082b92ec30dc888491529eb12134e649897fad745446cb80ff7ff78e3cc81ebb34043c8585cf052d5eb8bb1af883e85e4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"09491b0867e61bd0303e4a7186b8bd6a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
