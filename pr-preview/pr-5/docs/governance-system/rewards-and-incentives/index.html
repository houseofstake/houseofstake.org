<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1dbb770a5fdcd68f8acd861b03cd2d4bc4da679e2371790c244c01e3790146169f064d7de539d969aed201211d8e42a86967bf51bf660b24fba1434e09aa6b4cd47cb53395573632db69df0c2d1973bd2358c19385e22aaad82ca411233353ccb56b2eda0a2601b20ca24fad56fc5d23a769a3ac0fba6c4ebd01fb47b6a18976a33d97a4f0bcc8ce188f6c101a15bb5477f30b67d088c961aa524cdf3f32e900c6ed5df6a0581f1e95cb8aabd9861c16059fff8b0588abbaa7d893757e8ecdff0ebbc7e54af5617eba6e10d3c26c22d01ce7519671257db95843eab243734895ead109c4f402fc14ba48addea7d71d6bb6d3714249c7e2111fa78e43e9f4e257e5683a58ed7c5166623c14aa743c301a1a5d305c54a0b29f8fa91e6cd87239431c78103dc990f268199f31526445feeb0246cd345b2fd2769d159c08dc1d1d01fec1da9435850abd2b3a5930013c40928d6b249eadec734c084bffdc806f2e50743119cb7ffb51020df116397103b93ced0fefd1b580b8331e50dfc2afd08555d2803d9283672b5ee5a9158e15714b2c0e8528f175ea37675eccea125142e74e5a7537b95a6549aa6132ddf049a55b70a9a180e1a1cfe6b5708d27294c9cfb4b374c2112f8c250e022f08fa1ed6b171379575847403e84b1ea92062aa8c6cf859c446dc80689c43e0923998b473bb6896e206cda60ac71da1e9290e4a80451cd7c7621a3088a4d4389b4b9b6bdbf35b0aec04056f253aeb1505554e17d93aa1747b88393282683f6c742e61137cae3809b86a5adbefb6d8cff5b23d91733a331c1c640140b689492d3e8af7197d3cf9b7f16e2c9f3c06d15e0314214b53e02b6f9b53c1b3055bf296f5d59df1100ed45347167c742dc1bd5dd4f149e0a6fe98b224e8e00e4a0a25f92ae30c9d5a8b940649d3bf406d5c32ee72db86f9e4a5a1f98d7ba7da13ae875fd46201db9e266552b93ac7a1e530410f110e65e73d75603278d8e903d32d3d86c9af5f1be9e11c8b62aea49a5f9e1bef5d7eb2ce5f168878c33ca8b0401de71af13e10d7c390063cdd36b48070d0e7d85d5ba11fb40357b198098ea7b233172a5121f29359fb54150bb99d6c143febdee1b428ee17e05203dffcaba109f4b7cdf66be9ff73f3aad1c4bbb5b591c60a66e33bc2c15b5edcc37302a31cf00b2d6706d51094446d304c0ab8bf11daa607977190860868a3490ddde8e970b65b4e4dd1a59b7c41eeb026dfdd3d277a5eee8816d6f2a85a7e922f976098e10f352f73adb2cd28f8cb5250e3a7136d1a6c876fac5c6ca6f064acd16fc794ac01f9e489714b5f6377a2752a5128dc8455e90eb5044b8eabf098cece6ce62b8bbfe3f637b9545c14cba90d26b512d9374ea40a6fd3e45ae046eb46695aeda07eca5720af1e2908b60f26d90ba118df88c305908338a6fd9a213930aef05dbc8815c1363970a89ae55d7a2e0b45013619c7eb3080f208f80db22b417ae8e90a15c0b1f4fd3438da52408851354467513c12284bbce47373b9db77dbdb8df5ac995b468bc17370678bc170febae08e71dac67449f1ee3abb198bd8c460300064a827ba166d01227e00f23e7fe7493b5a9badf6ea0b314f84a67c00454999eea7b0037db1446328c8585afe309f036f4a34c68f57d5a85f07d558f787b4146e4abb64205d4ab3ac78c501c15f257c04118ca5d8691eee2c6e0698d0ad371f6c621719d671e5d728297d89566dfbede0f50c509c21b31d4ec84719e350c3c9db6566a1a66ae55dbdbbc7362877f56d94cd0aa10543f1df7b08f758477ac8b39e519a6b20c7d5a8a31a232231bfc43a214294be5a2043b193dfa743a50c52bc8d4fe8794aff2ab7ceb711ce5f80ea9087ffcff26e0191069fa32f01f71cc9247796d520151dd92d01c24a499e4d7a9ff00952af2c30f880ed635dee31e8bd4277c646c23e252fbecf052a04f44ba5014ed8ccf5667f9e0bc0714d1bf7ce8acf9c9a1a6e0a0457f80696e93480990da1ff423dfc65e0c778ac3147f04164680458a6bf22497c2ebaa287601dbd104b345e23cde753aa059cb0d51adc6e4a7969ecd397a1deab5cb33a6be018dd1bc4e938bebbefbe9c3e068c7a17b89d2015772b9491dfeb22193536139c3dbda564158e9a3792030f5c37ed3a0a19c92c6d9b5a32bc72d54799007d4dcb5e8fcc9f90031b5782b87106c8eb83620d1eb5fa8d4b853452b3f7234070f3d92e130cf529ce521da2960c512d9b58e89d2e4fbe3cc3a6cdaf76d4d47d89942b3f1d394906fe7eab5e303dba12ebe32c0954714036573b63f38f58ad71c36a8ce4982d5011c19b2d03a4a5c4eac5c35109f607c24632555ccef09ca9027341fce737cb881cfa81320e9d24e4bd4850aa7187275d031082168044e99f08fcb4e2a8f56e657473f4339bc1db0b313ead0980174145d388ab158755362ca0844c3fe4a753c790a9604406836d482cf8ad8caf228ceba02da314554dc19cddbb5421c11e4922eb815bf732fd74ea9f5493138b562bb9cd7a588e435e8be76e30315d389865756be65a4c16193f2966f7103b90a1a93b82235ac430527ee5c92592d1d4dff03e5141ec43ad7cce6a0435f37b6cc2a2b8a547a14882f3b82e041f3ce348e81f067d499d0ebed770e247bd28b1f299b35faded32190abfc05f251844e5d97da953ea5a1c124f10548489c1353baeba5e98a2d7d5847ef0c093b6bfce061e5a0f55796ef33ebd1e2b4b011162740195750e83a5d00520657fa720a2197d479e5c64b70b9f2e17fcc460b3e7a9a9263325f228a4983317874e9ccad687b04569ef5ce370d8c30639e595a5bd8acf56e175938ebbab8de5bde1061a421f4016f85e61da58996dd67a931000a08adc34bb6793f6878fcdd3ce4102bc2d35e19a5676607fd426aebb585dd3960d8cec25a98837f5f13c84161f03f79cf771322169f739f7598fb2b21a4644a4387413480538b3eac6e98b8600901430f1f30e291acba78ae4601afc1f2ac4015b501e614188b9372ae6db52bbee7210837f09e5ddb92b5307697b5cd3aa135cfb2254090eb3092feb920dfbd75eb8bfd0259f43e073d735ed12bcb261a2e34b798351b6ccd85835a35f565103854323e56422adad611e262f14dc46b1169543e94f58eaa158ee0228e4024465ccefaaeaae566f767838681f86cd82c01a73e135478ce71a7dd4ac7c2d396b72bda90fb69dc5b04431e9f87a057dd2e23e04f24a31d4b0967c1900275cb0165202c0abfc72804dcc10c1bc8b6615e0666521242f0d5bcd52e1349eff09b97c05ade39643bd098b35a4a8ab1559f2ece3b581e1e72102a295d393ff0a8e217ef87b0ddc49da7ba109686c0c7b52bfe2a546b312a7d087990f2f0a714c465e2c033b886ad364ddfa57ce906fc697ac450cc8f6b1f5795bc24f642a802ae88d254c51ee0d2b9dfabdeed7f4a46f9faae16ce59ce7efc4286d6634b125c3a5be8de3d6a2c246aa812c76aff011c64567be7e51cd721ffa73fffd14ddc354c75e6467cc871d24c44acff74efed55faa2d729eb5816439741ff928d8e0e8e191ac9af026174c027ea4410caaee2186277c4f2a47a61075db4e637102e369df6163e85dea3bfce42c75f8c2ee3378ba91d747a70b349994367c9fced8860e21e81cd9b60212173669a8a76a6556a019b2f45792327c94a34f3495f5b6be6a1ec7339059afc9f7de0a0d7b1dca2ff7079cc8d348f7098ecf787068039911a18aa7b091e52bdceca503163da8b2fdbb3aeb1d76cc14fb51ab98feb7afaa4383135ef13a3cebe842dd26258d4031c327bddb119bf005319f69825b008c77b4afd9f9dfc867467538ad98977a59aeaba8ea9af6f96e780bf7d7711f964df7a4e69d5012f8644e93ba6baa65ef9daacff308520af5c0061c7000929e17724bdf7138be625519b03c859da413c7d95704580d0f460f68cf5be72f526dfb485ab42d747a858198085e7103600df965871306ddfd51171f1a16e0fe0beb7f44440a0b9babcc08659d1e711e3338ba8776643becb5b52565f9b4d6df4a1084e0bbc8a8c90bc6b601ef5053114554818bc05205a15475e34cdc7665ab59e75ad77c879011d00dc89d405ffdb97f5a21bff79a741bc3d48230eb61306ff626c2319c692a78f11eaf570321317a33a4ebe56628d35453eedb47183eac924164bdd82223f7e6b920ef12ee00ba7ca0aa2d56ea6c830a9bc24679a91613ce3cba0ce38743f1e328b457e4aa6279357ea4b4b89edaa239669639080784ce03728ecd593d4f1de0a2d881d7292f933c531f138248d7f362ede7227c668760e1544260df67c53458ae450ee6700cc5a44db6eaaad1caae44b89aa5f66a96c4d2f3d42f23ddaa7e556941531a9e0818582beb309194c79feffea941df6774fd4d87d917858954140f71c28614fb01fd3b42910eed2e794fda3b1087763881074f4de21c7b35e64135a573abd1784d9166c0c3c75c61d49b516d66c4afb7844d2ff17bab7a60414cd071cd686331012f3019285125db19fcf71dae962dfb6dffe4daecf2a8c3e1e8ca7d1f9885a6575a1be261e9baa15d891bced0662ff90d9442c30a6ec33efd8c6cf77ae6bd70cf7dbcbf5a893cfe860c58f67fc0fa455cff315db00bce25a73bc875c0369a87f3425634d579de0c96a107b958271b7a7aa91dcc40dba288e4ba5db21935e2f44e33add9236fda20097206dcaac304f5323d93744c31d93c70b1e1587e1cc84a7a38334270da3dbb660b6187703b56761d9a52de4d04762a0c73bfdc70e0050f0bbfbb3f1346e3aa65103ce88a1e89e4f65f3ae9b40adacb61a6b24abf47aae1a69bec1dbe6dabcf626309394e043b81a0a5a8d9567989d9768b890ed41cf6740158c5e26dca603d8d9ad4ac174f96486c6f144dad4a528164aa677fc203fcaab8967d1f1adebd90af8b0656083e9984d8b6153c4ce2afe13d9ad06b60c8e26879743cb78f10ea61cbf1ea6bc52ec0bd827f9a94b20c976cd1a1003c9ce90770e1f65bac2f6b88c4eddbaeb81a6f696fa549a948fd543f9765058b25f09a99471302b74cb8030ee9d6df3b9dea3596f1ebd9fc4a290e586fe86ffb8dca72b4112ee74b5f0d86842ce763281188ad37f14bb89c7e253d8a3778dd0b467984ed7d7370c0de5679711c4b993b5d0ad5b897bc088221012e15f6feef0009dc8865df319ce8eb6cafcb9aa9121f46210ac7e016d077dd779b2a3795d0e9d64f42c3a3143b73611d21a0d53d1b83aa9e17c34e6e301ec98e5abf7e50f70a6940eff3f860e255b6704b5c2a69472ca7cc9f81878c343cdcd151eba82b054a8af2d4ef576ebd74526adc458fdf5d107abe46a1547cf2bb6fb9dde0f8c310821acd68d36f4fc9c3e8ad4e93eb61f20f5732b4255807fd7f4f04d80dd9c31f3d4e4dadae3352e038806f14cb87b09367c24451ac86b89807a00ccf4d61abff035a07fe62e4cee0c7b0f2a13ab8a567c093387350eace0a9a622955d40cfd43bab9be3fe2dcfdf6da81dd07d61eba7903c3e8c9ace4c918ebdb2e30ed7cbc338d23cee4740a1486a3c2d66fa39b71f3da52654a0279ce158a49c98c0f52cf324fb68c6c0206df5b5db00c7030b68ad03b50482a387ed9c31e3b206de05acca26a54f7e36fd2949471b65d01f8b36617fd0579fb41c1e26c5f159f3833a9867f935751a94f9667e123d09f11996333e5711bd4838a5aa4e12baa52ebfc47b474493bad6cc9bc1c092a9bd792b06b636052f3535dea0cc5c9a823c46e3d42deafebb567604c533a01f1e5a2f45405af9e35632bf922acfca3628fe8630c19c4537547bb372fe7173d79c021a1a3709a70c96ce5759b2f4414db9bb4ed0761288dc00225bcf14e733d77f451128bd0eebe5b2385e61a2dac2c6a857f6629914bb287f5226d1c4f8a3fa127211cb433868599f139a6ff8b265614af7a908c7b9221f69a405de23b6a24b926eefb4af70cf956e926c4552e9d1149fde3404709cb66271b045aa8cce8a393814d1da7573f63e489b811832189ce2c7284224eb1bab5446778e04e40668ba5c502bf636b00d5c8e6be9bd366e0f3ec71ef0fe639fe3a387cdf2359cb82679e136f5756b7b47bc30f4ad61973ab2a6f3dde94acc90b726ba1691b50600d4c307d307469b7103fee7b86c78c468453cfeb56b1a201fb90c2b7225b6f3e5b7f12d3dbc34e4807a21d9d3750a121134212a1e95259992c277fb1704ddce9ae5d2663e7600e2c1574f4d79226299aa38ee4005adb04ba550571f1af645979fc35c5bfbfe986c98cd0c7d48208896d3b4e34e55a5a734bb94fa0a777c5956e4073b47194c1538fabd6c5a634212351525de99e7a562fc28a050b0600e22c36a4d5ba945cd8467bb2fc573a818c9fa3bc6ac0c45cf576dd01ac160d035327ba6eb1877dc5636a0666ef89290f0d89aa4b25b0d8fc4853ceb9dea894217a6d484649cc7d0c9d7cdc2f0b7caf5ffdf256297e035ad93f8a53ecd998333e9dc5e57edc3138fcd6d39961f249246b45e92e314fbc363d9a7589b19d342f3bc0d61f1a1d165fd88d343917c820f1f8215b06d20989776396014a870d611aae75b1be0ae53b920b62144bfa7dff13ceabcbfcb821115066d5fe9045a5490ca7eeb6f9c60631ca03d1e16207a9daf7ae4d47098465a02619ded4b569a47105a242ac0d3f00373c6c0334fb3b65212befe3b4ddcd9a52ad5b95f3b71095100aa000b219c25c6a0b417e945fb786c3ab5326861d0485e262da844150f5e35c4e1a1053834e66fbc41d554ba5c7e0b5467b0efc531cdeabd400bc9683f704f4378678bf4597052355c4bafc5b72fabb9555e22f39900f5f033b3089f8efba2a06418012dd314d11d907abef87f4c2c808b7ec41996d45a606ca51df29a2b4daf4dab1abb322c1c116c252d13c46568282a14a569941e13c2f3bc2cc88ea0762e2d0bfcdabd0588588b5f1991536b0e7b0284c4a3a3a90ba1011b23b099bedb41c6e68d9c7979cdb5c3db9e967e87837e9e0c1674086b03d9dc267adb31f74ada194a8c3b1485b184bb74422a5fec412d190e3d4c96293a0e963c90afcecd61e029b4189dff05da126bbe471b453c21ea8bb2d50f3f7d5cfb744d526807290674b7bafa6ffb3b54e7a4fdac1035f9497b38bf222ff2948363a490ed24d0d0782f20f9771b18311665edf7fab1f9e3767001366e97d84becf2617d48bfd194e671c5976a12929cc836abda71a2a692ef757a22a2b7028ea525c927a546579bdb588011a8953751c465df686c2668d01187bc330b639c3c230aca22522ccf73b206f06fb2dba8a10bab05ae87e4dc76a3a5c6635613b34bf31b959a4b970de9ebca766b5c031295d9f25e281e6234b11065a83ca9c57ee56f0a04f79d914f3d2b3142b68275e20eec8e2b37c1a469007cdfc2659a41160d95e9af79011047778406d20ca80c50fa6cacf1f541e4864070c08e7ebf01975088a69f8e02292697477fe8147e88fdb74f100828e388fdd5b5afad4abe257661ffb2677ae9a6e7c5cbf5c7e2299eae7a3d00e533d508c167c8546d7b24f480ed3fe961031e5ccc11a823a3234c09db9cdd1d791b822b469a32b21b6d86a6e257acc36502d497b0858695fb789850d58f573aab3557c21a37a914dd04fda5305b4e1ab0990860e8bff686cf3f3ebff7e54b04eb72f766e6fd0521efff0da88c61c4d4057304ee2976c204335fd3136c2b696a9740ebca36bb9cbc89bd4eb94a6927b6802be214bde2b57224e6510dd13774b360bb92513dcf2de182ee1202d24646439fe780d5becd45b59b2298fd9dbf3af300042b67d0e77b858c54c0cfca3b72b83c3eb0ad2d3090292bbfdeeeefad4cf2d881631d8a22272b01c26ad191ac8bb637ddace4d7f479bb3a77e82f2fe0473afa0cf711959ae2b10de2108551b69c11acbf61edc6569b2375c995a9a6383f2fd982dff2e7134a9ff63310157c5d9ebf55bdac0e5f3515db99ee8dc285ba804c6b5594a38f69ecf07a985becd8b8a3b5385d349e6d1c85fd7994568fb7c23f8e3566f98bda9037d8f42c25ff139b5252e93628af94526396bf03081dad45149649fe1c019281cf8390dd98f0c6468a47061f9557d53ab40665f9b4a3a29625ac13fb2bb928a2fe059c8b447ccf095dba9dc55ed076511ca96b5f2208b3258b67b3e45ca0147cb1c4db5e8e6219525bba6aafe60ef159b54648a5dd9dfaef0c629f2084e28dc1fff8c8a3a8bc95a53e381ebdf598d3715080570d2c33863d5b2de3e4fc2cae87fc4bb7ee680255cccb7f0ef9913b9ac92e0438f621b70329fd041b501acb4c3c6e6a299e97dcbb27ea42cdd4a61557acb478bb0692ba458d6831d197a18a5c558d4cde8292b96b37b4b2046ef4084e9ae2eaa10f4e4165a081534f8c3934dba6d03fda395d7dc4b9e4a329e42037b88d4165ec00dec39065e8acc7c299119119760bf24b8229821b8e913536607a174b36c98ae2870310dcb77e7305b4414f39c01c2923b362b5d112463c848e75ecf5088391fc0bcb41d60d006b34b52b0dd342206fccc15d51cbe901946cda4aa12f5ae14e37e6a57cf939b277cd0bdc21ba01b421ccb2ff89d4545335cffc800619137f14819da474f438d6df02b6b8c34b4882821cc7aca7293de383712164d7e4961e75cf0c87f2d54a94e05109552f283940d21935a25ab90f2866fb8e8c394b69e678ef6e7891366535c4d0b4f6262f20068096771459baa28e4bae4a961cf81a00bfe90f61f8f879512a137ef067138c9037fd5b5184affc721455c9e88977b4497c558ac706745e124ed8683c5c637170d09c3341e8e2c16e04f5385ee4729c3f5d621e3fcd68e2f201280e23bf54a37da0f9c33e8928f1547203dc326d63377cfa6b3d6a70ac2ef526a63e2b317689e252bd776465e88d3d2b06e96f8754da902d9febd6834ef28ee43492cf340532131530aa9efa1aaaf9d304645c39e1a09fea7b8f9417a35d0531f96c47ac0af91280b88d13ae3571f20d4bb3d72a7ebc2957ebf754c78efe6f3329f5937def31f4a08d097fa2989af5280ca720cde7eb90a9646410d7e34d43817ad8968bdbe9856d843ce4441dde1b0bf1c2536ffea6dc776efef17a170eeedcb96db410e3a12589d0bf16859f04524d3afa75ff798a89e3f3c5f9db0a5f3d7ff5e753203c4bced18758ced64086a79da387af56083b8b33fb89a2c81916a0f31cd7a573c42ac35e1244e9a21c3e2971968315949913e08b304e69bdb156675ebe405c8d6aae02e288f563470f174f8361580e6c74d47003fb1e1a045521dea2046921f597e121ade2b82e074132273cee7125940918926180017b3b7511aac2ce00baffd10055b50a5e78694a8c990627ab7ef0bde44e260d8d4b1e179337f66c73458c08511bbc27095f3cbd2bbe62d2844bfc0bc3542e1fd01f1c1ac7e64b40c4561285b0e4b94dcb10586f45eeb4407080e9ababa8eb411fa8044253170dc126403a7d9477ab4a21ec343e5b577cc9b7b7c116365db73196f1c0596293aab01a1f0654fdb01d90cbb0e61e58df2cfae58e27ec2aa0eb26ec07e4a2d6343678f698ea3642eb1c7b8f04b7f7e1fd4fe7600af2de39c328904141c9184da8fe81516d417352e538db2676e7173f0dae992c8635afff699e29774114942d9b38df6752250b45694f527cccdd85097aaed72ef94f8593d37affce452f5a37d1f86d7fb9a47866f3cdf941545ba50753742b29729cffe3f4df49312b45c1f8a464db9b7fd42266e782bae4229b40d3494beb9fafc21c7fae0766acbbad65597651223dd713db671dd483d2eb1e2c2b72593c6693d9fe4fe3c3ebeb8762266f3682c67a679f250c67e52d60c0760cfb8f1c0278fa44102d84b45c5f3a6f5ed6eb98218b4638fce2a31c1eb582ff422ee16ec50945e44f6d2483daf4d8260554b42c2b9d73b04ebd1247bcf51df72eee8df52960e83fbbdf0ded8a305ece343283ef58c49afa88e500ad8eaef7fa97209246854877afa7beb3e5098bea3ace81c3f82d0e8daeadc85a36d36cb3195beb9464187a9e1e0aa60fdf66d5a6c5896080d5ae29cf9d77aa2f15322f7ce11ab41a40edf5766e700b3bc3bf0f08d29469f0421faf5c3523b10d893f310770b5ee8ee469b8f945357c56666e14e16b873089efa4939297e5e35ead29f930338adebe7f6e20951d736e54bcec9d255fc018547051b22a91c90bbe6fd2af560fdc5ab8743b50510a104edc90cfce73f30c3b62ae96d73ad08cbab6ae4cc6ca6b19e17851d4103e6b6ce9264730dac4f682d9ad7f08170a5ffda1491c5d4920df3e960ed768861799ab6b914f3117d7d124a7b891c37270e30565ef1199ce1aeef34f46f70c3aaed48bd273b6d9e14fa80f1eef83c982aa1e53374aa92c2efdaba32e2b43c7bcf5509198fd452fdba6f5279ba8dc0750c7f34d364f3e00228235c70c24dde6454fed9fe4a5ce2b01b067b8ea94f4bec3ad2ba2b6beb17617b75a8497e54a675a29e2e07be5d73dde56003e141e94a791cb8f34a2618876121ee76cd06bee0b8d378d1631c72445c14d581dcf0d3fa789268d6e353c780566020aa48258aba359b6a60acc4e785510b23cd13a6d5f23ec531739a50fe0a313e4e5dd90488657770f30421c4617255679bc21bb0e04953faf3de3708006723910fa3022a17d29cc18e114a5edcebdf33af69f9cfdedd9680f10d5a8d162bd79856f2eb3bb8dcbdba74a641f53d2c75ec89dc467a262c3f7a1a61ac099b6ec9300f5f08bf15535d6826770c564f5bbdef65c65a6b4b46e13150dd6c577e3cc18e28c9c5095abdc46821bf88fc47466cbf4d6792b177c721f072da1976428f20b0e5cacdb7b0d4ced067fdb2ada873d22ab11c1230de73bf8b11e22247155badca09ffb9c31ab910955f19c625a0926864a0d77c3ea902799e3faa11dadfa86e8ee3a95e6749cae616b352493e057e065a7b312b6861c01d0f18a25199be8a86ca90cf38a42e9273564216a69c627622e727868febc9c81ee13870f11010a056bf5cb82ece9ece4b8988ab1e113831bd7084f1fde4a8b4487a9761225656efe1ee455b2e5146775afe977104c3b9378ad988eacfc3252f910aee54aa6c78c833416d5aaf1528a7c073997a04dce50908d91dd5b5011937e6b141406ab400f73d92e9c8e3c59d65ce8a486d816b1c5c34b9c3db269e4d67298dbb54522b74f1f1568a2c5935dd96bbb1aba1f6ac327e4e8a076089f9dcf1fbeb8f92606290ff2968b404c5fa908608f765468033abdd06907790e9116c1b3eb5e988024873df285e31cd6eff3778264a4c2c55f96b34565f47865b82c8d9324b32cbb79de2ef6c235af83df69fa8158bdf5aac14cdcba51c1c81b870867aa02fe98c6aa12a4dd43080c6b03c59698e60e177363f851d5739ef07fb58fc6776e9d62ebf868a0ec23f818e5c5ef2f8199d7b9322072dafb1b9c0ff5b4d086783f8231d154d68f2376e601066d9bed99ee1cfdeca88cff0fc3d8cdc6d970ca537db0f7889e801922985a1bc694cf805903f305133d1b63816f7561aad694ea33ec2188e4f809dcf536974eb90845a70ae87ef45f7f0ee84b8bb091ff83d4bf32a8667d27ece1416ee8ae886c919e78f23f2bb6ff0e194ee5716e80271923d6d2578d67f9f0ed75dd00da7ae389104e9edfd6ea45384d9ef7df58907be4a51d0024ce2fa3ccc1e1d0f1a0d90ec35cdd6a63d98dc97fbed960571fb44895c76c3d7e4d6a6fef83dcf2efdc15a01a86c2e1c1178d30f8aaecc79190b1a5a00fe3fd8d7085c92afc1d3ee91f1757df41c7db284db6901f44f34b80cdb305b1d1353f6eafd2f900d28764233b14eae2acffc760d3ab2068046a7f4de44ebb1f94183ef6c89e623e08115a0369364f5c71a36da458f3b10f62fa5d8a0c8299198418d79c80082d57e159ca20ef6f0a2838c1fbbb1f5ebea31796dcc252429e98b57d25669fbda19653d7fcde4c3db0ba437328cba950ab284b5c17181c70a627b4d111cabf4766164a33808ada6c6a63f8dd5f29386c830e5cda196b2536d1c93771a864ca29107a4a241b61ebf4136e9b5f1076e2fc6f1134165c619fe012dc84bc5e3377ab768c3d29b4ce758f54c664a1b5fa622530115855d89c82e6542420fc695840c9efea0b900fcbed4fe485700b197ef22f1f6a50ababe8d4cf69d1f061e22012da64835b514be4eaf6095013b2581bdb8cca74a2f891cc448718c0422348f704eda9b527514741275d433037bda6a07a88a479c3d47e0cfdfb2adacb84d80ea92026b144032c663a53f9fa902d6d38e4ac28d91dc5035bee9cea99e0e86b50abe77d95c972d517e6087de0ad3617ecb5114a200d797df8dadcc87271e044f931aa5e5dffc3836b2fd2486046382cfefe02544466aaa36faa6b7c048d2dd1003319ca6a061aa2588d754b72f54882c407b657ea472cda5898736f4f6ca52c54cd3544163e0768eafd1a2eb3ba657c3314fd2390ec27915da154c2ca97b980540476b4888cdb76c404904bf4999aa9ce08bd94a18731611f3bdb4cd05808578456816849347ee3a0e11ae16172b1adf81ca2e023428bbdf5e002a94afe18cac9d78a51ad2c8b5fd0a8fc250173028dd3e9751f93123dfa4bb5f961c1072b8f757614d0a7aeeba0de987008286dbc61fe20d20535b3008b1ad0698b017b61a3a223553c91e0184cd5e5557b9ac917eb18ccb4e33c53cccb2624d0ba27a01c4387ad84cd4787cf398589018279a49a5faf1ffce32abdca38b16faef5af629b2c15723a7ed6af043142a69de38024340550ac58d501b1702e7cfa71e890d5f7a0c237fe322b5d71cb418a0f3d2ec15b9e6c5e931575ca52fae7c1beee78c967f1b4c8ff092e7762bcf13d4c428c8037157037748312d19529602917574f1304d3cbf772c53be6a63167000583b5a63e8dda5c592130b1033ca9e6fbf21fd1e3293e03c6791054183a9430450309b43571d2945507df62317e1c873048b48abddf9b9c07506542045e00428fba5e42ef2d1eb63a76bf7259680eaed37ca2572f478b36c66433da820009892f6cf9e3e387304a2cdce179fc366d5181875728faec8bd6d77f3276ab69c8e1e03cc25b8bb9895d6fa58246dc39eae97694939cac1e4f3a7cd27df7cce6da088244b26e79ea7e3ebe505c475c2753025408c88cc495bebc2f8e936fb8e1d2d8699277726097e30b5f7072f3c41e0ea4ace7f9adbfb26bdcc6c9ab645c13dd96d5e7b41abf340516af38c5310b31c735158547bfa93871568fce572ae2f0b5e0b2814f257253d780710c73ce7678d9ce48854fb80993557e1659c0d4df4535b1b24c5d1eef4ce8b7658aa1618617294d6231018a06271d8feb996badc24fff70ad87dfe20df9deb2241b43d78f7db9356b91ec50ceb21679798447029a325e5118c472294c3743c968d69dc023a5882d0340a974882500de6510789ff6eae5b0c764030ec94d0b62adeb63dec7667ad99df6a04fb8bb87bf217a200a528fe3830d3b8a5725b0d6f8960d818be4c30735c6be9bc11838a33a8b12f04f63357493ef6128b70526b6cfab318c2dd596b949afbc88b0cf158e9fce4c425a5156ea030d8ac05fb953897dfa6059fa4b11c939381a7c7bbbcbefbc93c035197fb2a9e975f8346ce74fc84b26b7579876617136c6d1574b6f42022b592debfa87738cd4d1aaa610b2b92868ccc3d340e67615964021a559dcdf77ec3f29feb37eea60ceec6d867595226592df506d9eeb46dc31fd5594532825056253dc185d4f248b47f14519b4cbe30a05f0650b3fec04895429cf6eb3b8da5be7ea780921126e51d2804e1bc710b2247deb3b2c02f93698aad5c523eccf25a8d1da272496bba8cd4d7cc7e69f9a175057016aa80b012701e726d294f53b56c6b18871ba78fa83534154045def2ad8f69fff4738562470079ee679e95e1683e5d4933e6031d2a85b310420f68500a69a3bcb9b9c6ae0197da00da5fd990658eb0380fb1f431d28cd6df9d27543c5b2ed19211e492cfe74830ab48c9b12d8a66c665a0ff1adf56c7961620c4e0544514a09e93016c626f41681f5f88055e723dd3f947f845bfc63d6181f2e25da5c05bbb098fcb6800e8c32fa20987ebbfa9b837aa40ae7a970fa4e3569e55fe77b0a3b703b6caecf0da17748ea0ced785963cf1e07f6ed61da073704b9fc88c3b5199d89eaf88a5be5f7421836f9779d8b397ebc71d5fae5cfeb65759594b658c70796054978e16ad3a4c9b441058263e5e2c329c795e8182c27688c24418bec60fb5e4ee5b11763af9339f990ae4a472c90d23b96e083f6bec641af2ed28fa0a23e8d2ce091232eb1beeb0b6cb52e2142dba761e09b51e17196055fcbb9f1c45f98a9f5362012ce53649303df1585fbb1122612c9444f573a8ebaf0ae5dbbf0d6aea4461d5b1beef7d0383c4650f1b6132b7979a9b14399b5d5cbffd9a81c56fcca5f5372343c145c085c78d11d15867412fc82184f760e7daf19a7701d8fd7ed78cb9f0abeef595524582f22c39198fe2a3e6cc549843f7391d253c301429fc890d4fb3288b7ab5de2f904026f932f2bcf4f38dde4da4351460ee469d79332b753af8f0a5ac891c4391f2956e3e5af25a5dc98e30a2230404be4cdd38865c798fa6885840aaa931f571308cf15b494b3d8303e55089c7d13a390569ea4e8996aafa1a31adeef5a2a400dd1cae723df4c4a3681729c528e63eb24acfed9fd15d7a715952239befab740627878ee1209c4da75f94db296cca27b60a62cc429773b5a864bc551d823d990501d835b88879e0912627aebf7837558578f0765a1f9973a47900d944cefc234df495b78d5ce9b56f957e9f025a8127bf5bf8716b1a1db3ab52e432ebec500cdc2647d36565e3f7ca2b1a858d09f944c36d5fdec37fd0dd19b51cd384ec1a17cd61974cd98557602bf807f94d85c1dfab616a66de7a52b34854e1f003931b024ae27a3aa5fe1f8f91eedd6cdbf7bb31ef1c6cf20a9ed35fdb088acaad0909c52e8bc76c0c3e11a21d05d878c9a3a4cdaaf6ee382ccce80c0394d052d0606eb77c33e980c66dc59be4180a431396e461607ef3f91e44377210a455b72db02343e3e6fc570d0cbbd9db1a271b0d53c61b9b8fb1b2676089c10cbaa767e2b83a8aadb7d4d9148835799837075bf3d109fae5acd39e238ba7f624a8fb6c779220a6223b4431f563bc390264f9d7dcaa4650c79b552d8b3c722b65fd39b2824b486b2c13e22c3d8b4b7c7c3c5b20666386ed6cb3d1853f98b013d83908699c13b9010626d736019565aa1f02b455dbf50cf0cf2360d83ddfcfaf20e47f7c957511d3966f551858df2df317088a989c6d5bbea71471a68efacb22d8c817183378133f04a70d435cba984624800d56b6f700135bc0d5a202b49c8842112d881b0a2a9321f520eb429471c76893e5b0b18cfc052c84c41c94af1c57ccfe400b7d84ae5954dfbddedd28353a74405d72a5a2aeddecfcb43e6bee6ecfbcd0e3ec5959fccb61a1e829e9ebbbaacf68506a5d39d04bf94748a6085b3252fe7f0333a9c5f018fe9d151d468d60b2d4deeffd5ea30ad9501edbf8a1a69c604fa71b7ee92f7d5218f2a5888a173c77886933f4fc0bea7554364403c0f3a6b2a032dfc3edb029714ba4d128ed3462d6f484886e430a2cd56b7b55b0dda2a6b9e4be6dca708ac1b8e2f67e73775e2d8d62b8ed56ee4b5a2a169f5333738a5069af0c41955c7cdf00b82637d609cb557590ffdfa1bfc0cf894faa5d8ac03b3b1e4749507dfec5357c6ac08e21c9d8ecfa84bc3a158d849bdc4174957aa3afaa10cb9b3dd0328bb1f8b4b9c5988dea364033d35512ff5dfe160ce79061147214ba96c7efc346a3e96a6f30be4f91d6a09ccc21cd7f2d58ed909b81a58d90ee99fae231946efe5409f5eef4526f9537f28c7d2ff7b67207a0dcd7647f9cf6b951c38b60875441e082dadecf46ed8605b74ce09cf6fdffbe44757e2fb1d2943968767daa930318e92327ef49b199e418271372a9786c72ceabda985e85ac30636267b8188ac8948deafdec144e1ff27661036a39867a9e73dd1b39766699453a525b2e475d44accb310f4abe479f6fd9fd2cfc4af28512ce10ddb4062ca3b620cea873ad79507fee37e3113098b3598afc034f60e776b166c59782326dd9e9b73e892e7d0c912cc29b63d7acef6f8d03499e051c91046610d462b2d9d62b5a3b42a6962eeea4b1d950e8e1891864af6f53afe414d1d7930e5e1c82dfb5c873c54a4b69adafd0913321ba17189d663a7160ed34920605a1d351785618e1cc64ede6ca45ae89792414be11bf5e343d11c013edc767f27bf3d92377c28f103b98e1b320f4e813ec4b779e5eca71a459e0c6665fe75a3cbf7714eaa7bac8963106d33a309f1f6bd235af873c5980b38217788c512a83452a19b24b887fade2050b7c6e739e33e341b4f0987c45c078c199760e3dd67bcdd400d49f1dc5874c70fcf130cf360028363793c5a6d70d36f30f5cab6da7eb8934b246ca0fd0bc6d333e953d0deac68ca89a1a35d0713b1ba0a22e27052dc87204170892c42473ed606f6a343769a19fd350858623d6a5ef24809156d2ee6a857b5b191907f3c301b09e1b5de4ec92f64b8a43a0ef0563f24196351985a9a3c667881306db30fc76cd583fd32cd93d81c65be454d05ba62115aad252a9ac9f512738987aa7b26374d1d3cce231dafa354e09d71ec5b5e402e96e97a267d134a14a9e7ef4defb35a23f1a01f15a88e3ca8189e3a66bdf0db7598a0247c3a2bc360faa02fc8b8c575a8ca42aa03792ff15d63ea564830570a58ac0ed6dde3da7c6b1984cfcb0fec48f1cf73aa4d2ea228cf4b908d9c5ef3c98e9ad270d3ea60cead781bc0948a53f5ff5dceca8f8689aa1635677171f77e673778a584823ce0389716c01b4a5e37015446cfe6a50d65cb538b5357774c4e6944954038984de891dd3ffc5f4cd2be92a023370ef9bff9ed82145aed960ae77d8e759847543d1c6c9f0e2b68caee4b87aa78d30fe17027f55bb81e3de8f1e3879e2e427b2d4a98540cb41dd9b78e6ee46bce9d20be6fec2283899dfb45da1518b625bab0785d1a2bf8e391ee1d6dcbd720f1cb619d32c90a1c85b933fc283c4ccf36a5ecd31b80530cc5cb4c8d6183e1ef13a34db08ce5de86bf99174345ea448ab612720715bfcc14cc67e075116d1fac0e7c0b58d331c09083040265b9785ce0c063a54bf48ad10edfb6974e0f550ae69d40ee7f336559660785ad99868b9de78eb81c3483705818865d177e75bdcebc83eb4bf9d83eb194cb165a5b06f25cb31d224edb8c7a68cac630f421f1d0c4343d8f242c230ac2d4c97d28d78e92c4611df886988f652251ec44e42858da264ebfbfca8de1446eb3a57b3f1684f8f3e5d3cb28b43a45fe9e0e1a77fb3151b762b73f259deceb5f82b898a602cad414e674753be025fadbc1fb1208792b809bd0cc621742cc275e649b05992bdfa2dd6c9b469ba33bfcdf2a5ff80fad65a8024941c71a62bc85d304a6219523107825333bc518b0118b77996ad7ad2500a8fdfc5a110dca50b56dda653eb93a077b183bb159ac474a63932de0eca1c617ba9ec7f124d5fac35c4e32a9d2a7740af0240af311efb41f29927bba54bd5d9730c14a17433b7eedb000e8c000a66e8ebf529430ba59059e5f2f5db973300079770e99d21d25e1ea18c92133f8719fd4246be8f84c510719f21af66665b41e40100d5a037d60010d924739e10a4f235eaf0390a4f13f71e8a6dbc51cf9952dd50ee02f2a442567290022600fc21ddd41bf0dfd3984fcd8744071f3edfc689c992ec80c4991b33282ad4d52e745fdb80b46f0bc88c3ee1515629221487b02dd98602d147a510dbc5e6a74af8ba1e4fc8e987f97c0fcff42d0ec5c5753daacff2cb3f9f1ad6781230510dd5572dc2be30d08147f9ba23b84256fc49493058c72811077c89ad4210b8dc705b3ef5fccfdea3211b19ce82586fe19041a10a8a934c7fcfa5448a1841263c6dfa5658700465ab9d4aa9758f5c7f6c1a0f893caf33e2f60981030640f925a5caf7efa8e569052330c7af22261f5e847652e3624fa762695d3f55a71b9696a13b4821c015e22127f6764457189d885e43e786e6912eb9bcc7b24db79d6dc82364d101b6aa9cb1d504a7a4209c5831ab2ebadd6896c99a858f1f64fd6c1322144faac151f00fbc91d308b9c32ba2a3f3b68f761812aabf8bb25fe71cd7144cc2239f616bc2a66c07c63fa497a0e06f7eea67c655127b4661cfbc587835139d71fc06921d6d5919082654c6ed3a2ae8884621abf2bbc15dc7aa648d7eb6ab9f32c4231eecf2555c0ce8111d0eba8261046354215cbb62ca00f57569e24c83a393513b5f816e01d8b58887191c2737a513a46005519a9e0c6e9e887d047d8e116995b5eec94dbb018d003ada3b38395985d22dc55d61c5294e8a75551ba82b7dbecb291bfb96985f4e66419275e2a0d58cd49988de33acafd5810ac132db5d0369d5bedf6ce23f20ed8dcccfe97a528ee6d232250ec71574d9434ea887c3703cd184c629765661f2fa686f37ce167f2085986c032d9e53a3ea9968582427c8fc035f31cc3c9fac636dea04ec95321a2c7839fc52767dbdfd5dc4a49beb332d8398f75fb6f7cc14cd7465fe7de9c1ce7be3ee079a89f50fe19a57d8b77abd63cdc4f4840ed6f6475398e12cfee75e7ede67b816d87471fac843e261cb806326b3bfbba1fae7478ccedc4b63375335826f12dec289e2e9126b4f40443bceb865df9291a6adafc4a80442aae04e433918eecd7c87cae21470c9b4612d846beb0c561f6cec96761b6824c71c29ffbce04f6ff014aaf005121714fc581fda483a902abb1e68323264fc9bf6ba3a2df12b93b15b4733a311689ebf60bf3a058cde47b27e0b0595167b1c1f18c7e43791434d63cd72bb36eca08ea741771ad11d98ff03e9aeac39a789c732f9d6218b76b3c4e0ae26d0e42b8c07e0607cd95060dc530d7d3f0c9","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"36e668e149460da4f59ffe8aad5bc414"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
