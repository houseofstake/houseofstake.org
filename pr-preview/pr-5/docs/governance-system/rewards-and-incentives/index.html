<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8167d8f6183d97aedf1877d6665d57d5773f45cd8ab0d13a9509cfd421aaf6b7f1e39e6635387bcb3e15e7503ed3c3f9846e654b9a45746ea2950252f96f6779fbfa4cbfc791dc76003c7fe8d7b3781e264659ac9b78a324dc4d936b980590c28880bc4eaf1842515720774cbd6d13b51346218973d2db2ff0431dab55c3e6cc0d00c7550ee4f8fcc10fc98faf29981844458b76469004fa4f569d6a5448c554dfe7357c76d1381fa9c08bd50afa299cb36a0f214f554b0e94fdf2b3fff9bd9c59329a33a9cbb103631c81e4bff98a1c919ecf753eed054dcb75529383c8dc305edafa0cb64216d41b905661a38a6b081338008b998f66a2a8674c3a3b4270855f98a9980e5c71c9f5e933827403de697b8fd227508e388a90c3efb3da1524be6236ef3a20233c954e8e40458e4ee879c9cc0c8d4fe236edf923f2b1f022e860432da1165839f0f8cc849b5d32260b32d19e3c8080954b6c85a0dfeb936bb548295c8ce3de655f08b0d0e230b16dd31fc94ff383e34c08e30a508f241a88c2c1f5b20b9d3f2940bd4c05584267d6393112560049f0a1eb7de4a6d735804578279655e09ebe4335cffb96a15e10e2ca308ebd5369e1a4faa3e995838e6574834385273ba8acacd7e31236f02240fa423834f8f96dd865ac404472c577f1662449ee2ff0b9669b23e82669ff489bee380c62442e3eb646006dcefd7dfb458d5bac81c630099ad4e07af7f2f3a95d409336d43fd104e769a41581b7c0fbc8c7ae15524c92e36ebb789773ebaf45d31bfc330b57aaeb53d2f7ec4bf6caa405132658efef35a6a69f0ac6d347849eb71c482ec4ae813e406513565c68f1fe01e0c1aec3e74d8f856263b56cad0e77f7868cff7a7512a81e0926096801f35a143f0eb8e11b725d1821ea6f49c1dbaf1b33062196bcd8401726064ad18a691de88916209cb4d89654834d87bd77ef0311e76f4611bb822dd6ba84c5e686116267213b5034976a27e253a3ee8b0e78a643b1fffef241429265875a24bc84dcb3f1c6e451433476735ab1da3d8a9ef481dfa797bc01af5d5109cb72b4ebeb31a18161cc1033062f73c66ffd439a71674fca983d870f458d512c18b908d965b114e83c40463a208a150f1125124d5f0ec9969839670d5bfa7da8cdfd408581ae58eae5e10f7cc5a37ea5a1c03a2a99753ae725ae68d64a3714f69c29c3897b47b9f9af91a73aa831e372b53025f3e4d6fc030d267b5ee1683df1a6fce6bc9dff53e2b4e443b4a76beea0b63d4530d8e808a26085c3b23d68e21e6c38e1caf8318b77d7d4565c8fe3536ea52f4b11db6011708c35564235047251aa9512112fc2bd414ab8d209cf47822561ccc996374b7d910942e716dcdc768f84b7cc7ac2d592cf19a2c559f5ac3d22f107bcb04e38a3125bee67a42c9efbb00c83575ab2979502271d35d6620d28a8606571828409894a5accc26add710fbbc33d5f207f7701aafdf2bd34bb85c2f1e12df3e21b3dd1f1ebdbbfb9fde56f80a860e129e4a96b1f45b4ea21328d3af701b095a16720c4a218b07a9854c37ad9415093b9d2e5daba4a06d902bda12e04a0df82ac32bc8e699e8b1e1ea0fc094daa5c80e53992d54a39742e39e79cb31efd6d2732fd5bd68a03e1c7de95ef3928c4aaf47a79d7f60400ccd7b2c1b4795a39bbeab6bf93954b546219e3afdf23727c900293adfcd25af51c1300665c1f377b393a0ededf936a8e1feede158eeaf5fad043489e03acb4fc9b4d6abde8d39e17acf9bb5e938b737dd232e9affdc6bbaf48c97564f793822e27d71100001626ac2711d4b414ce9b9cef8ec89fa04fcc204bbad2044515cb96b56e7b08fcabe758702862648589b7fe68661d191567b9d5fa7d4ba026c75055cacb8fcfe518836ae72950d337b6431043284ba3457af25c8a0d60dcc71ea8cabaac0a5e55e31fea6438924806bffa3afc7bd657122e6b696589006fe210d4de8f6f52f70caebaf62f9f66d11488e9d3f85c1eebfadbcb5827ced76ba4c95e715d83055c3bd9f2486ce0ebe976b06f8bfdae389a77db22d6488fcb79e94b02f5999b136b266b214b03ebec6bf2e0b08ba8ea46c15518532c6173910b79ee35776d03e8e50faa66f483178e34702264a25bae656abe83e35a42adce6c7e129b63a6c71b1ac9310e8096cf626c216155876f6077388be4874c0c7c3b3a9d25c91bf72f76f8c10e716aaac495b304ce10098e48b57fa811dd2808d79da4cbf59f853e0f0fd4914d559a386574f082764f7cbc22fa4a396cd50486bca76e9177aedc0b4a729c6e596844f2855ef9053a4237ed800e5702ee0a59f5f7f6e63dd5d9cdcfcd0e38d7621ef3bf7b180a444d3b989b70792e0758238e697a904a1980a9a34a3f5e431b87ccaafa7c00371c68f872d5835b821318773613ab15b8cb3aac4ce3389647db245e699c101e648c90f8d0ef8acd8c6ea67f99908fa03ede1283e19b4bbaca613f42e60b1dedc09b1e1f155f2b492fe7fa449a69f270070b2add53a9e68dd7b4e60e5320b56f77f0341328661955b977313b274dfcc3dc263906c0f978991a0de8007814e7c69df03aeeb340294151499129bc58eb52b25b5f39ee45244a17396d6a00df2af52470ff57e809681aaa94b6e7172200eb5b542f5b05eb674163396daff781022a9dcad9ef9fa8494351812ebc96a3b3d4dfa59e1610c6cda69763a2612b882a73c6a1c82707a68b8dd4b641b579c88b3e5093d465ac965942d1130c3fffbed29ad2e62fe762f1b7f21da890c0d8f97ac08ed017890e88a720ee1bb1c7e3b25b1df49b2d58c1ea80793050be9979879d82f8ce245fd47a3ce06f8d6fe69d273a26b28634d8e6bb21a8aa33d2e40e0451f40c750831e91383de18029ecc1a54560dcab53d6a66ee380c2b3898f7d3ad5040ee480f5e9bf3e5500a2daaf41ba7bab2a0198b41bfb8fe8da43036040c7dfb3d41b2fd08bacb31acdca673a59305e05df32223e0579b32882189483bab7cfebef1877e4537e53f24acaf11a3747c1269c018c2b530c4dc4a37ee27f08d075cca002d07e83868a6555e0677e2319a28c51dc5017c342a6904415c69a776e1144bccddb857a08ba70a27ffb13cfca4418ff85844049266cf4f6d1655ac84ec8f983c9773b9ed47bfd72d129842503707c3de45b09c3bc914ebe4d960addf45b3244b6d129b0edd82a510d23e3b06bfa9202eb335ac5fd17c4332e0225a69976dd255defdddd5f58649c8f66a2084433b1ae9600ccf7b0c7d6bb8a604acf1dc3c0d64b177253ff36915e5dda41f090c4af80e573226c4c155f374b6ffcf4216444838e308bcb9d1fe46ce50f5380b1caaeee549e260d73304c03fbc5b536cd8fbabfc42d9e1ad4e3ed67519d355457301dbcdb460f41a0f5150e43b563d94311c2127153adbb4a988d6430ec9f988fedb2689648583dd82725cfe50aea96bb075d1458048ca8d4fae88e534e0bd17bbff7025b8e79f4b1dc30a9eca4c931adaa3fbee0c154055c34142277ca1f560f8d1b8a1b55794ad81bf448e9b0af8b097999de29989e0fd0f9ba389c9b42894b90bf28b28697edf52da0ab319be4c69172da69d6f7bf575ab686c7f25f9a1f676e54f3780be85d21e898488343c27caefdd7614b66b1cc795a41ef4f2d101947f27c6760341dcb99c4729319e3792aa7286a53a97e13fec46d09708d262fb2fabc88f88d46ceab50beccfa84f96d9febede0b7035b94d36e82d3140aad32dfef18e08853225758e56933be14718339102154aaf736ebd077d1d9a40ec758aa5c6f5c9f1db8fea21db8fbc6818f9b46bb4d9bc4bac1d2eca62d105f6347ce7529a68ee4a4874e0c1b67abdbb4752f2910490879428452eaba0e2f2249a5ca46fef1145d9b95b4854f180872b570f8a4728a3d4efb93a1fde3306ed5262453bffc230ab9ae7a65445663f8b28b64cee55b2ffee9e7b9fd0b4d8ae3bd96b551a74fc546fc00b28ca9c1d3ff9af24f0de75848cca03da873cf0158bcc438f0876ffd864ec8bec1db92b3dc0245300f51a5f8dc168f2d093989569d5fb8d76fa630b511047c2a092f6bda9767675163fd99c21aeb96c9253207ab93da739dd63096758703687fe79563e713b14ae57b73cb78227bf4d090012ee006dc25347753d474e54fb6222dd5d05ab9640ab062a54e263b0651209c67f529dee117b278056a3d10a7663c3748669f9f212f85b5765b9f639b6b665ae80b0f731348cca564b36d5ec54e4f40286d7305f76b4cb6fce4a4c766ae5e8283c28ecf6d77f7d921c938e75ea7352239f39829140f58804d3757f8db13e38793f64783d2a8af736126bd359e6c8310dbde4c9dbbae2005870ba26422cb3bbeee7e38ec7f150b59bcf6711c5efbcd1b18f69a5d7018830683bbc16a726ce10b511f6d4615ade21d804bb3634d7cd50342325027af5d6fc54351b90974cc1d35463eb1d9cd18b02583f117a1addc9a28f707c86f31860b89fed88b7face6bcf15ea46e71aa2dea39d0b6a570f80b4977b766711952d52d13b0ddbdfc1960a7fe168c761768c77edeafa1c3ce0843c41c2729688c2b863c9a9c62b21f1c94e6527e657fd81bba01e03b555c56678fee9c1dabb22a3c71308057fd73f0652b8974e5b6827875b6e6df1c65a0e275b5561718f40590d5c477d59935f7c017085f19b779fc798c4835fbffb72c648738b17ec6388b4f35d68f2b6a72f4b5972845d9683970d82e690c2e95b1afcfd1f9c2beeefb2640ec1bebbf935c10899d8d8fcb1a46beb4257a5dd3de2a169e532ce2973e7c5acba5e164c4ef2f848bb0becce0907f7aae87df545c04b14c494935dd4871bef801a9800408ad3254fc0119c1376d8da8ed0f4848f3637d151b82fd6257ca7313abf99ecff05eccea9b9e9022db6956b2a36484a0a00337304cedc74f1fc390cb098160212a6e64b40e5e45bf20e0aa73c7f2bd44bf4f8646f221098fcb494a8eedc3361677228a404502d60aa2500d763217fe613bf052271046a1a1b6d37ec2b2bbe42842faa664871c7648c7814dd952d8b7b7199bb8418a02cd6863bd698bf483accc897e755c2e9935f3aa2afeb5bba53ce383e982bbcf1f78f38facf1114eaa70c7399703598f566599346807d4f064ebcad8cecc3659ff856b52dbba9780f25a382cf7d7dd469b2bc442d18206f182bafdbdd27f232e9a0c16823b8cb1a5fd401f42760ca385d02f79b3ef2adc2858645552fd01535aeb4156f999191760816317d8fc7ed83bbc09aabd7558490f4a25442bac2f3d41c00939e406cf0e934db3855b874bf6c7468dc2a232f8f6aa73093fdd5b095ed393975ba6d878251ded325efc6841f7780b0a3c659fae370c18c2330ca906cfe4d17609b212273890364258655773578379ef76314fe44edcf1aa4045d69d5d8a4bb449e9dd25ef5c893eb66410f524b5d4a96c53539e2f06ead0309be801fd725631d74a261ab1fee145750d8d1d1031dd0134afdd52a4abe15bd14fc2156a3d1a5b758f8f6ace63bb761c791834d2b67743b667af7806d21e7cac1007274a5c36aaff8bbb0fdde63c2b122351f0f051f6a59a187701f97ae87005f3a126034c099968e55e03a648122a83a26d5432442e8fd114269503e5e6dc10253fe2583f9ec20e56018961803e010b07df0ec48d88c10c6e3a52862bbee6b5022675d2392ae3751ba8ba6f09237cd6248586c5f516552dc448d6e4738facd567570a0257904a02c64d45d07f318cb1fa677d71263240fae4a3e2c06294335989641df93935065d9a6a06718beb5dd5f5e53031e0cb9429bd5f8fc95382aa3f3f405959854eeff897c001a4fac5f0a450adb26dd6eea1e6285586a6e7f94705474e8b2f03eb5504ad2783660e697295375e45ffa30853e5901e62ed47a03c6caedcfa8154950d9018ef2dd01c469b5fa42f5551fcd4b23f65a6d7043680d040fba236e987d215303ec591df382ab65721e070de089b8b163100e984d7cc2aa40dad0c78d701d9eac52c698b97dc4eab9103d1a13445ccc6eea4229dbacfc672fa39d67c683d3d4ac2e514ff6f20f53d991abe2ef781c647dc30040f9df652f34e910ba1241785e975bd406255ba7675aebbc5c36dc7ded0f90f50332ffa6da9d0db7e7b56a0930f46405fe233413ccee76004a0584d4d7c866a0072e9bff5a77f54065c5cdf5578e38fcfdc3f730c0fb170074aef4cde9431ec713fbedb7211ccbd5742ae7ab995c6ac3b21a1b2fe7f5ba6a198d2410f05f67fc48e3e585caeb474f78d2325cdccef1384b0600e20e45d8e7d32568a4aa17d52e14ea1a85e8d55a7ded1511e3b24c613ce73a373490ddf5fe041a4d290372834f9c015f58e415867b701a9b2d4ba1fa51c12b748b7a9bb2b6a0b35ad571362625ed4954ef830beeef3c1a095155da1901f705be31051ec3a177877e85a85ca64519eb09448f7988bb8a1974e7467d5b9001017e424e27f32e24f0cffe677c6b1c74d4e59afd20d6e58c32cab36553475992e43a6bbb7c16236ad4578b44088c7c3631599423de5f574fc0a36200bf48f6f491e98d5c6a54f4d4fb15d2d6f50ffe67c1f0c849b1dcfbb383a40cc62ac0559b0682c734edd07040ce625c9c881edb92054451a43c73838a066db35b9f49b8ea2aec660a52ef6cd19e792c70be5652f74f61244272095e5268d49d9d04512c0d526d2e6b0c624647ebf9b8b81a56a6eb68cb451831055f34a01fe67a189fd287efc431a09c76013514d765070091bfa89641e9b8aba9adfb1a8ddba7c7836768e08ece11f02e4827248c12fd1e87da15e7abbb1ad24d00e20275f5ea80ed32da74ade73a86d1582ad48106abafbb6e033899fbcbb6673c421b909bb809a392072328f3a34a6c4c071e40ed23dc20216db273bc7fcb4c9e93a87c88d1d3a9faf64b8029a6cfd56bc1810c3befaea012aa41b52affd251d543af7c3235fa614a46adddf0f9b658facc0aee0552f07d2f0a53e536fb1b3034d8e4bd7a535f1521e9aabe9f16530ab69c742e6e812900a236acaa533397911456fa85a59f7ccc0002e8ba4fd23553690d51a8672177f81b67825ad9e5f27e3cf02419f15e38a53a7d7e1de58b2b5c440f94aff7e343ae5a363906cc5fce9ec42b10b3c92edb80f3edce21e387bc9e32d14370cdc7e8743e5973acafd5f238617160a222370137f6668a57a8fccbd7a05367c94bb44ad33989811c61c41de2601f2ce283706513cf63638fb33af7b8defba33ed1669f933e321d5747ae40ffbdd45e55baa6db80a82900c4930726b23191f2ff10e2c851e902a879db2dd729059f6680427c9bfb05d9bec39f680056b444d374a0fbe27f22d6d6f9b2ba467dea99fb7ab5eab3b97bc3189ca73c683f1f22b28aef4956854b771bd0b0b2de77b79fc233a9252782f8ac09e964ea20b6dc3231a2a22ac354a398b225a9f9fdc3aa7cac51731ea9a87f8a7ce80e7e8e1695cd8ea1d5cc9c12eb97582002eb84a379be5b37dfe2907f18fb53108d7f11a93414ea9a0249b42b77ccf8ae1421f8c5ec273015db2f8843311f47ee09b2d1c33eb60fb4141902b4505621ccf622697243fdadb3591ae6229acf06ac5a79de0eb18616dc3c0dd8267cc74646be4c17b7cb046f5eecf83ef2a1dc0ea15bf0d6158928ae39a371eebf255f7c5730ce91acc24f4d9ebac7a5f6fa9726408d857f9dcdbc9b75b234deace3ee366dcd196f23ba8c94f1f76849a61dfd31a1478498e6d0723d1be0f87afeb5f06fc6e806288c6ca92973d6d839f5f6e7452ebf6f3bc87834f2273b8c3e81c3b4e939d8d58da3c2c46170ed9fcffb3231fd8d9416ec582cdc1b084b8c695080cef327b9628bf17f5aa4f4c6702ffb36afa2e38973e80c8afa25a957ce09c8604747e372efd78643b2ae4bc1b32ef41eaf42b31c68dbce98c07977b40b6dfa58558843dd4b62c92a82a70bad801d51306e53b29ac03bd362b0f5e357e6c2c1bd0a1faeb700d685b1ae2fd4e760cba1cd0499e19bf08d3fbbadfe93cc1c637b03bb269e32520b26dff897b6e3861b0a8884e197673eff2f388e63afd7047b2ab3962bec97e0349a6560d9825ec3a0a5e44b437917a7e572942cad3286ee5d18ec38d6f4f107244b55015ae885052f5c386a0e5006798f50a9041b11356fb102915ccc49b5948416a7bfeab392cd931218ea04770d6426550456a22f95253341708c59611cc66ee796b02e30b6497beb0940ef01afac37fd40932c0f488718ea6e23c60f1b65a35b77651a20775037efb8347cbde21845dfd8251d7cf1f33c847d8774b6131da4aad170841c3e885a48019c99d68a69c926390c101aab9bdcde9ea142850c828831111273b8370ef96342a06f8292128fb2baf3000d8f20a9e8240ee22a0a5a008e6ceab211ffb9975995118a46622bebdc7006dff6cab5d1a4f58608b884c484c7e6f2bf3a3ec975f953394143f96877652fc82388d9b64d91a96afa2fc0475f8fa58c994c2536e4ac0219dbfb1a8192f7686b7cbc43060f220fd3a0238956290c1859f2109baf0b6b2f81e5a5a72002706e3168a06e4cfaf0218f5900746a019197f29343e133523b319331df01fb777da9fb12a96e6ccc3843edee80ddeff0b247c1b172823b0184b5fd1a1eba837fb5c7fecbf17927bccb2c7435906f5f7e4d67a7f69edf5d865c26830c0a09510c89796d4272efa1b3f83a92557532872fabaa5e286474b9a6a596f5839bc01bd4768ea75729f3ac74fc8573462ea11f12346ce57388287e18525991ddc42ba0a342ae48cfe944eb6acdd87c3b85b868fa3375cf691aca21f1ee09fa13dc2d15358d86454ad1060391f26ee8fed04cb0aa504bc99a191a7b93286ff977318e94c9df45397370625c9be80c53df9cd74e42b6de2b1cb3d20f74cd8ab127acb140668eccfee06a4d3a737f438e390be931e2bd4440461180c7d31e5ba26cd4912644adf40bf57604dda196566a3281768c40cb488c26e74c14398bae94e028fb084617e167211301662cf1fec720e8bbfb91c886313c027cb09496f9d4673a40ee301ad1db1aad04ffa02b044f7c2074806d03ca434d04366df526997efe8a323804318b98950fa946dec8065737a5776d69e019cddc792e9e263130db877c3cac2a473b0b7e397666eaaa7f0a74f4b54e8ca78fdd8cef147fe3277b243e85f61e27540829dff97d1cf6890ed0663927f3b88232326a643d61b3665de9ccdda95d377248102da24a12d840419b56f171598b238801ee15b857938a17d41eb29846d60ba0f53b1b1fc1808b8fa2c09c839d3749350e1756bc241ce641c1e3cfd8cd18dd05b9069279fddac6feaf3a24f282373846ee201eb30347ebc50da9894aced19b96fb1e264fa91d9171a269dac57f8a323830a23707fedec9a945ef65f3f323059a922d220224e4a6013db0263cf4450cb9a3894d389e3194e083d5038b496f5855d15df221e1edfd05913ceb82dc820c8310cbb0bd42ce7025cf43a06ab4d15ac551bf23b7ff230c74bdc12e83d5a26b57ed4ea20df51876d8fc6c93c8cb1f016389d5b6449cda05e8054a35706fc10a42d9024a0d941c6f928183b06c1d29e20ed54735791bd5e70d16b93709a03f5b770976c0147517ef94d45d17c68330aa9e3f09b5fd8322fc077b6c7f84edcf120b6f866e8087d45ad67590f9356eefc19e22102a707b4219f4c668666c179f524ac3386543a2590a61c89f8aa75fa2f08d30451fb38e0df7c475d5b6f7e0a783d77da51a9757e11fa53312f08c36c792d16c056ba6c745eb724aa2b4fded66320263e3b5ec83c10cb8973d3427ac6da86b6197b2dfa11d87d025bc6704c93b04a029bc10fe6459378bd0b63eed6b9c2df2d719fecdca7765ee8bb16f18e053cca713338b913f666f81d79dbe55a27d8351ea7dc9134012d781b58f6e1b28a254f5608022b6f3e020e1e801617a511be76cb1c9ce79908300a893392af3cf0dc260c99a23cea4935b6367205293cc400892345c1ae8050c0ab059476beaf772fff20a05f1b4b60aceeac4003dd7e4ee18070dbf6534208155d4495b34e6a5d96fb1b007f4a0a8f0bbb39cc58ed6f26d3c9bb4d7519b749e50f4e889b40a832216fde94450f63efbdbd7877c8823eab0dc9b183eb56c2b2f5b6a0d9fa4e4cdd522bf23e5542599ef24edd52de2ac975d57fd3326fc333b0c06f1c6c93a5a201ead76d1b1bbf79107113f808745a5a5bf3707748df4d4dda81f8678a3e3164f110fa8c86301d80761c80c6b7168439dac478e8dacb7346a065e11caf8145ce99af337fff721bcc0d5e01ea14fd4f0a3339efa4a5ab832b2667b3e19902870923eb23f34a9f77cb69d0a5052cdfae4551d6201eb4f8d42ddfcee81ee18e4c3f879d1903be9abdbe6cfde1fef4331cf12d02af32ce872411ccf7aad1caba775e79422d682167f9484a467c8436332500a512777631113ff6c0ab47768992f46218c43ca24c3732086fdc6dfce0fb4586712d36f966fd40526e1fa9b5e3e1713835563e9d6c55ffa1836868efccc32964eb4548dfc0e075e2951a5f02629ed610a5fe1665e1ff10b2f28e41bff144c8e42833f1fbf221bc8223762a6ad1816d32ad44e6e5acab3e8e2a765b94b82875de87e1db87bc2d9dc77e308fbd0c1511d89c2f24c395e331f7c26f44284484fe58b1833f0ee60070377b70dccd3f0d76a147f1cefbf032b4cb3d8e707cf3ed609104b5d14d948797d9ac47e8c84be99b8c496bf2f296c15e39a78d2a2ebe1528cef72027880e0c8de62a2bf0d3894e8dd0729881b18b54c67b53fd46e8712565c836d1070e2f11158ad753a1ac71e3599cd2c6d6368d64666ffd40181673b315ddd3ee88a18d97503ba9bfcdfbad626400564a92072c50cd7bcce0bbc0403ef008aa59dd7d05c200559bdc4e7dd0b4cfd0900922ad2fff437b66d9250cf297ddaa935e1d47ee8894e9f4982ce25c917896306ad9f36ce1ebe5a4bd7df6e656444a40cfd47c614915060f7f6f812f32535e35ed9127e7fbaf9f50345faaf1f328bdf42f71ae5787ffca48db582cbd5f0375a147963451329caa4fc67055d6bed7613b277133dc485d1e0cee746d1f8660673a60d52ea1ae1ece8fac4a8913144f042a3b238f9c6aa5f9cc69bf06bfc85b1facb9d155bdaa141c995e81809298deb7601bbeed7eb41147901f5e9d067406b54037011d3d9c164340ac600f82e7c47991861cc082e3fab5d6a6e27ff51109d23f4fee79aa0da80b27813f5bfd0ac11f65ffcd13b4f15cce606683e95a93e7fd0794902362ac51a4805bee70be992173fc47fecb91c8d638879811075c7731a97287652bafd017889fff3481026a6732fc64339f45758f9394a804588355a217845bf7794b8f891573fb9962c3a1e15d7d5f5a593749bc239994f47799b560414ff17aff3f0379bc651c40cc902c5a4fda53ad1629081ec1c6427835f045cbb632f17dbc494848529fd8025fe28be3d7d77457a5ce492a98b319cb2d8d46d78cd64571c48397e23ba75a81364f246d07ac80580366208e8fcd7d2b7b1c56463edb22f91c2e771929060f40afd8a0c8a5a47027c8e80abab56b1c6e5dde44c1da1e1d2e2fe19ddc71b02f6918de3a9d1e21c7752c6ac8801b6a69f2461611a43df81de084f3a640eadf51975a473ae1499f96551e7d0dadd390bf28718fcad3c48bf97c3f22451a949a3c554e09bb7ce82acb37dc48d901e0065824bf6364454249f67450ac1b4361193209a106431d37f028e7055f0059fbc71920a6a6e0afbe1652284a94ac2922b14d61d6df4af5348b535d319b79a36f0e04fa4a3b063b4986327e9fccf79b08b932adce3202f368a65a7acb467200f5a2d20f646465788e9dd0c21e21d468dbef8ed6f86be74696346e24712c71eda35d76827406375909ab77e41f105ab93247b270931356f060e5c4995eec181f3999ee0425d5c2813d2be643e20c4826c7b0b53d802b3a9310750f6b1d6a1e7e107ade0cc86fdf12b8dca81bdc2c53003cfc76c1d79d2c9761100003ef7a53357d4268d0636e9209e4ff436b976c3d7ff179bfebced357a29f5f62f9d98777b17341d64669efe1fc4e386dbf6ce20b70b250c5d95cffecf4e093dd96fcca50776c34db09be20b6b4ad1a44f43a4da4bfd4016634c1ee30eb7631117d42d1d730d868e2f6981ace38f5777bfd1f29502e72c62ea4ffeec1db48fe985e44b671a63242b45c3411331882723933ee9f502c37f06fb35f6a6805f71df575247b724965ed05911737fc441f693a64c246f1587db4678d314ccefdb48d696f56c762eb15ebc088f536d80095b1475452bb7e3f67fbb9fa0c652d6b4e8d18650058eec14f1100d199e3da8d34263ad3a85f7f25e184979b29154fbf6e337e252ea65fbb15615e79acfc5af727c8fd7a1622c0a00229bb2e5fd98ab9c2b511da9fa8c594ad75559bddda7dcf95a012aa81202790ce85da163b4a6de0f47834926aa9e5d0ec36312aef27e6cfb80f12c03db33e94959ee5ab2e4bb3399ff6124ddac90f0d0ce9b3b7014945469790f99a9028bdf55f26e4b816f2ac66987039cc1d198160839e0659ca0a468940b7ba54ff3b508d99e20410bc694b3705fad7b72af5b14b46cfbc3566e3e06cd1025f1933467fbb230b699281a7ae29479e945bc7ed2ec298dff9e2dcc681a5c28183af215beb104719793896a0ddc8c45a319e28e677332a1671b102f791834d4d88a5e24689e11f05bb392a2ec4db4d5f1e712a60cdf85f46f609f6e6863468d90e353b4534022d2232e7469b1a59900b1543bcfeb50b187d1d9fb5b5d3606ee12c6b55f1bf25fd92ba59010729aa402b9d5b59e5a339783f5b75bd1a3bcfb9bb6f4ec45c7278b795673fcc6af1f10e657f3ef593c2d0fed11791994fa2b8a1bff19ac63ceaeb073c8ea68df460599b31ef6076da779b6c358e367534270d1acc7f4fb81bc69aa53416f4a672d36aa87c9d2888ae9cc8400ffaa11aeaf5cfa1c93c09d4684462d02b8fdda6d50008b1a6dbc59d2aeec10f662a5e59745c6987f6aab957136850484578bd9dfb001842a991e321dd888b81b6769b95319f76a59e4cf213c80637e21c0c1c0df0c4012fd3f1bd2eabeca14a21a2c9deb85d7a44571961467df772d0d1a464089a5c0766ff7a161b9a9dd54563b517607322af65744b02c15a4efdfd4fe884842619814b6a6df7e2325c663aec25f9d3ae448b37aaca94163e5645074a9f22028faad73396bed964f52e45f431ca7205dfd536331b9446bde000378d456e66d7fe977e7bd6c5cfdcf270c68390db4bd4089d6b73f1e490a47de3a3ded8f54160747d3ead228814cd5f2e6fdaae2233bc32128e791c7588ade4f7bf561d7ae664c02afdfde8c3d5391102ddb7a72bfe189fefd877e19f15977e2994112c2983e39502e1a4b8b114e36867dd65f9962f34db68c4f0a49ebd0b21e2d5119834c011741cfa7f9b5f0ace63765177372e16b127a5a1033294a12925a12320c35862ee591721816ddd59b31d87948295c59b27104e2d60d09f7b8da942c5897d4dc2e3785bb8aa68385ac2c431529f8661844c519e602deffbf4b5f522dac1629cec9323c44ebc6c6f89ebb6fda0f525fbaf0d9640010c8ec44e3d84620680a71a097f2ff4d6d78d67ba5fa04877ba98514daebe87a3904ee68f160579ac8e6d00ecac3389131c100d24620ce9108a3e4fccae428275a4390ba3011c608a91a85f3c42fd00b4462d552e5466ea42361c981010348b54442570caec9344b7af87ebe8ed86078e823d09fb5bdd0036e38e067fba2167631896641fcb2c40e8367fbdf26985d96f0511174d72914262850df564cbb81d0f3c21dc63c1f68c9f69933f38086f1e239eca740fda402bf2246f7154cbe3ed3f5b8facf96f8ba248480ae85dcee8ff371b54b5330fafdb39d5770cee33990f978c8609bbd3fe78d16e18971f68831a58326e817bd2c86aeb5466ee230843e6fc927b42eb4483d492a31a2e75f57f0c00a113a9bb5a40c445eff61bfcbedf3902cd05865744cbcde7e71465685165773a719bcb27e1a741c8b32279162fa618da5bafbceb9a99f7cfbd8576c103fb640f8078ee1667e233ca93216d9c722d9b964d9d3d15b302b5ed321db15ebdb025df9339cb536c71c7352ad78f95231666e4361e30c1fa0fb5c84b33096d453d36af91f5512bbab3bc47244cc1b67a07f704109f49a64eac98b341fed29b8fb0362cf290a4b736cf237042aa602d683cd93ff1aece03aeafab424ff5115728f6cc033fbd307032399e33aa1f8975e0820f50912adce6bbc16bd1dfdc9e28d6b3b3a18a43967e7f9a2a1ca8249a831916522ad490c32b2e728c0bfe213b97fc7f022413de26ffd372cc49e752a8615e10d2f4abebbf006cbaec97fd12817d5d51ba2c47adf2f5d811ab52f94523ca47f2804747506c1b76ac4970db298ec889cc621c2d5bc2b0ffa8a38429d254a95c062cb94e3e952dd0cd7fa80bc8b5552caea4077d3c45af457ba6eb4ee1142f4dd17f58c960c1d78a5cf60585c26e147f0fe0d229222651b90fb4e8061198f30fe2b16137509f8aa3a7f0daa2593dcae06cbffba93015de48c3c409c5962e09c95d03f713b6f02333edad8e57096b92c26c0eee505758f387dae8f31d022df77455d34dca626a0aeecf664c1caa9d44f84d432e2db805d6593f3e15fce6c409ce87f39d62a70576017252cd197f61839f01995b4969e72917ce8e24a149810439c5e73e79ef655fe8c9527c15da82a6405d47abaf51bbd7e0f0807cc423c552616e4e017bbe74bd074cb6b4a3b40c56261e7bbf72a929d7712cdf2c315c8c96558018a6f3d3f0af53ada9ad6b954b26258b85f4d1838e7a1b31a4e7657c2129d1f0783604867e2529b8f5cc8513e713675b4dbb4e7144e9952f53d26a4f20efabc0d87edc4b90bb0bd0e912da236f77ce1a2aa6420fb9d177b774ab4db641bb2a1a1745f188f1969aab2fd6ee9c08dcb96ac7f95c8527d5aa17cb20b555ac9204420d5db28d9f8e3c210bb938489328c2213cda3d5b2100883302c23743fff39ffb7e70492940b16a578155a2b03bfdada00b37f015d6e10ae632ef7ef6d4125c504535adad40d71f562b8bb5ee3cda1fc6679078ffd8416cecbc6b91a3753e2b194bda0fa83da5c4747fb485afc551b678a0c4b3508ef6c7dc21504c950cc9473cca866911c08d1a100ff3e5bc09b007253a8f6ab2d247ac2ec96f1723ac3b34a778436ab0b3922e369b94f9ac0f96cba6e81e923cebfe62b708767adb984bd416d4e8cca880a9b4cc037e32aad636a31d8ad707b742f1a81f4ab08d832d13d658679b8c27b94af12e5c0b0546dc14b09afde92253b6c7a5a826611b92162a342fa06dfafe5bd8883c3480cf48f9e59ac55fd4aea397fba419c622470b1f49696251994db5743456ae0c3138ca7408d4edd4407651e5458ebf9930f2ff1c93d5a1bc28df21a617eefb67e230f06dcc6e5a59357b052a41af27de591d84d07dae43009ef365250ce93e85eb42b14bbf62ff42eb5102157857a490a970bc2169e171ad2cde9c38e6f31fcb874f3a703fe5f27a114c0fe8801c5680350c237323ec24685061b6f003c20d255bde1b5df003c66321d7c123458dfd90de4a7565feee88f56a743508cf6625c72e22c25d9330ebd603621d337410ca91afbcb37a7ebf19f4cd7fcb2784fd7c6d038cf2ec70e4c8025d75dfc4d07f13ef7f7e0753dcc1cef9ab9a2143931627e4d3b54d40fc87cec1cdf21188b5f1084a46814710e4dbb6d912a803cc3936d271722fe0fbaf78dbe1368ef210da9f72dfec66c394ba0067de74d80c3518400bd17618f311e1d2612113dcf13579a9948e44165c2382cebad815e9e79ac64f5dcef5817ad92f5e159fab996251f5262d06135904c8f24fecf96e5bc5e10a053c5d4cf1f7c79c2223a538d0799e7a0dcfb853d995c9e3d321757652580f5df051e6b55d181cdf3d35f307938bbba0c0c45008d8c0f4aa0e1721116ee49b09c952a0eba730eb7d7e1f94984db314435839ccc1d1bfee96cb2f518f6a5e5a29ce546210d60674ea0fd2f5044a1cb0c017758348e7ed0283e117bed64808a644d82c1d9938d85b3c4e9d3471f5b35c825ae32e9d053b2ea05eee68fbcc50c07579e1402d3803df5c2419a1c1fdb18fc087bf0ece50576bc4050fb461321eefac9388d747ba7a419dcd390305db52766d47ea305114118d2eaa060b3c1f1b2cee01d8088c47ff4b2f7cc73ff64524d0cf5c4ce3253b9f341ae7eee84657c3998ad14cb824616d7e51c65da68a97a8b7c73e223a313052619f0afb898b63002c0e5a2e6096d86d47e42ba9e239c5e0647795c8bd6f7d19f523cbf6f5eb214e86532e4f88367823613f7a81638586cb4bb4955d5d293232cd4f93f9171cd6ad35b577993483c2f4a2f362a1aff9122f8dd859c9200352226d12d501f57df7f7e59e903db406283801f3b354d2ec4dd28efff90b2e3b0a017e8bfb34994974135a570697c4c6f4c0bf5a7bbfb74248bc814476d099eb85e2fa732912c4b13705900adbb28ddb5aa6ff22c0c9b297159e83ece58de1856362a3088c6e9ed55544ee64e15c8a667b1ebb232c4b17d3d21efb093e4d9917c2b3be7f55a731609398bb56bed33d6581893f9b7f841e2df38bfb4e2873ae7945d4ed298cb6411e16872a8c1e1dc970f61f60d677b58fcb32b0a6bab84f8cbd7fbb24ac4592bf5bdca7bf5b1465bfaf64a0573ad2c266b3d2ef613b0f93ad3d64510b6a30cb4b61c9c7dd45c9d07a5e9c6496149b191c7a650f50b1b91e457140b2e0d9d0cbafc28198698e05a307fb0d4afda0fef3bb7353f6ee629e6c3c332f620a9efcd9983428f940f0c4688481ac786d070371fc271410c468e81ad61345f58a1d13db1a38a27281fee6552766316bf1515f1daae813e2c5493b0532bce8c39eb71c639e18b508b04435551b874c27318fb03fa5f06e102eec190d7fbf60477cda51334d3deef1e048183296353e3e21937f204c06704a5bd1fadf9b9677c2d046aa1b9fbd958c2b130e97f825f86583e809c42dee47236d7a162b29e55345e753fa21e6f686afdefc19ddd39e4c7987a28f9913b2477e073774e83f30d32846040a40c8db415063b79036a60507a81b1c8ae183a1255078d7cc145ba46e2963ec5cf1bc1baa23546555c31c1fd265e1fdeba5dd99d36df68318f88893baf622490bd88e942873836193cb63403aed444f8b312b5891b61590788cdeac073c8a0d765fdee7e553e6d1a55ad8e06ef490f532a63f3ad4a2fcff20b2871ee9111cd586ed0a963f784038fdb4968304b529586e0987a734d5b76aacaee06363794d1cba79f2d7bbab8d04252abffccdf66dae245f2476e387ae375a28c372c1e0156f6b2758d3085af338510aa501bb743f8c748c58e9f6a67ca7ea98e17ff9c2541406dd9ab7d7c9cfecc765960254c3f163f5d58910e12311c086eac86821c2f6f83a83c8deee9f5cc4c84eda29438a0a8b8cd03dcb16bc75224179880ef40ffbd2bfbb52f3ad27972d70cd5e5fce6d039a0b4ba50fe9839e9e9968d696602e9a57c43aa1eacf1c4258905703d1596d4e1278c33649cfff9894ebf50510aab45b0510e57c0f6a202c09642cd4cc39760be6ebc87b70c05206483070168b1639973149185b1d5ea1230625a5ea18dfca597292064d5a924209b65577fb2064ed80e1d1728001e8a2187f8d5cf300bc80e179ded0d09679875f541eb3bba31decec45edc9cbdbf6e5bf801974f8638163740b3283d1df0512846bf5c7af192786e89ad971ca2cdba8e549b9aeee14527690e20ae98693992ef97877062ab10c8cc7ea92ce7654a91675b9b7b7d77e5f8d08d73314525f5cda6603c7bf1a5770337d9472775ab2be7e09c2d5dccf30d3a2ee3763b82094638c897cdd971b86b8e4e60ca44804aaaa39712999952a8bfbfd8cfa5b4d20b5f235aba1f172b40aefdb32928d5148578ce7314e4d9bafeb142ecba76f4baa5d9677758013173aba5f9da39d742ba7ba73751051ff08f1d19d88e87f33bb1db1dd8e4d5bf5bc10b581bdaad5186257e97eaf504e5f7c97a8b1e2e7fa60d4daa4d35168e709ebde7a2fd261e5c5f71f0c2899dd1831ab1e9ddd4197c43bc3e8ca3efb8a45818f9aebfd17df403f55062842ccadc80a546ff6971b175b238b11f1e278aa33bc62ed654314b92f1171f9736dd00bae4006a6c0270c117f4b713f5cab5ab13e47de7936332d09b091027fdab551d0966e8196238cd0427900edf21d5985e71f21c85d41771a449884110c5d281037cb8fafaa28acd06e3e7725276a59c12b2912ad24df182246ec2ab60f4463e849928b448bfca0e85b077fb8d8db0d69acb4a18ef45ac5a68bf141740c11e9f11db6afe8a14b26e4a5492553b08ea7c7efca18e150344ed872bb1c905a11530c05dafa66e3df3578a30265bb810d37f998decdbedadb00db6596e87d1c3059a95ffa7aca615b4ac7dbc75cfd27f17dcdb7455f29391379be3d05e6b6dcd5823b602cd342a4292d5dcb0e2d6fa435cfeb344ac993f877e1699e5248eee8af3aabff812e00c0c5ab2eefe0eebbc03dda28d4da49f88981ae58fce2ad2639186f154a77ffbc0d73b49fc15900bf0358fdc34a6ee736e1d8c0143f5913288b37a548dec305238f39da335fc9f100699bca3068c79a6578c29967ca1208972d6e0b4c40479fd79611b067f80fb5ee7e3b6f82bf371e817d7dd85137323b374ada77a5d297e00639d2ffa8ae468edc9b6fe9cad28df060f1d8e94464b9116aa62f66a0ebe1c176c268d7b59391bf1addd55f34327ac80bda00dd9513398194e72e7984b65c98b5e184c1259336e19158927d4bbd5b3c2b4467edb294527178131e647ef58834c4ad626aecd6a59b428e50a3f38a6bebbed303b4dcaf2c634e317663d0b8b9fd4f4d76b21fcc9babff91dd34e69aa939ea9878cc430ab8c49efcfbce1d4c33a8994b97bd806d3a8fed768d7e593129d80e52716aee5132f6ed003","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"c18045da2868ebf6d581bd4c299b8f29"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
