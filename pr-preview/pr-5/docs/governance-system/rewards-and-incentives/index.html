<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9ba7e288124fbeed3fc6b8d90714276c175c45bb2b56403fc85aef36a597bc6faedbfd1c51bce4ebeba401c736b1095fbf1a10b02966bba81373372493171b3ae68079d0d5fd93f0ba80cf5492e4d76f2ca351fa035692dc47eec248d4050070fa4dbfcd659d3e7eeb78582ccf506db701cfdde6a78b7e20f3f3fd1421d6ddd8de3becd9de0f8630b5ed624ea1a01cebb4bc62fd3385d96903e31ac43a18cbfc362aaae33124873e260f93513466fbc5a4a8bc33db0d1bc85120b30bfb0ddcb26325805e1d0a1256ff647629831130c4127a4e2a0d1c4a98bc885e70393bf15f3e27519d223f96e821412edbad6e26addbb60c334394d6b43c58c193c725f7312268717b505f6c2965a8d1f682d5d578377f06848361ff2554a933ac8af7bc09246a8bc008f4600e57883519c01b3fd80286ac8af7169041d9b1cfe8d8d23b0ee12fa25abf4b978b256bd145152a74a0746760aae427f0210a7af6e15fc92cc09a41bc84bcc83b87e07dec6a914a811460776f98441ef3f06dc58b19602d02f33771ac6d638cfb236704f565bec5261f58c2b46f12a6a6e20bace0344c32528b2b7bcf7c97907d82000d2b3388dcf302782e59df7a3cab54345ca34ae2be132bf05d9a2fe957d89de955de86f58fbcb09f4d634faab6b882e4396743141f1beb974b01961924c8253302b8a9fce90a1df9e5787c1a126ddb0e4f57b37ebe9855d782e6548fc2cd52106a34fa86637cabfc87da4c313a8fd2b93d816e8b21f20f1ca423ed6df872d23382d6653b7ca518b02156095139a81fd017f04d80e928b87661e7b77c9c21b0975de39e16d5f0c9540d586aedc046f19ebdc326223db5f32509590f890caa89442f5dbf1dc456213873dd0af6c78a475f5e621030ad3dbf59236fd72cdd6a143d7f7de80b3cb94f8b81d2d056cf50a94b9efe09d9acb0d88a9f307f98790b5bba1518d4d99a00ed31303d121a1e08415de658157e3402f5ac759b8aa045e228fda6d0763b5465bb4b934fd2067852880512893c6aab7fb464ef2f323daaca1f18310d7caf136954724104b0e1d1f86d0599fde90ed3b808dbdf566b33fe5c023b197825674324a8ad7ba2e2c1f64960f1e3234d3dfb65517c5989845c8efba50aa776fcf36246b8dc65d5297237ca786f72f1d19f99637a34fc95fb663a4534af51d4920dbd4d5fcad89992a70cbde804e51540aba5befd56e1ebb9d68cf8d537cf31893bc553ebf9c433dac5c8ba9effb2a673eb89ea041ef14ab3ce0db52cf87a5878e94248724532abe9fb93fb56790ada083681bd55c1771f22326a69d60e7f809b2d1f2082e2879b3a3a57439fbb1020cad1a40d57f801bc42ec45573199f8e6125525ac0d035ff7b541ec8c6d38d6f145794f1db73cfcb55c5e0be98d70e461ba88bf7965a148508d0bf930fcf831ee79e2af84c7776239381793792ff10db9e1743b07147163f67f793a5fdc2e35dcf3f2ae84fecc6023cd939ad83586d7b374b332daea3c9b7d6817d83b21d63ea66124e820bb1889debedfa6fa0f555b040da3a809716ecd47de68db73680b9ed4b0dcfb10eee4db57b511c629de897f1d2cb4ff2260ccbab61bde52602f282f7fdb0b54d6d802a3d65715eaeda26cdc82292007c559b849fe2c3a4b92af5e1a4db2ae0766066051dd5d1e69110796ab81f2657f5d8a9c42c290fa8e25270f495697b8e59eb97409c75177b75df9071def7032fec268e698a91344f98fb7e7260dafefe0aaa27326c52231c513c14c1f54a8434ed9bc1c0a3bdb1424b85c8d68bd3b6cb4a9fd671d18f006286bddf826f9cae7117e08189d989b04156bc0f3617acb615c071aa4e4f50d17b2463a8807119006b33da8f3f2ba894a23cb17b78a13db96b5d8f192cb38cdd44bf513d67fce92be3187f7ea0a901231b08c5ab87f3529e607fdf7d57da92a0c56430c8871d6389187c1e26d9ba54f97449829e55a91e297bfc4338a3e3cc1400f27cbd08bbc8ddba63bfbaafa2031cf934c61b7c657d0cfd80e46d8bc55f8399a9bf33644ad23c2e39cb45a1fd1b760a59a53d2599157901b77d1d3c39de8910d0d3e825721e3d40d790cb996e2d102f63f4926b470e78b5f7ec338373641885e4941810424eb6f3320234452a8f83142d1e58d3612d5d100bcf4aaf92692a329f8a335ebc09f275bd6f6ce72970c94bffaf89677ad88ef0baec61785fbd67fa6bb13a8e6119a683740766f55ef20cc3efa0ccfa93f0fcd9a0dc16cc8fc3d9b5bacfd4e892b16bb5a19ab37f6faa93e9feaf9f19371dca7c3a6a40db1bca5bb90b4272e8714f78cf31e76e9875b7000f09633ae945a546fbf0bc1192d873fdaacdc3ee4c8aebbc0c19300d5049cb039b83451132385dadbf23caf353c554c5271041982376c72a48b05b34cbe5937cef4bb3eeeede6216c88921326dec2bb46e0625f35106bc317ee2605a8076ec7a5f9d18d4714afa85716236ebe3d285d659998c37dab0c6383f17a22b247a1d911218f690d05ecca0478efbda11f542828c4ba432ccb5d4106f1b3c38dce64b4a897f748dc6b9e1d5a6f083498f256d693befe8a520f4012bb42969c527d0ebd5e2474b62b0d137e3d53af21aa3ffcc78cfae05853cdfd15db52f07d957baaefe75d8530e4fd40c37c01926252eb095115e0d0a90f7e90e1b720f6468e516e00fc8d9025d6cb6d1d1998c5fa0add0b683a4bae4d3a4d4d0ce176020b90fa80a7565a6bae49ea2547534d411db4b1ba43caf90813826bb7337ec68593f98e305c70664d4c4737c9c68c3fd04cfacb0eac4e73df4082beda20a5e8331e73171c9627d252edd44ba18f17fd051aa353247fa99ee73f3218f1378a633bd2685b4ed14501c26c54046c57c829b4d42a05f47f70e86c1d2e5feca81eb778049c75c6d6240abb1ec52890a22258a6e7d40bf2f79951541a8cb89d3cf3dc5e9aad5b901ca35f0ff8c2369fff8567b009d15786b45ff9f555a326cbe922358f5bb17a0d8bb4377009eae9a12ec755954f0e7d0dc372d691383365065bf7e6c75152d94b2d947a5121d841b0d45fa29487b8fc367c6e6d618340cf0d6b059e750e1d2c889900485db00ca4752189c3eea9e35a34283a05df9196878a863de6a56a0acd3603813ef20d4d812576eb9b925b596dd4d90363951db4db719d0c3886b49b5d2ff48bf1fc1cfbc62efd605756414ccf76b69c331e47f55930b9fac96d49c7b29e8a124210970a98b17533b5bfe0d1face9472d10a7fb7b4f7bfe921a435ba0de39eebcecaa01d3969d025f5abbb1456b203d53132c94d24a380612bb940ed1ee59d7afb8a83af3b458fa445fb1c59494348ce70e8dd10a2ce53325d2d564ab5a64f65e240bad9404b0eb2685e422cc4f9590db88318217acd058d270d7307eecaa47d53af9116613899668c38d2be22c70e9b4722f9e9c781886858ca333f887d7122935c422a5c4c047a28812f4fbefab75f6cdac313d1fcd998c68f8d765e72d84c6f1193ad2a20cae0a36e61d487b30da6ac6f7d8b59d85d2c69295732611ea1d9d8b57a30ea33655316a774d689e50d7589a5f4623ba8aa08f97912cff519bdd6b1f45b8284cef318f17d3841f2bf282f8484c5eebd78ca03d2cc7fb5abb854e39c329e44a0b02437dd12b6efdc01e745a0e665ed5ea55e6a96ca0bb04def06eb2d0b860190fddabb0550181aef1f70ea58655fba4fee429f40c1d30fdc9d42b38698b4b0497948f946f5e8de4a50bcec0d9892aae70b0f45bdf63c524cf0d485df3d9d43cbf8c41828c12705a1e8f0d55a6d1a564550d005b2eaa2417ba20eeef7d40c9c87b603478e64b30243f05c6a10274886be9b39c9e97bbc76eea8f866abc23a000a3db6ee0c498de3fc215d5bc84137bbe8df82634554d6354dadadb64ac86c2938adbe62944898aef7368804be249c04e5353582bd56edd1f5fce8c72da13299d959923fbbc25a8a46a117ac9b5621918a1f0da31d6659b570d2891071ee41c5df6b80eb8f60ab5ef2a0cd92b9ea9b80bcee155e60e221eabb95663c3abee6e10794c650b7c2fb146bd8a69b3195be0f590ed9676fbf1f983dab11252c8fb862d8b22502a454f1f026d86934c954cacc6d3bc87829268d412046790150a6edca2f3f00a5fd2fc6d4697ac4bb66b43ebd63ddde08729f78019a8a76d24141adeb61b9d791cfd7b76c634eef414ad58f358fd5dcb2926c3fc210ba381d6fd33a12e22831b0055fa54043cf84e0b84ba5192608231b55d9263e0710fadaab3d8ee3e0c277dd86527a5c6734caaa3fd70a758f7fe7f161c4326d592edfcbdb0e9cd434756c0f9caa7507a74e007f1ed4140b2b27fb9bf98ef1ab9c5736486af3081f523a74f6939f841d8fe1ea45258801bec4d3734618ed254a2789265b833ed89d0ab716e75c1e1584b6c807dc6f93d133e3f3f69b8b4b2aa06caa54af793014a31fefa41a4a07267710786b51c6e4dad81886e0ff362b58e0cf3063d4524bcbf204b18d08d8eb258c0dc08683a07b6df855a93e75fadc133fd21e08734777a2a83c655743c7ad5659eae814a3e85f1fc2464db3a08cb584d496b403be555ddc2f116c396d252d6563a108267579763255d5524beb4d07257b75f78712a34713edc6d9ed648c541b1c56e496662f7c512dd4bb5ff3e53b1352193a28c42fdef5db6c4d3802804b3b07a59c50ef3ead17d39bad80f374b2bee2d2cff59ca09399439718b729798c5732bdbc146a5a0c34174f78f8a5916ebc3571f4903ffaeb7fc643cb7f15e56e70ebfb80a4809ea7deef8ea65827dd50380720d6ce761fdc3225365b15fc43dbdc3444fb612410e4b0c0187396b5bb0d7fe86b47f6b3f879e0c881a929118818cd92141bd54374acf3241fe6b6e4be14815903a5f8b79b28a3b0a654eb5a593030f7440fe83b5c96334de4490de2a08dcb1a157245ae49eb55838fd85957d591270fa5a9867a2bd6c89614cb741b4b3eeefe7d20ce07f03f62d17c987de6a318e1d34ac9db5b6b8b9d31bc35ae96c93a5398bf0a5a2de52929e2213ef4d031cf49fa8e93f09373f544f5b231061cfd4d653a7aa710e44423cc2f3cf1858c11c486bc50460be7b7098a8f606332483698f7e2a891ff5bfd3bf3d3c47cc3d29840e7c93dfd2327ab281df6bbc782d74903756735119da07b0a44bc70ff988ba975d44f76b8ba7b68dbd7c1b31d30893e0d205c54d58eed1eb5689cc0e1ac8c8c7ee70d09d0115af69fa81a4ba2362bc73d5256e80e97b890d566e08e33df538b48d340a8cc2747fb8ad85cecfa61fb4f51f7a0803d47585073210bad8d0483c2631d844cc1a1a0e4ae73b34cfcccd8b590234a1911f14c1c5b1ec253eb1b8ae97c33d947db3d505949a80f9601f77caf760fc328af7eead5df3d09d970172716aac9dbed91cb6db48875c8957fd2893054d33e87dae9b725b0787b9a966c3a915829880a97db6e282761886fd834750233851d2b1f3cb26aabce907384735e056603f5837916eca5b01f9ba3849c47902877ee3c5585d9c7b9f6db85345e31acfee3600a7dbf4150ad408b87b51c666dbf9770a48c36cff1fc18f632d53aaeeb82d4fcb502202ac0717f561b39211140a858b8191e8ded6579a12119501a12ff226489ca8931c488678aef9b1f9998a87c2ebe90d673769af848bb735129b932d25c31a877cd00277dec871068017b1a6351f25ec80334a8d5023b34fa138962d2175f52bdd7f7cc57ab1fb60dc92f98386c9acc974229cf635d3709e42812ca14cf3780e6111779542b334d9f8ba67a6c2f5621e9648a96f16b745ebab70e4cbfb0777e5e19d575cb6207acec5522d695cc06cf2f28b22d4f7bcf1b87bf32960e4667aa75b9401731ec49bcf84b29ca38a414ce4e2c62b70a21ba9c68e32d42b5d24abe4a5d3c707eed11cc0d106a8ae05ae8ae1d1fff82ed905a0fcd4dc1324b844a5804b75032bc7893b2fe1e70e6c4a801f259f0dc8f7f7206c8fbc3b6fcf087578e1b40e725bd04800cc124b41e4126cf1e7ea48092c513f3e89b63e3fb848f4c5bdab41470d92a8b040f4b6e78b25c63eb4ee8e02bfb4f360050575f364b3d6fa6d918b6d19e08ae534a31c58cabe310fab43bec2649e0a8408f32d7e3c49c049a5ce599f744f0cf71d3b1272b3fa6522a30f2c82bb8488718da0dd387a17f1357d3a4832b1c8c449b4d96b61c82a3916578425b45f5d0af2afff1a0c31c75f9f46a7dc2c1a84370dd16f3076400d83873a9f0239b9c1d1636278c721282bbe1c1e96ad9a432649fd611918af96431ea0d35a67f10e76658f347be6d28c0cc5c458ebf5d952984a9ab2cd7618d778a5202b0277bf0a7ba3e17be75e177c809389b524c10201640beda1c9e4438d934310d95cb4704d9a5e4f1cd6401b1d0df8e208fd89665b494b471a6afb0d136d3054d5497b3c9f57e1b4b35e2301a020a803226e18ae638f21cc239d3ad95de7be14da42db7d78b90631c909046a7fa41ab486a645dfe12e40ebc2462db900a754402813e2bc96384b90ed265ed7daf70b24136fdbea67453c47b7843d73f9ed7ac25f204464abeba67d177f75390abfaa9969fe85bc8f8a473785f069713a47bbac3e8cc03190dd318a093b5c005ab8fe3b95864ae586e51331f800e62b64faa15db71efc27eeee51f0f1535cfc4a6c22d1e539bec19d80ecc2afb5f5957ff057f58436b8ac3a892c428cb03f1fbabd00af047117f8f7fab3b87d28f7cbed404abb25a4e54681af6d71f7ff12053333df469d42862b63dcc98d9d53189c72109f62bd51b9eb58d7a54bae0ff5425e9e3b756cfaccaf8574a8a0c1026744ecb2c0e226ca0c1d035bea7057e77d0b4cfc78e3cf82e280a004c03c63fa413001dd2d009d3e0019b62123d832e5768baefc5bd823126b45bd76a8d85f3854b70eaf14d4b67618a083bc408342c5fe7d62ab3e17b6312cf2adc6dc14b60b7889abf30ccf1397dc90f60571a2996ef0678f6c1160f85f4f92aec47c41d11cee358cded99b4c9eaeaeeb6c4eae740354efb5f43e053b69c2e467fcb66f5a551e63a1778dfd729e7cc31e3e361faca3b7270d7aadd2fc552fc4524dba884aac7ee38980d06d85deb9bffbb3109843e1d844caa18e6fbd31494523080d58b9757e604b4b5c57cf8f7fb087737a4179c33c42ba7ad80fa17a9a17fa892105ca9b275fc7653a046bf6bc5b1c1807cfc6258ae281bd37c724ddf0571aa4b2cd4e3ca57139e16164c59167c21f5bb6bfda6b47fe2bfba9f7017b1b74f8af240cc862894742f01c383faf377c2ff54d5268626fd143e2b5ba2f9b5e1baea8217a99be00654e41b523c4993f2a71830274aa7a36db995d28220d2061d4ffe6a31a7f6a82bb35a54a7e0798b3af328c6b79d68e1da15eb2ddd936d185453df41bd4614475337296f7ad093c2ed1c80377ff1fb99aac59bd83ec867676537eb10cea64d7a737a12da5825962471454e8ab0ec751aeb5a5224495f0e10449f92dffdb3f0e93f64422a5f13d4a0291eb2e77e911980674b47f4f054038e10923e978a10c35dfaa308cee9f1b669a7c4d84905b6738254f5a14147ad176cbb28b1059200127d8f1b6022c192b69d8da9bf718fb1c9ad851ede64da91e746484d3652d6640930e6dbf93e47c86c511b35148f37a7b14d5a27390e6ef46444f3e46efc83c019cf2909745d058ba46c3588a4c73164bb92d1c8dbbfb5c7be5160ad55b89fb942808b9e3e10ed319053c26909800f457b54fb3c60438cd2224ca30acf2073fe003a85afd94f27e5f6197ee5b9fd1ecf4f80185c53a32565cf64c90dd30785456588ff84e93b58c98a642151acee7ca626bef41f50f3173aafd2bb602f1ef26335542d9aa36ef3d9f877cdce5a8612c98e7bf26f9ec9d85869430838a6492d02cf3c7514aaa170e8abc66e6fd96523c8f9b3126464db85748be9f3464adbb45e8032eda68dcc9ddf1aa9fb75a6d59c2dcbe099cbeb816c9b59401c53f82b87d6baec2d7c321651ddd0dde9928204f175d71a8da73434e4f0b52047c5a8e2f675e836182c2a195566d9c0761dcdf0e7cea1d9b65657d3ed58fdb102a2d5accc20f3b5724ff980fe213805df58783f34255b4bd9d14bef51f8c657bef3124641f019ba5281256106961525ab458dd94e3be85788955372389a5c5aef97b3cdf829ebcefde417340aec2be82e31192f36bf9f3276d6926cb72f0e0b9029ade5dad68f3ad9c9e375d3fda9cf3c2ea2119a1014184772187bfb53213113b2d325e673cd9a78d30a5924b82a467bbfc53fca0ee6fe46c4824fe9a6a2276853407990c52e315d6a1196d29a14f58179c5f0b1d107df08674ee059463b9a2f62b83c2f55bb0a98e409f67ad15d41aa28a9dbfdb4551ad7c99c7c5b0b7a2248d074ae267b198ee01c5604a655e2c1b38d8fb0d1bf7873da30d3ea739b157673584ef5d199a02cc890c87464be3897f414623f1df4e21161068afcda163fbfadb0643fc12213797a902da6e11c048f47ed94c5b926220f6a44ff6abfcbfa507d64644ed9167ed8af69d8188ef2e5bf1044ab7e8c31fb121e93e8ccd0b7f24ba5a6707ab8adcc0f5564ab079cd5536119b3b7cb402ddb5074d6ccc5e76cd53e0c8d6e6587e6a92f9f9239442e50cbfb0f54357aa26fb36308894632a91b3abdbf51dc08840c434a706537f45fa13d3b1df522b4161f8456970eafe7008f3e4e525ce673d6be09989561f6fe699cfacae6f6ccebb91d68b626cb3da9d02d8d88e90a49f8f459afe908cf8556c3f0f870ed3f2ea2ef8ab124aea8e62d73c6641be0b7c2937fe7805e87e9ddd733f2e28ad5240265ceeb26e57e94bc1c49d5799bedd2f30aa71af43b444a2903e613bc85731216100151809626fa557df41309ac186626a6af5273735ad13b96d31d7cd99ad23eb9a704bcf77dde5e7d662f90f5c13a3b4d00f24ff5f68a7f875bed34cc2dbb908091ce8f819c061f5b543f8c66f9e14fd0d1dedc8b2e4a74449bd089f6ead7667427adfe34e1d037cb6ebf8cddc62d7884f29681372ed2faae592c461475a2d72beb82995b110ac6185e2f16c0f5b77b45c1b7d16123800f0b7b558887082141bfd50d8854c998b516bbc9b88a3b345ac51f42f9ec7afe0d5b28ef7becdad28a0cf04792e9544ab91a443ba4748091fe14fe8ffdce188fd251f516294caf695d0a57228348a408e3bf8314d06d40766f740826c8a753d6784092f618af6ff02bef3bc8d606533bf68fe2c11ba5028faf9898c27d5317a578f5fbce597c5e3e22fd9862ad0267fa1711a264a24d9b6978f96b30f2eb6b03681b0b0ad737850b6ff0fb0e4218fa78aab5c1f88102e5702fb9637e3d32fe65c50241c3a17c084dbcde5f1dd1c7739e5d62a6d4db904811d002656a7bd73e346586f0c47e91f18d06e95ed59933d8f481597099b79278b6a75f89b989611f8085f0543ce8ad0bfd007df9750a0a2209b2f073f5409926bde70091db7afffaa61e8ceac9d117e1c52637eee21622d4e89baadd86cdcf969160a092fda51df1634fa24cfa60df4a26083600f3e29a010ea1d01ff87240bf8874d2eaa9d3df5f2be9e548093d1fc96a66a6d198722efc5ce92ef2d45d23ac08b0f5acb2de6b567c519adfd4165ea5967536f50798199600ffc9b52899031a5385053a5b4d7d86761ab35ec27df24b6e1611f514ae0689a8ded6ef4187bdc97ca47bd50950c6a1fdf5f90234969d682f589e0cbb10d7de8e5208a29a58d888d96952d95e0855ba7a392671e28f6ea8db8d686c96f6ddb0a3cd88ee877340a72a57fa9d918ca7a1323655b9bb47b6ff3ec5cd605b91d78f4c4a50baa2db10a4210124c243b2d3cd0004868a8067105f0f8a5cd65ac6a7e3c0c036e150223ccff5c43b34a30ac203b4b9d6f9d5ea906a9111948869244d325dd364ab4d2cfbd4f3eda603c8f18fb76bfd5c03fd9abaf458433f01cd1921fbb859e11bd74524b660c5e7d182a4a786f17d98a1adbf5c1e41fa5e759a883c85437508d6179971798c7d98aa0713e75f021948335dfb9db265067456d4a207897af664825b8fe0e38cee6b09446da28f73e7da96ef593473320feb8c2413fff4a9e424d79d410c09be15dcddf75ed15c9cc33818598fc5054bf6808e108506fdae46b729d5ca514a52ced9b10f59b4bcfca6d98899b81ff1976aa83ea9314ed2c2abab6a693ab51daf3277e4f7979a4648026469fcb97be3020c45fc0881aa44d43597774e211b81acbfe43638d8e9cc3ed234d93e543de2e50f958233af6f3008a4df895eca032d6e0fee69cfab8c08f8d567a2c702741f8b5ab3584e8461c2415ac46f3751866aa870891d23cb92d980bcd819971fb1f044826b6a3bfe7dcf1d1ea7b03eb089802e8d9157ce4c897d7a4875ecdff40c9a1b4250b7515272b49023bc61b4811c177ad9041d4096446a452c127807ba462eef742da2dec09a8acb0742eb6627fb41dc770622fddf5633a219b3ba6f58c1e85587ac2a637f491209dcfc117c24cf2eba0b7893ca38fa4b6dbb38d64fcaece5fdc4a0b17efd3827f9c7027d7bf9fa24c92db9f75e0326003a7125225df1949063a6d71091bd8f5f39690f5af60d5651f856c5b5fa6b29c9ae4c9166965c79533ae5bc010a25d2dc0af32b097ccc5d3df7dd0aea5f5848a3ccb3c6d740de071a772fa9148b7681df155fab47cf9ed41351df0e473ac7a5266a3d6ee9f19644266e270717e85db365a702eab2f7e9842ece303a57d49a42a3cb4506b166be6f605f5d146404bf8a16f950455363ba68957b2b2e6337aaab252c1a5ecb4e527ef45f62b78b538b950cf60eacff48de4b8d860d7a22c60501f5961ab33053e99ad7abbe3786f82e5acbac537eed7331b9c83b925c5065dce9dab9423dccdf5b86dc2f625f1253a858f68b6c368710754e3189d3c704032ab5814b7976f9a1db5ec3fea644f6f605969294488c9ceaa9c940485c6bf3915dcfc5867109c7f2cf48b65c0205b452c6bc6dc02558dbb21e076bcfd47fae81946311749079bb5fb2b4122ed7393a63d74037235b990cb58f573ca4226653d6feef68e2037775260e91738d5fed18a98789a4282c1b108edd19717efe91e0715f97b03fb81746c8cf105bc860a675b27387bb355d918906b9707419e62ace68e4688ac00ac604e1b7b8a3dc4e2878f37595fd338dfc59c1e98864fb0b7acecebb0f11c6d9f410a57abd543495170df659dbbdcb8d6d08824c0e17ce7948f9958073343a48158742c1309837fec13ecb500c4a8514aa26b524a11543b89b2447d406e02f1120194bd1e06191180eb737e51c5f3704e0ffaf2e2d1d04145f3450a9cecfd6720e7d47c10a2efbe1e6d07dbb003b643de9540f0632db3ffbbe0f880d2bed8d7d2e6264f44135ba8649b38527e974ae945149259a42ecc314938139ac1c598cce4de7faf8e6c4758d80f74218ee49bdc106754efd04b9f8d6c3b8ccbc93ee0e9e9a6d39db6290240f05c6fd032fb20cca97d9a44c4c06a79ff5b3834b487fc5cd883621ff38d270d5547c84f9913d269c43ef33dd67fd6cdeb3955b1d3a60f04216bd7184d61dbeaf361337afa4cc8ae6dc921768a63a27b36db0ce9e6bf6072c49869804eb07dd5028e3dac28c4e0ecbb1e8d26432fe1757ea53810f7cd213312e0ce70053adc6a566978e892111d68e863a516344c1f4e5868d4fa664da6c73a87ab69e54594148f48a4180923e877f83d25db4ffb105b36809a17b9ec3e386c345055ab6bae9bf6738c81108a618bc8ef61ade6f3ac2ee93e688dabc48b905cf4a4fe3353c7d552c662906e009e317aa35fb7ed419c71cd5ab9c43763b811b64463c4a8ec3ce8a5bfa4f150a5b130f4a4a7d8804b22605cc983740e9be1a25f1cf4a4897099d3174d8221ae3188ac1d5ee7ee29626818a46b23dbeaf6bd688157404c4b786e4b4814212c493a44043a862d3f12715087efbffbb4908bac610be3d51cc39abc34e33ea1a2fadfe40f121d156f156e79e3c82a52f660753bf5a2f2be80b31ebb11d415d85e59fdb4b188515d224f6b30684a44f1bafe458c65dd97bb6e2a5b9603672f749258504a3b383987f33c0894ba4a4a379a2b4b30b71743d07ff87e302dc15b5ff105fc6c619a52e0d92db4b4889405b1f1a10353226a30ecbcc216eb27f441e2a7a7b3936e20788e9f4919b75f39c0ff21a330c472ace054a78b921a90c7c883614165eed347add738e74229fdaadecc8c06ae873decee98ecf93ae53645c8ebd1c8252cf0dc356886296103daeb06a2b83fa07248d3b95c43e8e913fa7f3353faf0e1c5437d52f3fe917257afdf09e676a3a9e3289069c9c84d6695c2ed7e2b624749c116cef9a9b368d7e900058cf09c574b2767d53b52ca1519a0c4913855a7ddda36db72fab32c20d7f75c8136f85cdd24871b1e5efd23255f03dcb5417d0cc8d6c0e06c927b58ef813c0adfa23c612675e1bb2cf6b70da2f7198b452414e7d45cd63091d82ddc9af2834f349c0c77855e0c03db28cb057c2dc031178ef0e99a76bd3460dcd01694e02cbb6f76d4df8016aa5bfc7f2a1e757d4e9ceb110f563855bc607d84ff7bcbbcfc4fd023b2d0899f64efe44c9139634ec9136e526e88cbd77e163bd7743bf7b9c4959cabdc825bf45057081b6388108a7d7f8c5acdb922038d8fdc274f6d2230211ee73ff73a6b2ed0737acfc44e6f26844792460e7a3caebe255d00be30718daf256ef7885c028ba60c56df532ee7665847ec7f4941a1b9db2b0101dab7cf7941382c7a56a74c97bbe8abf6ed810c0cb4270372a81c113f54b6358209e5268e6fdbe810d82287faf721e4cf1e78f5d059b3b8e0135f22599fafdc4ad81ff1f9fdb515d25c0ddb58938a0ffd56c67dbd6606b6f190d1fe9bad440169b12ccb7086e3b0bda9dce6ff8b0d145456db9f51a464481d4b1dd019345ebf2f7f15304b2ae86f778af803ec212ee573f15f5a4398dc03fa8e6005b045618d641891fcaf8d92cb045023c258c1adbae2e746b345ccf8742a5da76e6124bbbbb44b8fd394d8f0a4b875658b8de6b240d57b7bf6d69b05627db9d6d24d5fd7396c7dafaa606930e4a48d2775c6439929f97e51977f97092091470cd695180fab163406e1deb688cc039c491d51589cfaea3a48d68f02fc1887f6cf31812398fe41cc2bbaca9107b6f33ee3667570f9d94daccce5ac5f8c276ac330c15f23b1e4a9974166b8631436e2393c57bf7aa42db7af8b59001a0cdd48595128adfb7fdc3ded913cc6f2c27f2fab9cc68b9d50156003bb104bf59bb4912a468e87a36b3704df05c8bba25c461ccbdeba63e74683f92c36ee1c937f22700f9d7d0f1985578adb51fc3013bc4efd2eea8bf95670a4dc2ba8ddf4a5a157906f75a9ff8c6c16f200b3f879c635dea731b93c067ef37168fa7638cf795a0d9ad4565be5d1cd8f7d73cf93febb335e5d726da9b5e5ef6e42d9ff3838d6d19927b5ae56a224326df611495c4a83f740db0acf9c030870c844d1fa260680693bb1090797058d5452e7d547d62677712e044a417fcfe6e480ab9993cbff5e3238009b6152769327e1606d2e7013bb55e00891faa4a4c9bfcaa89810f1079f748fbc31443d13fae7fe0bc112933627ac4747812ab5b183a2e6ea9e38a5cf35830c5fe3c84028ce4bb09e36fbc2b5238eb15ef53d8c016c82cebc9aa80ffe6ad07d120953dc50428511fb680fc6a53e6c7bff10c1ccdd82dbbc4f17d198183a575efbd8f032277f7c20dcc3d1d62b702875b4a26b247ec55b8ca6e39405dad53a205af7466aebac7ad557a949651a6a8f653801ad9eb15400b056408a8c1fd8fdc6d570e719b2c1454e6716764ae94e6158f5bf8d10a7e5b41a073d55ed042629c31ce6b3abed437df73fc44de7a90a88daae9404f02b9d0b54473ddc92ae4cdfa5c74c4af3db65541b7d041e3eb755a1d9d004b504553485d9d17542cdc5e5290e8a6a1987df5bb7bc6f1805e0d15f83fc35c848fe08b17080d54deb12614824a06468a330b29b3375af85b27a52c8ebeb00f52cd50d7465f69d6bca9803e6ad360a4c96e44d1c00efc87d131de10574b1303ae9970f04d7ad2b7e33cb4531d7054b037b98cb756036d9b52432c7100936142caaf3edb03fcd6f8faa446c8889aee56a4f2852a5e5baffad333c9af5308ca9794c29c28b248c93fa8d4e956baeb02d863fb1c63d526afe3ecf1df6534b03514037f73ca3814ce40eff9c8d8710925523c05977792f88c2bf870d3db2c2aeea86f34e00ba8193fad9f0647f8f1edacff6b126b8ea9c6bfc3f155358d0bde37f60b17a5f8efa5cc3e94bf94dc50370442bc8cd1a4ef797d854fac37b8b2a00641ff437c8a3293825e3bfcd8fbacdc280cc81c4478499bd2d2a52710eece82ebac752f3c84bcc451ad82333841ea4b907f1d3be66683a48ee0361a73e55cdf332ff5c57341987b7090f3573fba2624a966dd69e500d00e5f1bf6c2c67ed68be1481fd9251ac3875b16954b9f5b7cfafd3f6c1b6dbaec5c0579c7a7756af26c228864e3f4c0616f453f75cd020f77b8ba7b80a6b1b3f8ade39958a0081aa17747f22ba4842a45efbad72c748ce7b4b04f8aeec80aee00c8a58679d310d6dc699eee97890c9c34ef0dcb0b3f2f761354476b8847cf3aadccac24d30ed84197e1d130e433b9235bd12408c12f73f6d03885dc632debab365d3b660dd4224fc19ddf57d4f97453d5bc5d17d324085349e4053c06950f0ff2f9135eea7480b33aa51400dceec677fba80fcdd91319f798765d47474aad7f865ab5d30e9039d725f8b6f42e4f6e65e7f4d0d8206d365f80a91511ffdbfc7b77f7dd1322ec0b69e7659e7495a22d882ae15fc5d5b669dc87a5d04b8163cc83bc271f652df757714ca512f77732c27d0158ba398bc774df4ea9c21b61ea4ef4b7730fee111d50603281e8e16f9d01240deb2c71b29738f47e09da960c241cd8a298447707a870f86343b29f0553927fa34db43b91ee7b8e859be80f6e9ab3f716637f5a9bea382e83e5ec4872b28b8e31d12cbd9dc6cce90fb4fd16e66984e806e7a770b3a4fccb276cfd1bff7d290e5068751a1e1da687f63a7938faf716a4c757ddb964903f035f327fb9e0f778c6f85462dd0a15ef5951127deab2d55db0ed28b219d6d091d646d73d0cb9dcb59eff242ace9f6f0186b4839c4938c85778086d0c164fa311aca58df48e3daf7f704bacf23cd5bf4de30ced8a20ead1e722b362339c0ec17f1c4900b2de6c6d74054fc043b360923d7ba7b92b41bf43f6b1c334f2031313e0415b4f1373ca516996b68acb23f3deea2760c18f7cceec8ff1f66da4cf392174923b692e52606e021aff29e151ecf9924fe47ab234fb8931ca3b129dc87bf96d7f985f3be738ba85fbc589ce1968c473bfbb5ba47d091b583dc68b81343512e619d45ddfe5470ab32d69e3219ddefc812d5889ebe4d344fe5894f0f8819bbd58ab07e25712fc9f606752600e9f0417fc42094712c1287d74282c19a1e120d8c70f9185a5a384ba6084379fa14b380e12fad5eef9b28994a009b2718640b3634af7dc3cb3002a07cf0ed3819ad5c87ffdb0c2c20017090c3ce6f06bcf30f010462d29616321c3237e40d2d5c852cba5185e64d697bbb39d2f971c7284d104789294ce785094b76eca7ed2974b86e0d523fdb90800c6151a00d59aa8a05258abff8284a9c8be91137d02e6f1896a0d82de959231d1ca260d034b13bf072420acda0a87d67fea7321085d656b5c906514d71442c187c8224db33a3e487988cb00eab1b7d91253d74d0a4f7cbed7a97aae906fcbd365d1ef0529c04138a4e93a45bcc11ef0f9f354966f0033567975c48a5a45adb02e647ccc12329c12222ab722c381f61638d717bf46aafa75fe415cf2f88c3b4689abcda37355ef71ded37aa7b1be9ccb18ed670fe8ce7fd12026d9938aec8d195b0ad0408c583f5552165cf7d6fdc286a0f1c5ea427ae7cd5d950dfeddea25823794ab9746aa441d1f6c7075e6af89b43217786760dea56e4401d17695cd3582509b109a0110b4d5dece8ef55df558e672e79b3675e0f710d621131741afeed42e07738308aff347727b2025c599c9f8c37bf2485a8e7855f982760a84ad399f7917893db9c62c439418f6a83b83cb64458e1a1cf7bbad4f71e2fcc5f375eae209059c62699f50784f9efee2b5e5f8632696f9d5359f540724d5d5492879aa3228d9da3c3bbce8252f7cde5b48d888865c7bd543d6147450d32ec1336792dc5a5ce5d2c08425ea987620df62a51fbdde20b38976175c1154cf73086247a0637fcc1075a0ccc24f17635c3cb3f42c3a9ac227a9e27d64035b4c1db0875477cabe1706b5ce8bab7ed3aea4ee27dfbf8e61250955ef04aad22c3fd58d1d21353f424e7cce9079a21026af758a14b984be6a48c3c81a10c052459eada8a6f545be4c659c416ce1b2c054685eedd95843f060d0de50e64191a8248fdd46ae03aca36cb08b0b2fa06197c3ec107292876040316acbb45189816849cc81b4be3eee3d680a87e13ef142168baa8ffc556f603fb540bb0fa9aabed60868381dc0ef36067736eec9291dfac11656a567d16676ba5dd0beb39f0cda0b1cb2fc7e0ca0f6cceb6e19bf64d091e88a186d99c0f5a26a03733d9ce06eefd95e22b54fdf2d4f2611fad4ff0f999e7c83f07a5b87422013e71922427aa6c2d2d20bed2abb7f22f4bf45b1c5bd638f23eb00bcdf559bdd63890bbff642135162f09a64d6fd782441cbaeaa233c1e86651c6f352d858687a51315de229114a34ebcaeb93074f06f8f88cd57430a6c884cb85371d3886c5cb6f47c734b227bc865268ba71956dfe1dc18c49fb9c974b4d26f5838bfc439d0d9f14ef62aead81b0216b0ff1c7a43a40df8196692e8e7e4b019ad64bb1d8f8ba495ef6790dc2026d176b4b3f39c130f8f5d0b68e91102b968271aaae9cf09b60bb00d47b770b6e33b365f7293aa9bfbe6dd27e73a2bdb404d5fa172c5aee79d05e0062079623d067e37cb87a868fa35fc438224a8cd295ba3b8b10eeb12bb45504d4c38016b8dbbe10845b7eca121435ee28e8487bc076c0e23f00171ae427538308d91bcea54233ba04d1cc6cdba5b4e872570dd7da04287d9a168dec86715b1a8be7706f871916ae4d7d0c749fdbdf527feac976d3f8602ce2f64defd24c92ad5a4254b73cb33ada064fce951e6566121f1cc3c36f6e78124ad1025fabed02295c1073e1e3ffebc6506b5137fcbf2a4b32e07e5433d8f3fd0dd1bdcb5b8f1a5889b4a67e071955470ec0777fb561834a3964056d0946ad2c04c3fde92d4a0d3c8063c71457a7ba8c99a49645a3b1f2a9580c375ec670bfec2d7a5ce6bbc4c754af7b2b4da13f3fcd6f8ae6fb54f2196219d99cb0b8fa4c8520b433158212f099ec2059e23451e8cd8615e3a04fa327ba8990a0986a14fdf5994e207b3b4cae0efbcc74b773125a3ff0f66abaeb1f4191518f5749293ab84ed43b36131ab5e34d6434a696c0160769ec1cad9e74e9684faf334ddcb58ab6897cb547ab1a1d708b06df5ebab636e6c1aa753ec41ca939270e54c56e4c0ffd0dc498dc9354ceadf677e81194b12321e3416ff42974fccc09cac00392d11f2fd64759c1c1005ec8a28686eaa5985280d383ae58be8dde526c7ab659584d4533a0855debe1d7c4c40dae0c9e440089c4a7c984d34e932dee0c99231ca7384eb4bd7f42a64714c6d38714846230ced097a67d0a09ae8845eb9c16d2fe966857bc102ad955cc427946c56839edcf24f5a350d06f1b2035028e54348fa14e019587e069e13c200a8b52ed3e96453e46c8ff321cd422a084d4d9046db74e8969d8f3ed5ccdd92497e8c5221148433ddda33f15a7be820e065784ad8623d4414d282000f257604c3f060a3e60f4a3b5c9dbae321dfd17d734f6b509132975063fec9649290aab5cc68bd5c52d4f02dd7f41e49d29f153b962ac41cc4772d63e43bfc30ed83b63c7e0dc12890df90a3c5f423010868bd872765819cf9edcdcc983df13d6d973092276821a07de9b2c897ecee7734151883653b9464c24732ff0e2b182152e0488856139100989c06f53bf83c6d31e83e227173f8369d8443306c683d0d5e99828ae3cb65015b90d37337db4026458fb5cf5e9bcadd4b6122af74d9e38c9fc5328e13947b3994fc7aa974491e1be683853b7bd25bd36c4db979e96f715f5cae9be8e449156e44e3e474564ba0ae2d2b40a37f552c1e0679491f2dfb0eabed6f2012a5c77c55f7b767f23b369d93ee2d94877f36e17e53b8fa888d585730fc675fec12c6061eee6bdd3906ee552179aeac48ab7ceb0b7c96a7bc9932e62a0645bff7f653c7ae2a52804739e9e7c89bd2b4d7525f1db1897cf80a4139c4fdc2f3f1bafccc5ecc0cc357570cfa4dad6088cbafe1c45add768d3cf91b9f6b1174a02cb4c40818317804591fccd89eebf90b8d78467d6bf3a9113d101f687c64764a04ea058d3d9cfd395107b0556b3b6c3183ea342dede2236235e2f27ff0cc1910291fcca0a0ab0b61fdd4dca927dc808b814cfde261c9b22d5951f1640f20f20a02771cd076401702844aeddb04222443b7bac092189e9eb556d523b52d5e1e1df89d5e27d2ffa696b8381e468d60f0f54e7d26009f584128759cc6b7a0e557a26b925a6510845176067d88c972efc96b2c14dc813e9bcefb7a244329860ddf96576d1d10731423b54f7d48dc46e4bfeec0f2b2538975003945db211b144698436f60e2059767c2c2798dc30083321de8f9f5464c7095420a9708aa68982c16433d0ea8bedfd54abcbe01494be2b2253efbeddff38dbe43de80107dddf0c08b846a32a5c625427c8a0d09a6e9eadf4aced84593d2abf9bad0691699391b00b79c6600375789236646bb50609b1ecc1fc8906d27bd4b245a6c370e78bc130d9ea39cc663e6be8d367811a43c253cb67111","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3bd92bb117687b5361f803e0886d426f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
