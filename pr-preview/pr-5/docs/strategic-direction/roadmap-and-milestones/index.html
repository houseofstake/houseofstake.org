<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1890081e9b2a78d68a4187ba3f8f9586139b04f91eeae500a97c2d28cb69142d9c417eb76a2cf4e4782e4f7f2719a1b40da3ae0193970e9d4426796e8c12fd599050be9c5b002d4ffe2f771f39f91544dad69c9e497a6070762ffd7915e087791fa5b300f7d300955bc038bb50329209e89463a5794ecdfa1a32e83a017c99b1bb9585503400dd2898b14c02233eda27259f3ade043ca2ec65486de90c23313ea298573d0380749712083dcb57f49ada1afc841fd1083277ae6558493a00f1131a2958f9cc0f6cccd9e5bb2a99adb6c68c4d81e95880ec13cc65ce256349f5288983bc08d1336604a9443214246dd9419873cc2116ddb8767fb1a0559431d12e830a79d813ac4a7833c19ffaa06be781ccd8502f9280ce2c8748bda71070ea114d19a1dcab95e916d072c0dd8e4f76cd2158a940ed74d094bce6817bff41ad61befc5c462e5983d16b3120f9c962437991ad25af2c2dfff2d5fc93a25595462e4d2aa5d439cd54e844c2900287ef5cdcd9037f44eb29bf3e6fb668c144e8f4ea07e728af9ff4203a8b86323cd804252f55c40b9a12875f0274fde752681c28736a2da3825d4436b40a776afb4089bb88e0042ad594b89f8698be520656ec5150cd81a82d5f5f424bc11b3f92206943be32205804567c8d1e492cbfde181b3a7863aff1a98f0028a2e7959ae1e5fe82e6bea5ad436e77b5f0a7e4bd673c21c6771460adac467d361c393135a233e40d09dd046a0c0830eebb4f45873cc73106753aaa3831f10dcdeb74a4832da4dc4654c45f493dbc7ac4b3a42940151f18c0ab3887a09fbfe2caef929b1646e69e37905deb7ae4c3ae34f57c16674753ffd6b382717d31370fc3237e855e734b0066eafc60d9c5c7703708feb123d6fea67248b17e49f41cb382c4511ff5c99cf6f3a847ba3bdb57c60695ae3e7569cd6985ca833beffba298eb612cb7ddbc904007735fdc775ddacfdba49752d524aca08c352d77636b82a9c8eb550d4356cf47b7067369bae26195838a8a11869ed229e75f6ba561932ff7e21730376525cc2ac1d25bd93eb52a78ed613b46b716c1c36fcc95bb1235930203faf7d2bad28d0f9422c52b7334c4935b2c2821268b1e58780242c6a3395d78d27284e7698b608935bdb2765dd1d29aa080292983290f12945109b711ec59085cc6a9ea7eced96161e49652b0e313c9d32a0dbdbbfe58474209cde43c66c46ab266e1bf99e2f7e7dffffc250009e6913404f99c2e7124be458a036f7be7ef91ae781fb051c696cb56ecfb27c35e12ed00dfc141f75ec3564f208437fb9c098276de002cbc8dacd216626453dc74e4cd51517109c2be2d1dc2b887db029db2e4e93a7b75fbc0cc9e9a782503812b9cf7414826fe17d506037ed2dac2b35eb4f8049b4c35cfa86e8cd55d620a40c7f73344ac937ddb58a2897910b35da49f18329bae1b8a33b856e2ade8941bf4c1824899db9fc59e8cdeea2176975c41f31fe7f8bbfc0080a54fb164d6c10f3b25bb3d29e620838ff9cfaf99448c9a28743ac4849205b04a53b3ac3328e1e282e67c90be664be58376537919e731a561ad436190672853c0a01c07a54d725eacedccf2775110b6973c36cec584f19446e543f507fb27fb98c1e3af3e9f1fc99474b7049907eec0585a75e30e2341b9520f588a63a330af88c17bac9d3dcf2bc71d8a842de2b03de67a0a43c387b98dd58d367d6bb53f747186a5cc8fc83bea6669403209d163289b42d4f0bcb84e574673156ff248878a31207834f6ada00b49a107265e13bbd5792da5a3dbd560cefacf8e3defe16aa63625a95055e60b104b88bdfc810cbbc3a4a324a005fd6f5586cdf67fd5dc475b7c8dbfb5ee956139b0be0c5a55cfd65efaddd3c16f848e316130b9942dfbe8b845ba9ddf32c3b353a1f66922a9081da6777f303f963dad09ef1c8b7ba97eb7f5ce678e6caf0f831e2adc7ac025a97631d150314fbb88e116a0546ab4ee8cd99123ab59971cd0b69afbfc072f9b07e80ac2ecac026e85523747ca55ffe237c39d441eb4e13d2dfd539d01b01d1137bb27542f15c71399c219d09d92614ad75a4012b52c54e2f117ab79fa7508a0a8c8a7551910121c56580a0a312e160ff5742e8bfba62b348c7f2ca303561f1b2e1b4777113ce29c35afae7932bb6b7c4b1de0fe92273044447453a30b8d65364dfc4143ced8fd4b41ca9e94676f4993a7b2d21bbc8f75b65124aa884386412c4035e84873116b38927e3897dacf563eb3eaf01d1667569ce46e6b1dc1492eee1d399e77cc59974026c0c22a37c32d81833fbec19f9a65bd6b1c5370dc9abcd6e621c69e461d232866ac7bcbf515173ed8ab7ad650ad23026cf90f9c7623589e351acd2c0e711c36f01bf2323ed14f84175d3c368b909d59b42318661e50396d2de6dedea45ff817cc26458a1fe25e1f83c51ea2a22f37094642deeb817946416adc49df804d372956b20fbedda542b9e20d92bfb59d6b5d1dd3ed3513e01974c4e3fb94eb276a6bc09979fec8871da1e98069a382a0551f928682d892562dcb23fefdaa1ae20acd070c0141472250e612666f3aad273b44ec6e7bbea81adb32f1fc93efaa67b6596db2fc66960f7f4c8056b265952887ec1ab04247551faff2756505f59afa74b40e13f0fa4bc9caab1c411870114c2a97794ae369a1cc69006cc8b13e48e72f1a324135623dab01a6e721368577eb1da6a1c052e2d6d10ff9ca8c9ddbbd3c17e46ead1cedc531abbcc5435e2322846b2022813c1cb2abf9efb657895a22c7de4cf9037ca85caf816cc4f29c8e79bd4ace76e3464da44570df3c542c27edfbe553a4de6e617b384db9ca33aea31b9603ff55afa6ce4c7cd7d01ac7b53712bec5c111de1bd0298352102f620a929a801b9e1fa2d7a933e6fa88b818f211ed8cb4c41449e79fd57a93580e7a34c4dfa552c037edc8cf8cb452c2ea95fdd13527165fc374093cd0a1e8c29960b5b16734e762e06217c730849d402c8bde7c2effbd86ac4bd8c41813b780a94b48a25cf35c86331545ab5dd82611c8559722e25cc5d35868a4415335db9a7a6a78a63bf6b86ffebdf4525da2d4ebf721edb3a1cb29a8dc4720dd054d5db745bfb12552fb8df5da7a463af475adbc1f5cb2d3302d3033c45f857d8e8871bf53e1d33f316f83adc8aa93f7a2e94a0e8f8314495e0e9a8f4f7025915412948775734e4dcc49f157a8aaa36406fdd6767638888af48f54505f2f2cb338b74ad3e00ddbbe18dde49d231e624a3a9e691594e74fd52ab67d78e8d75e392478863d8a020ecdee18fd3cc65eb4edad21d72b3d4df1a62991283027ed20e8cae16bef80697852ff5f0fb21fdd027cb54c3092d88d7747333581a52f1d384cae8d9a162771ea6dbaa2e1de77e3d9bcc7d029af44f56987c66cb638b330aae86bdba735d312eec268de09276d1636d180f2b40bbdb02fab9b5696353cde3ab0f46ae9c41f6bc9f72788ae2c782eac9db5c0956d98838597994b3e5bad33f01216b0546447d335d2d15020d0243b9524df0901a42af2dc678be70b8706d823e66dab58a5b84e6683fdc5d94c381b401be5d2da2b5d1b063763dee1d0957ea4d31e792c5c22735f9957c14cb7e0d3b4465355e2d976fffeb71c06ecee42c39627a4ab3bc3346ecc3bfb334cdad0f3063e1e57d9ea6835d1db87ecafa097c87c94e8fe995f887b5eb1801f531aec7b75a2b7b5c2f9bd61597e6b1b55b12cabdb2c66e76a21fa3e41ce5ca0af657f2c98eb8677eed37aeca9dc3cc42ad213cf28330b0c2ee198eb6b5200d70dff1e96bd3ed2da89ead2fd85aaa85a49582d3cf8de7c7f95b77d5654b428ee021fb3b7fe3d43ee051393772d326b356dde9fbb41fed87033b64ce2d76a74a04e0ae630e967cb90f315ce8d577fb597efeb493de5e96dec57a44c5899822b0ead413c4d67fd989c6979085b587dd34924afd9a88d22d6f2278dd75415965a3ba340ff10fa68c1d7a658e5ff451bb0556e889f820aeadb4081a14f68a1b9d9369293826fb203776144ff7ab9d22a7f4742136069db89973c5f2039fdf44cfb9c1c6b1877c0dc97e8cbfa07ceddcb853eed10284edd7133d4747f450b604b71dc620c313aa31d5e9ac035d7c6334798f74c187bc4cd8a8c4ae82a53c352d8951493a2ee6fdd21b758d7a7dbf44babd7663cb2285b1b8f0c8443005334ce8ee3a7077b44a8ffc3e48399c3448ded32af4ba3a28d0087c2cf6b187b5a7cca3492261fe2fff77629931bd8b5ff4711fba90985760ee80c0a16e2e562425847bf5f877be38fbadac6b7e756d2270197054d96d9da34b4365402f680dcd01af35529c36c0e0c37c8492d6d690059f860d338bd388737309b5a85e6f292e72a27fdb9671f7756993f697ee35f70a284d4ac140e386eb3336283953a71b9a2e2f62644603fef2f7087d3724d16bc1fd13c55cff874375ad5d4db3cb9f1a87645cd343fc4602b018cd5feb2a21631058eecaf96cb53f07ea7c37b1fdbbf3e476c42d3236a08c1aa7d033a6c884241e8cc9ed78c1f1fd4471932fc05e40fc80debbb0f03455d341c00b6a91e8c189fc5b51ff7db7e976387582fa280f2c065a08829a2dc0902e4cd6c6c0b6f17f2f3acb47387bee4606cd81f7786af7586e70e39e3c56eebc7cad8b9429b1df5cc73d2ca11c5aca7aa109badeb0f25347b9c6648667b6626d8ac43bd114ec1a35a1b8382b9985a3d9326f0442c1f77f8760a55961ba6a9acaa5f238dbed56069f7c7b8b58916dfdb63a7631e209f1bc110c235f9ba6d14729c77cfbffcb49e5670c21c86a742e58779b1816d154c5b6c753fb67168df1f516e9b3c452e8fcb81939f694fdd12c082024de8ea8a7a1875ae5b8fa897270eedc50e9807802e3a6b0e7114b07c12008a98360cfb3429529c9c33d6f3dfddebe53b5e1cdc8ea90943e98b3f3d8a857b74611c45bef6f8d1b56e38c1820615cce310ae81e632f4f35a006d6bd599c7bb0faab7c690fb944b6bd067b403c54a15b8c97a8c3b286e19c502b3359e439acc223cfc40d7ec2653922b0efbb11549ed75ae9d10f6be65bb631d2b15ad0f9d3d8c17c1b8906d564373e82b99dfd548a8e157b6909988f6d913336f7f42e740fa4abe3b05e0a2b9c5434eff3133c7520d76e254e98c3fce91c4cedbef3263d1914066b53f1aca2c62f2fa6a7d99e50b5b82c533c23294ad82db68e3d796d34d3f64a2e1ccc1ba0a01f2c01577981849716ef2ae20160cc51a7fb7f9070f46276efff035e14de849c286865ed9908495d123d0e2c180f3aa10c36fc4b131190897f2e66bc2ec03b2127e0e56785976494e4ffa81f9113a311231c869939b05303c947667a9e5d5b9b3fd6160250865c42207e948c96ab93eaf34aa1ac3c5376305e35786db791966a1d6c45e39b6bdd08885dabf8bd8f6a0bb4131f968a88de9b4a83ab6b632db5f05f1ff35a75eb7ea2ce8f587dc25e1d5f5e2a9cc05104a75783ff5c61cf8c76c9a666477ec89e59bb6bc9f15d5f73cf536c52127d50b0dcf37eb51b719179b3434aade15fb8cf3fa7403b57fd422638618f7a57b9c3b713b2b34f8f1bea85e4d32433a7305a96405a47b4080a06f510d08655dde6707a85975fcef4f2e90077cb065f8995001fe64e586f884afd894fa04d5abb26f192df66c8dd721a162d74a48915b97732b50a527a4640f6167e39de41e2a23ff9d92a0337cd5398c599faa78c38c7bb3da5724d04eee24fce4f4432b33253757eb871e664f3bb9d4a6a7621c171969c4712fde48c7fed4a93a13d2b62cf7000a113762d469abf187d1ddfda84f1a7f6db456816d242aea4809b8b9281ef3db49f654d5d899d6ac52a5808eb570f27d0e0751e9e5602f8ef516f31d3b5ca15942e1995161f5bccb01b4d9611e91e1dd530e39ce47dbf7debcac8b725336816d851b2202d11810adee8ab8ec8a5cc05f488d1c1234ddf1f12a9920505ff1b4a30ca623d1fad66ff5dfed8e71035712b08f70dfe6f4632a5ba310bced3c40085e5a9e8d4b8eed1dbfa4715d23d18a0d6cfe5992db5b5624d0c325d42df516d81b36b679196300fbe442e4de939a0a08f5676315381e6787b476e269658394c80ad2dd110975ab40ce1d76adf12ba0be3c736e0911f7bc505cd8f47bd0f060c0818f769ab11481cf9c6a8ca59e90c95594259c93747ea836e81ebaad686e6e66439b94a6e6101aef617a959064a3f18a95bafc4e1e683eee43609f2799ea6e951886ce96f63d5bd1927965682d49f610282a8efd318db5bba6d3b99362625f73822257c5ee5d5df2a3b5bb4262183770bf17562006b821492654514f91b0142e7e28a7d1bf6b800d1fc1d5752e7c8195690e6c4834da757bece3ea767f8bd074c3a7d8fed4e81241b9075113edca44dd28d8a4089eb66db83cccd4a5de320234a27f1ce157ad3b862e31fe70c26e6f509d621344f9c6cbcdecfeb638f2cf82f45f920c3d56aa0832f5ddd89219c0acd2f23ad90dc12d77137eb00fe206f8a8baf1c1a26adf6bb073c0dc496da9437f74b3479401a28b9afe6888d190bae5c0dfada71783e5df1b65dd6b5c6dc6b679ba544c06a8c470b0bb660e22979220240724f3d744e9ff50e545a284cce3ac12c3495efc7491e5654baad2798266d9033356fa0d027c84ddc1ed3385bd163dc0ab9e539c408a98537605487ef175229147a2a571ed2fb55bc2bc93fa8a3c3eb599f9e7d544a55d3cc514b93229af11a464603d16bb5308250fbf3b9a370fae4a09e1a4812b141ebecfa5e92a1dd4c0e23da6d1dbff304e2220f0476afa560c3a92226d742f7af3367f3683b55f06841b787c18b461a1c7e10a3e24b27dd20e59522f78f1c4cc4b2b16fb2279985bbc2ccbd9d66630b9b5da598cc98121b289be56ae8fafdedecafc212bf735998f3f65f1ae84692317eafa9313cb96e0f6b475e38c8aa412a166f3a3ad4a88c98107f897c619075e0b34cac7f26ebb035155a7d8f444e68107115caac85f5fde92b05a3475907adca1266bdcd0ad947048ab7c75d65fa95018ac1ee7ae7cc26e52b998daeb8699b732937eda5d75d0ed07e2c97893d5ae20d58bff3901f283a34a729c5ce2bd200ac2ec26d29b75dd525557e59e6eed9f1525d127450b5109305d80ea71380ad4879f529781e264ae70a98012ffc2d1fc81581a8f63226dc71fbe9c60b3a3f8660919058c8b6aa5f31838a408bb189318890aa6cfc18967c2f11501d454b1da2d8237f97fa402038851bb35dd966e5dbbb2a0fbac3681e4d2cda82a737b9b97564623ef74e7e7f2f7e6a09b9eba3217670ec34f91e18fe2f97a36d2bc47405b29b2a9f765e3331745b48fda2be5452623dfffd98bfedb20278f6060cd8f8b1d1e87a50966daa16081d3ded5595636e35debc18d12aa4c5c12e72034b1fe7e276540865d06cea54a69d5f5b412696f024cddbf88cf73dc46a386bcd2e889c93a219c52f50e5bdc7ef771e4b352a7fc619a62b57880db7c837d7001de60fe82acd9bebe31998b4a474acb3d73b5dd8ddda3190dfd2ff4ee21b5c87a5f215ad207f0b26146e006d9fe6a2761ec78e905f28cf0d4c0bf164d823001a13547411c96615a5bf25c7c03b1ae6ada86a5f20691c68a2b169fd756e76cd0a053f268facd6b345b5e5f2c9e85c59bab011a6a96bcd56425ff9bd2d9eeef33a5dfd9621bc2728d1c21dfdc28efee95e519b91e4c94ed94f104cdddff13c0d5a2842e6a8fcb78427fb29dd5e8fa15410954512d1a455ed4481e0af1b7b03a9581f0d864aa0adbeea4357619e3d19bbae8f805e59e388a8185eceafd89c9551a5b0478a8980a117a719e7a0af708c497a7ae38ab8bc8434d1148416275d679d84c7e616be22c4c9d6556d4a9fc6578994642e8090b1c6d7593f5fd167d1a19d4636cfdd7edf33ed83496d506c50ef7c03d18197b8dd4e8324aa26a89785c04d9043f9a1afc8bf4629161d896766e0e057cfd738b9ce1f549bd46e79be4b8ae89345658efa73ed491c12476b71710592d5935ded9e66e0218d4377cd7a0efb5a2fbf804f309de5fc03468ff643b24aa59cfd23e3e9d8d9150815d6d74ed4a8ee534750cdd3a5fde570ea85d6ca8de25c9ecb67e9d04b8f90b90a989bedbda96324b40a4e9e9b8f703cfba0cefc818211e9cdfecc397d14af50fc89bde72716c9e40fe65ff83ae7f529b2c20cc745fc81366535338d9959c448ee82335eb0181102964de4e6466772f122b8d89b0d1446c0ea5e7d5316a238599426019757f3701daae89a55b9658ec3a436fe5b0f93988fd94a1a0fff97b44459aef79d74ba0c9502cb290265c6a425d8b6fa31941229911c177050c069483af12dc876b11a24c9e51d03f6a02438647ff302b090a41edf7a9c35a0aca78bb60261982cedde0f2df9a8e21277207b14c4b9e52b14cda11e0f934aa7a5c20b1cb83ddd9650250c898ceaf1a9ad1b0da4156d05fef70b874c98c08657dd41ba58aa54d32583d7b0a895edbb6b9248987ba116af72662c94aa8c9acf6ba6001776749206ab151dbd4f0c366165cf5139cc8eeab221c3f64517277319deea4464aff83e259973d57bdeda8e2b36e8389e2c5d005929a4b372fb35d6083fd3e632e5f73d4606c907dd05677aa497ebd5b49d363f882ac010d083b673a640072f727f4ec223907d0b54ff3cde25aa9380d4e5f58d262a63aa5a820988353116232f3d5ba963263048b1d95c0fb7a10aea9bed0802d8e510e307ddadb214f13889bec3d107caeb8bdb2f24761bba92a5e8b9761424d9df2993e21f45d6a802a65ca95a7c84fc1559b96349407f58c13420723b95f3a8bad84d12c370f3dba35986d118449b207d3c2dd97846c3f6bb3d41c6fbf698a5240652d70eb503dbefb0bcb18470a6f57f12064b92be914a498c6d1bca180f34803168a091d005c06f6ce211e01f20a8bf8bfe6b7536cca01eff0d2eeed51215a48c1231048f2f77008544ebb5255ad7e1ee50c0e4bbe82e2174bb6d9311bfbd014edaeb8fea7af822124d229cd97246e1ca022471d7aa3469e10a32e946be79058ab602ad0aaf71331b97f75d5d0c5324974f706ba69a51b5836b7990b1fc3a53566ca47d9db521c5ebe91c600a2a9d465e2887a3b50e62a2c9c0333a16439142cf5ebd10c6f3b0fdc46815e63ddaf068a9970511e1fcc488d3cb52426a77c922f8339d92c1c8e0305ccab94c32a9ffa2cdd9eeacdbce4b817453bed2a4a46b2d83812008573f50ddf86c234767710dc4db7cca2ebb04f5bfaf9d17f3cdb4a281dfb355bb074197950974090bb04ac9958ae576d4a134fa25b67a6b5dae87c933a6100ca07d8a0173d3cdf84abdf156880104c97e9d7d7f1df902c6300363c8b83000c930ae6d04748732ed430187d59b050db66a790ea4c5b45fb11009fdace51acf5c1bc8c30330e422c1185a9a0a2e8897b17c1c05324f030ab482aa0b813c1ca0206885271a6bb27de8fc3abeb4a3c193db68a3d27696cba4a0b04515f06dabcf7e7ed1ed06eb32d945243d89b22c793c5d2d4b232680108c39830ca244bbe633c0836a5f3ffa2f0eb62fed06acfde3cb9d6209162023cb9ba9338fd16bc9a30fd4e2514510c29e59235e98764b5341ef66f78c403bcde6a4f0a0cda5cbae18d0d08ca5f0bcfcf95002c257f5361374db348c12d150b923f2778860d6f88663b777f44a8b33c8c8853320a2989d7223e2c565fcc799db6c64f34bc226fd9737984386733a1f7271ea1124e7ebead951651e16fcb5531e18a5cf2234242349c0d7260ab70c399db1cf995a7b52265296e7e2e2a40b54b412029c06fd5e9f245a00e4b2d2e94fbef6000640ff3d7174c7d174d7dc0876f3edb68722ca25d8c3ba79a6f297fea08fd617096ae0e1081bd3b35f9f33be2b68cfd383474cec05af6770bab41e011cc1195c59051a2d0d7219b5eac56a2bb6569a493ae1bb47bedd241f775f1c4c9ab007fb2571b1c381f4d971e2a2da412795f71864d77f3561c30ea938e579e24198f980f49c72e86bec825a1a795519ff535a84dc1f04b96ddee1268a26a56d5c82977482685aa1d35a93e7c326eebbcfe881d63b7160f83f46e934455ebb50464308ca317c2e2b5688ad2c448b37e98df7953632e175e41db1792bb1c856519be7225548dca0ab5bb59eb4bc53ed72b7a6bdd36734874762072cd5ea2c07bfea5406989aabe052de4bb07af75e6596f0f2b3d772af0beebe6a3cf9db485b77d3c328423d72e44ce7c5820930ce9d0b81fc49c03f12e2e2aa2f68acaacf322e315ae47ff262cae6a5178fcc2f544a9cd65927551163179f32075d903f74ba719a73ee7aa8664f72e16c3687b2f3216e81a43b772d3de599757eb3ab420a41dfb179e398474ff6c798c3316aadae8f0cff370e57e57de7e837e5e2b234d02bcd9e5657978b809d2dcfd7b32fd6e5c5ade994e017b5d2b0b9d483380e40806351be9ac9f161c6483667fd7e3c8455097c7ff103c3d4aa62c7150436f559e92825a9273f680a3355c432ec35528c3a3615954d25d61ce6a474e4ff15a106ef813983233ecc5dfdd7f1e4382d46d679cf68c23a7df6c98ff0465bb102ae90ca5b66d4978d93b42d2d95375a1bdcb5c3f883702df88182cfde48b81b0f15212b412bd748db176ffcf97bb0f2c912af565c6023a4c1bff71f95b843a5b475181854f86f929dd1404a66ad5716a9aabf372b2c6372d743ce180d8d33d043933067eb3cf85dc588762f8a50b4c425d5b5dec6d9e1acb2b39934cb8bc2db3d1dda056090214bbce940113279e106330cb8b69566e98094d9d7bb72fa9670028fb6b65f64700f0528760e6282f302c4cf7189d2de3e595730dea0498bc18f672b9157bfb9252ba1bf6648e1775adf304ed51053bfe05c38f446b4b617b66f10b23c059bb16827211270f365a2348c73f8e4ea70567e9a31139b5a1cbdb48e5f9877fbe8c2cd15e3a49a3cbbf92e4ff9f2c66de7558b7b14cd8f1f053c36a1fa11a0b06198fadccb731c11f7025b3e7ac4d4245f1effae66d628388f23a02348ee4f3028768c7ca3118fc72751b6748f78c2055191b778cfa8c96248801f91022c1970fb7deb65fbd139d30d79df786819e526d3a829213c4cea604b87fe13f4501e0df715aa6fd593c5a5ba47c54ccc88274a648ee0a35b5ab23fb48961ec79cd54162d563728964dba5ec37c9ef490862a5bb93308ce8e9641ee6859d58729db095f29c639258bda383f90bb618c03836648b9cd23afc2f4fd0fe1fd0086e9a54bfd3fc93e3ba507428c85579fe413900490e715a394c2d0b8c40effb1614576b5cfa89a42966e88654a1c69a7a611f03d621fa8f0523478b9b19416eb1ddf482dc2f38c2e28da58074c5dce2777ae52319796dae6aec21b47bfc813ea135cb2f998167062b1348c6b9dafc04c7f37410f91179ae9eb725905e3325ca2283552cbadc82d66b78c10d4b4417f848bad749400febee391b2f9eca79f02f307470385ce90e5434bb73685c87a107931c943eba750875b8e3bf44ced9d58ff14e8af8c21acecfa55da7fe10d520ad261d7e257a440d6b1d0387497652bf317022d5522db356882f5992ae5e34016a91b0b6fa7173bb5091fe67bcce3451c1141b02989a1b4f6ffc254f7af5ba3521a84c592bb1e4586d6b72519da14d6b0ff99bb047d7714dcaa0fa6dbc43603d03dd4606df51a0fd67232f30885b7bcc41af2aba906b572796eb717c11d8fa9be4eef7f1db90fc0c97d49c9ab00066212c08b8a7d6f32c35256d638f22cb8783b37288c3a3b7d27fe93f98ee9e364dede7a9aaae770801d3c8a3bd92df9ffe43892d806843db3f393734adb51f3928da8c6adec0af9f517071018045bdd81440b614a758783c35f04117c0e1057d590af704efcf4e6c599d3d2f04a80aff8553f1b93f04af7edfd4ba39f9df5ce89dbe5aebc28bcd3fca27e322ba6ee95a05c9b71c23176aa3a3ccf7dc07a879c53d10e486fd2447a628e33c05017e471ba28c5b72808f9d56e469a5072b7d934961c0ea9002d01638d308ea5c7af058b218054118c870091fc516641eaae1a810a4b81cb758f71bbb3b7a8197eb66e493d11876acb7261bea691b62c86a551384d29605d73cef0043b3c50f5509e4e6149af2cb3f5e7139a0a2fc2c3c3cfba44eba047546e438353d84ac75a0e4a0af2c47b6a659e841d4fbe24a688794ef12b850d43bb6a3583c9673b06af921ec7d26827694e6918ca7880c8af2a1b794fda12e43c06480e30bdc207d535d06ff1d2d4cd311631f9e2def22569b215ecb5b8f19a617c1cd24f28c7fc5f718d78fb44f74787e21bdaa5122af532c6a5711380a8390c2fe245085e1041559d29295a633017aa2746d56aa3741a4eeee59f125247149eb78c5c08f682c0acecdeae72832943cb57f23ef62770c59b3e9d3dc6401f9266304cf830c23074d6ea0265b4bdddf62f6f402218a020e9e2ca9a7645411f68418308f055f3e7568fe484790fe55e1d45b9feda58b5ebb102a249ddcd86bddec06c510ab94802a2387f2f9a6d4cf13b3ac6b5e301bb71ccb16dcd9cb1bc6a03faa6e542e29732ecdebd54d46bc716ca1946cf2292f66396d09dbd4a1d5425d9fdc30ab0086c44f0a2e0e39c70de747affb3caefa8033804064b1c126ad5b4589c1db7623f45f940704a2dc01f08777792d5bb7c1cfd30c8989279a3ae91926235e80fde6914c4edd660fd65fcdea45d3b83c0304081b73d557d6893fac227a1353541d9cac1da19e5b7339f4c498a7e9b1a3dc04b331b465f84fe1ef76641ab3aebe94bc0da3af089964ac1d1c230299e7e6171c38bd01983191984aae9c2c0aecf19c6c598f30b231fd269584b41478a32172728f77b5ac47978767acb9e9040917b64e222745a7c23b9c9fa08b079316f397d57f71d08ff3ded7f01e4142b1fb871f6cf7809544482b41956827398e29bc1f4e1dfc47454b351bf60e55a9f19cdfec3aafbba3d0e3ae1a73f59fa166637fe3c9328ec1ed8bfca46059f0e58b44053629cd0e822223a29510c95449a6a06c83f6b8e30cfa70bc6027689d9897f424f4d558e097280deca76ae285d84d21d10d67f681bff2ff3ff9f4ee5d9bdee4dfd353221fede08bf9572da4f0ba0addaf9d94a899afd9cdc5ba6a1ba46c12bbaecdf312a52fc3f1074148374d66dbeb802cee147e8b61ed2e664c289f68df7a10d8069e1347ec66bce8965707939ae9da6a3c95b56020685885afea1138f71fb488064d08fb5406da76ca51e6e6eba79e9cf182fd1d1e771c1a9d60f315e06fdf9c1a42d5215eb707394a032579dfe60b8b96b3dbc29ff11ee11f94e7bd05e59e9f6d210b2cd6f70a167ae4d35f5ad926e79c5cebbf04bb803572fb44e24a2edc3fcc1d5eccf4545c3b026da7da51b8e5dd4fdf153ad04f4eb6be499162e6f8c47986a85d1fb9bfc7308d337dd2bba7a8bf1e6c2ef9a5f0336bdb9137d2df81c2a6a637dfd5fa7add2941461dba354d52407d07ccf05b033fce2c224b4ac44aa917f995f54283270972eb815bd6b38ba3a2bc9e5db2a54eaffe02891fd81ad85f778330a7c270d1b87f6cbd5409c1a7ca3c98ffe92e5e18dfee1d1d4241398ffeefe34d36c6eceea79662bb646d82c41a8eff282db465131e1af3a2861944f28caf9023a74375dfaf257498a97e9b589ef2fb439d99fa1a79d4b59dfe543d16ae20b77463ebbdc5b1da49331c4ec84d24a10ea77c569b520776fbfc464eb48f9d449ad1214171d0aa0fbfbdcb1d9ba69e8403cf5bc6c62aa416c439a3119d59e5f57942f40b4c1a5c6528bf54225a2cdf4964973fabef2a2d227a4d15e4bf43d0316b6ab63753b17382c81f171bc5a0d7c2f3447172a9c497792b6e5ed173fdd6abfdf6a027a5b4e0c8f81f8004154c47855fab74589edd6f0b5b14c3da5e8bb5700acf4a89db7e372210b827cac24abfa1007fa418ca7332960d3a52dcf068134ac9a5203ba21c6eeb6f650cd709b6b15c6ab1a509ffb86077ef97ac3d4066ebd90ca7897a85739cf1834964882eba4e2f881c39dcbcd27b7931a293f529ba451826414aa9089afeba210175707fe17e3116f43418fd8a3c1f2972929b59173280dd57604f6d836a5ab4a2368d1c0fa6f49e32402885aead3a52d8ff6cc92b6640e3faf8368ec4d30bb4f1168f6f0caf0b446d1aa9880d81b60c60ede0661be018eb8e59b3932645604efbd6d711a76a9919b99ac3ef53a43ba1e31e8dec7fe0eebc908fdb3596256265b3a424eb7d0c0b5c96aa5755c9c4d48cbfbb34dab9663351b98ba401b4566c004254f717dd3b159feb7a04baf44f02f618348a8ef7a70579469f350978f2485f4cf41d70dcd69f23c056dbefe81e1f145d608550a28614c50c272ef794b1356449df7925f1e0fdf406aa423169ca435e874b8b48ec501dc136854a8c9e28a9a754f4e8405bc2e343f59959e8672f35170815916b393d2cbe03f61321782392b6cb34fee42c97efd4abace50c866da8bf338106597d0628f6a3d9dcd3aaf3cfadf00d822e42daed7182689f883ebfc34487ea4ab771349f018051c81f306f3c68676759f22dbbe8908ea79759f288feb0d6659ff7f0ff90b190e88476783cbce89a776a3c4e699404e507e4c0337ffe7813d33fcd6da64490fcaf49db33f1a017cf8ecc9dc642b56de85c414c8cbd83a30ec29591f9d933e0ba12e26fa28c59bb2a0f5d78de0918a1a05b552e46459dff803b0ccb261f97fa68299fc18acc17057d5c6965eaa7e8b624fde7c4196c2ee7bbcd6270b4011dd172ad57a87cb1ff479618d5c8eb7b857fe22c62e9356273beb6d229f3edf49693c0ec0d1bafcc9f6733f51da1dc241f93dc18e69d11eee3e50c1c607dc109bca4c2aecaa5e1ff0cd7c65745d6d55c5a728f18e048bfc2206a261cddd59ce4a383ee60ea902291442eb2298f4dccc8ff9adea5908d07e1a79c303c035d8bf891c3233fe668ec4ec9580524bc69e885b9c745f2afd3f2480d216a164ca58c1525bdeea0f47d45342022e6614d0934a1c166bb57c5ff2c3d9abad70c89c283466c83d2a97b363ab13629b822d92b10bf0a6c549dac8ddd1f80c52ffcf446767a1f81b080b2007f2a43b4d88b168fee02b8a11e252ddc1ed583b7838be2b344db5686ee6f42d51358246eae6b5daf8fe10d54809026da9e0efbf5a5ef8013c6bc482e0d283cea217610be01a97efb0f3e4081ad07db0f8d442cba27abe74759b68a8688722cc3872f934b65ff0b6776cf02a914c5d133cf16b23d85ff5edb166053daa2f4f77cc83d47d5468d1a3738b72c6762e33fbba7f8a4b02a5b8d283565d5989e8e3495c1d6a1271c4bd38bb6e58ef149e89aac7b4c6ce09dc02d99ece53986d7bf426e418159a1753dc71d4a6806a6606a4eae0fb2d2d5ba03dfd7489a803a1c00cbb1969db9e480f846f1f0a3385e7f7cedf01f49f7eb0220b966c54f3084255452b1bfeb53f7496dc3d8fa13311e5e6bb4d4a4d970d791e8bd6c9d591cfb9e6d4821d34bcfd2db94127a4a9e99405815e3c650d061c4a381d247122a0e5ced7360c08631343a35d335aa0bb3e15f8f46df61b5b035ee13ea8db6bbf9bc52480a9e4545845927945837192f288e99e0fb066fe5271978ceb8bde494233e6d62aebc69a0385e8134cd70a8a6fa00d29bcf5869d66208f8eb3dff87aaab5bc64b1185aef964377a30311864b39d467c370bae05fbadf96be5257eb6db124783d3462598b46b033921aee54151d51dd414a44f15b1e73fb6d0cfdec61891fc586c91b169510c534a3ce5b085d6a29ad79c5856308dab719c98de4271427512f7cab361ef2f67098813b962f59a65aabf2f406ece6ebebb34cd86f2a585e4c64feff8dc1daf1f560124183ec8ca4c0c3339fca9a57833164c882f82c1c1361967b89ca33055e28e79d2d3777ddb162aa1e397018cc5df8343f429372f1404c4e3c0c0640c0991aabaa798973093ae5e86856faefc34f4dff56d69d9ab2cb472e9b6affedd8983abf3540ef46cbc31131b03ac5d952227273221d045b5e22594c93856af1ea1faa3ff6afb339d8c9d982cb8d572869c80a4ccb9552d78cd5079e59a589da67e1ac0805aa422f523c4bd3bfb5828ccbf5f8ac197a19377944f64bb9df8570ca73c8be9185f043dc3dbce91aea117ddc103d4946ec8a40dfd3f6b759a1639b535ef5c70f650757714161862d89012058a285518f73a19c96922637c245b3fc4a0cb722e04b0465c5c0e0633785e55ea1c5de3fd052a96c6ef9fd45f430b7c338dacb974b92bccd5520a34f0c4f02f1b6b3ed65346a52c69e9bfc3ff52535095b0575f1af0f062f24358025105cff674f9e9ddb1e5ade4375839edc52910b27a4c4be97cf8055f7037cff3da8a279db32af8dd8faab0044e6889d634f3967bb5ac1e240f461c9ebdca04b6d00a36919a7133d93faea94b5e2a4b245791b0a4272849aea20fe7541fdadb6c88669915363943ed310094cb3b02d3535c6bc856d4858ee9bcdf9f5a6eb05c217023c134e5a37a0eae8c02075106bb636adc86f2e0e5f89ae32a1e95004cc2cf923f8d8357bdd291a52b597c49a9c8b7e99cd2869edc81cd45ae43d2b0e0966d78d71f4a58c111cc5489c3429d27c98f7b5aeb1525151aafc80194779b4952d9d1df6583d5a89a442ad68b553d3a40eb874b329dc85a7bbb9e5547356ba8433788648185dd5f15937a26baa928edf025ced1904e0fe771a9950e9f0de2688ec0cfdaaff60658c3ad0fd08dec7b4fe27a2d8b985ca341eb946ffa23e5eb80fc5dc781e42f24fed6b86169ba1bc98344b98a97819b065b8fd41164e3ad4111a66795222e21dde37b3ce1809bd38b8c6487417c2d91b20a5d8d423392322f14da21440adc08804f5ca020a4a236acdd395c7f044a3d0a738160e9071e33c110255ff30e62a1a99ddb963a8d0b96e745df09315501d08438ea076b72a458ac05eb27d404d1976a0684d2c00e79acbf27669d0f6bb3ee8f0d86c0adfdb90459f675c5d37f1871668ad3a97c499fff85757b28cf1e7a718a2f0c82555439ae9719381a2d6fac270e52ff3a82c7275efe5c7a8b2c511285b17d72919a8c6de275de703726f74e4daacf152438321721683ac5eb6d2362770ef3750182683cc51231b3048f3d76376df6b4b782557b559ec30332c425df243e0e307c0655cda4cdd46358333478ed526f919b560570fbd85554808cebab7040f471ee38f18ae032f9fd5bf0118c96c5c39d8d795b3832f5891513b211d40c4b79881bd63132003e3d8dc6d7305c4ed7f8de5e8a1cff50ba509cefd02ff0978ace4144c92c8fbf18d8d6b47d54deeb42a75db9b0fbb1b6c7d74a11e85230d7a879ab0237e709cf05f3e35cd30440a5aeca67cc6198b599731fde78e7a4634e25a3f95341a960dd0058fc65774bb0a76d651c62ed9e985cfe3ac6d1cffd0b8842b7c6dfc02dedc4d4989ebb609381ef61da0396888779b79bf28394f4bd3f6fc27f08e71fc5a11e748901cd1dd822b806de9e87a33ac3b66aecdbec8e70afe05b2e6da5e4ccf680fb0418d0c759cd6ab748177f05d65da3f3492e84644e577856c3a84a688afe5bf4e70959237229712e90f98a7f294785bb944592b4d85c5aa142ff93101ed767e82751f63063646e11d812aa86e853c7b06375190444d63d7482b827af43bb2611524e8cf9552975eb33aaf538f1cebffc123c5c5d9b40cff5cf7695694dea13da72481bbfc34839694ed98b9c9b31641e010a916e00e6f4a62b52738a5f3caa094872b35e2e1520966ef866b83be196640381b898bf12543c77e86eaea7739ad5d0544cae51ba33b6088a9ea4a4f400a791368204022dfd424e6fcc35892ed1c0fab5eeeaa801b267619628adc3bbfa314c064ee65d723593cf361a5c8cc501c7c0dd495bdc28c8a2ce96de8661ef947cc5e68dd7dffa9892ae18c0031503473680ac4591a46e436daa3eb269db32c73831f9567b7b0a9188457160cfc72976afc5805560cd8d1e71048c6b28700de6dbdbcbf66b7c6bb06342a56a9d702ce678279a9111edd3eb7c7b7a616391d94e1a2b914d75b13e5635a66f01c154f602c5d42a6a9bfed98e3c4a54abdba1b59e10ec7180c9595ca8d1995cefccc629d664475ca216477fc0fe0a82c91ab570e341e7937afa246ab94484215a60a29581604e3d5d6df640cb0b636750bbffff4efeb581646748ed062cd78eb29129fb9c2f30d185c0a055ea5d0f64b1353bc3115bca29984ea5e9a2ce875c7a908eb94172f3543513f9a6446472300040cfa44f7553b7c18137eb95a423dae2f8024c0ed69b86bdc0824452eb2f0442c2e27fd8ccac6ef07a0aee2ea4fca888f8520d26ab9a2adc4fcd42de5af0df21d072090ad03ca8208d9b012e5279196f4b30bc0d64ab6cdc83be8168a439844308791c6c1bc865dd9254d40b2b9a26d95147f564a585b09c680b226afa011e0815729f886b69245558f838c00d813d0ca45c1ff25f4064bc470ff420d1185e760c11a0a3355e38d52c0ced0516f72e47f2dc09a4547f3aed568c85abcb97d403a57833b263c13722b5778bee0ff5fa66925252967b3c9a352afb0776f1dfbbe06113f599989bff9807ba5d1da060c287d75450249951490f723a056cd5e304126c87f81810c633511c6c28cd5ef3272ae83349070310e89c4ba8039236cd64bee836a5fac3362e23dc75315096d3aae380c0a37bbe352176fe984aabd7a9063858995b7a09481c8388abed7e99a8ad3d485539128a272749a3a5b702ef9442f554f9417df424ab984146283e172a03e8b760108c7292548e706116096bab97d38f0a0fddc9fd2329a13d46300c7813b73d608ed30c84d790b3d3f03ef09e1a92d5935033853a6d9e6b435b1bfea26f30d27f6431d7e6c218465dd1283741cb615dbd9c34ea9125a73b333b31394e79706f0d37a863806814a4","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"5197399655f0ba2e7412d816aca469c2"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
