<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2958b9d9e0e4896306e038de07c64af5a10602a12dd8265429232b77801acc52dd1985c5f0fd0c60e55584c8bb7eebf70dd3f49043d4135e97a25440d6f4af7597c221bcc7de75e546f4ab9cb53340fe2c813c6707e03ca4d69a1cd4b861785a9c61d79c8232dbf745a6fb5161f60f69ab10d66fa568820eac9e71ad570f17796f8c48bbd0e709c6042c9bbd6e0cd646d88e87a1b82142da77aa3527de34f05c06ce9b9811633ee6c223b2f5f1a885c032b88a038691928f484e39f3c32954031f98a20aef76ed1f31abea33d60a8ec0816d2c72ea5ac276fe7ffc352d03016f5237589813910e378241dbb22dc701e7ade685f70ee2fcae3a25695c0dfba9298023b7b3ee812c9329c9d8ba673fb9c9725969421a94a251023dad167dc57c59ffd7c7deb47eb162b3502e32b44ef2b89a17553d2b470488cda6dedb7144388b4aa771361f874378c20d032e884177ee75d20dda7ff7a8db5cf95c077f07788612ea90c61253ae73a99e0e16da1f849c01f187417daec842cffd4f0461e4b6acc58334c0a016aadc805d9c2c860d28331464e50fb86c9abf4c261a26337e0bb77cd90ee99f03fa38accc5436f1422e3ab941df501a85a5b5ee0f40c64947b66756d26cd041d3fdba5a4db66fc898e66a9bdb6a89578b24e544c69f02c2acffc83cc0278470406cb54d4a96d3cc2047787c88c5e0fe80ddcb3ffb091b222ce208e8b43efa9b10e4b90f5d8409c6bbc50a16e677f0f5c330bc3eea5e56bd3440f94238e468685395ef3349ae54f3c0e432f91eaa0196903496b372e6327a4cc0a55a6df4e5ae4eefe13bd062bbd44c2495f23678e66c23224df2ecad5238be7e97bac9b3dab3712bbe3391b8ee9a784e820287ec40db6de389f5d46bc82cede94de4dd8b0edb1b27e3c3f697c6cadab64fe8ce42f56c93a1b02c18c00ca99a91754005441f30f0eeb5f001d50146a729893291d0ffbffb6dc2dffc108ea903df38c10f90dd51cbed7672697af30767ca2f36eef8e30907df7b9eb2c914d6422a4d9affc6f1cab1cccb414d34941bffbcab29cb0685deb517f36596d5905870e905850d9707fba28cf3f883e4d780edee88dd3c9431a8febb8ded3f14ca77a28c3e96d8773bb29911c0c99c81c22b1a8bba8221597a72ddbad64589034527163b649ccea5ca5aa2eeaa1663626bc96c89b23cc78700a8ffb2400f6c0128bab44046beeaae6491a8e6771ffa4388758f71e9601c5321b5eac0635b998297ce5d4f25f24fa895e0f08e180079597ae61c630c119e124997761e987630ff2d5f81f458120495be22f6e4149f1b5a6fe12ff2f5122a08b8e8dc0210474ff297d3b6fdbe0256d28e3bf54b6916f48262f5a3f77b0747591b04be181193285eadbb3f23c8ae85ad07925025ff64ac2a25c23de57ce12a10e21c7c01f0a9fa187764ec785136885ac90c0bc9a3392529750c7b29c84728a469ef28c6e488288e268af09dc80925d60cb1ed540469485f2ba60c02e6039cae92c982c39e53a8d2cb27fa3089e9c6e634e06f630ba042c993d16e5649add1bd448059daec2103b626f39a262aed0c60f1bbe70b07b63733c0b57bc52031cfabc03323125480ee62b6bf0aaee511227ba5347818920b1ddb7e1d91b2f5aae577fa528250054670031caedd9e5d600fcb1483170d19fd002cfab25416223bd6965e7ed8c7c3d8ecb06ceb70d11d447031a4a3ba1804e2f902e55965640a017c58eeeb207447c3761e48aed43b9006afc5dde194079ac6fe7ed683ef327e60c524b1abf517c7370436e9e2f5ee85a3dba97ba048d686cc965a026ecd1fc32e1b9c538949dd4063dba9e30a3f81af3882688fa509a3b8f3355f2e77f114fe557eef7c38dbd40c9836fb01e11f88e11b1c64e773c03f812c2bca9ab676574914a5ccd8f10ec14ad3c504427d0155b1104cea51aabbb3ff0d404c9f648d069294fb9af959861a01644c0118945575ad581cd43fc931f35367ba128cee4c30ddb1ebf1f9aa379e1316bed47801c3a82abf52a14845176da07eea489462df7c936383fb4acd7e0d3daaf03a2dae83abbd2a4ba11610305e27c1898abc60037a24bf3f306c765e8bd16bc5ebedb8432e0e0e350beb2ee4850dbdb04a9682b84615a71ab5ce312ec856e65327c05d9b4f679092444ce099f2bc490a046e63e9eb860864f567686ad4c40cdffba74f4084408613d9dbe410b6bd4740eeb91fcce71e64180cb1b81addc2dbfbb32d637c22d29147f15f7e8a4e44b113a589b0472b188a113b531f66815de16abafd743d7707905b87c6c65bc528b0176cfcd0ae35427a3d2c4f2cddf8c3643eac1c447982aabfb9c89b20dd24fe1425524d13d7ed1d5cf835547461430666fa2f2627a263e427fb1dc4dab84427316ad3666e423a7e956fe8a35d190d2f5c29d42ef75001f388194578116bce4ccb768a021f4d0d047df84252fa4c15edb1ce59bfe6899c26c55a916b7d296963f9abc1276cc13e2aa8eb85e3856aa3d3a02c6d47cba019f3a66ab087153ff10592995b8a0f9c6a971abddd65fd556207bca178f601fd66f3bbcefacbd620808a6f80f4f8ae40422a53d4b63054b425332c1042bf0f75ddd2a94bec38f2cad11b542a051a4730038d10fffd75b414f47bbdd031a03d5b3f40beb244b845e7556d6222807267db692f6c0559e1416398f57ca858badbdfb4a9fd6f60b01e80413dcf78728b5289cef87b464f111e4f77671770ec7cf4d71bd4d829f3a4d97ce665097a6c41ca4414adcad5e8c5918b2c370c29c168f8f52f9304fb945a3190a0916d96b41bd44ffbc7d74a6dbf88906160d562bf5f50998ac29e87e4fb68ae26f997bbc9f55d928a1216298ac2364889d1ed624b6ab09d58bd6df9a088cf9fdc23d8d5f977646aab42a04f4e519d0549c0cb35448df2b70644b80aff16617e923ca22731d5d3022c0b644a109988c2e21e9bd60844e9f2bba462988966ae9feec023be89fd3ff4352834721f8c90fa464843a66cdad53215b41165af3fca2d9457b15fe4160fe8b9025b49f7fa191adc9a7c3491d4bbfd4db9c6de6dfe62341f0389d7f24050f316dd83ef20a6eb70a02dba181da4942d5802318bd4b0e2656b81162eb976ea0f2d2950c9f6afe53d79176990b8812298c69bac331bc202d27cafee86e5d2de7158b220a441139738e9757eb86e1c995c00c80293cd8fafa2c098372f9949cfefd2072cd32910130027817983e80b8dc392d8c7a45ca5345f40dbaebd3405ee83f4889c5706403dbd704b84e9814f60cbdc425175b4f9dcafcde892d85c77fffc2636f2fd30d937917592a5dfed47aaf4b5751119bd62c186134c1071f099f2206b95b50676acc62b7b67c7b16a45dc0cd3c0408a46f915c506b1b4fecb5e22b38e8beb96bc0dbe36fd251ee42c6b808241115979c0d7fa431196a3ff53b76093050d61b6d03d57a84fcb9b35f85e4b751bbd4bdf28313e284beca7d3d87de2256a53998eb880e239e46ffff8aea6c766b8295138a208ad75339d091d7c98c94646306a80179fdab8105a0f6537cdab4642a7a059655542442009ccf78348eb9e5f952820fe6f3e5aa6b1cc28138bfeefaf1d6957632a7810d1a85c85811539dce62c0417b4eab37aced9753e9b8215c26f2ea4977f9b86cf3584e9c633cc2ea5f306e4304b4031205ecfe34553e398f9be4cb053b8ad502ad3dc5558928e3b6adeee34e16951fd679ea1a883ca22b5a6da716671309d51083aa9de6dae75a6265c19b506097a58db7e5ce2b11e865c79fc0cd3eaa50b34dff9e0bff9cdaa9498c7d162fb423b501cde96aa473ccc1e23f9b0d5e5eee8d5d88e23b23c5396396823bcd5d285d6cc9e9d28952d4b50ecad92ecc560e9b5ed3a70490617ed00d2f55dde63d39045c7fd6832ac767c61c5810179ce0185211391c3e69d3138881723aca53301d08457f2269d3d8cdc5ca782d21e9e1fb0d7579883e74961539a74487c2f7ccb021119377cec0557017b80b7c51d8fa1d46458cf9d53d01d03f9463b5fdcc21b71dae65642e3a2913fa64720a3f504ec3f310634e2f6e22d0a3f84f197219eee92b73be2cc084191de30d97a357564726b9e1fbb1ed59ff93d6ee66fc8616bccabb54d89395ffd4cbee4647a417517494e1cc5a943f61e9455676690ea177aef50a8c5733afb6a48c3cc912798d77aed7aef39f6c66717d41b9c15f376234b61884f23d803c8b700e66184b491f8211000f62a096c891ac3b9aa715c4c91f0b220017df1c25321720110398d78efb68220a0d2892bafd8ec70f824da1b7968556488e7765ff0d5b1358f9a7f6b864b94395d95abc86fc78cbb7f12a0ef6b14c0b7c5bf792ce2d4e1a99499ae785992e4a6ae78f513916db6e4443f4a83bdd533473de748dede18ab78abcd75ffb54e315125b5951d6e6f8788e58803c0e70f7371022dd501f79d9250b6c9b416a283e4b83c7c7f07a8fc15ec1109470a537a3084f8fd06f6072f27dfa7412bb1cc2c5ca477ce55fe2cff386bbf962e5cdb71ca478ce02a71d69746393ef32f4cdcc07c8c003096bf1fe8a1a2b466d307c9c04e1f743f51de8919dcad10d95684cb7ea9346dce71b4b46529fb2dccf0d2b4e039400113a4b6a576a2304cd0e032220d164914a2929c1a266a35c2e1d595c8560e67154d5d0a03be8471025e7a161d0243bf2e6dd174a5393a4163b2ef19d4e7b42ce0052b2700fa5b75e433abc43ba093e4aa563832d505d47161ab1bd3d6ad70d719636d6c01b5ed0cc051d1293472440bf784959f376520aa9c520b9b4fd6201711e2828baec324088825d5441e16648b9397c16a1a7542c425c4a4c9625a2714ff76ad87438752d804a89479aedec68896e47836dd43f3512ca8e480a803ab25bf62bb568754de2b400d6a1d8a3a60a33f8e385b4fc02db340d92bfad906eabbeb3595047cd6feae8055cbb0d9680b5fab1fe7a8c453c56f38de98f29858f793a2953816fc5f9fa49423562c47b49283c5d976c6f93680da337be8fc416e953e55aaa61f32b5d1e31f3892f48ac11af17900ea25b6e4ffca433aa69eead23729c81dc616d190901f11fb5cda4d7ac2afa631c72fa33497fedb43d69854b642cc350c4d52923ab04b74bebdfa108811e6fd8bfd576adf98285514433f3b1d283200f58e6d8083a4a9ee4138d2431ae3d5131407aaad5c7ea4d67988b93e865239594673ca5f8db78c4b50b4e20a911f17e0cea89db559b163a768428a988a2673c31cca9b401af154b23d43daa5e5152a925f15920bb0e4ba9b5ee27d93489887d2fff92a430c1ff690689cbe4570b4703b1316347d58ccfafd09c0272e08c8c7a915e38fe12f32291ddce5637ba72d8e4ab499ed0d81d86aee4f1bea88e10607fbe707791ff57b4e9b5e75b17096450669831316a1708334e94284e8457052a567506d02be75790fbae743ac872c46a898971979eeafbef71347936497371cefe3ecb41e85f3d5933a91755d1cbeb0bab26465e81b3fd6de8492c0ea0ae4bf24dd35ea29df3482dfe9d033eb5330ee3ae6dae5ab6a116cd2e5b0d1f96ddd885b18012174b52a326e2e4f0197c8ab9eb6bee0842f9eca5f7efb6c6836983c41b89b0b7f07e01fb9a45d145f65614a932adadd1f669a9f3ef8480f00a5a3d4d1f0f67a52a49f49ab7a0adc44e89738eb0904e68e7fdcca08d7be00f81f524d2743ba9d1347145f5e2ab40341e01cd5e3cdb02934feb46901972693844a743f54d68544499dc50b54c3447a1483c3aa36f00de6f3e6bb73097eab01b7749a75455c081215e79e5325ac978c97c85027b886c39d8a83260e16114b57bc860cc2b8f0648b2f9f79c5da5f530d43f4edd2a6f208f223cfb4b92343ba93ed7c3b6bb6abb6a18e1c225ea1918e277460404ef447bda5dfc0469f92654bbce006ba41e298f8f23c342e2375098a836ce2fd9839ab0a46f6a2f3bbcd127c03f1345138f017e2ad33dae2d32522db830fb12587541b0adac7f6eb99dbb70ef47cf7e502ac1a69c34cc3fd034654e9a436f87a86373e5a162c8d384bf5f2db8439c0d3c20e3f49a4a8bd6f83e93f34acc34b4fb0e2afb99fe15396caf21f23ae477a481af927390ff1742dbfacf8108fd5821c860e5210fe11c25568df7dc3089fafc6fe4fef9bf608934f7c4ac6658d486058c926b8bc8bd5acd914f7549eed415bc06b26f55e5f8323ef73d8f8207239bd3dea82c9d7f87d17a6391fbad1364700f8b54908baa1921d84dc502799006a1485edb70d0ce9f0424ffe48020b269372e4a4cf7d876ef1ee93f7dd69d7dd6a789d3aab52c9bb3f5822cc9d7d95e11d032651e7e07f3f13d5e779f7976c7e13d8f0dca3b5d268065e7850f43c33be46a27f50838255d1f2033a0be1158fb6d7d283e47351c1cf224dd5de0abed638433057face9b1ce2f00ce44955c896164ed83af835639abf6a875021e543b065251aa3e3aa643982357d6dfe0ef21e37e72e75cd8e017120e81d253498c6ece2a0c8ea6e0a250b473905b58499ec2eeb70f02fc290a7d44ddc098bc10077ae057c985a85d039d06337922f35c93e11b4cb029d116f07ed601769aa9e4cfbe751317335c50ab1790be4d45709488c80c6ed91b2d9bfcd6b678c881a89dac71f4ff0cafccb33a16244cc566090d2341a89afed98f40613e5774a290ef38a9a825da4a16b13e9f49249e30800a84f1c2b822142843847f30e51e31b3e9b3b5d75b33cb0f01985fa48d06716ea43e4379ff66e7dc83b928c23430433772f97dae4d5575d542a24ae590746aba50fbff36bd81c2438e05409aeaedb57be96e27c0a150c1934b30b4e4cdc72255944dd8768543132d037907f1d304dbabd9da5b896778d9e6d1fdb676ae3a36be5f37330fcc9a495d34e24ed9579bf353bfd8df5922abf8df317fbdf072c321c5be4092e57f2948b52219bf9c8d67fc5e593a0765f9a445e98495173f18900999eb5b480c17e2cc69492b98b97a37d0720fe4071cfb3721d12ddbb7ed23b5697e92942c1aabe5508195d6cb3bc588334245e554db0e54e3dce248607a17b4b1cddc6f329dbba098fe71cff7fbc86b613100ba3f549ed0c3b85f4e9d97a04e0a19153975358ca74ceb1661b62626fee83f121f78c6bf262362b1a70cff9d6b270041febfd953cd5a4c1452c7837b4fd31d5458d396ced92dd97087257955ac186693caaf94fcc0aa37401ad0e16b04e71fd60e43a64ff1594fb98664ec96dce3bc5414da7e1ef81039648d845257f1db147dbe88d584b7e570c1ef7971622fdfc723e469503acb4de8e5eb18304e54fbef4dfc6da9752c3def3cc8265a1692df970b6f53b3d7c6c0d5ae30bf9aba463568ca533d5180e966809eacb4ebe64abd2b2e57e3bfc403ec0180c14791adff47d747d5a16859a6e07218a24d3e795fc9b9e30ffee07e40f0d1aa4ea8a0bd3a2d9110435e4ef5ed69db5b8be191a70081099b8bc68f329590f481e42be96e5ade61a5d8bdfeec27fe550edc805cd5a0ce7157cc8d4f89f946ddd116a7cd4ed6a794464f00e1d108013cfac701949150a680c58f2a852948e28486c28cc1c13f3d8ffa73d072669a139c13976a54c865eae902765cad577715bf5f96f59855fab527f97643dad5e832a90f54d502e305b2e0b2d69fc90a3eed94d85c9bf46c0c2595283365cd3f4ef64ada8f3363074d7e8b24d67073610589d7547c0881fde39e6721288417a1b01c9e62085698df6bddb6d8c0d1f22ab040a224e7a8090577c14fbe85ef886753824787bd63c9ac6ac6c5c457b7d3c984bc7ab12ce9d2b21d7b29fef74d045f2e7031219320fca2d7674db800a119b15fd143ed04d5c58d43154e67d48835412e4fe10e0fa48a1e7d8b14558c2f11e096671c02467c25c7050ab84c9fe6ea23429db8b0860430267bd7e6655df30e0e9e8f80a6f3f0d6e1e14898dc8782fa04858b78e9611671c0ab15e706f2c8711341ab2313052805090761a95af76bedac05b921c8f661bd0b4661651f6120de782f87a6ebfafe34e023bab5bdbf73cee576649753216cb23b2eba578ee96d2eb6b2fc5106c8c6f9d58e8da66f944b0da19a67bddbc2ad0b69fca883712f34b22393c17321e666b9e74cb54dce313bc5049fa5b0d1dadd44364cf90d9330026e6023399ed68eed1faf0917b0beeebd70ce32a3a4eea6325f7fac661d944f45b70d9afec7096535c2b4e00cd8ecca6595b00877d88944d751de98f69cd0ce60650cffa6c77d6dc1e13cddb51e017d659b0dd481dfb67a2acd77467cc4583bedec5fb231eed0bcfec2032bee2272abc466fefa1125edb8a95c6a85c9d9677637d84110581f573e05858ae6cc5f462edaea986f0bda5252fe5dc6c921abc73b08295df41c9061a26c6806d05c31841db30c44846223a3ac9c279ae65820e8d936cd295ee9668ff499bb3174bc69a53072fdd95366011014b3999daf3c909a9c1f87a645e77ca79fbd71b29c845416d8374a9b726496c8ac9b986d6a29c4bf60f51a4434434df7045dfd9bcdf2266622c4f682e79c01dd6ed641a91bd08b2ad81e855602be254f1f76b20ec0b7076f8debc88cf87fc09aba6287756702f695ee559dfec23e419a14e176328909bd6fb6d0206e0db4b23d8cea90fdc915a9beb710d46aa160e8ef11feb40808de1b5dbdb698a0e5b09fe862d699fc01f0a7a525523ad2656d4ddc4e1aedf5d87b1911727825b780ea29f04a3299aa0629e97a1cca0eeb67c357a63923fc610540f8db7ea819930cdd013442b30fb87147ad57a14d21f90eeaab3df55deec209a5e80b9006c710873559f3e18400a37e661c929a4f671b2945b97230fe36b6554dd1f5159c89b236af2ab1cf79e17a2b17403d359edcaf02d1f4a7ef9e00572cbcaf8fb098bcabe6cb0a4479d3acb868734186b0d4b252325599ef49d99d60a3e59ddd543b085679beb3d12c50b57a2646c0864e35b163c44bdd05a0f5d5215bec39994549a68850701493a63048787b13e86ff752912d9f586c6de7afd76ed53e8b3c6773b94029ef767a45b6e009a8d86eb9e8361d0baf8e1b37ac559ab48a6eaee6bd946826ce4f6ebb065a90ca7c852cf86cee3c156d7eccd309784a7fc1a2c73327bbb1734cd297765041c5163777bdda033ca18af40cf8d246bf9a26184b55543ad7e378933fd725dd3a4aa8df7e8c8045b83be3f217f8d817a050bea3e54b6b2f40a628820b4b67fe4cd1cf24c410f05623ae2cce539aedfdc0310500a58f229b649ec8217271f795f3e25d8c18d27dad6951c2d36fcc186cd234b1d34e42695b54f4999e0a0233d5829372bb1131edbdf99575f8058f82b1df00f4150a824ac1599ddeabea8b54c2f631207f9a11fc4cfb81e2d304d4d62982aeb162e9040b8a43acc6c0e12e13c3e912290c982021ff07cb08f346ef4bf9e505ba8652caea06a36d47711fa7dc26cda2b03d43720aeaea5073de2f1cb24b3e03cc18454e8c6d1e5da0d0bd5433dae1ba03114e326cae32a043e2afbbfcc6b5ef6239d8bb83cc2a20c84f24d22b28bab1d03f59b5cc4c7fb20faf12f5fb83e60f3568240655bd236cff909bdb1d6d166440c0914e5a1136ec0ce56aa5cc54c786b5c70dcd0bb821c2d3d8708879ea66672a800c814113cc2c7f26ee28fa30a315043bd2a1ab5569f1ea94db89c87ba3433d4770216cb9c265997d6a50265547bc73c1787678df95fd6407d1af220e1c1734b4e008931fdf760242e33d67fce6deccf28feba5d0fa5de398fa72275ab52cd1334d1764addb2c11c385f1d53bcfe55668ed93d9945f4c9c45b1d2fdc79d0a4d0b33abe47b92d01fb96f09e61a045cce41ee29338801a2dfda28b4515bb93c6356f1aeb4389acea56cbdc30f3492652505325cb442e7ca2f755d2345e6acd55cb863a65d8f8d0995f19aa45d6149c9cc0e37e2beb59fff83d0f837e7e7f7dd77458f900132335995a14d567091fdda8e57fb72c7daf80c4ad6798eddfd5a79d99116504cc5c8ca1a79382318f7e61f366c350e5b4dbb5e49bd09d85df71ea16aed329d7e088f763b49a9308d73eae0833ec7d311e10c20321255bcba43a240e0e34a379aa9caea93e12559d5eb05a8bf4c1448e668f1eb3986f5aa2b16357073bca8d00f8d351793d31dabd3245f2289cc1f9ccfe015ec4a99d0b4ab14c61b9dc81023ab094390253a5510884760748c09e63286b0a0644ad3ea27e9425876a270bbe5cd16ddd8d8661ce3a4695ddaaa388b7a085db8cd63b86019bf0ef8489714014a21c6233850caeec496b6383fbad71eb4c42827f668e05313d778449d45a7c2914d926f3dadf0d4520fc5f58791c10ef7222f5cebb523a311eb279d34ad9b4ee4a689a965deb800913ef4b7e65603aa2fd1d95c1bf3eddfec9404765ca9f2ca21482cb990dc97c9e890c4ea057051fa59bc734286f52b4cb8918904da1e639d5359c7ba2f55a1a8b6e05c77a1bbd5cd0269e66f204c0af7bc44131e755807a6118b8076a0c84c421b3f743d2734efd7b2d6c1632da69ff9785bb54c7c5c6d6f32312434ea2e6165b4912014aafcb8659662334c6bf069aeccc5fcd70976107052a70b8bfda72053f164a6f9b1c813a96de18fc10439ed6144589630c8020ac4b74a79602bfd5d491f60009ce1fd7a2f9277a24bce9ad97e974a35d9f8d87bbbbbe7b1266049cd2ac05df495293c8a3656510abc766c08ca93a2fcc59a4f565d3996552b7685df96e028c779c76532b1ebb54e6eb38a468cfdbeed22aebf58cc2b05c2abc845755db868a4e20fd8da3b5ddf264fc5e8025c2d8823908de14f94c42231a84a01e2c126b19f4d69ec4b911c34112ff6e52ac8d3dd465bc520b1beddeb63f7ba433e5b93d2c0b62a439a562f3733edef29d87fcdae996cccaac6ebc020f313181c92c646aefc6839cf89b1b9b460354e63e7524d5a2ce7bce1d17e3f19875b15d3c2bf9dfa1393fe5ee0c6661a6d623ae14236af8340ae7dbe19ca178064ad4e8ef7a81c5fe7e3ae5a2eabe264d67c141dddf662eeb002c7f120b7196b46aaba1ab0b2bb4705af334e98528c8a6e26807095852f1218a5171054aaba2e9dd80b8dd28c5ff4237a0d32696563c72012b9c42e1401f67a70f42d7e0467abb00ce3050d3758fdf43642e34130af91a0980ab5de74514b79302c0c91439b8a01433638f688bcf2f6e0d56424d3fbc22b4a3e5c48e4a3bd9230079c350526ad347a9c06c63f87a49033ab0698cfe5f26a1a9f133e7cb58bf5dcfcc1e9bdc09c0540a08a9b04ac9e797144570ecdebab15adb8b8979a8ccaede4582c53af2e998acb5a6699ad33f4a5f9a96cef19d2822294c6a5440a8b5533c17ac1105fba993962fb171bba5f203d2638e434847a7fe48353be080abe881c748856a2516dae89da86c4d220049baf655355bb47ca35579da32c6bbbd4af62299aa0f648094c9aef8bf2ee00723136995365a9932aa4e21e503644c33071ebcdccb3b435eb636b27fd8774ef30bb441ba3090e95953be1ff7f2185d29ccaf471d7e91fe2540db49b6586e5475301a21388cb40d2fb984f0f18692e045c43607ed27634e41349fbc5040f8043d0452371a5c5a5c5923d13da141881b27d35a10e661b2305a7072f5e118af9defc2e130670bc1f29acba08a42d66f811d096a4e4e650128d1dcaf205da4d07c3181ba6f345fc04a995f0a8ec1abfff6f99fdcd897765414c0d618c30a5a28235b883d69f81086359f71c220de85aabfe14f10b69a588afc1b7720e4264426dd6d49df3053b1cefaeb605c76d5b46c0665c873d43ed1c6f5d122bc04a1d23cc8188b2809582af2de9b1dd74f10dd09817a0ae58c3b7e1ce5a9653f6cb066c2910acafa9108c72e9b480207c728fcf0625eae22b92af7cb65cb131120ac4f216ff2c181eb6f8c4f5b89cd9ae505fd771a9f99f7f1912b3331b080f0574ca08fd5a3e4b538b74e87746d307cf29c331e8819cab572d1192027d6c3586459542daa01dff358f84ae3456f763c2d700fc182382850d40c1e118cb66617fbea0c1dff2018acb41c10399479753487531a9e476854ea691bb4d1d1ba61876caa7d6737f5cad06261b5239c665c5e50afce03ae34dfca373007abda86f6c6a973b109b7649babbaf001f3b0a81e437ad19452a95b819b1814a40f3683c9e3fc7086a22f27f5823563cad7d5bda14a6db9ee8fe496c248c0eab04d595e164281d3cbc19af0cb2c2e79cde1d7e9e8facb32b42c6c9702da5b6459550e2f7f3baea3b301cbaa1108df738542a8b18088d3c276ea3be81f8bfdda21cc996085179dc17efb1f6b20e1e03203a7b11e4ceaea56c8e161709992ef095f9fe39f756e986c0b931ed3cb129b565cfd28ce7770b1f4f9d4fd90bd25f9470f8cdfdfe76a8dca051c4a723f80cef0c0f9e5f7e4f00fdf1391ef7a9d0713551537e795b2e7b0ab6b1cb1452320fbd71db20ad127053b5793ef2985dae897e85c08c50dd8e466f966fc970fbf2290289df19983f059d99556c9a06e947f57bec5617d68de6790bd49a8cffba8843224882928033dc007dd21f98327ecc9904bb18256fa5f57447a9c996d24157560e068fe15f605dd826cd0a279d02c4b2ec8d0eeeefe5300fce9b9d43720f6459577f2639f71170414d7262370adb424d2158ea6c7e49effc0a335426c242e8e531b9241bb1397466fefaca423cc8356b929d50ab4aefe365ee606ac98549ee882766baabe02e0c5ea51911e6f1726d1315586106960b6165ce1ef4338e72fd141b939ab99daed237a5f63da00a13927bc89a795e2b443301e34150c5ef2e27a9dc2e4613a799ff72c08e419c9cdd493fbdcf7d8e0770c9c21df6bf381e12d65df1d74d6868f9f2636246eb0b245c7344fbc033fac02351137c6b55adbdcb000f87743a93f2c4b379b5b5f3f21f5aca1aaa8264a334f43482be5cdcc22c81bc338421f4d873dba4cdf797fe235c802016536e69ba43bc052692e9aa198844f55d5f5c76dc3d90bec5ed8f073c99ef810b9954af241f03b1b4a76c71eb97e620b7d327b10b828c4dc43bc4dfb8c36e8cd880608f08ea272f0808f9bc464a3d88bb79bed44f27357f54a24b6959c7b4d7c6e2a08a4553c6d024f348b4300aa7578193db357547f45a3ebef09cdc02ce844ea1df6b86ad3267e53a06c4a0f0b9765c30da25735d42633ca7a60ce3c9e21b5d4fc4bf7b569742d1eb69d447eb8d2cb58607604a0773af0ed91e6297d1afbeaec15eafea9ca23479cae78f186688f5b679cbc557a59ff6756f2a22e16ea67a2b4cd0d83a6062b93940044a116430049872d72e70dc50ce0f6ee5b0b2343c185d85b36d3c5cdc55e1bd86823b6ff3a68e993d208605854c8b3eb390da98c65b39755db323a9b543e52d9fe73919ddde47cbbfdf060c800f0a260c7e8d947372b6a9d80d4c52e6cce47045449eb875854cf171794ce8302c2f50504f2e3f4736adc12967ee32768de4f478151236d84cbe001c3673fe58400dc9255f3d1d1b3fc0c39acc4baceb5daecc416f2e34d90d665d78bb1601fc8e381e60592f32a80059ec56514acd8ceadf5e2f80f3b1918ae88175750a08aa273c1ec9356a45371bd792236b9ca12da5f679ae2b2e67ea6f2efca48845c9d5c9acb41bdaee679a7c60a33a61c1f2676231e49e26f6ef3fc73250f92445f95e03bae59c726c37f0593ee35ebd8308f43d6137966d889c2a1007fa7290d0b96ecf43209a3c71f603a61544b6ed7341a5e2661c71ea494d83d2c76b266b196408c1ec7143c402ac47e04b0ccd94aa3fb8e7e96ebc4571bb23eb6f6f2edd28fde95267ba4c56eb0eaf86ec40a8f601b7d5a4d784f285184ba10e0e6883db97c8e20fbfe3206581a452be63ac2fa0a948a590208ecf60055b191864f5a2fe16a5373bce5fbb616ff3fe30f764c292a0bf09ad3733b2437b08975ae51871a7e640552e4a6c4e14c6712499c550224a72f72bb9c153c2446700b666dded549b3f1fbe3e4409c6149ce9f45c5779f8dd13c706b7968dbe8e8bb5ae95bfd5357e970e104fce8750c2e07fb4504c835befcecbdc16c17ddc37f21a5ff45694e7eba6a912c5efce14b3dd28f1e12f866536988871e3edf4e780630e016a0a4f174b96edeeeb3bb9f7ecbaa223859c51a4184b54bb145ecabb22cb0c1f5cb55854a1e52e65c9247beeb6f2071692b687299575f646f09118d2afbf8a1fec6c9bf24aab379d1c274cc162ed7662d7b71847595f21de5ecfb6695bbb4870372b61297d8a737d8780ec46daadfe21792f0caecf1974d512783edac8cc1cc229411e4c8ecf6ff5ff3c101e14d500314e19ce5903021f72880154287341a481a79328b3707b7d41dd0f87c1522092831492c156a699ae0520312a23161efe019f495d0917ddcdff6966f9228fd95f2ddbe3e04e3c59accab4ab3e7b729af7291f4979beb40465c74c54acb68025d3453c133b0fc59a19f369664d6cbcf94f720f32148112a959204579b646fcf806e822f96c1eafcf8af617b61a6ec8f1ac4aa9ee614d4537673347376a4c552af49766e340616303489637cd4ce9358633fb94be1695f8930a0c67bd1c27a21a0b297eaeb472fb9584bd4e70a591b592750435e63dc13ae2fbd0e9aad8ececbadefbda734cfc3eeadbeb7d256d0b8787328e47e680252070c94cc5ba603bd61656bbfe087dc5c790e0da8cef043b9155150e8cb5b80cfc5c36f217b058dfb6297d96d89472036f824e46c89a788a4d2e7fbc86c0d7144e78d2d6f3f38d3719f7ddaae434c25005f380862f690db523af8199d579122df30e0c3376480358a33545cab23d2998cab6e10322e9f80ce6dd921dcf3bae82737e6d0cd9e47cdeca04f9c671b3b1f7ee54228944a7f6cca449fe83680f252d27a448b0234b670a120bf98efad017d8bb7ad2738ec2c806736c811c2fcaba70ee02d757a88f1f323a23c8ea493ce706ec9d18af1f9de23f4661bb9addf225fdd215d69deb816ef9520e38190c4d162be3daf0f52967a5c4cabd710aec462a7cc3fdb92d4c514effda04007a5be4531e82a2ff617aca3982efd257837c3522cc5f0307df76ceb8198d1a129f4c681299e03e10bbba8551d9130a2cabd428d7993b7725279e2d8ce19a8ddea3508178682a5d74b7ea83b0362a7751898ed99e2754616f3999552ffd81a10c8ca8705eff84e0b24192d7c979a57f203420ab0d2d420c1b09b76eaa94eba8091fc017ea019a4f289920db48497e1013259e25937520e33da63c8687a55816a4e98dff5d49d6a7ed851dfc24041a2a6613a96f332dec0fe73a83c2281d7871982693c0680453f9676db8be74026bd0eaa59f36851043d55fd3f7a0ce00cd27cede6c3064d549ea1ae2269f7f63d49834088debf9a83689d713f4e770e39e096733b8990a9b111e641817c834745530d1a3cfa7b41579215f4e6291ae9b9cbb63faa070fd0943c8b0f09d7ebcf188daa4b2a473415aaa2b3637414b138c876974f7364b0f4c2868f0f189826b83927c47aa57ad98333bd0bf7f393a1300bdb0725b87f32172164a89468959fa0608bdce8e32650272cef637ee0c129af81521f5efa35f97f4ad9e725b3d37d4f9d33a8dd330bf2b18c3e2aca9d182c8e4c9a635bf658c9e80b731de4764d5e9c8b2826becd74616bacbc7967eca77ff73865152139f4724ce0f880acb9dce1ddd7a749ff2c6dfb26ff86bec0f2281a8304f1dfad6cf03fad320c20ad0e66580d243e9d5446a4f47893630c33b7c948b513c395ce477b512bce81f03ff3fdf1988102301f678ae59539f133b33b6452526e75d26041a093ff997737c70097dce7c94c6bd4dbf67d8b97ec635c1dabefc718043732a619329e746c1499f5230f389dd60395be7717f95281b7f9ef03f3afd97c668118c9d07f71d6f82c0469c78df6e8e3e0ef1f6d048fdaae612a78440f397a9cfde487eb3b712b018486c37b6eae9d552bdb4cae874a1ba9180c35aecbca772353f92dcaf66f0ac649ddb423aa1472cfe257605bf489e611f11ace3cbf45134bb39c443a277cb60a4337d87c693af7a192d52d004edf08cf92aa2cceb31a141be82ba2926b58f744ffc1ff1453b12bc389ab6891ac40dd80a4485bd773dca2356b311378dac172397c859866192a54fb0f7404aa94ed986382c9035d8d2863f34bdc6bca81f28cfe3a5332bd0e379a43f782fa7ec2230633b39dd10fb5aba2da4625a4451717236269893c8fd889197fc7c23f5cdd27492661dfd109d7272c71e774cabdb7c242210a4cf18a4d9f5a819ef397b5bfeaa9767eaf42ed7f406bdbbe406cdae18d0b88ce70d6f0237b03205313c0e3c3a352004889b110059280b172e70d05c8cd898d1f2fa987136f4197faef73f9f4fa657dcff09d32a586db171503e6c8b7f4714ff4542e81e1978c02fd5ed2b210349f8ff591c9d94714be6a27c15e3ce3421b959c7d1a42208ca2a277879ad9d77bcc1c56a8c19595225e80020a28522f4eaf4ca201b6bffd3e5d88a56b6be35a9cce2b5ed3493a680923f45417c907a172b50dc7fc3370c428e4c5483288a2132bbbf44acb5b9de92f6c062bf470b753b3823058f50a9097c52e2cbfffe64f48dd1ec0ecb80fcddca05c9e735004e3521db4c6fe7257715ab03cbfd78c70d5e6d2b30778b5827ebc3c1b5f45bcb9f17916441fdf1f56d556b62e56c807064c2a29c1d8e3d1e445439051d6497d83f7c8833603d89be5aee48d832d3ce19191c445dc73dde863e69d25fe7bcf989aab85463fc4cdfba0ccf21c293da56a3455d79a3b6aa7826320f0755dd56f1147eee8befbc65324cf43da34114cdd1253ca58981c345e989dd8afc8626ce498fbd96ad2173ce1ca08ab7dd16c0caf63a000759daadf8714ee74feee391a4fe9d8af56d85ff94859e6ae32130b2d22e10a00f1513213be76c1fb552b715e4a694be38ed9fa321661c902a6a384c231ad8ff62aa8fd8b923599723fda0bc59bc5bf9ff66208547162d65bf412641eb64aeb6ee0dbee8e87a7f4d342b868e7e8c99b7627ac53f18dcd2dfc7797007742bd214eae4d81fd31d365f22c2d96ed6b98a059be2d52e531c358e1cedda50051e177717c7922a33de3f4cbc988c9f6f684abfdae503409399ee1f432bb5fba002e1186b8f76979cc0192b04147a0034a56714ac884fa5bcfeaac0b0892caa4aed08b2a7198739c43f629b57ddb34e45442551a7971e18081bba1218ed03af13a7bf8aa9954bcd5ff74abbe9b0ae017315350ed234ea80a42d6eb40b9408f7b369e0eaee9859d6fb9f4ff8c733a3cbbe5a064db65615cdc162c64f48105046ac236127336f8676d5a75323612ed3548923e34bdf2c9de8448a867c1529b64269bdc965ac3f5ab03a968d975db59b5f54e5800810ca05a1f5c237cc3d82b3a345561a28996820d00fb7b173df60fe6fec137bed321c49c369eef448afd0e7304b35609ec707e1e5b216add3e9ffd79b6399df3ed23eae54f58a51c6bbf5ac8e4deeeffa216811cee669c845933cc00714c9cc2bb5d432f8bb27c781ecc7fc902cdfdffafd56deb6c2fd07dbd78a3202a4b720b7a017b9470e5868316af1fb3ae74613840b140c8ae78230feef046a365e0f0823946cb9d0284ad42b64bf8ee00b50ef949f409f95b86ba7e9ed6de5a4069a7476515cb607b044021ebc4f7dc524955c0d47b314d2138840c5f0fa15519bff26552fdfa526c1a570b06f096390cb98d54dabaaecdf2eebc16a56727957dd1c783bcb21f380c30824850684bb33fd62f6c6c77e159d78b10ca79a5557d0ba66f3d5cd8b63de22f0b08402ee53387e38a0fc14c3c42f52f642e79b4af49476d763d7088d3464979ea15560d0b6057c2a552b37036774a87d1bbf03cd624b5fdd1eeaf4f5d4234594f46c6982e2a6edad0690b9a700034ea7632293a00c07549c83e1ec7e7a83f1b05b42758013fa9949b012abf5c8895e7bd308310e08eb6d4b24b7271440cfe1e881acb18f1c0b06a1aa5d6c438e3d1dacbd0ddbd84f03b24aaaf5f1808c740c53c3ff909510ce6b5a003bb257ea80fdf7b7b98d8ef07edebb43fdb03b7382d9a36eac36d969cbc2df2087c994df1574bfceb463d2b8a46792ca79780c054ace311085132aeea9c338e95da3efe65d910798f15be08257707e318427ecd6f4d9c292bd6fab330028dd7f3aed96510a699e854c5d51237fe389f05a1befe2f35d82d01fefed2613acf23fbeb00f295769dd01c123ee5e5ee655478b329ea01ab8e66373c1279fea554000e8167b0ed4df597c9cb5003d367a3a0f1d2e55c50720061a2142bd61424d7da2bc5d662e78bf6926080c36ab86b2fdb79e6e6efd3753bb90a275dc81ecd6e3b20ad83d8d6f272471a1e5d112d3e22aaa04d718d28c1b2d158072a96ced8c12ef658a018a6b678e23683c55cde9405fba87ea2de425e7c74266a0a7c632c8a15897f72c3f6429885afc78324ac10ba6df61ea210f6d22172d513fed6720e69187c1b64468dd298c65c42014c0ec8a76bbaf5471f634040f302f2a09c513133f97349d3576b5328af2d5b77435a563adacc899776ca3f5b7f23010f231176f33c651e4ca6121eb0fae1b6a7f8c644d5428e14fa29524526cca1b455e082e336517319c8cc7af08a7c8ffbbe9d4eda14c5e534505df062a5f1de72fdaffdb504bfe2cf0f1c76d2004f4c419115c3c183d66f56f8951b00567f82008a5079f2085f73b4a73c97aa106bad4462734baffc20bdfa2691e99f87b3609586266f4b8f4dcf5ce38542a8c557cb355daf988e4ebcbf0f3c16fcacf6ad2255eee48a887863bf18fcbef664f39854909457470b5632d1237abadeac679d584d10a82a59cda98c2aaffc96834c3a0e766425d93c691ad16e0a121eb55f595e5664bcb412a36809d5ebb18999782623b829ff84aa496e24ba305cb2266db1fd9ffbc63a83a9fe7d5dac5beb88e87b816f0e591942a192","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3bd92bb117687b5361f803e0886d426f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
