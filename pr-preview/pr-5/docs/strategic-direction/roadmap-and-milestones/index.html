<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"52f9027f9bee8cd41db5530364ecf4ff758de1227b2de6da7f5a7501be844f98d2bd8cb4d317a2fd3c2ffd2aa98924c2343c74922f482606395374a12ac57df04640385a15267ff0673492e2e9e934192f644809fb3af8dcd55ffbb6beeda683ff53f1f98732783ed3798e90a50ec0002858680f47ea55abbe19376293da1699cd203f19732273d18a8a3e2235b94f7c119642d2f34a9db209d88c0fd5f9112d888ff9a148cbff9f474bd9e4d10977a31a773c1860a81ed94168e452b373a673081513c9355519306790d0684694c5e589e19eed8bfd651a2a6fa2e3d890f703538f420cb2548206fb2cef36877b0fd7241722981f645e26f9750d61808fa5f0363fdbd98d1bcda9bdd19fabf8d44fad510fe61b504d519781c352e6a1d7c394869f39613de643aca8353d53b0dca98caab67f9788b7465a842fb30df1427befda677de486e2343f775abfd3d23973e732966bc29c7475cf44969aece911a51838df0464f366ddf56cd980e7d15f62a289fd0d05edaf07f25daa97495c061fffbd02e770546514975a844909e44313433e55a408318e542788ff72b6befd40e898fc5f56831bc8af83b3f5d7cead911d156a17223f2bfde404ed702e5fa23f7cde53467b1ca84ddc221976eac10f5659b4db73e3beee5a499f1753a8dc9cb58de189d71323d54350c29f321afed07016e6e40bf0ebd653679326876483ec524cbb95b2b0639fb0f9ae249e51dcde63dffe2561956e2dfe4999c84823d6665e8c39ca0b3d89d484e79c511cd5dde8de91d0739fae70b9dcbe2202731c757a0c659fa939a87a6eee868e1f1f0b4cdb1f23f2189d5366fcd0267b16c34094aeba7cec3c7097ff809c1a705462164e96415e039a34288166b17573ebada715a0c058f06e3e86fc06f2fe8cd513201b9f168905927fc8f59994518db1504a5a8bbcbca148acf4171566892477e2049f002470f79d0f7c94ee0387d3ac83a3622c3f213093bed6adf6dff7f2c528d70c90a573a99be3eb9601bc157b2eafd42b2d7d7b89f96340380560316c3087cf6ce91e2b7112c78459e26e58ac8fb4cb20db601f86006fd774b1e10d523a2940b5e5f83468b88912fdcd6196fb6fa6d396a75d215071d6be0461ebeb736bd0ed754fdc6ebe79a42afa3642ae9a215776f11df0a542321ffac85d76a45af095d43df24424fb4bf87bc1b2490663777c351dbcf7adaa0747225f3f0471d036ea28219ab1579cb67ef7cba6abd117a792ca9a784783a179d241525ac1d3fba8d04d1ef699fd42b2d2bf5fa49f154823e1f9b2bb857c03168d6785c13bb100ca8b0a36bcabcbe68f3a6ebfafe77cf7797cc88b91b1ef78aec2886f002112188a529af5d8cdd4eb983b65cac7ef7e55d955fe72e68b5aafb61fa5a54ded83ff120957bcc6750d7ced7c22cf435b3d5ff601282dc0b4396369bfe49e5a50389057bb8b77b9cad418e84bc6de8f9d13f825ce8212d817e539b50d9bd0c7fee37b58e62d8efcb3dfc4b73130c7f9c3cf01f33e33f5bf927135e51f06c02fcdb0743f686b2d9513b4b3fec764534e328dc8b62376c5113915728a0f920024e57d743260086079561f8e5bac3040113e4f59fc41a64e24b3889e75579241e75c4a67bffd563325035114aba402fe956bbf355aa981beb09640e755737976279838209887ec80f952dcc308c41fe1177b95cf0e712402c7c6f5cf407e18638e58afc1fb2e7d2941664cae7b9166de4eabb1b666ea06cb13e1f9907af68de1165d220cd19304ccc96700268eeabc1a99d90bc4951fb83befb6ccfa92b6b1cfa8df2e69af3683b647018b3cab985dcd0f25e47895e307536d1585fed0675591051c9544bf9bdff774c0dd32d7f9eec5a6559a4f6cb34612677e77dbcf398535a787a2987bded7ce75862b8323f145339f1738da67b9aafacdb1b84f4e3b97d01a8529bd6ddf1594376ffdb0c41ff8fb5aa7a487040d4b88f599f8777ba8c0fd7bf10563baa68064905ff19afdce9cd8e525b72b12aae579734aa452d9423901a4e2ce480d97af03aa126ee591a24d30dcb07ba615cbc73143262f73598a07c85ef4f971f2098268114ea747c963ee957a54441224f04471c4dc5c50e65d23bb596c57547f2ed7ecc20f9a83282ef9a4bc2aebd0e9bdc7760f9bab3c69a2abcd89dcdabb682717e084a1cd1de2540d48c6aca05106d5f57be6c92946b8863c0b7a80812fe5fe270ffa0e22765fef1531adcf74c48ce448f8abe07539cee805ca2b0a575724da0ae3a1d6dd06371adf4f04e3cc14d7d4f5c4068fd5107e5f0735b8d887cb269542ca683f35d871542145abd19a6e7b5fe3de9dcf6cd1b9601fd09ad7d2ddd8899467a77107270fa50b28cf54733bef4b34f4b479e9518cf75c44bf4a2a7df866ea0626462bee83cebc00467e7db1f840be381eac09daa5fb4b9708373c014726cc19cfcb76f23e52158aa3f81efe6ca4067f339a2983fd4ea89e78a3f3c3f51f2ffc7a727d1f4a5f855d5e451323c457b4a75971d19b4b5d752280e9ac1adb09b469ab5b235e8d8eb8bbaec93a3af60a52d6adad7343f08f09d26c64926627cd52be4841cdb1872b67a50392a66355fd5fbc20709b29521dd6a9821412a6002945ce80350e9173bb797abf69e4be3d98736c600aba088a1d0139465dde7b2b95b0d52fa6fdc87f95fe349ca402fc85b76c1e01062da7783ddb85c7c3d3f64f0e685af7921c256373c963d4fd91a0da9d77a8e99f849f230a7b1d184520f28ee9c610362d998ca56ff6a51987d6c25a377b383f68068f9ed8556409962a72076b88b5d1c1875c3b44ff9135b37b50273fcd1a6d4516f5767e58ceb5124823b1ed3339c9ceb5ead84375812dbe5ba5242be444ce223ec849a9dbca91b68c79d3eacf4055e02491fd846d4dada2a8abd8279389c34dc72a3407371219d80bd94bcba5e67238145cb0b0c7ff9615251995a4e124e0cfc01c9ce35a6116f74aa2355e62cef466db7780f80421d257e2234b198d16fde3eb887b5b9a81c1185c7152ef31709207c7c6b798b9942f39b4228f687d340cc3c181c0ec2ee8e8d59e733d3d223be9ac4c8def2d79bec860138c58e4a4fc2ad3b8a1b3dc04dee68d95149b90023743f6817909ead2667c4c31767c303e9a9eb404260b741d17197afbaf36a1530d0c039b7101e1e493b670f11e5912705d7a51b3f85af1194adfe27e886b024e2a71abe2b38730689190c48a5887d0607338824ed784b5f3791444ef899c158b0709455ec7056e1251ad32573eab6c565420cbc75fbf6553e02f54a2d246d6db3b7f0a87cb5bade066a6f14332bbba8834a840b1f0fa8cdc319911a8cdde45325c81d573db4f7351a23aba3a783187afcde585696fd3187c999f47b0e0d1261a37ba7abf78947e0c1ae1173829209a26d415cc966e596d554ee8e4e2902a2dbf4656385c4c3b87b054ad56f31f26e8e41826095a867a776fabec550a99cf8e05ad737485c5f48bfae94dacb032285325878f5157386c4d05ac08f551e7d074c597c6aa505d5704a7e1a3525e65384fee045af753bcc735a093b119ab050a3668bd6bc0a756dc567aa5d277c4c1dc03e9622a21ede6df249261901f74cf034d0b1fa10ea4e4130784a460ea0547ae4592fbaf823108d83bab346d7b9127a04142385ecae852d4580afb5bd883ecbf4e55c2f962b9619c89feb6c3c6e179b02e6100e8f7135c7bec610cd63c5d7f03c6406ae3d5e02203e4f1a69c62ed8cbf761853cbd8bdf76e72cfe601b458f686337a8e38ce66091e49a2ab11a0dce89d9dfec7d60dcecb016bbc3e7cbb7e56de8401af652992e3bacca0876133e942544c795618c16b3d481a58ef6f32a0c2d6df4737fe42163b646bbe54204ea763c5aa2b3a6e8aedf3e595041035ea6bbced2b8a57f2353731480ebc6ae28030ed591d692905262d9dac835f6a35c583b135305f29040a52e9297403d9dab91b4a44e938308ef2636cbb8a4710e32e8d55b47b40259275e73c44c10387d0a41bc5c7abcfcec72464af0224c8030e5f34fe7a86e56861786ccf4d2bfc4852f4680fc3d685d657e947f5c9781b3dbb1ec5a1443a84a5412c28bc1f125b35ad85ab6d512fb9a5ae63d35aee254b1eb268d14ef16e00c22a2480823ae32d1fec7adca450304dccc8a06097a3850421aaa6f4dc90c43679f94c56da76d93131cdbaf4c900fb010175e945cdb21454038fdb9a18c30c1172b8c37b28ffc5fe9968ec66b652915c2519e2f73aade665ec95042f7e6cb3510daa68a3456dd6a3e97102ed5deab675d17a3a487915169e6d863166c528a918c4b0662254cb8acdc6a98fdf5a0691acf059eb0706e763df13a7e35eee9c9e7a70bf49c9b7344549966af07ed71c5371e89e63b087ff68f57602907770f625d1cb01ecead9151f31e398e8e67d7662216e1788d4a81d727bc2ea26a34af571b20fb6754fe9cddd87bd5d235ea798c1ca6ba6d8be0a96983733822f3f0de703a217b9633215b26f6a1356bc6f4218238cce5121e2c72a624281676336077a446d745bba0df34c2cd76ba2a16b2432bc18c8c26f1deb4339126549391ce1e68ab3863edeb345160562a0486a17c44392ca82eae3216c1087ace0091068b4b623c77778e28c2ebb77031a922336bdbd037df4b65daa03b85c4a6cc7a3e7b924c844138210ce1cc68a176f20c8765bcf25c92f57471924d2de7438119048a7cee9aacc4d91a68591a9158d22b58013206ba0c4723d514a9538d4a8d9cce780769f84e2af80d98fe2128229d4d137b18f2a4b19a6ccd363220d2ec68bb6cecb7a207e433e908f9b1ea31550032cb0b3123bca0b0ecbcc9d923cc8bc241f4b970b1370accd104c3e14fc49f8967e6ba2e07fd4bbbdca7f51fc6f58fd30d9c5a8bb2e40fe1bc5652e81b43c62aed2fad241c49a15f45218d3d4e4d69ed63401c458e88ed1155c57025d8f0007eb731ecc7ccb91921404f9dd20559eae3e4345751c5bbec2e4d9654bac42b739672016335fc511707585bf3d0fba9b21089092a5a8609f48b33b76034b87d9bf9cd50c9a64c6896ece1dfebb439dd6057125fb225541a2544f3aaced326e9b4af570d431d200bfacd7c6b95fc8f47cf5d7e89a997d96a6a67c6af7810b2251e2f8984640d38552d1e351249c2cb69748ec2324cf07f5f34b404e97cacd7f1433ffdcc1b1009b0c03c5edeb2ef7c65e4571a521f933a7286c97916cea49f1de6d00d5e5c9eba6181c80af5a3cb31d359acef0ac9af01d9762d1203fbf2aa10455d9be728cc326082011b21fb02d1b8a355114a20c8095a4eacddc748b254390739ca33f4f71a7c0dd7a0a222092c0fe093960f6fee23d922b113538a7abaed6dc8c894afa57b482e642ab66d97662e9987f5640d72284b860a14f04410fcf5954dab6fc2a2643decd62a5b9abf68d973f29b7c0b820cbda954f53f90251a68e886d8bd5f416b1c72bf6f11cfa4164da930d21c6c567c11ed55140da50e177a046a53cf46d4c402c7c84e41061354067039e91573e9494fb26b24358b889290a5d36d65c63e4dc7a1c580944a438f1175752fb1ce387a85c63fe93f771def26665e51f425835cc103db18002da2db215486d16ee9aebf44e1d320e5fbbc05eeced8469c6c5ce3dfce6db1f3f23019056768b9f3e419e7081bd9ca47c06639676905b598f909c38b2a68c6601f244e34d82e56ed3301d3e0d2d0169266d8e0de9ed35886c5d397fce433698f9799a3e04b153176e9b09ae1d3a316a78d9fc741c838b03e04fb27e05fe228508ff70c288da6db5cc9dde067d99480305d80ce071ea578c5a2e8f2b3a0b9c43aa95a5ade96d7dd554c7d4e90fb08865bb2f2f8b42fe73d16262df06a7ac0d49e9fc9be4f7b0395a7c049dbe9f2ed89a1caec2c5263953d858b3bd2255db075fda9b62a5155f00d72debed11b081f049174ad1321f8374360d21d4f2ca7c46bea86a02c426b3497f2ac02a107cd9706739a8e0bc3520ee1f05c0bf78bbd1e1e3f3acd6f31163884ba174ee11d4b8d7df49ed29f9f71785104f827132f7c859fb51f2f2f24576a8742d1bfa289fc1e3033a3089d693239f5d1fe424aa97afeb3624bcbb9354566019083486c05cae002cd300c47bb49a8fba5df8ac526a0eb838744e3c714f57e674a66d3e029989179bd0563637cf74360e41ef67797efee50bfc3f0a21da601bda6135081ea551c8d51934f320fc588253ff29606794b8f062e654f75f43c731507393ff5f8015099c828fe6859ebaf565d232038353f9c3f877b4f0a5c7e1d456b0d56ec7f1ce9c7138f0509d11f32620f4865d2edd6ef2aa495df90837c4df53de06520147e53b5e23d7009cc28a92710340f2658422e83763a58339028570c06b4c02172978e7d0ac942e8afa9be605f199f1f34bc2dc7c5b5909fddda6d7a522ec30e15d39323bc33223715dab708f2b2188d3767db7751ad8a6568f03074afe3488b5e0b3f2e71180be877a0b913826490f67334eba289bc8c0e482a967e1e41a3e8ca580ff95544744dfa0aafb692e8d3429883cabaec59fc896d9b862b947a6da0f4b5f798d33ab6ab8673cba37b331bda0224f230ed69082b26430ea13609527e48baed0d489b7d62a56a7cfeada2720f6f5f3ce6d360730247bdd4ebc4dbb679d7839e44959bfe5db6d17bc30db9c9e2692e7c5a9ea54c56c62321f379b35d80371509ea3a6b2a70e29587b494470ca133b43af81e9b9cb661497137fd7e7cbd7eb18a0f83cae5a69fa0c1b220085bb288203a906e2fc61bff6a21bb31a9238a2a4e69d372c8853c3efc1dac2d8bb7f368ba512e24c03ede6cfdc98023ccedbf1d49b1510a703586164487769bed6bcce7d1378eb8b4c60c9743f11b75a994fa30c0ef7b72cc06264f01f47e86ea83080390ce547a3eb9588d9715353b90700987894ec777065b812c0e0f72d286ebd10527157e7d7948dff78a3a66b4ec0fa3d37c93807dccb38cf95388bd2f0074e0a59c267a80b672a258a0a3afaf04437684f58eaff22026546dcfa9bf948b6c108f0da595ed2f1da9b647de6e024d73a10120926db49572591d648bd2ec73522c88991aaf0ca07d942cacb879768e937128f0be379c78ebec3e5aabe39c42044567dab1d5d1c58c2dc4074b56ce8e4d7018e68d079cd082bddd13d149e20740493caa5721947414f8fedecc6db6073f3332f84c513ef38b262e27e4cdb2620a883b6f6cf329edaf0acb3388fb384da7acbce8f511cb3e7a942940d95e2cf12a641db2ca2cfa7251c453269fa23443817ee6a5bcf59c60e668c0072f7b8e6f23e152a46934c2cd8f64d49e784cf246f52a152ec257def287aa5692a8608aed28e7abf7d8f0e5ee34f49da096c476cdb04d3341c3c96b4363e4a1ab27e5b3c71d09870593dadfa209a393262b1fa465b7325025c86e49e3c936d3e043414395ecb76b1a821cae282984a0063df671eef7c1088839b8039a4c28c6f8ff5d733365a3f54f31bc81a1dfdccd6fb729dd86c03149a893a1c4a8616f170ce7bb70407786ab97b4174b96dc112c1d8ba3acf7ddf7097016b501e51d92f6631b2dbcbdd658a8a784c3a18952878ac624d5494d6377c42b2bad964fd8e01ab37ea9cd46c21c48cdaed56c060097e1a3d2b2187d8088ba7a964c250f75d83b81a99e75aeed9c0f0d9e53a6de5145782f86ff4581e1d15d1f8ab78cad1038d8b238630ae43e18811260d7df5d3f8e0ed07d96c17af84f3c1320c65e8cf0e5ea78b8084d0703f07a1b54175c22c9e74a5ff433d1f461145fee6e177d5f43d0b0dbfc52b844088570f7ac9b9d6b759f9af9188bf3defe5843e9f34aed0dbbd18c32aff397c89127576456f2d75ca8d394f5ec42e1212d37a6f9a85d983ebdf88160fc1d8eaab97482aedf3ce355bccbc9cad6a4f1ac72283fd70df2b861c33a2ef56073e00dac1706a3dcf161ca89281d34d87aeb6afb4ff84d68878a6df9514343132e5335b9d3daaf57f1a22e239de6760db8658fd904e64eb471d660f5c52561935e56003a457f3a6c89ab89fe03a25db7e8da9c8fd6a0e082d3ba8d24acb76f3f3c7c91e74059814a97b95d032825094b0ed5fe4de37e9cfefee4a174c72f1e37ef1eb891abda37560d1c33bbec933e702648a9da13724c585c29fdfac1e1ba1f203ae0765d30b6a76f9ae145654d399395d45e054837274318b9de4f7558de10604b39ff262f9d07583679449b1bec3fccaac67852ec5071957cb13665c3585d3713f15a3dac2f4a8d266a3332616b4178d048eefa53d58fcdbdd42878ccae91d2572e1c64bf36d46fcb488865f109a365964bd2aad0be88e18dcc623288c9cf129c7dbb5acc8ee0d9c41e5687a1a39e939080b9154c86027ffb6c01466af9c814f93dcd4da0bfdff0acf13ad08a4d0c97fa771b36e5ee6a730c58ed46e7dbacd0706b064c6e915a279e7871c6c216a54b7af2efbb814b2b6f2eba32fbaad0ef434d9dbc494c3cfd5474ef9d5cad7c9bcf6cb91fdc0b3eb75ab715e8918c6092e31d5544cd2c3676c7065dd23a380cd3600532639071ef85530e1c8e3ee9f25e15b9778510eea97099c1c9411da4375d29ebb10e16e9786adad654a3fc20c6be8000149d2a288f6badb0dc910a3abb86d46e5ee43e9430f67ed81c9e8df845b42ecc1791f4abfe71d612479b840e92e76503e46a16963eae271a10d24291e071f597510cae7580d5d194be1c909b8e7846c776e5ec9c594a8692922f9d2f005ea3b0f390926a046ff84555afb0228d14230f0c9de86a75fac8bd412fac13a9e3dc57eda9ac7aecc415301e7bbe2a4fc384058b286abed6e70f5a312878fa4765a63c38ee06505ba33d9502521caaacdfb18deb537513b79d36b5708e3a858b4784eacc695c6e109e4e13c0a39543ca2021d4e18ece7ccd038981697842149e0a477b6ab3193d95facb2e6526ee77d0aa717874a5a4ec4b14072a049b6d7ea0eb88bbb9565f2c689b4dc96fbe04e69add72cd02f284beb11bdddc2aed1e8fee61980847a5679fea82e744efdb40199f5d4efc4b3e913191c4f7a58503166f0f77dd31577a3b203bc26bccd958dc086d1bd65a1833088e7e99d2efaea9aac02017b286ff691b4a35db387dedb8c0caf3693f643d863973adc1935acc8ee96365e6ca83295f5fa63d86b7a1a86c27440d4dae5a5e2fbfb57494091357a586fb289497e420d3000d204a5754c5792b58e9112ba61fe179d0c716eb2429258f1d128e6d5f3638e5384e49123c95524133c38040c60a544ef719aed5513d7f452a8e91732a03d26d43886afedc0b1ab6590e63612d51e6bd3d83ef843e4f1510a5ba640a92c8973a1a5b6c0ff0e4ce256d8aec1567884bcab6e5673a66dbfc6680a5870018849cbd289ef2ce49c27f8314e65bf8d0d6747fc78c90f87d509a735aaef6297b0ae335186abf494eea760df18e718e4059cca796672f27adc8b6ab83bd1662d422a2159c04065428ebbcd8e9a5fb297e27905c0b517b1ea99bf13e01263c26a5bb4e34749fc6c4929fc5076d5e7cd6b30f785535cc0bb6d0bc6204271ca35986c425e7580d95308e68b3fd0712c9b08ee9e8218dda4202c2a7bb2cf596ea587165b027f535db6d470a4f0c46e838d42e476746a79a8ef9c313e480c2ac0043ac0789208ec38f9d91d5b551423d75dd56ef3fccbb8638bc66643efa8c9c1bf60387b6b5d904e2616261b1c2b973fa52a253f07ec5c0fde0ba2658ebf5e233ed20af42245034e775fbcd394591b5b01b34677faaf5224f6ca11e91ddc1bc477226b2e9044999f23a8868ce70c5f66bdbc3d3b07618bca4eb578bbe0542dd032a4e641888110f51b281a01d81161b18a3e20e2be9e064b4e81f072d3df724843a0cd2010f5aba9819fc31b91c5c446ecc6045261ec06dfa0d0950ca8e45018ca992dc87cad66ca0d46bb95192439f50f88b725c155b7f01736486f20065c4368f1fe6d3da43b101d6873337d37cbb3d791ec36e2cf74dd57efc01453b6b6ef7816f9234d0df401ad60f4623cd35a32fb5cc9937085041dada02618a66d5f83b4a435f8d138dc7a81e2cecc5e701a946b9a47378e3215d542a4ce1b9b09223ae3cd7376eda93d9e9643795cad0e0df5114495864d0a2500bc8d6697f46e2d3f1c862e0ca28a6f576a8e5ad51e0b2564e32c0fa56b8f526d245f7d4e9af96672bad0869e73372f91c5e86ec700d54ef97ba97538e3c9198f228b155887f7ffe319c0b873c3ef62657f26ea3b0cbe7e25fd857c260f787cb30ef6501e846e80af5ac102f72dd6f023d86da7a657b7534cf09861f619d30e8b84a3e08d6d0ce3e8bc51137e964b0d8b180dfa74c45e09c7f218c5873bff8fd416ccbbb32c27e6bedeecf95f6d807dadd0d7f763ed97e5dd98b26460b00313866ec97d9ee1b69b71eb963adf4fc45ef87bbc96c66b5157d0e74f2802c47c5b371253bcb8fabe5a87c842ae64e2214e0c6dce5155520cb7540a92d4fcfa2cc4429a126694b1fc9b2a803b9a35674ab457705e9c1bef35922eaf9fb5ec7e9499c169cdeaf26eb32d963480b0424578bfed005e0314c2f91fd844a3dfa41dbbfa3da728d4ad3f9ea48278cd69b7b23f16e7526d2917e6c27d41200f9e8affba7e466eb37110b63087b3b68949d4686dc1c7af48a20341c0401c086b56e2c5295b087399b7992d2325b9037d43cfc4db008f7c666c14fa95b219f5c08c2e6d0dc89a56c5f53e82c4394916b8e13f09d557050857d761bbf872fff62c1b578124770a2c4912635a1d9979b8733c783a3b21ba4be14d58196d85c1a8c53d8685623c804439e99760e3d18e93c668fa28c94d0a72616954b086f4df1faf232cd24796560a983baf49b30e6b73819e71291deeff39daaf57b6a8a19a3938e2471a1a006dda9a408c3a980a276d55c434be81c93ce6cf6d4b19167fa5c9dd6357250a47b953489a65d9ad522191fa09f511e6086e55622d25e872d8d3fad734cb815b7de2dddcfb4feb797469a91cab0431fb2f7f7ae8f3d3149d7c01acb6be8cde4459b77fa168ac79da2530d2ac165d2c0007270a1d324da84c15628c9e7b3e7bec977e698eb48816d3b128a332aab66c356f2f22ed9e541238b87605a277c9718f2b394f81ab012918243f0319f6131ae0ef81d14346f5b933efb0e8180e54ed157a44056e35d90bb385b14d0961167190072cb77899daf08e2069b76eeb143255b5f2096afa3f8b08a0a19f9b84a30267f30a6f5839e76cd64f30ac75009279edc79e998f50bb3cb458b75754a7ffefd3314a86fc2d53a66f4ba89694d23a02012a67f8c36043a8e032a98be2213db67d6e6d45f2b473dcf948caaead5474acc3fc6578bcc5b98a6d1f3ee7c9a292062ce42b5151ddb402afe6f6643a0c6f2ca3664e446b911d2bac00cfcf66b4910c8b60708695c82939737ee5fa86ab8c85474bd37ba278e652c8b6dd0f76fae4170e76b19d6d6d26b4afe4e243d2acc37476830e2e09c72088991db49f8281dcc8f9e72bf230e626bce8eea876c52780ac63bfcf16300c5061bdeec7cac4c24f5bda922f3dd49936cb46278b67597785e463fe9e213bd52ac362d8b93b46f80d5f0dcd2d307bcc1e9241c5b426de27ddb4cd29ace68f2371e701ba3922db8c125053eb27aa7155852859b7f7248700d80da4e0de389cebe4672462898de6a62349fc6df2a0790e8a0691f658d2aa953bc206a5272ec7c622277f15479077bc8130547df33058236a1b99cc81d59904bac8fc9c2e3f6c7d91d4f7c6c40f9cd7fc185dbdc0721b12391df14e73350c017f3744063e65a9df4450794b831d6b45d1abd6347a8d16b9d785b5d0aad452fb39c6a7819b6bce3b91cc6554c93b90711a338ae5abe8cf86c91c1f3b1a3b60934878765826572114eb57d21e519f795647642b414ed3d874a78bcc355a4039d81fdebb2c84a6bf1b46489e5aa0caacf70c9eb8a4757cb09582346fb4fc6db518c9b3f3562261c435f3565f79825ecc04584e2b03885d0623fa8271d1796e4bde2a26393b434bb5692a82f351a0ee1c1581bee9d88de2fc1be41de9e464c41e93c468b44b65f64348a73a6bb9a3de0a32146133225c5553752319d735e9e8a59e8fc6efcfa165230b07f9c678918fe9f53e3b9b6fe6518ecb25133c5586289c5ba8771354d597f7ab9223d7cb279e58a94f89ba5aff6b36f7d751935b0d188ecb6a0ff53b58826f2d3b007abcbeee5fba1b5f8419e635311b0ff4fd34360daeb974ae9eb07faa0455460e303869b246c93b8e0f00e084f41db4747638991f2f696edf9e27e42ba3195edf93ac0e0bf273a76e2198339b3c2763fd99c0de74e67ccdc0fd1cf638f3122873ab656495b013bc318f71a8632ed8d7f7089e85ee0cc9b8792c68a664122a74150841fffc715b1741d1bf98f88cd980424fcaf28b6b7085b0af825270a5637fb0e954898ba30a2ae77ab4b1c3d94970178332571aefa2f41b3f1dcad90d285a24caea22c6105d316bcea965a2bf1018cecc9b0a89b95908dabc8f29c93bc696a63af79f7239cb2b9967c282bb74917833a45d5047ba609843585ef03fbe28dec4f5b775664c43970c0fb7b515f21a1415d8414516cb41e99b3cad05697c55010a53e2d0b7a3e2a70c1a92458842fc10ed758933e0c9adb4a764843874d3828a0ddb34582f4e12d261d00f44a83954e548bcdf3efda1de2ca98f0e44fe8e1f9357d0c2da279af23100e2a25b0b1012421abd2e5d39ecd916128a72ec1249113d1fc054e0af4cf70c029169be5b9905f36cd110ed2c02eb92d23ffe9bc0c5fbc5bde22d5fa0ba1bcf16e2ac5cf1685c13aa0e3ca6e6fc921ce1d9fcd7a606373b8eb3f64a822a28895691840cfcd9a0f0e06fba8f732c9292066fa1518bc2d6bc8a6876ad0f49bc61b96672e43ccf24666c646a6fb6ecab8529f141317edb2734b09777d71329db332a0a925d4a2829e01872097d0f671f755321a8a7f777d458b50c81c30ce4ea62a5483e2e15f5b54546f1d8fe0e4780394d863fac5d03686ebb010cf17ae33dbb7bcf0afac7a962f4aefa8a1e03f63cc7e135442c3d6e4cff2330351a8b0480e90b7a554504ae4c6e5bd37ec7a2a1b23ce0f935d11e6a9f3d51ddaa5744010f76a382a013ca4b6c66b9b4044cb124e2bbc842345596d9d20ebd765b0f50eeab846f700d0a01d93abee25e90cc2aa5af2a76e619bc22f3cb953c1b02c409517cc752c3f717d0dfcaa964a03f803e48a436f36a649cb6a7eb6fa2eb53e33c0852c50193c83945f0bda5afb2ebd198262d59ce7381574aa70d224fb31491b633ea33127c2444e66522bcb9208dc980c733cca2b956f07237de6f0a0dcbf314f7d68789dd1be8f97859dd809d36a9a2fc57e523e5b63a0e06123f6808e3ec3c38aaf3ad496cbe74fca9f5ee0cc7f35389010801a7d26c7bc6d167fd3c09ab54e833f250d4700e514eb9fbb5afc88240709fe4f4bb8da2a7baa3915e0d636b20f99c158188b5c42bdc41b20e8cfc03df2899b0fd1239fc547bb40ef76a93c17d90426979b1c911d38f8395a7ce09389a3651a5aa54a88aaa4d0abbd27379a5648da47781c4469a7a25da964e53b66b2309bcbac1f557ba7ab5320a53d3f81f50a3e5b7153979aa8737b9da32df8e5357b2df3a60ce52f672ad34e3f20e73a286f71d642e9054f1cd1cb780f90133226f82da061fe44c663ee543a3f2e3ccba2d96dfb4f2bc0011210726fd9d5d0f354b26cd867a62534d4460d3c49932465e02f4e5048c60d5451db1aaf48b1627a181425b19b55abdeb77815f39538a6006f5fe74b3c11e81bb4b63f1c3e6e745b454bf6d3f2ae0b7b357474d5efaf8f6d36f4f63f116c7d8530474e88f9004126df62829481b3ab25a06233cc7f5cd5889073e7ea8b7f019fe7f88924d8c1ec069c9eaee2b58c88cd2ca716329a318324a2848afde7b79389a9ccf719df7852500a179ef332c82524a8a75de48922d430795f608b481625f6dcf4db03b8b0563387b3704781143fdc3ed3bb2406d1259068d741af5ed52e22843f39b678ed8700b197633091829b87537ad3454fcee1c46bc8e845a456059754c1e0373d20bd18dad3d0865feb8596d6123b3a28783f667ff03032c60c8901a7a25f904362f1f952fe095b76163a2bbd9e98d3fd84948a99e3bd2e46414810965842173c7634d7c8f83c2d7ec425ce7864c96e64daefb54adfb6d7758344d3d6a2232c883506e01e2b5528d0e60e32b35815ed7d27083b15be31efc75fa6293494e09e907022efab0eec18009e7aaf193fa01421ad07f1139c7645d337c6656cb3b58bf61094cf03aeb2aad8af6982c0a0841c647d84bf4bfe90512b90f6aa2eace5a6503b48ba21ed3632690cbfeee5a0f70750cafb9f87aaa292da32efde4eac7e0c4247c0da28f3e8ef7c80e94ded3d1b6f0023e2a81b79a7036773a9f763199d5905943ba6f0c4f9795ed8feaaf3a5d9050c93bcaa34156e1bdede660fd05dbe1474e0ecb8b27672894c7bb6324d297bd60e868fea88ca2e7d9fccb35265cd589fdf52db5ef03eb088bf075047efe19df130da58bec2c5758061e3b9781de9d61dccf8f2d12ab5047c2322d661fa3c64cd22c066d710f295e67d4ad177cd12731d35bf9699257c135321cdbb7ea81de7439d3cf9a7a20a2e89d255344cde55f4240bdfb7e146aae8eee5629597d6e4f9586a155d77ab98f3c4d3943ef3fbe37b85f1e380bb8ed8691bd22af59d0fb0b5a0396ff4495212f8d9e7a79bc4c01fafe008b73b7b3d2bc834d1d6bfb9da96d62fe7fc00839962deff3e14e0037ccc5242e96084b6b969db0617d5cbbcaebc62af4777be6f8dd5195c7395d0aa6fbd44b632b29b993e80148bbc57c28ad231d79b907a2e417baffad7b38b7358ffcc1c8fbcf47e8bb73f5ecf5b71b58a0650fd915fc31dcfb978dfa0991adb4d3b487ab3768edc44fdbe79d53134494b5d831ab1e1028a084ba4f94910e33a040650d8411143f71ff91a054caba0612c9c814d804a5d472af934494fadec07f0d705e882514d4fc525c0943d040fe1bd605196eced202490c7da3c15203e97ea89e06bb3a294011bcdc7399a618e9bda8f7c7645e24c5df225af83d061583f424934ed8c737464426b7c66ee147de53ca07d26e7896e1bfaf1a04a2258d4c71c4d85a56368fb0604b1388484ca674a9047fda4ee85b30b9645034ce15226073df77a0944d6fa4a699f1dda33ff0cc014b751d4a3b92c85198ec9f309d7913398563c273bf24f3a4c8b045bee84dc51a12ad3dff222b84843aa021874dafe44850fe3472661ec78cb56ce9c87c6556d5f7d759274521878c2e9c97701542ae3147fa1e055547920d32563b4bbb10c56090c0e520a6857c8060439689073f06aff17e3d701e107f7673e10e44aac3226c6cebfba147416ad96ebbb0da5a335bb82d2d20fc6cef84bd958aaee854dbd242f3f2586c1a6aafef65b2f905f748ad483b169a957e759a02d59bb6a2a70d0a7beb193f1fa2ff69146362b3319afdae96a344baf03e92636eb8a861cf3d0b92d3d6aed1bb3bd6fcc6039c635646ef465bc5d4dee0851e92033c8f166373fdc3b92ff1a0043172b46a39be1a91c69cbf29c3f26b354248f2578d87532bdc8c9463bd7aeadbff192f4fd0815c2c11098af252d5b7ffd7c44e5c31314a8af4cb68555f7e4fa567be9f912febbd6758657916291410442bf1b58180e521b1634140544c745b80c220909f2f80e4b5aff0ee75a6bea04863028c8de89ec2ddd6db7a8f3cf65e0dcade3de0cde97c12c1d9d6fd413f83b510ff60cc0564a85765d401745d4170abe81015bbb08efc6b9fca8064c3f63f9f825790bed0a51b7eae7e7eded762532970f2dbc5c56680408c1a968e7165b880b75384f2573b7dd05c95dcbbbb15b78edc347d34f612c29c29b03f61d5de344603fdda0906d0406f2ed2bfaadcd1b354e72f6fcb7db4483925162c10057fca8d236f4673e29a25fea03cfc11b9d7ca0d06e9698cb8a5ffc942085fa889a9f2668968ca15febf33fd61b8524989d89d90c9d0e911f28823dd1451277af5e9b2aad19201d8d4e213fe4531bef58a234834e633050f90716258516dcfb41c61e58222faf435035d0791f21a42895de210b0c7ab949ad31e107eeef5b7e65d6c34918dd8d9e215bf80af04515adee47a65dcfdaa713e5b7e4112c1cffbdab15e074b7c7e7abba58d2b3318c82ad9d1d67a680fcc6ba3974a3b9eae930fb860582d021a43b26d3e0feaff66393e55c25e406c1f0fcf08306bf6d3023ccc22e3b664e299e011c79d7b17250003082e882fcfd5f38a6e98769603abd12da3d1c240d93d3ac349c33b361cec8259dc4694a18dac410ecf322724d29a4abf883c027a1c182e9af62e9dc08e19e22acb2e4c182e7b77853e5b06a91daf98c98b7981c2fa1c58c7d846491299412b0896ff6e004826242dc41625e44debe311870b7423e7c71f9ed3bd00f42a836a9da5d5d71777c4014b3f85646e88aa11b4513daeeca22dc8619e3c277f39834eab6f46565de0bba3ca999da08eefe851fa01e0e58b8378b7ac1fac8af4b49fa4224e7c293ce7fb5fd5b7eb67c0226029c1c2300fc22909293910e6cff6a2019b3301ddde63de0c7a9956813822d4adab8b445ab17da59f15fc615ecc7de262bfc2e722a9b695ffee30bb20789a49b180e87dde1545f9f3babe15afe348fc97ff78874ebd4a0abc45fccfbefa56824053b25743b27bd386635980e4c53ef8204cf5e8aaef4be3a71b04c5e376718256a6d0057e3d4621a28f7f930882e6888270f71a029104d9173a490513194e8ae6d13895d78daa4e8ea9356f95979ee58494a1e3b8354a4b3070dc146a14202633b852232cd7ddda43893f4afc8c088c4df76f0be4fb83ad9d9174bb116da6aaca7360d5bfde1d86011a71f30c9ab621f17cdd4d86ca1ae75973697674160fce0416ec8d8ed74480e07976610851a1dd4fdd7ae48e8e3fd40c9911c6a69fdd11bfcaec6be952a818ba4ae87ce5c2b97cfec5f7051084234f4b14655aadc577212c2a59740312f1ea4e06df4115560b06b49abc8b97c107c5ed4bcb3a55b48bdbdd7405c42006ccb490d91cb1f84763673625732404b9518f95743b2c4284c98f77554d12cdb95c4cdadc1f09f4098ac1e142e4755f5fe89f960e87e35702c9114f4fff710218b2ccb98575469e8022c6255e1c00817b8421438428c78e40d4999180cf503fcdb23c1224e786fde89966c67bc40bdedfa8334163c19de55530a5b2e0d6f1aad69c3e03f6b277c0ca1699bfa3d18a9ce885e12731bc910a22752c08534f7553ddd63a6e11bb238ac50056d0806af70437db2afa9c3b38aecfdb5cc08b000b4956a47022bfde42b51f9b282e058cb9b1248363c5c1e743409ad2d56de3af1ed56611f4e5fdebfe913af80efbf63d6b5eb3d72ff8a2dfac4aa1a35e85cb7b8ecc72cdd00ef95a5b9046ac0eae49f204839bed9c1af77765812fbf99a6a5a3cdec31d4164b00e1fd82ce37a737670faf4fabf83aa609a8bb2346b52bf5e482903c74cd9603b081fdd4f696a67e2e28374e536c5c29c72f7fcd5e9a52e3a3e7df8b54747e1569762253fb5f8da49a3a47cd581b2a90e3185246a198a2faf62d62a7cfec915f828fe2605b9e82d6f2cdb6ebe3f8fa4ef814fe14eee2a24950c0c3da90ed61ecacd157c15951cf9bb2dc7faa4c61c3725ef4db9103c09afb6b95b3449a598fa8bab1d017b1276f43e953bad8212423edacd7baecc365d11b8035c9d5157ad78a1ce0ba26d0c431d0faecc4d0f970b14e03f6fb08521804aef347d14bc15df652d54d65bb853599ac5f0bf2b07a8727fe5cea18068f6e6eea6d002851f37ac29821b366f3cbcf74946fe5c9f21980044b11a3dbdf458efc733541ce03af66f4ba5cea0b38b0d4e52c8619556d3ee21cd1258e6214a68bac7e02cc9ba578eb479d5ff12b310f439ac804de6c3ac3a390b91b7f3ac3998027b76faecb01f50fa610ebd25067dbf863ca90c117d9acbc86cd70309cc4e23a688c4c37b29933ff1f58810466264fb3ee86ecd18a186730f16dc75204b9b11a9f58a8a345a22270ce9cd12bc960e60fd93392b82e94184c53e13007cc82444b6b6304f5c8b6672f692848af1f256a51bf56155bd99acd5d6a3db735180e273f1efa48ad3cfb8763916112fad0791171510ee27d031df3fdab4fc219d11a876e6dd7cf31268ea1b69e3c576d975994f6934e1546d52e2b6f90edcd066cc06dc0a551e41fed1771b3919817c4933ad9c1c4185bb998635333f39b0c096d284a475233fc2aa8e3cdd00cc6251dbfbc54578d3a5e18cfc529ae638920a209b258456e5a190573fd9b029c4de2f5fe2146fab509d74442ffcac5992151c777142b86f6b1bae3d97adf677acca16e43190a99c76c44f452ac5bbf61ee4bdf30d490482cfb6a18d4d26851910eba27bff947c862e4ca8bb52a6c92ffb6eb277d4537660fcf3a3964489d0d073f7ba2a72ece351b293f65bd9049dd2f301c0f48bfa49b97fcf3e40de1ea63c7f577375ebeb059315c8b41f43556d59904f54af6418665bc6dd017d6778b167a6ef213e35f818c3d9804d9f155f9a59c538ad4c439654e2cf564a5da749a60c70a13673f90d5252e5514c5b2b48fcfc197cf5a0da24c9824afa140dffdeb43300f1ab9a99930b502febfa0503c0b3d2171abaa5bcba853ab9c9744898e98d457c66d4f5d70d1731c4fcdf25febc103fed5de4bcfa2b286535b1f667486debf2b9a008ff59750d56c1b1f06ef1a939aabb5f4418db0d99d2c37a45b5047299ff13da2b81c096e010a005b998010f0836d292bce83044744e7234f7ae9b4694c0b1d73844309f77c88b0b021914566f53bc3f13b4e940835204a6c449b597157cd3483124e7bf5820787d7a5b40e3cc9e4bd678b92d99904f26445771e0a4d758cc5f0f62a911a9a84523b61840ffc29907e9a7340cccd2503f7c7d955edfeeff226be376072c21f67d19ca7defa7173d26b","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"c18045da2868ebf6d581bd4c299b8f29"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
