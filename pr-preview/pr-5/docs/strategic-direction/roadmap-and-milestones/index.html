<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"64295973d3ecab99dd9c572d7a363a0d7cefe6486528678b87837b2798027a1639b18cb5a1f51d4a0716f9c4e79d2e76093afa228d5dcd7c63b9780b2f7eb8b15f097d5773d984f5b95fdf7582517388fe4cd87f8c65681e827df21ecc24566d86076f6b5ca30dbe8cec8d6140ebc2c584bfc20b2a7e7d3028ec40f68bc21a62b92cda44f0db13334201ba38430be73ad5c2eddcad1e016f8d5755351034f645c15acbc1c12acccb0aba7e9cfd74483f591ffe5139ecf172dd14127841f3cc6e0d87852fb9d6e53fec21d9b47dea0a3f5a3e56fbcdef8a6306bb06b74097722fcc243c63b674a8cd8bd563223e11d27854621ac3393d9e942ebf0e4714fc0b3071f05502c21022ff85c61b496de10f755ab86373b103a3d73c09b2bf14fa4bb70bdf6aa4a1d49413abde30af5d18e649bf6e0e8801b4c966779569886c8986fad5d2d1a6ea1325479f4782a2b46b5f7bc3e5a9f75b0e9991fa5b285cc0fb10dbc7ec3c2111c1348d02ba6f87e6c8c438ecc3b0341ce7b5680e475836b8b7f6b36122ac7d79b8d86fdcaa2721e5f3b0171a407632f296457ebf6466198249220909b4f99d6621a35374a9ff853d153db684954d270464547815c458e3c760d8c1dde4a678079d0d4a3eaddb822f26c805547d8f05e3910eb495c34f0bf99ebaf4ffaae6c3c9bb84f3d2fa9014a42fd7cf085de84e164afce780a58c5de66bd8d24883c28c99b0c38b23354f16e4d728f323d2341a09f8fc921e70cc486c678868a7fb6ab1fb0321d8d8833648286b4a6996196316ca2ed0d32304e232ab0f5cac878ada3574cc4f4cd9756085b7292d4fe2798e1cf866fb69fa5270e12c7ef332f55a253b401b548fc90c0bdb5af78b4c0c12c8f44f09e695e381834ccc4914910a9805c9e8ff5caa4b8b54b1a9ef0e0c6e3b085532dc4712670a745e2b5562c46871fb149ad690eb956d1733969e13618497d3887b623db1ffae809cf1df57a8f1af123456d590dc29fcfadc58804b2bbce43238aeaa23a4524ca4dcbb76ee844b58c3380e613de5913be86279b3d79087ad8fab6d973545b66b31552289dc37a23804fb80229c16b8d2413c16f0f7cffcc46c1e305c7ca4925ebae95b09e862f00b17412e86dd889ea561a3f9ab18410f190f9c42cb1adbe70d32b0c772ca531b19e447b3a3c5837b3623efcd24f5f06a6b35f263e785e6559a377a1ba27f228aa87536f9710eff528ad6edbef23f92f33adb65b23dfb2e61e7a82f502a7b12952bc4d2fe3a6d0757263cf58be5fd63d7459fb6f4d471072c0c6349e2ce1313c28da4fe7fa14a0554e1f5e35581af51e0ac3fbbc29a08b49837343689aab211690133e1014f07e2695e970e530c99183f74f4388bd571159f1778a081f23a644f3df95548839c48eb3d4b4c3bb2eee9a27701ee2585748dcdea4b9821ea4ed789fc4b4cdf1365b2820ce84335b2dc7f5ab78210efd5c39b3b18817024f80bdb87a8fe2396799f3f5e5f0569bdc93588159bb7a2d82f092e4882ddc056a6e55131a8d7c558405aa0f68e9ca83f0583718dcf9e36de413b0a52955e7e6608c7196550a64eb65af54dfb124e78a8f06672b3dd27caaa9f69302f2f8e7a0a5114e045de970f4f47f7a1f9dc2437434f30f5b0ac10825860d479e3ffe9238e4316e316df006e554595841fafd0bd079acfa260871b0d1998c368f1ab664c5ead13dbf5f84ee0ecaa746992735479070838037fe6aabe0ab272009f17e7f055ff6f80fc9626a60fb05f509433d4ecf3f2f945fea2b44abddcbbc5fa8ff2237a38e7a0feac743997b3885aa96d86191b367c3019539e04ee164bb798dfb49a69f3484b714539b89a8c10540151a691d8343d2ca5f33ccfceb705ff35fe12a0b98c5dda6f3a57d665e8eb29d97a2f944c5ee630a783fabaa2afe7c583c1b87ec35c19eeb0051d657c828bd65c246d08b46597f2654b94bd5c1b5dc6ec675a6f6a1b5e0823a1b1bd46d85ce0501548232265544f61aadf2b831c078ad62836dc38db04bad80662894df9e97736ed7f7ec2ab34b6f78a20cb7c2063be14c1e42629ac8c1f32e9091398cc0b31ac89a2c3c00274924b70cdb32a2208aabca46f6e6d8a8ca2294071f2ae0705d889db7a9913c63ce8aa17599f7cf878b9b134c9bd2e9db9e60917b03f03edc1f0a52251366f8d1ba093b7115532a7b6d26521f416ac68162c1b64ba7df2ab09c77bc10d5a777343f8c40fec63131537c040749bd102b4ab80de316062f08fa99407939132822287530a478ffa6a39fa8dc6179c64d4035ae753910f1a86150a3007685a0032bf36020c59abb0c6b4c6cc5f9d9a9376d4d7a007c84113edafebdd454e36338cbe5fbcfa33077bc699560dd45ffbd5e011d11606dd40a419787ea8162510f18c711e5db9c215b6b2b46f1d2748424914d8e23cf685b9295c3fce5eed490b138424831eb61a98d59594e016d3284e9f26e5a82760ea8e1d74982adb27ebc68b7806a7b075702b21bba5607423a946769bc258ef4c6c5f9c90a1371e807f67ee021fdabd615100d6dbeebf20921b9286cd6693fbfd9d22a1ace2fabfdd019cadf9eda044bc3670322172a2bdc33877a98c03ed6ed8e91c8a73585b070f36ac80f9ab05fe50c023c84963bbb45504a079c210c3eb42951f5a770ea53c6209b4c050786084751dc42e79bc3a9c4c78f9ff29b6190a5c228920a5a35c48d3818e1a93f87405bdca8a0e3f565585a7b95597c230fc99179f3ab48e5fb3628a27ca4e54cfb82c16ed26d008053c60e87d526112d4cf7fd5eb426fd01f53ed0c7d4b525387541742adbad5536bb102cac97e350a3da9a0264cea8b32e9c4b897022c0ea46328d2707e5556689fcab4284ecc393d8362052d026d19c637bc95659a8bc7ff4f93aeb98985e4a50829a19c9e18331c556908619d41200fd3498afcaef0a9c00ee2430498889ab542057953d878a578b2ae40c70941ef91ea5213e5609987fe20ae6fae9d2eaef77c23b99d9d1d23a4fbf64c8197d6a734af630804691c81206f2cc6f0dfc477ce1e1dcb94266d000b7a41378abf59784be12afbeb855ffdc7e2fd4032113fe7d855da6234a9f484c85a8983770397910828371b939c8a4d20aad55c04a6d4469e00e3a114f783c9926d67c9c007aaabb5276ab19765b7444098eac2c2957d7e3844d1694b32200e8b0fbae328bebfedba45a178a14b3f0302e3ededd67974710a7c857777ef26f6d244b41288435ac36310aab849c4d24ff1701125562410b25e8c53ad67ae1f9eb6943741e3f6fa0f007b94ecd462835f7e3cea20a864eda2cd271a741b7f28d5734cb41fc2aa12fa2ccf9ab039418b6c25e060167e7e70a6ec31c082ee833b53bab727c126099db3836067e7dc76ed4a9f8b285e22d1d5894466d98f5be333c9f3ebd5722b72d9949bbf8149fd96d7ad4c3b107a68fb7b5c5180adfebaf5333d61bccd33eabdacbf8e0e641b822b18e241b488efb75e8782b888c7b2f1a75044f9352f64bff2458da03af92712ba7bbd89dc1070f5d3b26aa4abd968134cf052e83cebe7c86eeac760c027441204f889a77b628c9e9e48a1c05b1c10d9e46f092fa3971849c2b1744e43bf1cd91a73b7aed55c9a49cd5a113ab81597aa2f6734aba3a5079887fdcfdb483c6b828a357913c412c008964bfa5e961ceb47c9a2e7eae29e87748a0b31952f157ee26525f13fcb874b15137b30655b2e8feb837708958ab244f7ab41aadec5d6273def281383545a97a47a4dbfe63a7fd646d85c6633a7097c483134f5fa42cfae89d6a4e3ac9cf3814fc09afb6d8d208fa75ac52eb9bca287c6013c7f5ee8c300b71fae09af9b3e4b3c9be24907bb5cfa57f5463cda88d611173df6c3e9fab680de74b5e3eb432027ff08ca08fe755f391d6ddfac75fc66c5c9c1c1ec0e1d07b230a5fd7cb5168045491ed36803373f56a2ba5059b71da1b3e84899568cb8daf91441c6ed0c8e9bde05ec0f33e2d26acf0c5ebe894753f3962b0de74ad7267e3d8803721229289c5734bea0624f507283f98096251b240d2d027fc213ca2b7c72375a483c96faa39fe862590d70c84bf2a5a5fca8b6868b945b53f68222f956ca758482bcc9897154f7fc2d484d0b1c68ceedf8a7364cc27e89961751619df11d85109b2053d36d5075f2d0b696c5d917c4f338c39943903faccafdde2062238afd14acb2e61c8aa1d1f1663ba738afbda6ff115dd623b71a9255be8f984f131c4dc52ba476c8e34ed841b55d5a5bdeef36d950a0602f9fea3b7fa60cc35ae97472ffb3545f02142630abcfb45012ad8d05aa17e58919a2d9dc782eb908b9fbc78ae2fe4ff02bbfd0139a7ce6938371c37faddaddf94f7ebd482e5b9eb23090555846d32d36b2493b672c5841a082dd254c9671375ff0bf2e7b7e9da996582f9bfa21d4e38f135bd1a801bb35f58ba7d7a477ded25fffde0592b0fca57b5ffb5da2167f6c0c56e8c4695d87ab3f1f2235a939ff44287bc9cb0fca065af5583e38ddf445517b25c1792dc92e3866bc712574e1ce05368770fa087b4667458377538a8f1a2d15c9862e373cdf55e2db5ce78cdb7f5b3392a997f73551316d664b379ce3d1bcac8bc903212f561c43020e5897f5ef58209b067e3cd2ab8c7bdaeaca0b2bf92bb0a33d72187eb7e0c46b7e40653c647251d7cc6c3934e5212bb491e89f796cf2ea36f2c5bbae656f353022c8c9f46f76c3b5d62aae9554a00c3a0c26ec215867bde6bc555fbc68b630f345acbeb68e78ab1d03f872aabc61aa28980e3159c9a6d9966358febaf32f5819ad38944e89b327eb81466fdbbbd18a4438641c55cfc19e040cd7011dc0bd8d207b126a6c99130c269866c4319011282b3f8d0712b5390576e50a019a9c0016bf1d63560677ac26dd7a0f5fe0b6ee457d7ac8c6b6de1491121d64572c334fb0f979f6e9e93bec2eb788b505a0621f3bb6ec974f8d57b13e79deddd7765eec8858b32cbfc7762b3dd12eda841aa137f3f983e8325698318469a8da0366dc50f7d5dd58e490b7199b236bf8482c75ecd82b82d283745627c7331319817ff62b95f57d6c52b0a144e731ace811377ee3f65a71f94d8eaa1dfe4ad8dd158670bc0631d4935ff3adf3382295e96ccd855419b27f7f87791e73a1f86c87224c9f119dd1e79e1d5da21adb6a605d6b8d4ff9b710039d2c46b332af082bac65d4038e855211cf716038dd1e50b4e3e2db9353fed650d5189a4e3b141a48c5e1fd3c59e3022ebd847426571287ae236bf089df3f595621af810a2c60647d5aabdc77020d2c78079e7ef127a0bba172f3ad23a3138088e563306d15e13b55002a7c646d604cb1e86d0b1fe945f4d8e28503376d5d8e1245e4abdef552b95a1a1c7e42542ef511afa7cf16d42fd5b5c3bedb450ca428a45747492e9550cb67dd0faf8b5c52bec4ecdb6a68fec31dd2ea31b8261dcc333099b9567e3913eadc753a5f39de087b6d8cfc93a5a3cc6ed237b39884855dd5a822bef470f5b97cf05c2a3f84226e473098bfd2c43e76584bc6ece852458da5e3cfeb7d0a4d83a3325e064af37f5b591a610862cb9265ecf3a0ee19848913cb027844720914e646fc518096e0e42a1cf8e7d6961ba404949238055a8b80e8b8efdda95972d7c120fc82bb88c9198b353758005b8b441ed5e12fd1fb881f17dd40346842e52cd3f8d0dbcda9baa0f99d597a5974a81506c033188fe5901b421c90628eb96e502a13e0560949b461a4315ed88db1c4b4bdfa206851c2ce0fa0a9a25d2041f0aa3d2fb9c892ea4a1310c9243f8363473f3c8f1bf4546e2410676eb1edf6e0774244adde0b4370ce7e1a7028113986977aa066ef992874168eddbc7976110c24377bc36e9517676b00da9cf0ae505e91bc9e11af1e3ad5c2169ce8b9c863dae0b2002458e6ddd678d7dbb8d3a14c8e0aa8542e983496e81bb8d2b5131b02f2591beaa17f54f53fd820d245369d76ff65720ebced9483c2a58afc248f9a866f44f180febf90e1e1cf7aab9084486d39e4c69e5858f599a6b59d66308f8859e81d7b1e80fd4dc632e73230ea1b22e084b82a902e92a8de4236360bdd0b0329b8c39b5a095cd7192b9df11dd3aeb0e0ab4befeeeb5ac257271adb9f6e9eaaf4b65e3a117e6447681aea3a326f196245323d0c87e044610a9f89690a2fb0dbc977789965a66270c4e6a13934c553818d09cf00ddeaf9eadb42ca681f9a4e9bfa8dc731aa3253996737bfea6b7d853c3508114e4c17c3c699bcb8ec4fcda8c93fe171aefdf1662868cc3c23ca153cca6f90abfa6fc759d0332869f03f6129c83c2b69c2421dfd9a660ab72ecd5e792526695fcbfb686b16b16dc6b942cf6d70bfd8f2ec7123dcd11cdd183dfc30f6d096653309ee2bed86d20a86e7b812a2b63fc25b1280fbffb1f5a0a9dc8cf7ff3f90efb0b9629c24f2622d37876149c666eff94b44e8d5909c4dd4e809e1bdaac68e35853f8cc87e5ae0bd27aeb5142b4da4b7d8b3560dd571a7dc5c225d316f5324e0c26354a3409c8d8b75a57956baea1cce66396adc13cbacafb2064bc8108899e5ba3e421ae27fb71dae9a8ac21319f3f827196c15e40a88f1161554e4d12663d60988d0437a49139e397a659864c5116be07567c9a27b16c7e670a0f16fcf019ed5f6e7c1b318953f1825559b09a8a9e1d7b9ef4754f691ef9ef97ead39e5ec20b95dd6d6cd6670597a3fc31d51245b4bbf0ec88bb0c380adcda4535f7f881f6a62f0236dc41f3e606efa263c29aa5fb027f84ad4df75690adf72d9dfec29ca960500d6f8fe92a2c08dfcefe39d9c5a8236c6881541303c63a34134c000fa99ff39ec2cee401088aec9fcf081e16015c5debf807774e2e4d94108b9c17cb417fd78b223590201ab576f5983c46097a0fe486a98bd5f2e0c342121edc14f74989b5c9269babccae9de56dbd6ceb6dd33b1eb5e89b6048e573b79d7cd24b75b73b6b4c0693f4f8a4510e04946a901000289f3fad843bf4465ec53e50ae93195f4f9d8f3ed64ba0e511a15e5079fdbee70bd4398624307510ca002c34291f71e54bdbed1f0d133618d8ac8cea470cc7f10a911c8dfc86955349fde030415eb67c97717feef230546c2ea41d21b16a7d0e646093ef21ea624eec2a2d04bbc889f0b8b3dd762fb1d53e9c31bd738075f6cfc936ce7f1f5681b1eae31d83e7c91aac02bfdf91f96c421dc6e7c36b8f7a4560e1b872e210ff67b64c96381f61c02bcfb10a235f098136fb3b6c4354656275b52038e90a1efd1e96406ac28e3cb39fb53dcbfef06250e61344471c64cf069d924ad8a32c051217589c5d0b754efd75e737b1495b60d3a8f9fd52f6462920d77ae73502eaa484f6b503f54d9723bd035aeddf64d8eb7e3d9e9c931d7adb0c177ad63df4a0449e52a880c6e98bedd7d676f4874ffae9889d51a835a59c33377987ff4175f357314613f1dd237f984f3a1d909b96986a99d9c7dcb1438f8e413ca1b39598d4a99336b584c102e68d2dc0e698367a1502f8f8ac3d3dc36299a4694ca22b2d11d641a2b0681283abe88f627f65b2d1777d071dc57bab03e2206b11cf57574803468402b316032e17a01e9b5da2a2c677f83425af3a6f8b081cb568b6f6dc2560ca2bf30e194a7725671f449f4848d8cce104efe5a01316a191b2a2b409055a0b7d602476b9700137d00bef13f17a26410bda02b047677b6b9dbb7318167ea83d3264dbfc8334592afdb17c5b88471253c36a399b2655cd35c879eb5a1042902a501896b18610b07900b66d7e31eb3f46c8ed0f1094276e9f859592fafead0722d7827bcd237b2a6fd1ae8d6e3e3aee837ef4096a0c312fa4d2e15ac806dbf5e45962573528841122a2be211b116e41b6438fd5dcbd35510e29ce2156e836ec8a9bb843ed8dca3c31cdb6aad96ffe14db8a6f5123a9311d56a7921e35d9d14f45bbe46730dda70fd1a048520bf5f3aafc96a84c63c13b877164fef5bb077fbebdf9882f98f6c1fe0952c8756d8372c18fa5c4d1941be830cd94f66823e7408ec1591c724caa3f2f6efe3a5a8db1f83da88172061913b174cefa4895ceb250c6bc5a049e8c053a9b8046f22a6bd205d060ef1e155cc2e4e745a004d838c0555ee542ce5224b911040497dc9ddc1d989dc9b497b94d4d4aeac7f496ae025b2a960b75af7c74d520c47ba47d1a72f10047c6e6f7003427d85966f588cc19efbb0a2fee15041992eb46ff76fb0702220470bf46920b29b7a0faa5a618f55ad4b19f391e2007041865d5c0419cda642081bf7d1e857c93265deb02017f381720ce08f366f1b73ccb0fa48e7e509f8977d2b2aa001bde902eb55556045476f3c9ab43d415bb5cbc64a22636cfc8cbe7b64b41fca47df64825eb5e6b364bc8e9c960f226b748fcbfbf7163ca8602f3ebcec91cc8ebb1dc1f3b2dba22ed9f1c375bfedb3a1818880a71be5a8dc9944bcce69a5c6889fd0670c5108fd09f101dfeb01c677c8f52c6fe89592bf1c736dcf7455459e6b0b672f153d603919b3a9c7e17b2c2f502246ab54f64311a91fec417d4506f727927d7bba317737cb256b30b670274402e6587ee1c7821ab2b629e1f340a702a629068864b6905d1be00bad01fdeee1f6530e8339bf9d118aa60a3554be5b1789905a416eee822fe7c976153d0c1d991a135def6e27914f7873c0912aa6fa9f4892af7939ebed45e63b07f6cea01082e3efcdfd9f3fddbb0a1a2695e4501d1ae17f8d41cbf214440cfd57048a42fdb1223ca6746e371b657414a1f36ff891631c236ac36cc59ca03325d3abc27685a6628c47726c0a2d5e00a86f82e548d44e2914a9708f7b732ffa0186ba7c5a155328a2fe1721400c63a8a396f2163788b7d7b9e8f6929be1d34d3875e1dd8287147ab130147ffc4b12f4f6a9bd5106418c8e9588191a635ab3e878c8ed2d51485e59af3ec7732e721102671bd1924ec9efd8bb472412143a4995cd346c4f87b5d7552169071e0776c068f5ec3c1555ea3727346e5845b28d7ccf56ebc4133b4eb44c92b6389845d75219ccfda7b6cb535e2d2d3e80dc4caf36e1dc21822d090c14ed0942f4a48bb46d1121ff276cd4766d22856f4ccece21268ff03efd030fbc76e8c415630e9294ba1e8ae92cb4aa30f2df34a363fe9d75df859522a9e7eea94ece155590857859b63764c65e350d9c3457a8e70f2862101b6cc16837b114c1e518137b10a0f0b8da3ac01d4c8132134318df3e154c8cc39a7e55de050e3d25a26054209447241b1abb83dc03cf0ff4a2cc980004657d06b0a63e3bfe57b5e29a3037dfe6288443dc9a332f37cb12253984d048f4b3804055569f9e899e108b3106741e7c04e4873d1c7968f746bd9119eb7c18586afee4cf1504ae4186d51b5b7eb01cc10390d6ddd12c9ed71e2a353efd7d452743a7a45c783b3eb6f0dd223409ac827fab1e05d2bf15887febce96240367c371fe1595bf48775a27c42463646afc32b4cb3d796fdeaece0d833b6c9389ed8e9d0670fe8266a484189e3ec027b1fc31e1d7befe4d4913639ed1bb11f01094a70ada025b9bc034fbfb7a780460239d1020e6042563250f1095506776aa31947de8e118a8164a819c01c50c289314dc37a53933e65a77143b3b8bcc5a563b1a80177edce417af313d0eca6a491a97fc8ace473691a78bafdd21e1adfb5965cf108399c76902f626ddc89c6fc3984bea76c51284371e41dbaba218affcb6dbaa31ae334f473359ccc218c38174ae71a32ef2360bba7fdbe9b34e8169b16fa98c9b64e048f63bb0b450973661d9da1e1e0a16b693dc54b976821b8c0538801f2f23e5f838bf70d2e3a98bc2855c87707e576e7e894bdbb36dfc389bc4d10ce67181624f26ebe9a30aad58a68d4a6ba7f89041316d9461b81432aa557630ffed05ec2ff004c1a6fa7475ef1c96cf2e5218187b352b839f4339e813d308fe002a38e3de48bb3471a90c0d4bc9c10926710a27735e904b0a4db65bceb122c5fa463feb09cdd2b9f60dd105a76d93205f234d89645388d41d61fc493040e7926f05bd4084dc04afc2b71f2cc910fcf2ce6203d31c13ec1beee973981b16159a01693dc37e97116ded806f6b45171e0c636e768e8024d1245aac2f3a071c8da4dfad14084d40e83fdefed19ada50a6f6e3eb2b0bf8d3b93a71db59bd786e6ed0cb749b386afbe7ba5d7beacc0d78778a106b76b1e6a226b3a0fb5ec0c9ee301da397a58bdb43119d66f08e34103130f3ae6e521ff62fcb970576b5adbb2bb5dae50a5d913421c032151da97d6c1b13c19ae1b53c327f98d854410b5b2f2931ab7d9a56ce3c050987ffb4f8fb3be34dbd8dbcbb60140b6526cd37542941b0b2c877577478c34313336e8a7fdc31ff362b1b6f30da2b623d83c45c1a919bdc5b01e01911ac5cea2e257683dcd1315d955bf16de9affd1651adae1090fd7220b8fbd1a2c9950f2590d688f97b52fa30202326e1ddf449a170b9cd3f636fae4ad62abd2a64b44c2e4414f29e5da43b62d1593b38d716143bdcc8a9383eaa43a5a76419c5c4bd438815a9f6b7df12c99197ea48ea25c50a1f8a2566b27d8844887cc6e33442ef52d03a26528209fed4922008a5a8c4280930e213865943f9d0533638a6fb8cf231436ed74795a87511918cdd63afcf45f7bb9da226b2e2d15a7e5c8c92f7efccdceab94c1fc5c85b5444388741a82feab9cefec8ad9b1995dda10536fb5f4ecb6672af340e6df1c7b463b1a923ae172f137572071186af1282626a738d144646d1f3d6e7d9401b4781f5dd1fd34f25aaa2c7abad785fdae1856605f5ea084bdea7001f602fe713aa163378ad2e31a8c2a413388c081e295c6835c1a90c58a55cbedd834692d636b91277ede0c56fd52e6de149d0fc32faa2514970c3b5013dff9f834db696986903e6e3e59512ed10920d026fe23073cbd22f3dff7dd9fbc36c677d333bd136c43f9ac961964d77679c1f7cfc14dc20dd04e49f4704746ce4792833edf0a40aa6ce6c885ec25027af80f6e00192117d82c1c7b600874a9517da81f8701fda0bcbe34d3955ce4e1fcefe558e7962bff0e3842ec0de08708e4316b9e697b21b6630771ff1de4b94acc25a90542f87f622eca730b93d7282f85021c36e3a2fd04cbcfbd22fbca51f7a9407cbf51e5eb06b266bacb5517356e9ef6d73ab267bad71ea9ca4ec8b3e73f878606afbc79ab9326b447bc668b56fe93d3ac303cee6e57b4515a1a424c5ac05cfd2a2be49e1c65f08513fbdc02eb0386d1b98891a9a8283ae1e73815b531a3e39bb76b2b5f2451ff59b2509d8a360af3729912d3f1a088a132f5004f9b0470cd8889e46a17e6037efa86df1c438463f66fb645b72b93fb2697cf6a20e475639413dd4030fc083f2e7253ce6b76a42ca416c561c00ef52725da65d660167b87ff4cee662c2a9e227ac8f7f132903a45e9bada3821c4688d75ab2f96d7290edd12b3bb83789a2aa6da1eb8a653cf390e9eab1cceb7cfbc4a4baed5ef08a776417cedd5f50514d34bd8a58300749cbf955d2333943e83a8307898860e0adcaa17736ab31c7215c4a951da2d1669b93c3551a5179c02871bccdf37e62203e4fbb6ccacc57c3805bf336907c30d751ce57af274b9ed79b76aa109e0fc861b9b6fa234740da73582e2e8417a0a17f130492359f3ae11c3334554e61f91620a6721d00580b8a52c3f3066610ed86757e798d73b6fae47ce90cbad14341f65c3b8f8fa8030557afa9060bb07e59c5eab4c36839a353abd272223c83d5d8fc474462764def70d28828a504bdd740c7e621ca59c15a4c40f670e0a8ee0dceb884e42a34e0db963dd3056cb9f84600a816287191f45fcaa8eea7831d5cfc8c9dd91d114b7a35a383a41b1c9d29179e89fd0ceff824f1bb8bf2b9e3ce791907b53f88b7f189e5d9239f2b6a0aa814ea6d81ab7b422d7fd0b28e9ccfa7b7b87dca328337f33a41f9831e92f3343510847f4b1b4630e934299e0cdbce1726c681069e71456135dd0dd4c9298badabf8d5efa3d1457e4aa42ee1c34101bfd925362a18efa53d8693bb29051d1f71f1a7ca8731add27817c300221f4cf9001fd24ceaa484b21932e6f1aa823402f1c397c82985f57249dd7853ace0a8a8a88884e5a0bf63bab2fcd624d9c5bfbe8fbce7b6a71d8cd274b9470d7f83f96608f2a779c25201baf4600c0637f3ac1a5a6ada51575d31812b27a6187e034ae9931c4e2c7db5aae18f3218f60665cf9e94fbf37cffa448d4d9860c8613412a0dcc92aaef91a3e8c3867191bdefcd00ff8d8f5675f4ef88e12f4ca3169f349653066f7f73e4ece4950c962356a649a11ac404b898434c9de383b8333362261be3e7cd91085538955d7449ef3710f504ec8315e5081dc6d052981194da4dba4521f2a0a652c7a4f89259a39d9fcbd1284865071b4be3d13a085e28d48f66f4422bf124eac11db48aeb68adc8a8d9d316c605387613ab5814173e88e53e64de9a632569227d3fad7c1924ac2240828511f9c367d57ebd971d1c8ff4756f33c22073038c46e95cf19f9f3190af64f30c598a6c9f8394e186d7c9bbb7721c57689498f0c394053eecc362333ffaea80c913d94ef9eae29c7f5efaffb3662123fd330d35c4c5f85b6a45a97ee219bbd15564f74dc738c316d51467da1a4fd4ddcb83895e116c2f4560bcc51207c943d4b8d452f32905d7367e8583549a795edbdd7c4779ed9caac2cbb8305ffcdbed6d49195ee4cb3564a72b726b4e33e4b626bd45ea578b3653b298655066dbf0b8dd238d1967712602e2e876641eadd3b2653b83895662fc0ba15b72a401af18816a2930121bebcea44bbc516d286d1fa16644ba4257d60c0bda03d2c56926d9b3e5b529b5701ce808d1974bcc9cb68877a59a51a6d95a22639f839a11560059ab329049240a3063870a112b6fbef2349850e0a6db054a39dc70ace55b402ef738215f65f755c0b37cc5110550bea99cf5378386cab5d0898247027a6de3af50d661963225bcd0f85edfbe874ef6888bf340997ea8c009db5088fef6dc7fcaa4c9d994869b6ff116cbd972d53c8afb1f62643270b7cb4d3dfb10d4ed5046ac8df6e813b57cccf9cc391afc5eedc5221cd2210803dddbdba73ba7aa6be44b80636ed5ea1a5d63b99e60132f9f54040ee14ea9724aed47b3aff5e599be7d602419ad19ed58a67d3ac7ad4893b7baa3c62d027f6e27e16305bb480016acb3909e85be3b537f4eb8dd6594e84f3151a82ab3b1c1b83307ba58e4676f25cfc7b655218023e6aebda85a1fbfa1de5cc235ce942d2c8249f092b15a8b5805329cb0515f4b7273314e4db25ebbea165577dd599c748de3450f053ed6c26077fefe35ec741d505d7d9113b2ebc7381a4279e5ad93313eb90dbadbee858ebcda004df5e117ed8c54cf0e99a1f78aa7a138ee184372762a5ec75040262b29cd92addfe1de93505400f317d81ee3b2aa6822f9d06776a3016ea817bd0d4b4755c0ee7a750cea9fae9618f50e84b00499ba2300f63907d10cd1aaf0dc5b778eb3fc77f9bd287505db71c026da115fc8403b61b8818feb1e68982e14c996eac20a6268444a827259b6999ec91fa97e7ecd75c6a681d7ca1fbc07f73c7e1427daf17663cb6d8da3a83b1ccbc759482a2bce5fb1b182305e23818d50296ad99ba3addb210ae44f384ad2f86739ef016e0053f6d7ae5a41cc316185b78f7522a1e0643b9d574324b1782cbd04ffb85998da1301c583646f922c6d3a61bc8994fb5f2bb779edd244f5b28880d80c4834d339b886ea125334df0d7b853a89f38de560cb03c5371c801a38018f484a959d135c5372b9b91428e8581a3293549fd01a09dffa478c237bd05bd1fa06e07b5a53251d281793afc3a0403851ea972716e4efa3fa7e3845a4318f58a566cafb3bb6f3ba1a6e54f8d55cd526505dd37776e2dfd055aa3fd23e622286ce5fe3b638f00b99489f9741cc5fa7a943c66af2fe18b958a2adb75fbb6729a37df76da9fd638a7ca35982d018bcc5d4771ca0c0c3b41df6f41ec7a95d06446177b1f34277193694a8ee887f1e46aca7ddc278e3c4430f7e51d7a8efbc2628c87fde3d662c68be900ad4bbfe5f7927c707dbff4d9dac69f87d1bcf4e4547388f5f1655b2dbc1d97332961461f25fc692f0e69b679a9be227c8c12ea58488bb4e3795ae617cbd1a5516efb7270d9d830ad352b2d15fc00606ade5be5850adf9381be8eb252337f4a73d3e717925b2eef5de4c598d05fda15d16354a3a94f316716fcad63732d2b6f48dd8a23ace100b72ef101ae8208107d5fafb42cec43615cc77e78be9562742ef0a32efbbb5bdd94a73df4b363649e42a8c5fb6f84ecbd6d89f78d2a6cdfd14d3d7ea542c9092447ee19113c84475fcee4e10ca3dddcb5548f780d3114ac8e8c8906656bd81512cac5ddbefd3340cfc6cdebb5d8906ddb3fe22ff48c59ac89786110a930bfe11c762892f04c6b349807b0d19a231bf391d42c1f3b937103656837433c517a07a8705981cbc53a9f7088ed119ed2fac09fc88ed8b38c862fa0bfc143b85c0824351bd2f104036befc66a860899138c166724b12eba7d912b2d12b7a9250ddbeaac686932e7dacf52225a32601b0bc09cbcd3597d71cfce039bf29d91a3c6d9eb103ebb24646bb1386d44a58b80c239856a815ac4d3dc5b20ae4e6109c84cd71c77b27df8b20d685496e919c228170d6aa38f743d4fe7f7575ade8dba6b2439507ec6092613044da1b21b3a0636df5aab6e07731ef1df871397ce7246d9c2538b1c86df393cbe3a1695d393bff7db3a45d9eeb1e6adaca01e834a1ce7ca93df6f3c1de97750fe9a64ad6889727925f04919278acf6afd4fd750bfa3da54187a4b31be704d1f123726325f0d93c9fc81002fe7d4dcdc02d2bddbeec0d98cc93cd54f75317a51073e6246ffa90f1ceff3d29904870b489ca91fbefa0e575200f054a031f3ec6916153504762763546089ea74206f1b4ae5f30d6775cfb263cff004916a16944b460c03681edf3cd2796e8a75ce783e79ee269d4ca5f2f204c80801856e8715885c968a8b48a8c533a76efce9524f1c8dafc5daa64f08d243ded161aa290927d12456f9fe71431d90ff2658e54e24ddb1e52c27b493f72e8bde888463ae657386d55aef0aea87b65bb1b2a1e0f5681c81c8054b077df853365e37e54d553fecd40b0beb4e1b41f8deed5606db6d4258c616719a583ffadb957d5ca270c86ffb4925a0c8d669362ac906eb4df4d209bfc09c35d46b8ef6617f22c7517ccded1647fdbb084bd9d9923cb57b42f41e59eda5c18ac015b944c167f25b09db15418fc82d49199d4d8b78ecef50d8ae545440ea5d32a0c20b9121faffa147a5c3cf81b008593a52e7fb84ab1fc479647b27acb89a9e9cfca1b1f651160b30333cd4f5bc6bd69231e317c78f685dc23d214dffa73cd7e12ccd8a2874f53a36935f4b517aa65f98965f6d7f991045eee89469326b90758d4856d00bc1eb26eafec25e33a51de3e8594ef73ab5aa5e43918e45b5b7f508a809aeaa0c48d254c3cabc8ff11954e6ca1a7d3c6ac621040a9f0940daa4a1eeedeb22983b561853fe88f9dd0388ff4331a5e726b07500d17024e961bc14512553af3825900405a9e4b8d92fa5d00100d13434fd8cb4caf1b3dd745c014d4ac4b6583b0b44209db80d1e3d161e1a878a739de1e0a3facfc60009ef33c378502fbd1ca079fe999cee81bb4cae41927f510629d8fd32d4cd9597bfc7e6b0b4eff89113ad7a655ab91706c622f67fcb8a0331e2f0d741644e3a6b974eb472767c586f32270a3a48025d12eee629ff349ae29160ea42b4cb247b97f7c53bf8d3d0f2423ce70e3d8ad1e3d2247d353a7de09dceea84c94479e5f86573f51f7a87362addd7be196677a54838d4b487949c7a0bd093efbd0466fb4bfc040a98fc96a3af5d4ca6641b70b320c8904278f6072e1d4b7ee839cc293daa223479667a57554ca62bb9b0083b4dbb229743fbcd215cd8635f74652d2003246c66d48c790e53440d671be32ff4ff219486ee02ef5cfa669784fc2bec65d1e7317b9e089ef84898d00d1bcd2405e31525ef5ab187220dc797878c9bfdc6d164d709f942a19db883add3759f0414f87464ddd3d3c0773087133c71b5668436d4c50818f409a8754b701351dbc8152f4c6bc4e887ee18b1ace5d676d94ff9f58d1af96c073f4833827b149ca97399d2bf16f143e55bc509c5cfb3bf04940e6e2e595119d2338536b06c2ea96b43fbd99a665ec743771634e3b8c90fe7715cd059e84448c70279f4926723c1e102218509a835306bbe78ca9f051bd6d6c323c985d8bea547375e8509a81bc45043e8380af6bad7cc1cd88e912f46f756fe7a6da4a0e6a8f08bb6028e6fc35b6b0066e77f7397b59bbaa36ee7e034115d65e74d491d0de2a3b2fb144ca9180b086744a7b88b748862e5213f57879243070f383259381ccf95aa2dfead2edffec726d81779bd3208e81b3a3f5cb9608c1580e2e9cce74e9cc25dc9f8e320eacb825e31c52681f12eb82d7046c7e733e5d619ed4802571f5f9714b02f88601dcf0c8d4f2d2ce87a4322d792662f81f8e7a1e0394ac52a39db91753e37380fade2f36a51187a254a844047a8218fc163f0e84c167e50eafe3d719a6265fe175a8e91ca6ea947732d32f709ada35616cf7ae1b8d1f0cc1ae7529de83cdba52589a6cc694f4c13312da1ca7dec3fac2ce821580b2ac4c2f5a23482fdaf3e8f870170e377b76eccc4a96531378d61986fc09445d2b0ac6c79a74a64271a2b9bd30a672ca13acf19a62bfc3cc71041ef7f114d9fd0121df1ad65fbaf80f55a06fc1708caee4f29071f228c106e4717c9b2fba963b400ec1a4bf6104bca6587f0e285cc59597f4f2d162e9ce83749fbc588d8cc3b65f61d595ee2a02e214d31c84cfebfabc10c79a6b200c5da3a52c5c31daf1453a8ba8eefcd92347a86b0173bcd57dcb8f914864a7194d4122eaf5cef1fdee93c87598eaee37234bdd3173ed237b4bcef2d3ac03f13ddac9248234dcf4fb1e4157f9a3fcc41291f45edb9832514bed820a2d4d35a814bdb71465299246029a9fcd7dd4741003b833ae5c25e108414242d05c8a934f96bffe034c95ff3999cfb084ff6fe6e67a78aad14c4f8e3c8aec9e38a83fa51dd462d1518497bcd335315a80e1ec3a498b6fb475739e6fcc48f4d0670815475da9f4579a8ad2ef40d04767e8fe8f244cbdc4aaedee46067e287174b973561f92e8640ab7c6eb0dce7bcbc599f777f29a2505cc019f96fbea525319eeffe47785d228878e57ef3010935ad985537ec97a8ac6ef549e587525024857f06dfeba6663b8dc3f206535a7e472752f6ba650bceff50a2d2033f1d0dad3d2958e86c5e43e509bebfe9d8ac6023149df5b4c4021ff48eb791542f5043fe084c87dff8def62521fb5810e0449cd49d321577cab632627384cc33e0640a5b6f75bd5a105e160754f298008c92c768d06d911ed4605412831890c8f8ede15ff1d2a5617191f39c73c204c91c555ce776d29fda4b651d9a20b95cb964ca9cf4cbf721ab9723bb5b9bc12ac849410faa457109edcbbc33766473f6499be630130c05f1a8ef94f54b5149732cc9d827a8dcb63b5cd7aa413f76751a9d5ac883fd27f89935f3521818f7b4222419b871ff2f54444a2a2775f6ec38fbb84b10d98ed1657509e77ec6125251720b5f86e2c2bb306f20c49cd911d17d5ad30e3974e1a86e445fe125961d6d815fd5d011b2b61f6b335070b1c5e905736a9cc719d0a494cc6479a480318b1229e79b5373af328c4cc71ad9de5afef7cbc2b1a1d96dd75a928798a5730d87e19fe0628606a6a728e60464b905bb7b6410b5c2fe22637ce8e851046702dae684a6fce5e3295a418e1a4092668dd36cfd350e7dbc397ac6ae5b0aad50feb7a0b33455a57ee3bca506fbda306d1479c8123dd95f18a3b8f59a35a9d81e9cd2fc74a0ea77f04e01655f53564b66ed3216f6b2d5ece3d5983a308263c8ad5d29c5c787bf6288583c4b0cf26e6ea0fa10360e23e8f4acede3b2ccb344745f1deb534de7edaf29e9f33d98cf5e20b7343932dad88c0572a8b76dab70e63ef5a5de70d93a5cc26f799cf72e1a743bf10a5a561792385d2172dbdd7b750054f323ef73ccf2db3dc0a8d1c444611cffdd4ee1b075b9bb3a40ecd781a53abc2a85e1cb7ee66b5336d1b1d3cb12b428643f2e87133ecc017cdde4316c65a379544137c412b8c77f4f5ab8f86558d2616bd530f15958cd960a505f781e97be74e5b582721e7c87453d1c15e43b74ec8b27566bd834f9f533ead751acd46875a7a06f0c4d94abf26916b45c3ebb2d4e70ba7ae365d1b331b54e5fdc3541778e35437ed142642be8ccd5225e4c5a6006cbf9b7a59c041aa604cbb5db4b0c3ca9916c909ee7a7a1a85e4a8af8794846a366eb97d84fa5ee3aa33658daad8c09fb921a8f69c407699ed248b729219ff95cd1bcc32608d31d4499da2f98e58791e583b9f61caf52ddaf5d7b79fba8a63917fb51b013858d9b3ed9cba5786e66579b818f5c92196d6c1eded9b42dd2cc7c4f6dcb4e50fa42687a13d40d37aa2e5f184c97bb2b2cdb8d4f686b37c7d4bd09f50b6d6c1bcfe68690cfc74799cae03ec6ab0da2c1b0d0c048f2db83d6ab6d1f26c5fa9e3c15e9fd172603b35a2a1716bd9090060d21e970f136545a6ebb7bb4db6c308209326a3df090a0ec840fe5866b83e03e26d9ae63cae0dc770ae047e724f58622cefb4e734f41709aa44a60ca92193e6270ce55a0e0821cec78af7bd63ffe7c2df3dd0fbf00821a1ec4a31bdc7d57f592d389869b420946b7256248e8dadbe945b4559d25a2019d3e481078e1dfb50b20115a94ea943ede57760516cceb036e5740565203b28c161b838a7959cff455826a8c64c8543ee18cfc921f6e0409a4735f7af3032","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"e2468ae4da1f00a5f24932712ab58fc4"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
