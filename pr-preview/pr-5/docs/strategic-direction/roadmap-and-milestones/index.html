<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3333c3285abd4585eef7b6405c4dd39efa691bf50ebe07d8f3ed33898890fe07aca6eedd71c2a97fabbb71070375e89976dbc528baba8c70bd5b19986990a5d1958484cd8e61d0e5d6bd08567965447a82463f5272789d1ccffb9f25e94d985c833ff71142c9eb5d7fe1e8156a9ddc8a61e69d4c3da97d3ba810fe7f1b4c7cad02d2cee4aee9ff9c50e5a40f6a8d304416b21d72d3fd898ef0a58ff073d652237c8d7c92895ceb182c1082f33c198a3de00b18e743cd535fc5f859e2c3199885c4ae82b3453b38966a6fdcd080f7e4b73c74c1959491ef27d507f29391d754137972b2903109a436177bb519fafdd4bc0c5d8041b3e49acbd65d41bba46a7f3c356dbeff0ff1e97ce04dffdd20149a4b0a5c5e21dbf53a7bc3523fe5905fa643ffe2373cf0e6f66e7e01d938440aa0be2aee96d999efb19537dd45deda3daf089817f5f7b21d751665414dbbb3092fa93aa506948add62fb4dfb0dca1f643f091fb6f0714420cf2c9b8af905e4d7fc7d21a53b5589fbbb6d29b05cc6f98d6786ab9e05f0e60c4a0ea38c6642a5e332fe3c94602387a4c406373bf868c3d4929bc11f9b9b4277a8e9221f753d81f83da447557f50ac9117113ea8d7ae91a3c68bdf8fbdda655942d8a8f00ab6710c90028e953b54ac89f6f174915f005a39ccf167153465747f16ab104e1831d04718577a00b27ca76144be1b7172799197d02ca6774b4025d5f24e852109799e597db280eca388ed118498c74777d393d2670b8f3a4bbdba0d97ae2efbe808c71f43014c8a0bbd4ee476db8a280806deae82f0d94cd403fbcbae6bb96c4e36dd4d3f3dc61ef4ebbc495cd6cb39698a66d30f6e218dd700dd384bc6f435c2de408f48712e2c7d85aaf0db09706a60c8886693bac740e0645fb0c3a0435e6e6829f39de39619823fa864164c44468435ac20757c07a4d47052da69e70443127bef6eeef7e08f4e06be7f44a6e868e8fc83f48585c364edcee5a6b03dd617efc9689a2f9c7ef09e85ab28eccb9a1df5442841351cb1699858c06aa70ae74443e760f7fe58b21aab88c9b3643529aa7cc27a3baf4adb76d91174d5455165ae008291ce1b49ed0cd2a421448fa1d43e6aed0fa0c6fbfc0db125d1a6d5e19d6c43477fc75f1c77552bf56de222ac39de52b1e6448bd84f307ccf276b491b4b26afb64b9263479ce7f06b146a5df635cc7986ff10b09e73e9555b0a8195e0733d6959b02f848bb039c08afd46d78d0798e37fd849bdc49e1285a705db1f192dea8f3db46b50cf34813558b30ca0dcbead727bdd5f32351892b7cb35ee5f34f70b7d01480b32b1a354b866346e4c6bfbb1b945201aabdacee8c27c9279c09cb241509f0b63ce5efab362fef8d2921499d84e0fe18b775cf29d036a9100a826937636946f015d6ed77718183136331f940f9d976aa2bf5a22abaf6e9c830833b052dca7bcceafd7244386d49ed10fee98180a40b1e66f038b108f8499c334ad5bdbf40133a9b8d99edaad40196eb4b9bf53700ba8bd6ce8be4f7e0ac9655abe3d6528455abfcba6971d2473ab2612a5527df02a5cb2e6f03ea676db01d6301d40ee970c46db7e58bd967ebdad7bae42b0d5eda8ebf950b1251bcb585c2a1b63f9273cc3e1db569907ce6388269998c7a7dd14d0ee4bfad19884fc96acdfbfac0c4f97b27967edc99789a2a2f605e20a567b7880ccfcef2a59ccb9a73684a92b91180a6ea876acb251a90407840add444e041ccba4b8ffe7745b233c4b36a95efa3e33fcccdb08cb44d05d5a3ff5dade59e770d16b30e6abe93e543a62a5a193297767daa083687d72b8fab4042fc0ee8741c0efe8ce15d9b5e0a6fc0e5b3fbd11628e3e42f5c7bd3634a735212f1b47e55cd0752797f30f5458346be9399cceef0b9314237ade9152df9d5282e59700bc4e60ac7e5d93acfd1ed172fb0e6deaa24a5b32dfbb754b6e754b79fa3918bc5f3443816c9a2500cb5c9fc4729eedbb2b9bae9ac0d12c33c24bfc1126ce212a0821c685514bf44b0274c548c8e581ce8744d4a89145ac0bff31f5cf5398d8873a2d6c9502697704f406b84def69b745aeba4b93fe43bcd53a7c7aab739e4e9ed3e7dd17d5be3f96cef9abede6846f2b6edc40bc88e5e7fe41a4be51cb7ad3b56f5a36cf95b1713a97155d10b4e48b233b914adcde9c800678c7f4c8df5e069be623cc505731ddc7a26c8db69c67ea3d390823cede0d76522445f7760faa7ad611b06e1d597b1eef6a76d3f91452a012d6174d05bef791c890ed7940eb6cd11cdafea09695b27b9170077a29a3ee00be61fc53ae7da112bbc12c60bab0167bb978b35accee3cae74eaa9740e742081e6cdf0db27346dcb750cff905e60d348f0c994e774bc9ccdf6b0b7fdf471df7d954b16843c7ff43fb5ef678f0981106bc39810bf52d4bb83ddca599f0f0bff8f0b6514fc3f6cf6d98ff5a495802fc0c824f04ce6f004a5c47d8d33c6d8423e1760be1a496e701e7c366c57ccb2ef7a91a377c476f9955191defbfd244ea817c73db975f259df5e7485c0207548445b82ff7935f48e6cbc7e3bf7e686b127efe572705b9c643646a482bbd93d820504f3a2ede0e574774ad48b939253f243a98f659f1d88c3b1bd0d43a619a99e0214bfb366d5b8d715c964f21b6369a7aecdffde7d3f14d885ba950a082bc5afadcb9da63f2ca733730eae46e89c750a3d46155e72d6a65c2c7679671335ef5adc67c422466189c51a2e986201fef7b063549b7a0e0819d167f4113999f16ef055b6afd7c3070a9486364d96b66ab3c7c0e9f82f75a7340b94dd1e4c9855d06ca01b9ac7a5fde8df2f187cc105d8ea1b877bbf372df22229ca76ce08e47db8388cd903408ce604f21ec85f0de894f8d5ff238a09dbb56624fff17b9f194d682097abc69a17f385650e7f689e05eba0d8d6302e0ea7562afaad21368f2e3580ffc82d9293227910bb4ff8529f513dc96347b2d2aed6ed6a32c0c9e2110140408e43f20f6f1591f519a22d06660d9bf59c631cfccee26565d694f244e2c367971a1bfd97f289157cdd1e3d9c84feb8587d97475d2f77d4783a6706fcfaa77014383d6736a48c5f8e7e3f848f4d514e240d24af73abc7db60d3cfb240f34b8619c2b50c809642a0afd53c94327386019ce58450aa23f23fe048e9adc972cc1754d42982634d6c133e6cb1fa58bf59617e360d0d661a6902326c223cce15ce91353cbd762dfbd535a3d792f8e6edd42215171580a8d30be435ce987a232a49ed47b69aafb74df82333ab16979f417486269817453a584631926661e854271e3e37f9f2318cf5d841f3902f9031975196288f11639f33a9a83bfa9a9957930d4fb0183097c6978d06f719aab899b9d7eadeb5d730d49eb31ffb96c379148a8a1faa2f6de9d130710b02c9b34be47f282da550c35de7c632f103bfd22d06c02df5fcc54f91d951d92bfa29e3f913b2edd177c26eae401cd00da0f34ab7c87be7ec2adceba87ae5341a57448b16d5919384345cfa113233fca9b1175f32e2eb7622abd789b51c4c0c74b24fbed9f0fe4935a815ca3ca3bdab6a82a597ec0f94ee1b15b0704518d7b4ba96dea32713ffb004bad69b2c12ebf2bd8309c94154364f17abf64d1d8410c731a175cf57a2ebe5bed83b42ee218faebfedd6912503e2114379547d9ae7aa283a8a9cf0a35d9487bfdaca46ecbac7378861731b6b21d08a030238f1e6e6a13396f9b8d81585b8f5547343a08ddcde1d5f80157ac46bbf74cb55696ba2c486973a8ffebc5e820adb750af437ec6896dc346f0d5727d5ec9e0892f8cc91dedfc3c88f5e3539136ec89d330f3120421d14d0f0308b5368bdd3ef9055692610e8acc4d2659f0f9f05895ce0e5ae156caefbcfd68ebad9b12fd39af95ea5fca7d268db2aa4197cd9c4d71b72326db200eae8eeb19ec0301098b76d0b42e75f147d9bebb2c1f4713a875defd72141f73755ddb87de85c12e4f420ce6cf53aeba2b28de8a98bd2c6b9673f56bdedc89c4081ee93481a29b99d25fb84669d421de070abd1e29f0bca3fb5e9209c73811b39bc14bf5bc7fc87df738a92fd8de4c0bf2c1ee75151898fbc87a59b5262049876048994c7187a1a6bbf57f1c9a2fcd557c9d6041d55ebf814bfe16f93f4ce5c5f174d38e70dedd502a44c58218b54fd11aecc21a42bf51e04d6fb8fe49a8958c5eb02f5f869038f51bf8acfcfc9d5526c78055bf22b28fa7c316c834b2a21d75ae10a08c46dbf0ff78d49b305e937bdd703bc6af991df3ba464d3209b2ab74f71992f8ec3eb312b114cbff92dfa6bee808929a1a81269bad12164b1f721b42bea9ad51f587b52d28261439a9a1ab12314d58f014a6ffc1ca9c0f6c2a9fa5d66d9d1f99d40615f08b8757b1f20dd9c6058fac043672c34cd225208fa71610a76287769bb934b9de94afbcf35ac96e5f09f619bbe84644eaa94940ef50954c6b8eec4c35709bb4d2c3f7486c5702c887f7c3994bc4a19009a0b830bdcd305bd8bd8c7225b4fdfd24d997e2a4468eb552cba1f0d6807d3e1f72760336bf8603504f6704b359ac8367e52ece1fcc16e8dcc1fc8a07feb14399108501523c1750fe151ab62ab694bbd28d409b3a5ab01990a1a8ca9505ac931496e4cccace28aba93cf291935e8f8b35db71e5c41db152fefe892f5abc7bf61158ff91e240d8d9f9d1d89933986c4146f5216fa5825545909601e22b3bea9cc60ae39843a641b89574728b1b641fb6644c15ed5c2335e0af5f361dda69d705ed170489f9a3fb202cee207c2202e35f32ab729856d8bbbef194d8a8145556d3aafca93bbf81dc2964d27bb3ae2ab6d504814a5cb286ab2c68cca58b48c859c538814e184f786c8bb1e2a6a0128606db6eaa082f86fc43cb908c22924eb6ff1b69a48483dfeaf9241ab0dccbd9d3c12d68387b4e6300458468f95b9a4d0b5847e73258550d58d96e6c28d9ad9814447824a6d66da964fc3bb13160417e3a486a9d0a84088ffc2935919497925e8f17acc7ff9408f7b70733371a5e8ca2162d28dd879d9cb0b0f8ff332f952558a08bba641e11a59a718d6726e8cb3d80f8911bc4969e2247b6f898af5ec9a2e03aca6c7597ff2ed38bdcefae07c68ac74e2db8de8336b80f94630d9d1d0e9338ded5b159d0b5d2ca47e4a542aa47feebb16f4535d7d433f9ef7704b2c7b8b5dc1a753e0bd2c3661ce86764eaeaacb910fcc2db38a876bcb4d190ee74a2a510a0cb82adb93278934809145226106727aa687419a5f47c23ffdc399da382c8e2b3ba9ba098f22847e4e466d86973817f586ab7967d0b495389f4b7359a0be605c27b6eccfbca481bd91a7e10a544e6b86116d54c18efcbce89c618e75d4ad158fe257e91dc9e5cef90e4315a48a85a49dab20e74a5550bf30e38ec290873e80bd8c611215eb2403c6cc380d8e73c71461293ff04b9460d96cddcf1fa7aa4e80a45acaacf49804d5f9fcaad500e5785af118d7f18141dc2a3a212387b547546c2bc319fdc37b67f3dda9cf80b72a8d5f65bd96522e0409268cf3c9433d2ed12153103ac0543bba0ee6edc32af9dc81601e927b226df8f25bd4abc623209040ecb273cf464ce872849cbd784a3441789dd22b3772e3a87d56ff7566a129a7004d21ec10aa753ee474803bc38051de7d8ba8b85c85962895e991b5270794f4b843eeca57e2a3eabefac19db51b568289bd580ed3ea16c7771b817f6a3c2e5a073cfc2892f329c06eb52f531db0e56a91422c62b541f7ec7f7f78958ed672b2ed3b50a5063463afb84b26a7cef61a191596c6bc11852fe5c5199539912fc8bd31030f78049607dec31b401a5f533a7fcf00d1dfebd630070da6b33e0b0ada0d9773bbcb1c06305373648260d73d3043793771e24b81c5b4b25a3112dc90da7bb127348e4a9ec18f3d57e5a12dbceb0363a2bd771ea32323b726fe14d2ef0863caf63511526a0016ced2ef0073619e1940ce711930b80ab106222f8407b62ca8e017dc308f2729cb2a9d424ea2ede48950e436bce906011cfd6fcbcddf12a9c6949c876a1ab1e8bfbad4a1b3a68dd7785c4bb6b9f73498225bab7f74e622c2948b9678d1e3ba7411e2a02872143bf109e9b90a44225a00f169397482830d79924a894895e7351ba9b7fc3c36de35090a5d1ba095309847e74f23194c80a59e5a062912e46b0d5ddcdc29b38ea67fdeaa80b3116368073819be0520167038357346ec39b492ae6ca8dc73f3cd16bf97e3ae0e93f45a34f8821884269fdb950197ffda1ba5a8ffe0142f7c138cfa23fa1f973638ff1fc8215aa465198ba70a10771adfe688ddbdc3906c24ac9d031d8a4ab900034a133611c9f75bc4d15dcb34669259e13062143bb6ab94bf5324d6e45a0ce95929c51dd6b837bab7ed1fcdc974f54d2cadad2eb6ecf03a200afe02b5f83cf5c127a3b4b4a5726b89405c282f6c62360ce0301d7c56142b054c497ce0e0ef210ed6bab0fab03dc48841ab95dd940e57f78bdc62ca135dbd1ca41a70ccd55128d6c0c19ddfb9b0aa58173a8d6f6f534fc3c66fc1f0036e375f7114e65389a278c878a6f60cfe295881d005d512bfaec95ad381cf79f2a3299a0f40a22e3c8611bbbf9b1d7df5f1027c7dd567e09bfe978f8f26889b5c530e0521af32e09a4d4641b06ec1785b235e86121c28f995c740c1302c163d17cfe3d34c828ed60de507d45cbabd27e67cedd5d7fc0cc7489137c0e46fb11d4c35bc6719cb0d9455dbba28c93adb871801695eff23be1cf6b043b19d928860c6f516e291dac60ed5b1572731352ccf0a1ac62a0e90abd11d9b6af4363ea3e4020a662a291016c8db67498e15f2b6e83c5352d4497938c998a9baf005694fad7de2ffff33658c97988511461e099292a2e1bdfeada3b014034d17bc03548608d6065ae8dc8445492499972a9c149c855c739e147782c7fbeaf41aa4c912f4a5df009391cff6b0771109cd758d51f2c13cfc59e4102a21c1ff8f724f52c5ded54bb766dcadf6e69c587e73fdd5fe60c3830451e39ba2212c9ca2d3326c75a66dddf44e42a7b64a49532bedf2bae20b2f45190078220d6e595a33bba3372d9fff9b6578bc97f960e57386b43feabcf3120575740ccf29eef238a5d993c1905cc78a472c6198620fc88cd1d0e879980be29dfc5afa977cd80d697ce76ec5840eedb8b6f1b3b8ac64a73be8739f2adbec23478843ceac721181e5db3547c8e04dc2939040d08875b26f93d7fe0e4cc0350d259446fcd8885587c8ee692212bc7a7de20194e8eab10cda37e147bfa65c2fdeb47c18dc27acaf1477850368516ea6e96e2336e026e01db76f461e09e2a4372b56103d738aedeb46d5a719c67160cabdd26db148f0c064ff8c44230154c5ecee0795fb2e8830301eddea5a8ff432339ba78e1767eb3754e9085b12ae7dfb95e79c5f7a291f531fdee069dbf3877f75ff22ff3faae7e66b3dc10ebd65f72bf0e40ef9e890e385cb4ec3959656ac32dc725afd934746f93122d8b58f95442e708e0a206d6871102a089fe23f89fba6475d2dd690f9f51620771602ffb7bb04ebc241949763be7fb0ed35a80823fc49fd2bab24360f32350aface4b8f2351765f2bf2ebff2f674d164a5ca1f6c191c9215d2dae019ba3c250c87c65894c7914e338c8e2c2c513db5cefa8eee77b328800d363a6ecd55cd32dbd7836265a1440e553e66a0308e6bd0a5b52da0f2cfa882aef0c5fbe266b131c39dad1bad2a44776301d5aa050b618c24c5de089e91bfc4e98bf019279d209eb687cf1241988f7a35ea2011b8cd750bc422ce89a10e496b413d83d7403fd040778386c211f1005afa49d166dc2c83d79b0bab392b46ce6844ec612f32a7619653e915d42c3c5d6327c98de10e3e33ca9188952a8d2f638485241f19d68265e41c8f59b7ac2a2c4b7770395e525ed8a148c16afe42e0835692992ed4adf1cf5abd8655bdc0f9d5c672d352f3fce440cffefe4856a59b7bbaff2ce917b8786655824f22a679b7fb1df6ca28fb313e2a0d7853af3bf8b018dcfed3704de8c2681973dab9e36dbf86114328b82ce8882a9bac5a1bf67dede08f9374d00d45efded9ebf494ac668a467a4587737dd9e36846d507b6220e4412da8869e7a870cc3c7f99f2e2adf89c862ca9ebd4de6a05e598f926c118af1e7b348cb1fdbae5c28e905637dc57e5ddafee78f5d686cc4f3afb524485857cdcb42e505e32f909f747a8a73e9766202dbbecc4e2af2252748b846aad800d7d58115cecdfa2b480b1b2c994e7e56a90235ec74afbf74d60e4ff087aed6eb3f62c63f1ddb0d333915446caf61b400f46caa48d84614e1e257379c2c29fc2e4f50d4b85d8306fae85ef283eab9705add6d1fc7b3ced5b46120f25e676565bfd319fc0271f455fd2d7eeaf9cd0957515b0f923d1f7bf3f90373b839b3bb8573e2425239f050efd6a78ea0614a9b904292f77d985c72ed84344ffdd23deb09de0811ded58e935cbae7970059e6c5bfbff806cfba029fd571500dd241ce82e8f9d7f065d8c98f172c4a67157af058cea8b2443b93fe1a2dcf8083ff35642063f61b879d6ef5543fd0049ecac00c8ff182852f8e7ccbb2717383f06b3f148e26f8ca30c0eaff1424f10053b76866b5e4da11d35508d6111f30f868e0a886b9be208294b9d9ad95583a21d54ec79526d44bec3c97fc3cd451cc99a2aff21b45e49dbec183e94c3b25c0f540668a16d34a0a645ed34ae3d8996c876e5b3a8fa7d261c111e121f6c855957beb172547823a845e4e1fb85cb86620bcb087290a38d654cdf814c2180ac70f98969f95f8811498c72a1bd10fa210b018cd77750dd40ad5dce9433532e06340ef8bb4a85274a633b5d325629c5795de6105e2580c6c8944d1a58a11012f5fa7c846bb95514c9d114ae6d2e52cb1a5806ce92ac9042a98e6e3ab282acb8de75e9e8b3b687e21f7897be3e3d035a5d06cb229e1b9a1294c86b7d14bb4107dadea928b24c5ebb0599fc73e84102dfc6ce366d761504a8a72c0d85290364d41246a0705ed92f81a6ca804bdbdc9590c015c6c879ccda65cd649dd23ed649bbe152a75e7a6d33a0fd50566a54f00ccd825651490d1afb55885442921d3f751de9f8d38daf36360f731d51ee15c68fe9f85a6e2fa312d33815b2ebf8256cee2f02822ef7695789e45b04919197ba547f6de30bcc728afac787e06245b520f08bc8e5db1e277d28e722246a47f3bde86dbe83deef27d5f3f19304d3ccfa1289af6d52e86541e4f21f7d7d3fd9844e1b284d0bcd78099ed4261456f7253cacdda46b132f543ddb354c79110aeb1d527a3a10fd482fdf26e1ea72698b0e5e81ee4c21391adac71e2d80006ed119ec5953d4f8bc8ad012c4e7452897f2046cdd634247adb461dc1aacdc71a42033cb7468690574777c07118f29764b43cb711058a8dd279b9df9dc341cc202a18d8136f8f27b0884a7e8078ef75ced94302cb7f3a2f0b707f88db44e52a4bbdbcfffeb82267f0e7d84d73a51a044fbf382d45769eaf573ae9b8ecb8664fb3c8eb9969f6715a86ef054e47e02c1670d3c04bc74a30373ba06c0cf1d74d0994c9ad17bc23d7aecf6b14e53b8569b4f28c36acc9bd9cd57c855f052ebc11097c59020aa76f50db370410c04afc6993198119d37de47f7eb4d313930bd326e1b7dd262626e29b926b0cf0093e2c5895ac0beb99781b19c1ad21e74847b4b891bbae95ce7e642f5da7a3fdca9093231fbf2f43017e07c9f3743c9ca0e139958137c4d933af864d4b668846f1da25aa6fd858e768748115f5f5ffbba88664caef1a3e5bd1c21d562806c8159dfbc638663bf51b7dbe4977b7f0d17a933e91dc96c394c2b17af79831cbc8035e2b23256543c742ddaa73062f95b17b67d85fda8525e15a57a78d0f750e0da05172a386bf7fd316ff4c5a694637229bd3ae7e87b0292615a6dc3fe3030964f930190f4f272cf2cfaf0409b93119b321a4399af44b26adb3d66f0206db01929bbdd76278cdd05abe07f69edc124e96fde16208f941e5e995528584e1f7c26e79b246d927d02e29312882976383a09c5b005250242c9ab4a0ff3e900e6bc5006c89a3ff20c6aa8aadad0d1307cbf9ea229cabdd7300924827796a061d3f83877defb61b614d118ab599d5b23533c4a0dd1b8ee2feeb17e476bdf635bd38518881a237f7984389d71ef8161f1412ecdcfc01eff8ce38f5c7e8347a1d81265fc5533319a6cd03cb3529864a942a36684ce828d2e76a3669d45823cee2082509a8e487344779721d2cc9b1fc87ba090c03a7ba7de2ca4ddc0e32d66eaafa0891fd7b64ed3555c5d55bdb4942ec081e1bbfaa9ebbd7dbeb044da7172c4e966e99d76193834e177cb19a8b0d3ad469dfc237cfb1ba7a0c1d5ee6236ff54a1d3ff07a203cf2976ff30124109a61e86f2c05dbc8759ca6c2ec5fe748dad90c2b749b9cb27d1e660f9d0d634d3dbb69fd24470580fdf455e833e9e08ab4d7b62361b5d874d6603db7e72e7cb0ceead54b6634746eda1b2e41477918d1b217fd1eb7788d9e9d92e84ee36b131f99f386df2cd27ff480bb0c3fcf3cd4199c5631638fe59cfd2ddc0bab88d478b5b4a00e6fb0d54002b78f68bc58e843ca454a65c1a2fbd7230831f1dfba7bfd36e57c18c33f4cdbc00a14cfdc02372aec46adc4f19b8fb90792d4a81d5a24da9204574b3a6ef01563d44bd82978e0421b4455ddbd5292a4ef842877c7922f397af3e984378f4557c06ea35bc7238c8b0ea70fa3c2d70eaeff1a86faf5733045fee9c97d39231f5fb5dfba10eed642f346d7b485bb766e6bd34755d902d543ebe5f6dd50e52d0a7ea10cbd702ca5810ffd10532be9941de31907d9f37014c4c6e1563970a5bb02328956490c91221cccbd479d52f9e4f0794382f89115786c4ef73e5e78eb876992c99fab25a9cac42d5d218c984b793a39dc4ad6eb54cc3eabd13976a4ad457355077e509b02f31c36c4c261db378f22d1b93cda546368619f14d6d07740fa4db5e194f28b4b53a85c37c54e95f1367d5f8765e0273a248cddd3b64c729fce78d6c27aa34a1ba77739e0d29642a22391390676369899595309da3cc7c17e4cac8c92239beec223b9a199b15d05edff08551a8b5ef8eeef61ed365d6662f8275e781f1429753e1bd243b1d9780cd2d2dcc784b4e1735f17a5175ecd0e2c60ebacbb89fa314282d36aad9b0b0ed8e43f46257a795454be2ee5769db549d2a152cc1725365ad42eb52ba95ab813d9a604272b81ac2d4d4a88e46b183f9593d1edff1ae8e631e660219d1cf4e4b9676e0461859553f4e55d4d3ddfe91e2c3493e90432736d6c8a96b32c4a0117548ae7961d66149fd8ae5a6cf007367c347680742956aeda10453af160030bc4f4b399ad96be3b47d4e68a6db9307901899bdb20bfe8ae86fa5863b9408a171c1295092c19b92942e1cfdc178ce44a3c9238e7d9334db9259d8d254feeb6c6de39eb8913afb87fe398e2316f44f15073059e1d95ee6b8658430efaf47b313f766079deadcd454d38951aed70007ad7b7b5948bb00a55c7ad1dca66ab084c3cecda1bd68788ab0525a08b3a4a8461683b9b70be255622347de8b5f3179f14d8450228e3c1473a885adb9813c7984ea801ce4c44cc805c4db5e8aae39517cb2dd1f506e6e3a2f58451f9ff2c1492551d94e7c2db77ca7c178b99d6f17aa8291c2a8b856875530d8e1ae107cf86287a8c391917465c6206696c2261ec1cae39a9aaccb3a42535fbb2b72ec3788b795678464c65106fd9fd3d6a69627ac5e1bf50787b6081b7660317e8acb26695ebe567d0eb734f0098a3c28d46286f4545bfd52d15d88759affc45ff70203a8cb1dcd921ccc96b220a96e76e10a4ab5033bca21081a45b31f58c507ea84e4eac2667445f7ac39d649f9e217d6dbb42b9c3b72cf756b877fc1ee9589aa0ffc196b06b8dfa77902f27400fbc081cf4e91b6c860c4b13528949d0ff9cb6c368481b9c0466c4ab67642064fb514fc8e189a729d24ba3744fc226ec6713c81670c9dd9911c758ae67cb188aad49ae26b7f57d0048def42473038b72de9d3fdd838123dd0e76a8ecbab38ac66687355b69bff42874b8dbb1b6b40315ebc57ca1e083f27b891a196627580c3c4cef15931a97f1c073b5ec04afa9371029db1bb83250bd50bd071d47a7227d0ad953b01ea0cbd22e20216f34d06917c1822b5678a06db83c7e22213d137ea5767e015ad114f4c8595a439a98ee440f258913bcfe667ed625cfbe970ca955a19c8b15f476abe6384f510aecd459f3316cca1b5d8cb92bd11598de5be031dec5f80c4ac3c18067440861fa404486858d9f270959c40471ae40cb26100cbdf9dc65abb403d343a3231206228838a2e3a9a9d7b882669bb6da602cca49f98eb6e64db4b9fb587c7a6953c480badff9f036898556c766c7c8f7fe954b49eb1228496f38249535f8f3523ceb3908d8e72e76f83e24f671338e19df8b2b3dc47e7a74e2734c011cb178b2d67fef6f03135a13e88b84fbbbd2706657f5393dc1c56a7a1d81d0d268aa43844b43ff8fb4f37787e949425d0a0c684987699e4cafdb623a15f6d7169dad4bd555b12eda3a1c221524fd7859b50ee19357b528b7960af9279ff2d3f10afa977d71ca61af421cfad1709e976998b040e4b7d97d0c6c5ed0b5ca699ae751e1c31cbfb0d898a26519d4573673f06f47357ad1b34277b0d57f353139d5d6dfcf3552ef73c30d9d0ddbdadb0337e3399e22dfb2ef4abcb5c9af848ccc3057b1f66cc5f9681c96fad5320f02d92584b62b25a7693901be4ab9a5c20ed32fa19b27883fd39c106bbd85687da6bbd0b58dc4b94bf1a5f61d7af769f2f45a92ef287eca53a799473bc0b3d1b654becf1454c40bc68fe0f67996fa80d697aa3506be168c9dfea40c972b6bd577a2a707c4ad6d3585daa6029be1f0dab6e2cfd95d7b86100efc7c26fd7134da3c1f696e6f5750897d4f32ba725889a9489fbe1bdc40b68f76a5a7e1e664fc79d0182a058b3078c3261c170cf16d9cf6079ba5311d0dec5cb442cfbbb37f18e71265b8ed1eeb1f054ecd00c711de8ed1bcd0f1423849e10efbce9f4335aa427dc8f8eab667d4d76da6cd77f6a03b520ced9964665797ee5f6e440003ec223a1de9e695184d56d3e7c8a20ebc95510e11f1a5e15f512f46a232c8d349e8ce3cd6fc7d47642e3ca5390e7716a60a3b5a3ce73ebdd8497e29f8615246bca5a545a2e0ac12020de1e1d01e7d27e4f26af9b7208d4e8b51bb90f6fc96cbdadb0d72ce81836a3b2cce72f877e00c9bdc516d4a51005ae9dd6f6849af4b03e83f34275b1121c27ef0cc54ba0b7af36c3978d10f27eb038f495e8f1c5863e283c6df75dab8844da4e2ed68e42a10af8423cdaf87e57e5c05df91916cf352db6b9f6938baa7746153994d26efb80c36eb79579ef4e270e2da40bf03409470f7b9ab332bb67a8cb175250090ba0594ba03bb8a2f0ef2726f82490e0b756df13fd04c6576574c4271e14444c39a47c01a6adb0f1bed7199ea3992a0e66aaf123b7920246528f68f0a79ad745fb2989baff50abe38822a0aa079c7a892915f8eb507ce8f647b4f98d63e0c38f61d5f7afff2eb9a10b272d0a2bb5d5b553e8234d45e938b12d465418a9f024aa777d238e1cf592e06f8f7516cd57088c2c37e216d600d6177788adaef15b62614d7cd3078d89722d641ed30b9204dc7e8e200accf43420012ad5f0306e0136313f0a3b8fb0f7bf8271d9d9a7c2b62cc3d318156a164eca91ee3fee8dd01f75ee842562239c7a3d9cf216f01bc7e7803fb9209fa2d91d6d9315bc5627923525364470536dd65a4c0c1a793227b3de8a112236fd7806a9c3cb66de46072a160eca40c3b0a703045ca04f704b25d60a6808a19b07e9ed0112e88250c3eea77cc77c0f0ca37eef152a4a642137ca8c7a24fd28e4fe3dac1f65b098408d527653e4cad469669964d4241ca0f669db212a51a09987c0cbd90145beaf43924cc027920726f4a40a1e987c7753313c90545fb304ccadda97fc7d3bf61a500f667da9fb7721512b482252161cc7f18f5f63483914e795dc8b0801b7ce44a987c2ae140f37d3227d0ef53d84e62825adc35ec76eff4d51056e1e161c21e70be06e1d190588752363de93d437c8f6018a28b16ac9e067094dd4fe4952b1f383d9806abb655f847c7cb33f9aead66ea6d819f2f68ce8e9e02fa2d1172352aa26d5069999eec205bc3197cba670701c8d14345caf331e3a34a0bb0fbb8a23088abfe6ab11765805c426973007866639871c3d0c6667c905826310caa3cb8db4c78ddd23235f2aa3f6afd2d170768904fd9edcc242aa26505e98e3af34cc7e6bacf63daf4a848fb1036c83b76ccb3df3ce40432ecc1026bb5cc33779f478bbe8eb069ffe03d6e519369c43ac07ce1a768725fefab97079c5d62316f8981bf198becbeb54549778f8a003287606b30435aa611ad9184ef6087777ed1650f501d8ebf1a1d2bdcca8b65031409576aedb13122439a475ab4bf1a5ecdd9b818b25aa3ad67909a69c3977ac15174af3d80b458cae6c5d99f581211428573eb1c2694169818afdeec0e991bf04c4091f613820c3a2df6e82bc280b8d19aa4b8fbf3bbff47a88ccc98184180c02c029631bac8826ce1115e9ca9cb0c4e1b5cade50d938b0e1a0790f1a65ee4c59c3f96ce66f40373db683598539d7d19d9b6957655fa972d56afffe8ba6a26b68ffbc8bbfcb77a878d4c3eee28def3fa55f06bf07f5f1e64667f2a5aed6151eda0def04eef29a209e966a030539fd6cc5c74251fd0750cf93eb9318f11fef6887b58ab80db054a9e531d596d63e5dc87c7ba97a1d69f9d4f68a3567f36c218cfd827a8bfd69c4d658c79f74e2d88c878f0a62303d8ad49adc8a312f02ba9f1ea2f67e6479207aaacfc12c34675cc45c2bd2f24d4721a15f65fe9b08d8d5b04844c71425ff2d2af51bb7b0aa4ca4c203714afba8cda5df09efbcb7c55d1fe4ca3de1c2b584c14fb7673b0d61458555ecc4a8be43c706a6364c2f204a1dac1c011b67a2b8519a244a64b3e13394733f8640d0f15a39e5707ada041e6a894042b64f9f935e89a8855b922b02cfa254c10f3744d8bfd7aaaa600fa70d3b361d54e46679562319c5d09d7d61e87a47c6448b66f7a3679c48c5e5d31c61e5a0fb1ca7d47303644cb1cbf5efada210d15537fff2037e70152db0fd0addc321fc0b16080b8dcd7fc6c3bf8b2712c7e0909f565c766b1ea8c91ab24c1e9f1d6459cc03c8d051b86fac635d436b66c6a12921d9d074953de2a47aabe19820f90df3ac1fccb70fe2f5b34099a667f7c861c578180393500b03d86bf256a73bcff02dbcd5bff3f4f4442cc42c76f24fc7466983e46b54649c5fef1b61cf3e0fbb9b29ff004ede048f7fdacf22c027457f8cabab0125e870d7bac92dc1ace3bebda4d0cf6159a039b0e49ee903ecc68521fcccd941d2357eaa5065de149876df22973adce3bdca39fd8420dbcb30db00dd44f8095e3d2be18a7144183b31feea666d8fa76070a1e010d4c7971c5b1939cb12582e797ca555852fb79095930f0e9c676491c4d9891ad6ae2f468edbac92b119d6f04efa79bb24ee030b041ad55cc0ca76f84918f7df97967b401109a0bfd388f126134b30ee2beebe554718eb19cf1c69e43da17414835b3e568d59ab9a70354030d95211110fda0a9a7ec15dfdf7d6ebe920128810d4ea34a4d6d06ba4da329d99db7935aa86ac4021b54564bb6cec1981f45cae060c8f4ab1ea1c744c5ea08c05768d552e4f4f41f29eb5a3dad1b7680f90fc85822755d91953780eb230ab210e4cd57764bfe381fe8dd382fb388cb9f211d41a7e684defa4af12e41eef6efd5d6bdd8d57fcae754217878eba7595b3f704a1e0799d5b9df656080b64c1e3ba553d6abbdae67ed33b4023e1a3758541247b65c0c67754b3a8013fd9d1643dc6b81e11fb701a1bf59c1e72da51970d21c27079a3e5c7f6ef187f6f856d5194257e543f8072e102737362f8a40c087e44eff5d8783c4d3d8f829543989dc973f04541115eada65f6160f192ab148ce88d4d6d026e4f814b523fd2fd1b8992794cf18a5c8ab5569f5f42f7200a26efd6eb335d2ac8586d48e54e890d3dd871f5c0e029e7ae4f7d272d35b10f5e24c24e982f6bf284c25f7df17d78a00205eed1c885946e26a8e926c0389e29aa6b1d7d2f7b39f95d4ba87979d73aa801bc052dbaed0cbf55c0ac9ed51a178dac2faa8827b5c52eb4a075fa02452c3767af5960888dbbf6035b28a36bdb9b969442c2f23b9ee7d4fba7fb431b42916bfc58f1804fbf7bea94efaccb2e4544ccbbe185840220576419628b39cb57855917a4a588ca3a7122384676790cf3163e20addf23d8baafc9ba85ece0e38cafc67014c21d599acf39afa1e646cbe0664e4c8157246b6fd4f7f5ddad08940bd22d96884b846fcc47abc2238798d21cb15fbcb03b095d69a1939ce48f30158971c87315366797ea134d0f84a3f778c029c0b73a63a1080360b48ee9ccc8837b4aac91220ad334820d17a5edae927cd69e69eb558d7da7f141093adc57089cb0d57c2f694545abfaea713b4acec03c8235bb2b21629d5370b16055a41924477bf59b1c43db956519c676c5b7567ca67fc0bc31e63d4a9fdc8d779b0a00bd3234449002f82e8ade7b97c51587f45c9d3c7b6c1163739f15e88bfdd3fa0dfc62fc792a8c5033204699bd05b11b09a98d944f76c9aec0926c66710384beffbedc5fc919358465516ef728494c173b9e69b55c7cb2e80cba9a9feeba78e52c534d28fcf1f3891dfb546329a47a0ae78dedf2c862df7afdc0c5129608abb65a873f1d02a448b6e4c023893fea0dc34511c0991d5b405909ef4391a9ac079b2fa052b58f2e1812ace8b784cf3f4040865e127138a68f47fc6ba4dc016bad221451849b06b1ea557a5dbbf1c3c8b83217f3c7bee36ad3546453e8774969dfccb640a8200a6c003111ae8361b9372b45af9e4b6fee49c6e44747603cc9b8fb7c6c67400e0d7c7567644e054860ffb15a7723b620c895824fe2451e82bf2b5d90d65913f9db578842e8d029b50cc381b08c87387a24fb75d11473cfd9b16cd7fb48905e2e5ad755b2d099dd4c12845cdbcc3efa354877a1140f1692ba934ffb331078f617b690d88ba0f8f397118d9dfe0607836da8bede6405f44b3787df6e5589bb174164d7d21d61e7c28f3c069a7738c90e7483b4b53c971d959bcc2c3fe219dd3b41970b10b46e545e7624c02fed04d5b98d266c392163c47506d37f0a15bf51ea115b7fe1052446efb2b55d5694ab76448c0ff7a7b4134183c9682353ee34269af59547fb2af83693b86f606171786568d15373e0ae9c294ef07a4a0488d98684fad08527d67e31b5589e905c3a627e3fc564790460af244f13c571900451e3ea9459fdba0e22e9c7938c057ae6a25e318fd7d5bc27ae3a05857a87bfe590992efe709d1eaa1dc85d746bbaacc8dacbd5fc83c5c3cb08f53917933cb740d928dbb475253fe02f779fd740a05eb2725723d371d3db3191c8684da13eb8c1c872605b44fb54e7003313147350486f9766f3f94bd9916f9110fefab84f4a6bfc845d29c083e3543e4d34de40b4fc99a74ffb4e361e24fcf1bd632b721558bccf505f2cb614256159ea1f2ef161ee04e87fbca05db1dc6c14632125eb5ce47eb3864aaabe0bbb6b824f202ccf782d882125ce87c69a61db545b8e2febaae416b1f83feba9750acafd4de95a20283bb3da2957af1ff9e58fe1c3ebdb03185d1138bef240bda7d3625eec923dec808b2923f377e3fe3255ecfa0c7c596a80a5c6953910cb12261c3594be147da563572dcc9a33d6c0dc61f8b1588d5afd1ee0b7c64e2acf6ab245995de0ffce45a9b0a68310f06d61f87ac8778310f57dd0965f3b7b790186ce8a5cdf08996b983c9c681ec800cb14f0cf6ea0bde7ec251d45b5a920e225898a0b172e04d957f419f74603b14f2614440118f7d28b9c8f9e2d9a0370ce1836b69bb97aa850fb46d49dca1240331d3bd4adaf695aa1b1b7e8d4f004b29486b42bbfc3e7dfac1cba9a9035d7ae0525b6cba7919fb0eb5b08dbfdea8e60f035aa079ba75498fe5980b65f24c784d3ffe59b3630da78ebf60de6292140b8e7b7e2a166a4f5b663249990047e11137736f1987dd883829c4279e71e4674cbc6d6a046958348b50d0a6a6f17048d1e6422549e3fe4779055879494ad64243990b87d3fdcf05e788dccfdb08dd5444cb7bdb47a16460ab7aef3d0218782a590f889b9a2b486cd7601bea17892a07c7f99910e3e5ea92b3e45a296904bb5d4a5d0057900a271df24cec6abedd2f510bc3830f268fb489b5bc5d1b064c2f7d1ee389a54e29f58f4c5dcf8c5b473b8c98f6a47445f59a23bbac73408be235fcaf75961d57a33833083fe0f082c6bd97eaa85f470306c0c83a2c18cfb87960e4df116f2a71a246e78bf37312328742457abb10a139f13f18476873d19b3af26aa5c45e1a7b5186bc659a5ec26efa77c3b913c509991f86d60d5512d5d6379e4c6b238251cd91bcaf5df42aff94ecc0fe560ee1fbe580a58088e93308cfe7f738160bf889b38e5970064fe5cef8962b256b619abc5dcccb323ea1b9e902efc52af28c8c336f8def029dcbac317d51eb8701178021c9b75a62f81785082933b0bf7be8781ba3f3951f96ec0990e0852a7dd9eb65dbab1e9b990ccca47c3d89e41a5a6324ae3c3a5df66cae69a1418c361ee3ed4c3407d9289056ac959bef8ce522f747e61213a19a21127505f08196bca93dda40942b85dbb0c81cfc7992a172c79f376eca8d7ec2347f55cc223b60fd160644e7c7919f5af4c85bcc4fc670c8189e89c71075d7fd5507d68da231170cc417fe9f0caa6e3cbd872ed75d329df46e48a27dc0e92fce56ac3edae2cfc342b7337fed09fcecf2ad7dc7f77bab9d25b9241b05d68f3295fdd757e1ea2d96ee4ff4bfb8d603c2222fb1","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"54862202a349af85077d1830ad1e6d11"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
