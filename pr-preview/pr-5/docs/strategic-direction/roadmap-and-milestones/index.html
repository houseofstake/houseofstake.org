<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b08ceb8e8e74774f01103a2ca3b1ae43070ce5c9583acc879d692b32c258c478dc906a1ce3932324e9c581194e53eb2f77394903cf9e958c3ebae68cfc1270af168af618a5296c070cc7c016c327ea427ea02ee0a2c23feacebfda8aaaffe54d305af17ca383f045f01f9f9c733382457d65769c339c3c103a9c5d28515ea203870291815ed24684ee283f9c5ddec1268e3db2d4147d27468a81fb08f0d1768d26291ca2fa97b488583e7b195cc00a6973c473c1307f4e145a7428daef181e1903e2f23bfd3ae579f5d60b5d31a3c87564e1fc168f0492373f3e36000ef3e5732304ce1031c6d1f7c6777e060ee5e6ce8377874714985f489e7f601d36c78d7a28187ac0c38f6174c43a1529080705caf0a99471a789841d1bdba6ad381c84acb13fb0f1e14ddd1d5d2ddd1937573a851d46fdcb5517f91c4e6907d22702e76976495b87c1a33cd9b46a562244b77fabdff79549b12fb0d1f08074029a1bf2a2202d3b0446188b78d4d45da8840c90f3170c47b8c80cb3ac86db0d4107f4df3ac56b51292084ade9aa8c46f044f1d4b7b288d55e6bc318a538b685047cd1b6d7fa251c6d2992a5acf000f475ef4c6d4450c6ae1b9094ae0bda0e21eec6d8aaa9539ec30cb4eb21e77fbc42fbc69e527bc8e96591217ed18d76ff3fa173bf5bc0c1c30f5a024a9990979c0a05e12c724b54bc5ffe3d0ac89350266dd4612361107178a0009bbdab41b3bfd494f7620aa134f903e3764cc35e721cdb1b0c9beee03aeb8607941a7680d1e1b17fd67647818ab26cb69e890c9dbfb806d07ff6caa47a3765fc78648419548bf6866df043493b7e855f5807e06767b599dce9f4b01fe5a6f5aedc04cf99c1ebf283c2d1892ea5543acc20a841f7af8b4b3f844394b4596a696dcd506a205a7b513acf7d7557a3a9cdd8cf1f335488a8470f9a6840cd3ac011fd939f178cfb753e9f1376918e9482bd2a29ee2872a053363ffc12062bd17f664cdb452298ab7004ca93e14c080e98007eecb2abb6e773c08c17a4785b38801fecae5f1f909abe9163d7e085371226d070dc0c6c9730667f4ba87eaca287292f818c82a144dc3945fc16f0fde3bd082c11537a44979b2a55a0bb7ccf612acbaafeac2db6073ee22fd9e8397c4af6d34f4bdf85aae811aefa9112647f19b24a79c5dfba2537297214a6b1d54ac899aa38ace00225a29e350ed3593c6cb93944c8072d1854a496958d2be5ee3a1edbf7b60cef894cfb2128cd868201ac154376daf8e6e01e6becee28d3783b37d103e0bb6f27e877ef0abea35ed828a02c61b670fd5f80f3950730aed7f8965f65a111b2a26cf25f245b8fdfc93cf00c088229f7dbb9a351ce8a975d3919b41d2e38b50910af4375180d86de9c2ed12bbea408fa82e3c19c07f4dd665c947eb74e86f68dfc8c68956af1eb7bbb059f61df84ddb4e97b63ff90e22750389b54368256522dc10156884744fe5a82d2ed7d189cd0c5c28a5ef1fa05ca982cde0621709fa06978ffd38b56a90359fd3949661ae8539ed0e684662d1946e7f81e06be57b01a0fef1594e84e3f2cc7049fcb8c22fbc03678e612bc1833ea081763c95473b0d8a9404268bb15b87b88c1a88cde79bc2e08300a306e7aba508eb064aec21681de8315b3f2ad7d5be158ea1fa7ae43bc70e46790ecbe9cccc99a0e6916de7c6ede4ce0680251c3cdc18701f6ea06ff5d8980d447064821e9913dd4d614efb1dbc47ec426b700197ae338f2c363ec0633ee4d1c48c0b8f50092802098a2fbf248dfb391d4ecc10902f5f2d67bfce6eaf124efd4072dd58b3919aad8cd7392c3c87ebb52895ac33490a7fefd02eb3b1195f985534bba91a6298463e64620684a93f81cfb201437c9d6f2d351768a159a429289f1e91533c2822984bd7536e440cf7efe96d917c4fa30dd4ff57b1dd8e7c861174f0c6e9cae06b1dbc46dcd315876ed50dc8285e544e2ebb51c1a0ad317f0540617c59cbdfb66f43c860d54ec06361b3c5b72d3107b5f0c3afbf476c04f4bd1a82c231f48e19e12e861853952f62c7c82d7a591ddb0e2fa78e945362228d281f826d172f736a75d576d49aeef8189f4d9da2620a5759c36b2b7a4aa60ff6042be539d9eac998d5121a0d002a43b70600090d057805d877be21d4c3945a19e3ad02b915fcbcf2d0b413eae0a5353b7c1f4f1309c033c52f81a46bca5567c6db5577cec73fd80c3f38ccdf46f8a0f5032c3e5d5be745a931b5143ecb63e20ac68cddf396e567c6b1e9b019bef4e7837d330490e62207ae0952f0e10037df07a86974adbf094d19035f62fe8164d05cb6f24520874a51a84eea34184c5c1a3f19bfc26d8dcfa4c2300c314921671047d46221a348750364688221595373020a459a64e2f8fc8c3140bff81bdb568a316b88e5a44d53b7f35b6f3cddcd05810dd12a402d27ecb311c65dff383c5d7f39165e30d3303312cd641c0e0bd28fbe2f84f044df31692eb295d984ebc840642894078ee7a84e39ea74b033f57ef067f57878f1492a71bc18bf05a29e0d0588249e38e4a144686735caa2e8566d7dd054dd8168f0214335c87a069491d5b0ede2696023beeedc73aaf75916ffa58b1a40294a599ced5d282dd7d24f017920d8626d88b21e80e0d96a5bf34d276cd7ae3c5670136b20f0175635f83442cac889d5e3eb7731bfe404c1347787aeb952e3238685fe41e01d95248c39c61f6314b22cfe5d5186d945414a44d48b46cec7d280047449faf08dafa8dbe556c25147bec29ace7b3a9274995e25dbc7f0777d11407c11104b2015a7ff5f16430d994f82806f2149ca9038648f3e62f6016b8ff49f3d0425a2ab4572b2ef65933158223147e0c8e292e9338643e54296803b1a00603f6ba318d568a1ddb7e5df2f50aed7cb8971e5a8e9e3ad80655395d139bebe3bf9750f16cdf6759b70ac43a13127728b3afd2cdffe8ebed28d8f672a8c5c6a2545c7b8501b3cd2e45a4aad69d5ab46dd1d88499fc311a473f85ba38ea2b8765a4ce39c7a0287f2adafcd327ec28b5cb6e522bf86ce133940b050c631c998cf028b0b247c579a2d0a363de78b3326ecc4112f411074b1ccc67cd102c743a47a8f1fcfe00a03905c654cf390953f950fb1a01be38bb500f4c51e77d22d3d522aab7025ef7363610f17df016918c1048ca412cf330af4eec39af262a357e250c45cccdfb5b659eab246aa6b94dd020ce4eee5f49075f2483d914ed2103172cccb585843250eb079e7e16eb02c5d37c22a2361170514f33b43f9d3134e9c6c99e1bdca44b420295f1fef352fc6b829b2a9e967187f35d3329409af63429fff2466f8711ca75ff0373c7e362006b5fc197b81277e6e7195bec8b6110f1bc22bd71454a8abd5e7a35d8db80960408ef4bea031e3758fa8c77de61c58d6d437fab3d4a8f1749b0f09cc7384972c2e8b9c97df9eb21b817ec24000a5bd26b880914f425406911b00ab62f2fd88e68c8cef508289fe90ad0313d3b409d747182f95a6f5b362ceca1d9bc1e5fbebfc742acd7f64fc9d73d3dfbf62dec847a681191458c1b448f9033c783a4bf1db5a54ee85e34ad65f54eef0d3d5022cdcd8e675d9c452532b4e49dbe2ee1c4b4514fb319791431fd76131efb55acbe85fdf70f28fc0d96f7fee50cc9048d090ceffd2de1a4833f0151629367ee315de208c1b81c97fbebb9e660f8c99a26a5965f83a51cb23c00603305f1fff6ac0d424506c3668d7df0ef0ce6a552a0d678c117e63b1516f39f67096f0737aebbe939b3086eadc864b98a2b3f7e2f1e4234e30eb5db948ae3b3b1201b9903d717c98842baa486579623a30b092d004d1aef131441f65841b2d2c7045db6e6b848ced80d85398d27cf791165f10c6de83911161d84ea319d41a341fff69789a7460ab6879b3096cc2e1c2b98e7f8b8b6de91ddb0d48be59c01545d06e912d5a9537da70a8d2e3530c487ad58b5db49b390fd5da9272879d7104bf32d9eacb381f6618439c1e66ebfeae1ed3a0bdfe843b29fe3be5619067efc731a401f377de8e49ac8713c80cdc0f7c2f7887cd9d393f8e4bf5565e05bc22e0305b1ec4c54522bf31780502038359cf9b6f27f15a33434208b2c5e87f01b12bdcb16892e4ab970bd1cdf0f797cfa20083063fe669bc98df0efff812a5bc176f3377ecadc9d62f7dafcb2724fe73642912943aadd775b0be7a46db58ae4e8598321e7840fd0c423a20e13fd287cbf7d636e23ab6d9ceddd60f638e98da2b2765d2f5b8acaa96d6ea742e7a02c38b1b710b7a6f45ce75c0a522063cf687fddb381f38ac004c5702d2856247edc8ad1cbe355620d16bb1a8f5e80a9aa03f6b95fb61362ae5fc44e48033a2ea0350ef760138bf2f26695923124e0875026047d055b03e87868d2a538c043a80f34e3a1170ab7a34ad5aa497cddd37dcb551f3fcf9f297a008eed4b1049ae65e299bbbf477863f51df195fa5fc993d8f5ec6bcf75c7eed5b0f58411729f1a7beae6a97b2b3e5a62aa0f595fd63f0b242b33f69c85785661e20d2846a5bd24dfe97c4c57947a81a24b5de87732ac82ade46935747af851c0f20da5a749dd8bc814edf3300f06e0b9a9ea515d55c3cb9d260455114b1f84d14322850660efd6d0684f47b168b29dc548ca0b40e2244a15df6b948c897777e8c1f658aeb287c25e0cec620e2d2206e111f16accea302d9236e1fc6e235c3896d74d79b775c4337ae3e0a0a3eb25c0c00f0e5bae09e48e113efd603da8896ddca50fae615d5eb1982ab85e570783a12b198e24ea4e26b2c0977fd7888f36f43bc5621ef863fe8dcf33b6cdf8dd44a3aa60f7a9b5d3cf981d2d2e63c1468344339129c909bf69d6208695b35085fb17b79d0b199c3c375ba1e29b6361d8903f3a196337311a4a5afe91389ebae30eb97a5a1db1041937f338f8cdc3f2096d089b29abc1de32cb4845cf7adbebcb0ce1ef04b17cee3574a63b8fffa60e350fa3a2574a71dca7e8e30356bd0dc3256d1057be285eb0e0a630049b1c27ecb1f0297ad55014d074162722b37fd44b6a46280c4bf1813f752986b046b520a3c70994b203c95794007aa93d159501283827a6663e342bfc104ab349e8de501c70ba0b9e108bdaa839a4ccdc98fbaba39f35234cb824158ef1209bb6b9532c83e402516cc545fca8767636bba471e07c9f9ba10989ebeb6ca718c60f9c6564544707fa586ca5ee15f3c036389d61082293b99ce62a36f87d4892843033674b4b47233dffccef0863f0a22c6431224050cffe92550623d87232ddff917ab57ca512b80e804a39e672eef246e77fb1c685cd6bbde33bb186a33f2bbea8cb90d92313b90f8c76faab64fe54626ca4762f57a254c2ce2d176b53eea3948c7dc3a274247eecd5bab8e243761c4fbaafaf0bc1567f87b29406ec95f90ec7b9e9fff799f07c5ba38b6d312010076344ae038ed928b534868dcb2406e887c7dfc2a94f9a691fdcb7d53d4091b5caf20da7b96ac5553dcbd50a29cffd26b7f3387add4c4e8bca26e884223efee60fa3f52764820d197e80d12c7ac786bf23e38efa556d263212e33a478b84aead056b05633958ea71c25674f303285660287e6a8e452ca92324301c612dd0e42d4efb517fd365e24a1595f0d9b4f1011eb1723a5a962813cda7c5a4a2371b92fe6446086442ee5bced730deafc32a2b0477a6831c292e9c4a4c2704256fdb8f6b1aaa85c92b3ba99f29905f7a9daa9d675e34f4495e45216220420301b47088ea56aa29f35691b67979973814b307e4c4ceec052e28a0d37583ee27495476ba70fa43a69cd13cb718b007ee62c9b15bdaec7ad675c6b5426ca230392cd88a3ea7942ae8c5091c6110384e605edce527f97a073a95b3da3d0d3fe992f5da59a02b9046dfec4f00665d507dda771916d7071172b00876677a8236a5096b242f38118313801c7cd324971d32281d6b3aed072a36df4a1e9989e46de5c8482704e715046b220fbff506b03439474316e588187c93397f099b534aadb975035b99c1f7621acbab8d49133bbdac486535292101ec8219805d599b305e842848d5cf90d8d31b2f01e631b92eeb155210f8506a5e69429177812e47b69860b830e737d28951ebb96d158d964117735fe72c8eb21d196ad7bddbe42c773660e0894184ad32622f4788d7098a8ce32ea07fafa46e9ae1070261bfce6a078ad2862e7d676de418b55178dd5f0313eb0deef038de65dc17526eb149f2bfcd1c077ed9e52657d83fd9d7982766960e87301a303058c330a0544337ca1249ef4368f9e069bfed7ee8876a755d24b95ce7c354c40aefff3abdd6f72c0aa3cc3a8e0f6334e53b32c61b3660c3684dbe4d724b1a680ab5e304e4dc193fa3ac2deaf11fbab1a3b139eab50c35ea43693a1593ab89f833a3668a184b0ce2e879c333d5a0780586d14159ddc335d74176bb73e3262f697cab73c5ce0edf819377b1a5cc68f1b5c5697261f27fe699e967a37aa7af1a485fd99505c30ab4873acef942f73372fc937eb70248df2f98be3fa0dd7e79d770f7dc0f0701e6a8fa743cfc7012b6eb3e6d7fc728281ad6b8a8e422fc96e084cfdee640d0b4ff58f6789994b8d3c7c93f30a4d8ff3d1e2ccc2593b4d8082b65eae28432775a960984adc6c0969b888bd0be7a69e1238a6bf04dffa8e9ecc9ad04abdcb2e2fe62533b31c346121f12cf6ae834c98ae9bda47e7526e00e4b81b6d437d1c20b5bb6e916f1be430aa1b507705105c56fc4fd129016d6a970c6ea960c46e00c1a5ec2a5d76a9e1f5eff1ec330fd739d1f82a7c9bcc4fc7352a8dbaa21c6aed3930a3417f1c4ef4936b1c97452529c429cd6c72d0df357cd971d44a56bfe227daeb683dafc6dae8ac229ff9853d33ebcb0a72f49ef72ec4bd764157072b57789e28ada1f78080f4190cb181d3779b9b2ebb30c0926a49e975b27d1ae4a67cf0b0d89570991bc68cb9327e7b5791ed3f7af7d954c016e1413380045cae062b69b675eb170846ba36fe95a2470b529e063b3119944aa319949ac5b8c72021472affff50923059ba6119aac6e697ae79439c528249d667a60373725b04ea16842c41c43ad596097e52e6ba3a78229459150d5b580ced2895194359f3b81f88c01ffb50ed58b8de6f4ff48995b84fbb1b6293ea7627074d5a968ba3308e6bef0b38b09e1f3d01ee39ea08f172bb02e5c111e0ff9b8befcf0ee7d101459f071b2f69d4699221d7ce294f8fc9311e0ffc24aa8707dd503ab9c04adb1dc513b047db98c7e86d92b7315d9783cf46567c6073788ea5b4842f5f8e1beeead9e8033f3aa710ae03a0f4ac1de1227221914f98ccb7894133d24a541d6275a46254bab80a620e125b89a1932c579e2a1a373790101f966bbe029549ef1bbac6bf410638215cac6132a5b660ab414fbe60363c4aa45bb33db6719103dc091830d2cfa6cb1beeab3ba89036d88124ea566fb3abc56cf3724b1a56a7710c420e3f426f79cae4721f0ef9fcdb447edae8be781d7d9bc64ae2740371725967cb0aaa9efbceb0255abb2122f6289101050a865f3b35bc03b76a90c1a8d0526c565fa7ce68e0557e58a212a360e9b28c6fd838d9f776ef25de6c8fb9db18aa66c11b6fd0b6824aa9430274882d51942a863407419030a9ef000b6bf9c4d56d8963915fcea5acc9dc7425a552ea524a58a50b29e7a0e8afecee68fff01e5c9c466d5e5eb2fe98313fc904b32ad0634e77836cc888cdb24c39bb651b6a1922aaf34f7218a0f1b98579b148ab07c9a07b6e58eeda00b47aa45112e85f48a7fb73f154ef6951bbf8315795fdfa95660b1e6bcef534b2f857ffded0e90840e5ae503fd0de630f9209e34e14fb2b3fb6a3c70464fc4432caf3fd0548f61b2f2103e666a4eaa50a026febf10cea3c032f9eb6defb5d2531187eef99ba943c0d4884c4d5e38ae676e07feffa8e124955bc93b19333c8e3c90eff9b4e6036681f05835acf7bcb2e965c816a91dbdd41c7e83cb62d4f2a046900fb86d560db502603a609e4b6c8d5973709f39019c6c91caa9985e3baffe079cc6d77b436f56bc885602287687edb861d3ae5d80e0828f25df93a99eeb130c97abd0a8e135a220dbcde3ce362e72ce11e4ca272e0f09b227b4a58b379c10de9ca7502b904201576037824f7faa4f13160724c26b379aba741fc24e8b40a6f731a301341ee82b8b76ab8ed1a1d09186b52c4f0008af2cfb574d27743ecd48a0b9410a459f9bfd83ffdbfdb00c87080ff2a088dc2cfbaa8520edced89e18f4e05505261d419fad54857d863f2b473634e1a979e8fbb01f72437c3d7202131cd3ea34567bae2b2efbc8bb89ae94bd89f33b16d0025c7104fc62cf2099a1be0f8de7897c12ed2fe791e6bbfae9444846e7e98b326162b4d4c7738fdac27bd97d4e190a73871c50868bc7e0721d41c224d8a170a0ae4e1f88fb377a4531189b2eca14464b0a7348533888307110be47330ae1bf0c0fdcec3c1fab340d0494f64cd86e977dc48827b23ba7f90c33c571a19ed6e81d89783e27682c97887ba0448c6a0dd00011095b1cf6bedf9dfa0aae0f866ec4650f8ef1e0829606c740b14ea9669de2990236b43829f73124f1d601e0ec6c69b5ccf99cbc7669f3a3f328a2f2b3e39468853c465413bc87e5a1af9bdfea682c30c7ec5aba5695f05dd8e339f8c37dcaa4d5c34c9cec6895143aa88facff7f685c56daa7ed8ab0e1463bd0e51b4cbf2d85d8519d317e30ae392ed63238d3dcac4969d6d926df34a4fa4076fca4954dfc0fb4150d76ef2ac280b6fd2c4a8b3b2f3dba8c8c709d1ea055646bf749c603c0c16f0f45492427834e079ffa43ec2f3eed0bb5a993b18a1daf6975c439804e8baaf7baeb4f1b6963f6686776a444553dd0dcb45cedf1da74c38522f67896b75dd0ee301147910ad14256a5aa7c749da0d12f655c9a732e87a6f7c1ae58dea6a4d39120cb7a65540d5539c8ab45cc3275ee43f89caf53274d6eaed1de0f102567dccda8f9256c9909eb409cabdaf4478efe2d8258e778d3af2b836724d8fcff491c983ac3a92cf5c062f008b287e78c20a4fb60989d17a56a033d81bf8f2f0fef0281b6133baeca69dece65a9f93f02bf09e769a779589c0cda81777d11e1a504faec208955458a9f6a769b07e497c4b7a03fdb7f1c7213c7824c44030d6e538ca8aefa472b64e55f19229d513912baab4e67e6f52f041a3238a3b93cc2b538c26d431c3377785ec94704cdd5c0580b0930466a0703df95021ce57b084e01c526e81848822af4f5cbb1cc78d7d696f9528ce471ba921ad87313d149ad6a9b5fed80b5ff23509bfb0d0fb95a2e2940500c5c89f7d23f9754d228d526046c5dde156e7f13660845b84c6cba4b972025196e3696151b018df5451d3d6b9b62c9702d729085c660b6de6375d0d3bc2eb7e4407f896f49c0d27655a8cda26ac717ee40a8c7fa229b35a54e9cf9843f4ba34fc1b87c78380d94fa31f9f5810c0603c78b34ae4f1d8cfb1f059746f7e3906432d908515c52fb4215bdb84352c4627ac47dbb8ea4c21709a46e050dd5ec68d65f13240d1edd15b939fbf068fbcde23877bfe1fef0dd1a85db203e75ea8eeb2c6ea4d15a5cffc619a75413944614c771b3143a210be2342e3c0ec8bbf0a73a16a13c38111628794dc4fd49de494d45e875c5434c0c2f9542f3a364628779bbd2e1373c6faa79ec19fe7daf72049521a3525e2b6802e86e640d5c2065d9df82ad1e9237491dc89c281f868cff259e9116b7eb778da269df71118e801f003bd78a55d833a680059434df35eeef29d6713a0b5f6d7818f7cec2ecf44744dc99effe43eeb1b35b96b07daf64f06d79267a584a7dae03c805630a0de386a216de7df4d0921f50a869e62e164a8c4e9dfb26ba27e9038cb8e6bfc0a69cd49759903e4b49119d572c89d2cf18667b587b41289a078cde82b79980aca3c6a252c00312f3e6bcc87ac4df79b859d88535169216ad13bdd96c1991a9c6ba82d6c6e393f960e8cfd0b9818d6e5745937991811b5f20423bfbf010e525fdf3774e98a3053dce1aafc4e242fb3b9d9eb1a8de996f52f19610be238f3a438741b3e773012facd6aa0dd0606927f5a065832b3b6275a7e088771bfed3af06b8dc88dc38e6a1f3ab23c9100ed3f87eec2bf0b8e6b7503a31f3b04a2e67c544e6cb0d603a6b144018436ffbf8017e5a5ed344c2ce75fadd75d667bcdd186e0d4c8be542117fa2193a5aee0d65fa0500cca3c4ec9d67b1ed411af0ae6e0abd07eb68110459f4c9922b3619148555964074fc38c160707b953212b158584835b6c5dd48fabe2ef5abf49e6e33db31c3c0ac44f61c9f52350a5c2ac8f751ba1049ec0d67a12dbfa6bca90fa78a691ac0be43af89d05ecd1befb21c3e8fb70a1778f9cc6b8b46e8da590dd23e94268ef40ee62eee99526e812325f090d8280002ce14df99426e72dda6141209aca6d265a0c64f7a2c44626c99d67ae8bd694e43b2eed07c2c163e4fde135ac06c1c6aadc5d3c4e4589962f9c8f594fb637783f6e1831196cbe095ba44c8f9885def83d76c8a0723167c436d01c7f44578d8be8346f773adec29cc7dc927bb966db0dd92d6832e24f3e54b59af96617cbdbcd6315f15357de1a778871d99fbb7707a15ab2fecaf14e68fccb4128ff73afa06714bf84a3c98ca605905596deddf647af9c14fcf5163d61ebca9fab7da63f4acc0f928bdfda3f10a491cd61fded98d6dc62bedf21db364aa521c22eb3552dd4ff2a0b7abde2edc9d305ed730c8d076f5ec0d398c28d18dae28e2c81517a8fb5b2808243002584d2498b11acd98cb6ca648979e6a3362169e07e82e031a4c93a5a7d861024ff68aabf36fe098320ab6cba49c811e0b108f358f80ee8429f21feec5fd21c45803f8e18617554ddfb53deae251d7c217018053d6c56041ff24eb47691b86b25f4f94da2c827b5098de8192b629d6106de7c62daf563f9c6043b9a611864f68de3798e375665138cabe0edb4cef237fb729da7167486e828a767fd208ae9cacd60da9a8c41155952c9aecb388eccada4f7b3a9a1a59f7a850a394be975ee07b2c073d39446a894e47edacceb165f218834ca0857d846e22f37b6b41388aa712abdff44a16f555cf409a2ac938e98df0c6b25c23415a22f6bd2aa53924b8377ecdef226f6bf025fd5f39315af08f8323fa2b418f046ad21e292eb58dbbc0fef22c4675fdf6c37c59665557c61ee6776d1790db044c196a9ba57ee2761d9f3bb7124ae7d2163bd7cae3a751e839dfe5a079dc09be144c1d10b6c4ecdb648c4609b001baea3bf76f50751e0bee328fe258a465fda29d61c5f636eba22da059e69540756d301b52fe3da5583c77e13ece432d4a239604b393f40a4c86190b7965c644b0a3eab67503a0c8495554bba951295f4479fa1f1c2708360086ffc4db183a326950a72c7470d9406d0cc41c6f3ff91aaa45f21f0abb6c0d5115bb61a8fe381db45a6e974a24da3eff21cd36284dda99dcc534481368b4116d97582fb9953aaeff5c01255b72635d6e71d7e6241594683731695a4f2d1aca96b5bae8a4569298e2116eeb188e7de6c6b645a4f1ee308435e20d4eea739de354480cf1fbe1446faf7e5319a4e063737c45eeb6d46b9b566bce2d05e94386a1c77bbde2d5c7d17923e651373c04553712f29e484db68ca761322efda64edfa3646a05d6ff76ca4f70e83491d25b3827c39791bc354c8ca2567620d0148121518983e46652da59c47980688a9b41b325f07b08c17a9ae388a4f873974f6bdda975015bf0901fee1bb33f1b5a45dfa80a6c7fb037f2d7c173bc99eaf2f37cc70bb330f45cb779d7509fa86e01aadb234baa12dcab9c1f3b846dba643776ca917c9a886fdd17a6f657d2f8ad8d6d38cef3aa992d0e18f6f6db102c39b91590182a4b089d9fb137084d2a5d817c99dbab1cc3049bb6681af7fcdd45470512b7f73a832c07a84004a51678e23e7217a2f3e89ede6ac100ebab6ad3305d739ea4ba8cbb3d1a41031eecf534c0bd5f86b2050acfb8e864dc114d832e9317f869b40c232a40eeab87fcc1a143a1b944725cef8c1acb2bfbb1f3bd6214b94570900c9a9792bfe210082eea35a0ad547755ec799fcb7e42c4f0a914f53f3aa964df6fe62c923ca054e867d7642757ca7ccfc15b47e32de9cef9634efe008909179fc7f4c1e91023502ad2e08ceeb558f0d5b59a1692244eb839f2387f83850763e9d3fd7a8fb53860b4301d9907989500a010311a3af16ab4227e86353fc322451fb10f3c5e54265c5aa47ecd0416c5ef89a0d777cc393b47f96a78d64400ad32b23d35cebd8eddf56bf54acafd423a1cb274ef1d5acb5c2fdad46e248a5f39cda5a1ad6bfe42ed4d8ae3adb4a7a23ede4b4a458c6881b04b3ae24b33a50659ca2268926de481375d26c8040bd2529663ff468818efb41fea6affbfd8921d8d21e7626140df0ca0f46712598e3c0cbc7c130371ace72a33daf38735ff6405669d800521849e6383bd0824cc6dc1919477f8a8c1aa04270791a94f04e04feece3296d43e06b9873950df9cc3240d05c45c6b1932f13e41fde5865a1fde0d04ad30b1a810017601862b722ae5c064ca088d44a0c98c60ee22ee1a0262a8590b9014ea2f5b34f5011e5942b7a839ebdd00b295e44554d7275c314cb086390d047bddc14a9f7c49d9386d8dbb6b164e41bf4c6437e785f0e4f55982c231a809d69cc37b3a1cc4c0fb6a682a22fe26a8ec00685e665e1b29abea32d820f51fde02f6517ba8bf87eab5333e8042718413304b1568cbfbef890f5b6561473527a20fd4d5f6ec3b2f1878fd0120cb2685ec398836cf27447c01ecc404624e219fb08e4d0a21ea39df7bf596f042e99760801974df0fa71b05a9bd0ec66c5aca409cb04a760b81616a728538d0f712186c568ac3c574faa3953acbcef57e1611729dad482fc9917da4e1c3a48ae6c5ff4594713a82ff47053b843e1c598eb331f5ba3621b1257e3ed77b03a3310ddc1e018989ab0fa4f9c800da40cf814a20ae25ed262969ed28a7b6c4f570be2e951f644cc5013ade2c5bce277c985165eb37b94fe0fe2607077a7426970dac6db8aac67fa306f635dfde8da9ca82d4f5d039b9c46e9e1dd4701afe6ba3d061eddb4263b9012b0f43ffbba5e5c127be1bd2971a494b902d50544f901108779b7c344a181d0c9f29fc24caf36d28bb446f24a559dd8a957922d80633cf26e29831cb694edef670b060b8a24c187512b50fed8eb73778dc80b05ea63e5d338d97d4cb605667ca1d765ccaac0a38ffde976e940abc201014ba69e932968af754ed46324bea8a98d162f90d4a793e604a6e5fb500589bdf2f9da1811ea028987d37b30a3afa0a14806256f1709595d52b0b89707ac5ac2ac8ce2445c9619e7d141f9fc7cf474206fd15f03e1ba6bd9127c446590525918ba272b5f8e1bf815f56cc6694fc2537e6fa32db9e66476b14869876ad1e55f28217e34a9f46c0388c4d5c5114decac69ef15c2c4000630622bbeca863071186afdcbb4a86710cc28461bb89ce7f13ecbaf11c8adad3700dcacccc04a0b19215beff4abc21c0b705f5d6275e5f9785b0c8be5f354ff426c3b4bbc7762a6e7d4e5c4f15ab541393e2164711816866d0ef1b90fa0732889e9cd0abc9143c6a124043c7e94ffc6ccb1c5f7940c5c7b608bfe52333c00f14a43cb6a6b14f6013acc8ea8fcd0f2dde73f3c53143996e5ceebf5ef05df99be49b8f959ff98c0720c358bd1368e55b51cb1e65fbc29bb379e3faccf90eba3b44244a57b7db24bd656d2bb71be23c4f5722513481fbc5a4f649c3cb9f4995cbc2c90d254ad99e51db28719693cd5f344e7e1568bcff3a76cafae68d571b9b7b59ce2e0fbdd1c2f082bd2752131bccd887bea240ee8cb9fa935ef5e7776bc2092d9e2728aa7f4b67c5ab12803de2e9472d4bad46a6a72614aac838738614baf828e38c25e536133b37eb24d7fa52c0ea4167bba2a96cdee5651b08077ef70968cab8fff2f278dafbf27f632bac1019f6f4698b3c15cdae01d75710ca2dc61d947af55c46c5a154f019190ae2c0fd87487efa507d0ac9dbbcaba201f86f520df3ef7f5ea30713250ec471678d74a9d65473505951d2b481c9d37cd98ee6e3abbd55d8cc3126128d94c8d751f9221505257fabd297c1baa03e961715cfaff9ebf80e6b8c2956a39e86e6140fa3268844b211f804d443f4cbccdd4bbc5dedcef4f41bf446aee190ba1f14f47013fabc4ad8b97fcd06fdb8c786f0d3554553a1df95d1c3f05d511b39eea00458090021a3f9f5c775467b81f630ad53f2414a2f10f624d679efafd33799b69b86d6a59b440a3190d27b7f19b2c0fdee3d8b1a5c99b3850dc1597208180e0b95440c60c7f8470fa8188b8abb37ca7c5a2b4be6f152cf3606cd6524c4515c54ad609c8f2752344d5a5774bb5b9009e96c1b8fc789a68237a11478188d650a9e9941b75f5e7436c9c30057b904d0097a2a3ce544c2729c19655a2766a35716259a89f8a5e615fab58c73d5b247aa2df7d67ac21e0a5e02cf61ef749d39c52551e1e7b7e9bc45d5efa88abd59e6536b6607f91a37cf92b7f05c65a276427c5fa1513ff3e9301c8763cdebabf8880af7de014d98dc3455eed2d365d544283f1bd90d4160809011169397d76fa1204a33313c05bbd969aa77f5da474acffa0d53244fb9a74256f74b558cdec2e181763198dbe6cef072f8f5df7fe83771cb808840717e7f95102ccb68bffc4fe54b22edd624877ef5b12b3f54105c8702e20ee0e77a66b21744bcf82fe2eabeaa512e282ee87d103558d999bf2544f077ef60208075ff5711c9ad3f0becd20f1e04a3e26b71042717d13e2a5d118450cf1312a5daa833e5d957344d4fa7eedc17916719fc3906d913e7eb3163c19ad1456f8c3a930c23a9ade4feea9dec56584d5e69130cba5edc490abfa39ba014fceef934c5c343ca8f134986d408613e6b592484fec581f89894d1c41355d7ee1d4fd2cc5d4eaf15003aedbf9cefd4e19139b677a458d3224833a1c0a2cf534eca55a53271fc3827ad3b5e439be1a6766939ec8b0728f0a623e945c1183ce95ad9f01fe66ff79ad372edb8578042eda64796030181e4491c8ff099e1773607ee3f085278249f08e0460b26801bfec499de99cc98808704d05b6244f2c7605aaab0daf61e0339eb83ec3365bff05f22965e2b169e4e9dba79a95da8ca21d5880908a7be3e7688d2b0a115cf17d574b27e891cf5092495b97204a0bff6901fc5e29b0a479e5339493ad520c5c36ea53ede0b76157d22fe83730ac29d76efbd11543ca7c88940a0ab11488f0aafb33281b3b612ead49edb9e280fdb5489f2d224e7ce0b51dcd588aa0a2f9dcc6323fb601459a8964d32824b110f75e669c03c38373b64d78446f3d95978749ddb714e3210053ede03e377d48b3335606362414b7393eddebbd79c4e00ab5a8eea8bd4e12fbde7f49c45148f0d5d06ab2bba531590db3712936cc403a9558e71678e0df85461e5e652c56d26ea4e394b6ab218ece44cfcfc164a7773da957cfe97072d2c2228793103348ffa95e6cbe65e3cc213578d6b997df68b8590d23de2b4b617369c86a5ca5b117b439551027001762ced5b0e972fdeb3670a012c8f30c738e84ad16a8e7610e99b085ade7a721a247caa8e76377c75b8c14dbdb60f2fe4ef9c984b98fa59e442f60038c6871afe5b893a61ef483b21b9232c31a59863bdaed3214f14c0b7be7e4b1895f8138bdfdb2adf19376401b0c499779cd2192a4d5a48624172f0feb67be08f3b63c153ddd7f10ad05f1a2eb4636f51320ff10e479e0d28275435dcaee7f4d23bcbc6db178ceebdc9ab8bcdc2eb2771e0bf78b57622beb7525dc6ab064d08f3f1a9890f3ac4a9c9cb56196d4ae059276b716bb8e90055f7930bd58eb832e6c7903bc1b03d48aac3b5bd2207533b853d7b71b12fc15a7ae1ac71bb5f681498a99ba68d1bf770408242ee58740109b1aba697960dea060102a0ce354d2bffeb45e455f48700c4529b21d8a2fe7b8b529089c4f1e55271f2af96748cb36b75f2f9d26e11e803df97c0367dec7b315b577c9b29b320ea1094923106a870aba57d3e9b062f7ff12ea9c7695512a02ca8b2330eb2eeb532113a0eb1b61570bf70bbb8644e47473627e1707284f8c109d24c386f9ef9a9cc36d7dcf6260bce19673e2fa286b922aad0f40b0d6806db8c3a3ebf98512fda32a02ece186bcd05298294f628ca4b4fb91aab06dc4e724d1e1d4dadeb074e38e4c833cbaf76afee5f7d07c28b85f12f9418f3e67c48d8d9deafa666f2296bc45acd6741d9ecc047332c9628dc7bdc34b89feaaab3e2287d7f02e175f6de7c5fd8e65bc6f52faceb3d8a3ccb4a1aa0e6ecad1d699e014ad178386b162e07a2f53408de256d50e75675e5c03ba5a05c96106c6ad039b17af27d8b1b8c5f806501f52bebf9e4ed78a6d8b35d332c5eb9eccaaf98eb571dffeeb8c3f1c269aff9e1671bc7e6307b855c0d156be4072e293e0a4118c5025b84a72fb81552e1216f14130c4b39f32c8891d0e4f44b019302a1d0617db334060df154f1ea3d6e40824fdd1c104af6e279a4eca3fd8ea2113f2da3b34d90c9a4a3228c6500d9e14ca38bee19547d3bf9ceb558ea26655d5dd545e9c906b7845625f09278c4dd0aa19ec42d1ec86535664f9d3bfd2f3d49773120e883d245f03bca83a6fcf59f49b5ad498ae8bbd2f380f5af9a264fee0a36ede6887bcb8d7101c94e5d6ef15a16475b79c41118c9b814df60f8615dceb0db3f86380322723932d15234e38be2c778049ae67f40eef2368f474dd08494128516b8619fcb64ed34e2e44a065404ed3b33e5c5c75b7ce115df16e4afc7bf8c4c3b469378418591442071c6d5ddf6d4e39339735962d6a9ac9231c425175917c2a0bda5c10f53a00bf56fbb986b06fae907b6e2ea31b3961a2aa4f375be24f517f2fab5edd63deea552278acf0566a6b0458b0a1263bbe43aa0a8a20a4e141abb6af286bd81019aa04bef1da75b4db369eb7e8540680eaf34adfd8f55f9e62748746ed61b83a95095acaea1b2bb875759fef9c6652c56e2d5a8307c6e6ab039a506563b1ebc9716718c48a683fdd6d8c48efa9aff3951ffdc477e4256dd6e1dea131f685fe68d944589f6496a024b2beabbc5d37b0a521ec7e6476f52d5630d2e1d5005ee4046a1e8cf213b19a5bd657c2e21a025632c1c7b6aa3be96b9d910384f9d1ac5c228ac92c49673c64f8038b3bf3cbdaf9c5685f21b3edbd3c8819ac5bf6b48a466310d6a8b8a7fb5938831da90b955e6074ead4967611f88415ca9c048e3bab33a7e13cd6419ca2df9134aab7001b031bb03a4b50461bb582b26e6abb7de11a6989bf772f54ad05887483d89fc3c83fc3e601e5c7a035d093f50205cefc151966fbffcac1784d87cd5703777cbaed869275f82f71f7e0d400aeb86e819566832405fb41dd1b1586189677280bd1dc15e75ae343372e3629c411cacb4d970b121868a52ee0ef49d90bfdae47c4d9badab351d3a4204f18a26d36a3bdc5b1e5003712cea2051157defb40414eb88771ec3a06b1ac1fdce16a54d081af067cde5cc607403e3b6dd48589b9f0d0624172e819c9e81ec2c1b5a0f1f8695caa4636e3bb3332fec384ce89fb3b55ba47d34809bfc95e6bd3ff4acc5ae0bf18686dd37b9ee23e4bffc053b60b89d8d6680834e30841c4e851b1dab4592de2f67e97c938442f516016490913dcc401c92f56e9b25e6260bf06d3cdc239ac47e15341ae975f852a26c53ea52941cb4770a2b04175b4c9a91ecee8d00c37028c009baf3f51e17cc19e9bd853190f71719692ddc657f8c488ee7c80548448f134a09ef708e45f19eb65d917e50f73d0ab6c0fbac97c239a6e086ed9198945b71958bfebd710c354f6506241b30a833babf3a6dbcc73585e9e99b9707c8fc939f28f11d3900a023264342b1058d107d18611c9b42fd6d8e9bf3ea26dfe7e4fd94db938fd9405679696e794213d160f97003e7b48dceb7a20bb977d44a06056a0d1369fac5cde438c3c2ead0018ab3f63f888974502c27519a9e8bb305dd962df68c1e024cef64e731d56dcf99a52dca5f3e2a30f6b80ce83c83e9c3af621e100b90abc4296c51a7e0bb52e9d4d168880d6037e4946d649416897e4226a49b70965ed2ffda9eea3408991cdefb7b4a3c6d38fc21606f9e39ae11136e94b7212cc52f14757ad2dd24d2d9e3dfddf2bf42a90c9aa8342a07dfc677b6b0c2ab06169b5136ac10dc766b757ea6be89999618be593caf71407516f639e69dc75e2e47cb528f5e80dab9e8be566161aa5f0a068a220a4545e4c26c7150feb62e25feab1eb8a90910946228276c240e15480d12ac34cddf5b9a1a4cc35aac9fe67cbe500c2a53d61203f4343302cb5d5916e777e680431c8e84d8358a8259d9628a69994e939225cc50e9d279fde4cb1bd950ddf0b08156c60e385f33e3abb369900c889a1dad0f0bca5bf8df516f3398d81b542a854cfd5a50f15b6740c2e2ce32778cffa664baeba03cdba404814fed47524eee3ece891e607381049565c752e4a2566deb54b41d660d922e955dcde080968a1f32357cc79dd6677c3b4aaf386addf279097a085cc1085df8040efa76cedd8306f549faf0bbe952a693b37b971fdfcf8e2cdca67255902a8dc80fbce4ba4e5d4ef15b3fb6419cb3fc2e25f52eb894d5eb8ae49fba4d703759f19c97e33c8ff49a70ac528fecafe43458a709a8f06d743e87433e7172410907b50556b30413d1cdd4cc6d754499f74810aef0fd6a43f6bb54b9e7d351e138d8bb82b6d5e1a074745a5cd56b98b08ad5006f94c46d6dc8a65730dcdf87d8ba8fb3cb189b5e032cc757cf500b2d986903060139186197fafd84deeeadf867ccadc96c39f77fe40e33678a5424bc293910f7720eedf5dc7e05d7fba3bd69e7fb355b1d3171d9bab26d1bd5af75e252ee802f3c7297f8789a38b26a7e3ed2c916","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"3be029b79a81f6301f4069e0a77bee15"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
