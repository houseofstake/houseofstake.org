<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f722fbddb08d14691d2b0757424b1e5069b4c425b1840b38a283b9ed4bd452941b84ba836f4b018b4449e1f3e33cb41a153a80ea5245b2c036d835a3110c0723ceb0841b680193f42b3c17b336105f6186a8bb36e98dc5f4c369ee3f17d95e68cc4b773bc533bcfcd48b00646cbb4fb5315228c6f7fd7969e91655257f8002af773590b5f9b52a226101084f84fca1de5ae634d452732687cbb5823068fc1275d519e726253de698a8514a280bc27b4337ed95eb91b397f3709070f9931b06b99a517ab4333761130e9a4bc6a887d8c65525084d8d052c81b3da65b54eb766ac2061a326d2b5b612dc70c5eefda7c52dbca5940c141121028ae961c9ea561390ef2bdca16498f7ad34ca8697428196a93fa45200c8192f9311fa54f8c53db40d7c12b50a0410f777ca8dd6e60ef2c2453f040b6fc183d15e6fcdad7e846f6ad4940d968c03e2f3bd31605bb0bd00ccc10c1abfe3b1d103a0d283671714d0f53e90a90cf36184606e162cd95f62a576598086ad47475f4d2fb3ccae5f722b6b7090c82588cad8ce8b0d3848c895e1850edc809cd2b2868f16502f08d56b8400e563392810b112d43836480d670616096a07000dddb55d59749ef75df160b8a6426ad3e4d5228a339fea6f3030e5638ff8e11586233b6dcc25ead324e2978c2859d15d70c7b777da4209632c2f075a3f2b28bf20ba2a523cb9b6573e463e26924e01f07749feb810a8e03d756c30133986efdbef0e1caec3accab0b45cb178af3275e67649292717f126a3b683649bed1593d19d4bc355f22fdc8bdcdd7e56bb6a2deadcbf80e68120af164ed1ab9393d7823bbb29da2146ddf28a9798e9cdd3839721744ba953fe2fc1b623494c6279ff23bb4dc79f704314f8a7c3d60ceddc7c4f9ea62d9645df9477e01ca82008a1d0af43610d16d1680c78aa5df5284bbf4fca080c11ee5c49061a0d8a08417b9df67e256d1be11781571ca29b06c0d452884ce4e10febf6cb4536232882656282df55783a497720f930361a552adc606d7c06940e1c99db2fe0efd4f51546dfb66c9fb0ed728541e6a2a633a7b42efc45c50ac9688c3a32550392652fd85b8fdc94b47c56cd12930b630f895f351f0b459c2538f52c99f5010ac476e80686c1b5c470e514cc5a30a2a2a196ab6589b83fc2ae07f19c18d4cf2441a36b65c39e915c11ccd79015040c5eb2710cd2212e03f79853a4ebdf92850298307e55729bfd12be60c39318d31e194919e9e652c6a4eae24cf65811699c99cdcc588c02ba758a3ddf2e995ef148b7cb319fa97474738ebf03c1eec0caf22eaaa977972178385aaf1bd747c5fcb8439fcb2f79b96d048388d560786bb325caef0e4150d8b11a41860d9fba16d2cb8de7c96cab4d584765a294b2c1c5a4e1bf928e9c0d8083188427bbb80b9bdb21702ed845c6af02980341da709a78f6a3957d0a1646392fe9d354ae9c7a54f63948d3b9635c0ed4dff9228bfc115578c7108e0a155a2b3475be024b92b81336bfa31e4516fa7b0503303d63281e75cb52b65d85bbb92de109af1644a9a17c5eafdc6b51749128924469b8a45a924f499ead0e3f3d5448cd2a8c1c4a3fdd2df90134278ad60f70b579023682430cc427f5902914e958b7cfe0e57471ecbb6380bce2257423f1f3df99265bc085a12547d7ce97d688f66799d8287ce5d1cf86b018c44a4f1965c89c6dd9f081e71510d2f15056519e562b9ecc137ca414d7894a750ee6a81d209baef9a81340a6971727fbcb7ca9c3f374578b978d03f188049585019d8402fa8f7afc2f1d7684303b9f8e914fab14a10b13f8ee4a49ee5a372c6bd47de7618af401c7f0f8bf99993fcfb3a95def59fdfa0728c0ecbc4dd028726ffafa88563fe5b45d5cb4486fe9671d2b88b8f1d0bd8754d857b3e7fff82e14e1c3f205f15f310150d732836163c49ef63fb47de96173ae1dc43545ec5720f9d95182a7f1d5709f3dfcb08b2e0efe6e4b03c3c8fcf79b11435b0d606f1ecb174215a25c87ce46ade002d1c2072fc046ae1c71d3b4ca52a6c35483e796bb485e3e2122dc18a93ea719f1fb1caf0b68fdb1ee95602f2fdde7528a2cee1504cf449c94069bcc08d388a6eadde27b1a5a24748d0f344ba44cb2ef99964462ecad67df6dace065244f96cae621b82666572cb6be5f4d1e74e739932724ce7eb6bc92dc0976177446bdf0a9ef53fdcc7223e5ce45717902bd0bce01b3023138c023d89d464a4f705c6140485bcd15c107f7e77fda21345cb108e10bd7333a1c936aac718e47e2507ed5fe0a8e4cf55468680db0896464436fd88f9db7a6650fd0491887ebfcbe95c37d39ddf8495e18d42e1a2064b820e945c8bfccf4fa299a3f199b7c09bd9e596968d53244b24eb656789607846b5bba6de79274e2f2378b5560f7c26db07730753cac913599db7d9d4ef0a06f0c6c921f9d4ccf1510519e89ac9a4927fd2cb9c8d2237b341eaaa5a42fdce79688a5fb0ce29e1259ec8debb7acbb2c661cf5760bf8d54e8ed2ea57ebf49b5e49d054a66cd28412afb41164c169c6d0d4a918522bf7d554630d41f536dcc26972391555afcfe899fdc9d8611d400a7e46ef2d6ccd6837ea97108584770c762a9cd6692dffa48088e302005bed63e381f0497d27ad091a708677a0ed4e5598a40cfa90746a640477f76011cac412e7a0737832f4d39241a09eccc201d9f99c0706d06e53f41b5148106fff9e1aa9de125797be8467dd994bc9a58e179c1bac674300ad45380bb078c7eeaff8c89bd59485519dd0ddac00cad18a68858b1ff5a1f98025a51b693f09d6d7cd0eb857577502b8c76f709ce47b5b93a7b3bf5b2ca2718a17f1459ebf42aa35fa5000b36838e88be1ed4f1a7c4ac1ee1e8f3b0cf9cd9de1d40c97ac1e61bdcf8cde23f695daf38a09f5247dbc7d2f9f695675aed1317333cfc19de4a93f2bb4aebbaa2267d79a6b0b41fe5eaf6cef0aa157ed9b60cbafa9e2e5f40c195a6c330965cf617a7975657c9e75c01d249d57f646f00dd4af24ead819db58f2607b5f32dbd7e967907d0976e0ca9a1fa3d279f83d8d596d13e1c1bfe2b365af45fe06eca8a387f96988210442fe64ab8afdc515958139a2a22de14e854b413eb284562713a8f0ec62bc499be762ed965eefef6c01667d9f95890b1ef1f4f44ba6ccc7475418f77fd0bbf47a89a2e0e1ee5b9dccfe72109416c0bfcd92d8948972bcc7f1724f7ff378abdae43a9c0634b50aa48f8991135cf70dfc98e57555da08b06bd4bfb17902271d9d87802897960f73c3f071f5985a0cb6b1d2a069221b6cfcef80b627b37f757146197aee570fe6be9c0a40870c9ca608820f44350744bbe69c13a460b3f4bb799b917d2d5b51860688d1989d2380d874837ddf5a26c8e9f0592b390d20ec52bd9782103e3dfc1624df582bb537c078b830370e76bdc9d25b717a81317dbdfc2c8450ed5cd17f860bb8f9fc15f16683210db81bd4963bd7b0a8270f454cd079de79b03d0afad0a9fe80623a6071cd2e6f877f0256998c5a1c866da19044282804b4fc2da015f18caff3af6b0d23f321c57819416b5bf30e73115ef5540d8d94f1567a13971e77d23d2747481c6891d6b711635fc435595598beb5781385a35c330224921d797ae0e435df22ba58db703fa1571accfb598bed85199b2a35921a27b48f46b670e1af52045df2cedf6a8021d83a5a4e26c4cf5668acd13b5277779e7fa933e5b48ea92aa854567c0da3f7a335f816245688939f06fa753fa9d965fc7a0926851414dc5e6711a778ff887e99e3a2e652b04444a5191bf8b3adfcec0e96eeda0e3624f5c0554b554c7767246fe6e895ae920a2b179d92df3873360ef9992ee7ffe401856f65fdc7a9f8cd2c5edb27b1487b64ffccf0d67992dd6c073d3f755db1bc77b76002508f842080bf219fe72f43b4cb5a65c57d15d964d14024ef0cfaf2d0f3e061fd6e0e9a1878e8ecdabb988d0d4c05357b3070ab8089b9b0b9b77206271541497e903e84e9b3d97496e79f4eb312ea9ea0f1513870e17e6d3a7a4cd7b0762d6556e4b38633f2bd497da1b40dd61662449fbef15cb5955c51180c7a0252e1a1f2a9242e2c414770a54e7a5366e3ec63083560e6ec3fcbe04c470bb2fe1bcd4843a7d19d4944cfb1151154a77224602da4b3fa1e7a0be61d8c83680f085fbf1c7fc31136b9d70df306de964281a9bb0de5ea58179fc5d04c5216dfab8f47841d17f548ac3b5465942800d44245eab68e9d20d29a014f6296497390eb875a2cc2e209098fceec9a4627ef5a2377f05bce103dd8831223b83e61d0e42ddab2ab4ba279728e209ebaa7bbb205b12dd356211cabf069eb6ab9d5eadb41f28d1e0623674990b9d7488948b06bef28cbb34ed775c34ba4a4a0f970917d53e14365ad9f733eeef8c4dbf72f004e9fb56032a75ec248794b627d33a732bd1266c16d1cd5918ae9454995a412faa7aa7b63e177021931b880b10c7635d2471a3fffdd0b2d3cf17d13df6d2eedabc043e2fa7a03f60f30ec274f4da47ea42199b528d0a38ebe7c38a19df9fe7666c40cffa818afd00324a3df194f9a9050ae9277f53210d277b6edcd220492d939852d64901d66661e78d77015376aa5eca96b5e2a5763ba6fd2110e8a08daf8ad46e55d6c6e8ba2a7292cb44f64e48dab78489f68d669210d88c6b2127fc90e43e6dee59ab559b0f86a86e4f4ce1ba8d0f8f9aa924733694bc39b851b24d7176bf92521e178a1e429ddf5432ae1f821c6dff6a1cf03dd4fac106164ba7b325d53e53c0238044f3e9d40df1512010fbc1a85c0c6a80fc6d96f0e861b1e0420cf0fc34aa7036dafeb3ac71bf135d49abfdcf75d90f6b693d0fd0efff89d38d852ea04d648900d774e8a4c118c3ff8bd52d4d8a6d07dc392c31ef53b04cabbaad5c537763686391974d2bbc49c91d3f1ef82abd63c78af72bcf27fc7cd7f2dfa393d0beccdeac0554be926c83f87914cc9577118efb324692e030a4eeaeafc62d6d93c8bbe041682a033ba80822089dad893a733effdb59e2bbe54bb0b4c2546ebf7c0b9c3b8be2caa524d9ec7ef7ce7b5c87e69f88c8070cf848e3cd3e1e042482dcf356568533f982a41b319490d957661b27f0961c6eae70a920d0b782d9990a828e63ab466b40e31d434382f01f9bba00342940035c8813af42aff90a6c7de5ee6fe86131b1f4c79a4a1604a992fceefb1b0671f9e353d5a52cf50335ebfe8c1a7a6f37182a0d996d7f05b15ad1c5964dd49f319f591a7952276bb921df90c692a0fd42abd6a19db09b413f5595cc27bb40d4731897656ffe5fd4a8d84fe49e2b4510ba9ea85540a8df2b276f883db0522b10ead33f6d7136a94a2a299833285509fea2f19f624195102ddf063ea03ee1dc2dd4569b4328d6a95ed89a2fcd709929ef358b8b01ec1a363983dc429c419eb605c27ae52f57c676bef9563e7b827a305bdfc1ed24e85af5e21178c8d885789253e8b7417b28f5927b474dc38fc1cab023a28314f71f5700ed5680df46416bac64182d948f6bfc153a00ec2d7e8e95ef1ec961daf600c7da421c0963ed60637d74550c9d70d673c6ecf3ec081ca4b5f7ce5765c6b3567d2ccb048313dc4e969f9f152d44fd6948b38fa0a51b0158dec0f944b083331db2e0a8c778b08012f5eab9bcf87987cc0bb7a6989883b1e5140c5aced9fedad4b1ddda80c29ce46bcbce6ac214397f837f6b575ecef1db2685d57a83f2828049172c0dc9557e97ab33a663ac4d502a1fac383a53d00c86da87152b3db707826f82bc70a8ce62a7614617280b1c918e96ac1aa2ce99d98b2f495b17f3cfa622e412bde5e266a51d506beb0fda4654724805fc6552a65238f786f14c89472aa4f04c2534aa3b7170951f6c0bfc2db2791cfdb2a2228f3955a8a68df836b95c89f3e2be84763cc61b25dd17c37b738eeaa9f47915db324667c9f1d476051951dc871dc037ff034a5bae8e6673c4fd40f50d9ed3a715c26323f39529f2674569b7b5dbbe7644142357b0499233d068543fb83a32e0530b7d792f81b9adc4318adead322ffa0b10860473cfd77d5fd96b289eadd8d71a214b01531a422f17ccb1baa19c94624fcb8927840d9fb22759a5cf664d1cba22e73c168ad86e9a0785c93ba53e3dc2050bb00df5232df52e7ec705faa2134d6736004d0a557c4d31df919468633565e6422e18388c29a34c4699b0ff2649f22ef48032eeb817aab8d4e5c78ceb1f1941a3c54db16bed8be14f0085f28580c7f53144d0cf8db3ebf6c0ee7d5547e8cfcad55c4f729f2909cf027680808605b34c49b199b5e770a8dd00a2c5b45e21800f633db0eac8e540ae5dcda06c79e9e39e2306f1ac4d2ddc0feed4eecb348a6fba925601ae31b089bffd2a2e9f19cfb246d04e32859b9b46848a9c5c38b39822c910e00c9ab64aaf9a58ce85d59fdcb9cd446b093e9d092dafd1c01ded9facaca3712175c3810a9600fe64dc6924feea427e5cd41c3c6e9b9d55bc3447cb88fcdeb36aaf146635a35ec4f7e4f7c2f216819e467d12c76d45683ce56b91a8c75ed6e5763cf49fe5cb553a78ab9131788d46707e73903eaf0ae65a96c0b3265b7d3fd74bfe3eeab159ccf87166379255a57a6853e9ca343106f43668cb42049ee9f2aa90af017a50bfe1544cd9765e24c7443d4a64c2dfe805c4f6f4de105c86f4d18cf2f7e1639fc781811b94303ee006c9819a2661231f51d3aeab2fd8e39faabc59d881354e15f2d307313f349ba3d3568994f7764c5359ac69d3b3fdaa06ac289280d4eaf54e65edfc537b288034f7bb3c4f1084d02c8ff89cefb92c6649172cbc6ab5435c84e3a1c7af8571b9d25010879477d56e8bee6f285dd20d14efa7c2ccf73255caa84340f3d9ccf7138d8e11ed8ab9983d6de4e4094ab4abddfc5585dea8182cdef93c60efb8acea07e2dcb9a623b0d588b97b5c98488bbabd81679926b51770f451dbc493a1d3404ee970030e25f475c5334a41dcdfaada3bf5169fee9d10d410ee3255918189ff4d4071fb0db4653fb9bfb16e9aa696c54d2f673e35198c1f5721b132cadef891a874a8eab3dbd51b209eede92a6da438d8d2342dc5c59a7fc21d645c3e40ababa1e36edfc3bb817a04eaba38c269d58c039cc5669799d9fbddb03c1c70d972c33f01b681e9ce6ca4eed9c5b3c7b62a72ec32bee7776ba297ee0358b8f5be22efeef245fedf2d4459361dab1687f2ad73d037a5e646cec4846cae69a0498c7e37c028537fa639b7a240a1d6723c498f54541f6392ba5e132134ba3dd32ac5e2399f96d32959c32c581499ed55e7c8d27a6b9b1ace785217f25cf531719eea006c6e9b5dcab4691d441ed9341e2b1c86e18deb730cee46b2cd81d445fff2ee8292e91f7111b83116dc6009b6a890a757d385687ee05aa2f71451aab2293f04d8e20c4ba894aa89ab8ca1fd5feb6724092f2de0d31b8c36c4af10d5e62f53cb48a712e9ee507c3d02da9c90828c838ede735c423aa364c550c3492356067f2ac7f0e7300e6f1e58013923f8f82b8f0f0763007bd24c712beb1c48245e87ec4e4777d8e3aa38d08049feb7c8fd45695a0726f38b58706eece0430d6eb9f114a28daa6ca443e4461d1421e4cacda1dc7c9995323179877d4a77556559c6bf68a68ec8f8f0444aa3e8f32afd873cd740b2907ddce7a4cbdac707bc2ab4469329cde6d95e69e4a88b02de6a01aee7f0542f6ce160a1fa297b35681818f086c5b60869c0383758bfccb0471c911438c15e3af5e8ec43d13c0e636ccfab9fcf92a813351e2ca24ee988e054abcca9d62c44260b8e3c331d26836d626bce0c0f4d1861997c124ca2a3d1e1f1588e59e1e18164c1a948bda6b53ff27c1fe3e37fcce3c1179c76ad44c1fe70febbce6c5847ddc05ad8fe175b4b021b3c65c1f96bb098d5075e9a39fc24f1fade2e5e48944e9f3a37419e2226ab142c83fdc7f79270ba4841459014c4f285d790ce747b713f61abc742ddfab9d34cc0b6c3cf5345fd6ae54bb05473611d53e284966cfd225721c09450db941fff7540b352ab2eac6b6b69c42f0a9d92a38ba8d151f48404cab0c9abb9f8f09c7f35e4caaad0e4a905170558cda2c29f2d8efbe1fe9e2c15bed9dcd63fbae3f7f19a292bda33f83f5e6c8932f1eb16b57558fdcdc62153b36f9f84b70b2924626e40a30ef44aa44661281df5cbad2f7222654c15c9d69a44e293ffe77a1e456d5fd7b9a6c26d6b2428d0bb81b882d974225e20c38b894d47f7d3fb9ae69d71867f89706b2c28e235555f10859e46ebbc3c8eedcdb710e02ed061b1f870207d42a2292c52d452029802825ac25097b7f42a1afe27eb1cb9d179b952a62acd957d633b1ff851cbce18942e70de178056c4236ef5f103f05d7a78da6e0a949c04ee1b357806b8e49ec2eecfba3cee8d512e63e354368925f6979950c9da139b7291c9a84d6c210f0fa61763ad572a0d850bcebe1aacd408ce57fc08780d880345dfbeebaaceba2f84079ee2e006016c5352d64e208f7cdcb3ebebac8e5ee694b0485a43bf1c46a6abe46b00ef82b13c2e0af9f7e01b589861c27ae24b131eea169188a2b9bfdf71806cadf74c8f53035e33e3128af2d0e0589e3051a24072f342331cf1cc664809c51a9db8ca4639d14346342548038f3b19df78e1e8851d471fa4c6210c7b4c6fdd0dbdd9880257a96867a559d2211956d416e7ebd4b4ed9bd802845fe1ab6606460cceccaef7a0a415096d86593fd2bf117694ffc014ea0120aac77528f2b9cc2739de790fd00aface0e00352ec675b432fd91543fab4a6a14c02e4c44cdfd198f5ac769970d1e465d20ad454e8d52722b7cb7f7cff69d931283f67455e08a82b76c4cf642a403ba1dd905c0fb3d76cf9008df585f99be1a242e025167792b7976d783b660a7b07a700d9487a0dbc53a448bd24dfa3dd0a47bc33823722cb8dc5a5a70f6aa6922654b326f8f58cceff00c63d821442faa45c2f453e8162fba8c15e6de3205a534aa7f521d760ffa5c2f8e6b0010fa2c6358bce477cb89dfdeb7b28c7b4d264a4dd435eaa8de83a59ce75f0ad5f08818a424d1a751eb16bc4304a0a4558999295393442abc995ab2c225acb31445a0a1820bf7cdc267e34c96485b84451aca63dd81a009972eeefdb6328aad9931bb5ff3534d2f3eae25b1092dd29e47a73b3fba88deca13c48cbab274223c64189876f079c0ee59a96b36a24feb3fc62a94fce7ab1ab97bf85175b13c29258715456adc747d56a3b5a544e7cae18e6fd872424be1f8e2eba1f720f462003dd8a842f294c19ba7f6b0a255cad034a01af30eed23a5609d4ea40a72b076d8cc5ec4dfb2e45653829b08c91ca3e00641a23f2e961aceb2b429ef099e0a83ab13a92ea88dbcc5f0ff3a065b15c65890af641ef57a59c7d22dc531853683ada79971ea3fd9f541fd1eb114483100885bb77c7576c9e09c699c094a6da2618dee73aba21506f4b730f2577672e12ca7b175aed5a2f4d5f0fcdd2487aaac4780248a13d2fb7398df026f13e7d964a85ffb44e9cc607c08cc5d0ff7abed5f7ef36d3a512c867eb198436fb79c1cb903ece17730efa3da04ac60f1fd6ce608e66574fe446649e06fe052eee23ac385c22f67bf8174b32999afea0d2018f1c522baeb32fc4effc785899f0071b8a5bdd9dc77abe5c1278f38e6166481d588f963969de6bb207b3937d348058751f1565f5d13fa0aa0d2fa8e7d81d1d0a860f3f398b3e01ef3ccf449e697ecd15ecb04eb368d1becb16eff598d6bc3497d2e2a82d43bdd1d584940fa4927809deadce10e35e11c555d121dc71bcff5e1dc033894c90357c819d6ddabe8b04f7cb741ae7d93b6abf630b01da1a11776b1d7999c1501bb13fdafce6e34d068908149594233f80eb59821fbe8cebd3847af0819e95485583eb85348a4c590520582df49a24d93ea7bb2cdd98963f0f2a07c4358006b76b6a23b82a2ff480b789dadbefc40e3de7d537c6c5733763dc40a06293816048443496c5ff934af81bc94a589ee29411a04b41c578628280ca7437dd352130c499107348de74fa45402ce9dcd1ad6e54f38e73e0ebd6dd9d22a471b09c2ad3a335cc2b86fb156734c00de7820c85115eb2bfa222c097e5cd45c41fcd077e00a6735f45ea47e0626965e5636802c2dcdd47f509b6c780242b286d97f36c91e7393a173b35b3b9ed3ee8ceeb4572c07b64e9fb0d46ebb29c3bc6c6fd40eb324613aa4e9121561d1a5f455603eee6df5945aa682bca40da9f8485654022be67de128d4cd42aa5645bb6df2b8c48473b7fa30c0da52b2ae9978fcad079907cd0adf96b9845c27201f31cae11b0c0c06a63431b5009cd038b1325c2fd1db99954547fe91a64a52a5fa09ccbfedb13cacccb1d36a9f1f6dad11c254086028a3cdd8970b2802ee1e3952bbd3c8d559a30f4fe70f8d93d23c077966f0a9ea32832a1fc7992ded0e79a84610b37b8a351fd9a8917c60407c091c788592fac7ab5ae84a6676deb2d9fc795df283818edb87f459a35e85ef50bf7082e09a3ccfd1d86b667cfdeedf1035f081c5f2c5ae95bcf02da935eeaca1c0c996433d715fc4cee017cf62e68a1859f6b9a5626e26b8e747cf4f9d2c8325b02590491f360e1df570a42b1e20c8936bcbe913487672cde583152e45e5c07618b86d9bcb12ef73f2948aa164cce199d60c42bb5c3d97776f2925717bbe35199253e3f7ebd9d69a0c403cbe10b7c024b6775bd2d86164cfe3ab6af3de3a961b8110d81a40f3936fee3d510b4e4b03a77615b399304b934f1f4d6084674733d38bed7adab5d334c751b3d1534316e245768d6bde85750c449a0e0cda5c40373e08e83e255c79aeee1f05617018f385cb2d973137ce844b4b468a58e25d662563f6c0dcb93a7103b57623b8272ca753bcc84afcde7330295736ea4113acd4685958571feb7c3e598fe7c2c7ba4a63f18f7da098d590126d57cd176e2d7435e7d9a4814b2772222241b127b7ed9b4c0bccd30946e7a285495bcd6f1960c12d6f32aa2c79bbf1344a669cc44f64fa6741f1eae5ee62acdea1607e0c9b5cc75457003e5c680290bb49de44b4cc1f1367709239a652c3705f1c55c036db44a4e877925d4c9f9ef299530b21adc310808288b77a7df6f323da0e1e00a5727c4d91d3919b003178f5d7a8ac479ade9893a8306ea01f39d223e57b4fe55e36a9ab8ad04d9127c86a062e37674d1aa35ce7c3b5f7346a70b2d866c7ff0c62f5dde17cc1de95ee13af7810d6f1a8ae4d7cfab2c05dde1dbc75412ed589ce74d265147a4913e2b9b1287672fa33aaf2174a726b6ba77a6fe7f5b373186fa5ffbfd4df748f55fe9a1dee9fa521f9bb6b0c660dad938dee6b3e96c957ca1fbc9899d54b509fdc809d9bfd2af2e268e76825b8257f163da3b3742444fed24a09679d1c2d744c1f331ffd17f72a62d23082a00fd47d5f179d815b611d40fd8bb5ded63ce561e0848bf269d987b55830d11ec3c0afba959d2afe8663ec84773e8dee413fa1a2317f73fce4daf710ed4534812c4ebce5b70626f7678c5b587005e6e1352cbd368ae8dc044fb904177b552c8835aeb161e73c0b9a0e59fc4fc1f66f8c358f93f12ccaf2c3c881b4eb07612a58dbf5e561b5978e6c74978292a6d9512a4448cea4bd7e665979123024ed1e22db5f649bbd50d6e09797ea8ee9e3281c4f71f8acc09d4c36ac6c6e810dc88538479744e4d4129ea3462aeab60d9b9a042678baebbd632c49643ab5a56a89b4b1dfffa171c1322dc7e71c6fbdcfe676f9dfeeb0f79556743c79526e7c4e9a73dcc2e9d2bf1c3a8a805a3bec481d6fea0e06024f023938657d06f1438907cce323bad50b7376ad5c3a81985ddfa3c2231625b0db2a9268ef454fed2756bf9e3c86afb0ceb0d453139bbf2bdc84a2fa61bb59f21e82ba6e3386be0b1efa017ebe2022d638f6923393154645e79b70b262f3b20f8280041e618cff770cba5378d3ebf5969995ab491a0ef614969dc81f5d8b0f86507d8b0b292627e4e3a27a0173ce63ff6a208a8af780ac7b40efb961b506bd69943f36d76caac02f9d77ae14296e06a2caf799384adcb1837a2e31f3d66dc46d04375535ee577cd51b19373b7392a6728e15d1c867ed6065a54e010202c40be9e6eaa917757084a7c575391779643ad700dc385f0e9eecb818ea815f508d121f0d07f054384610ff335275bbf56bf7a6a200152781a0ded1d59d659add99dba55d2e775b714300f0d2f10a70c7106b45b8c8a6d976434f3f5541a27a634ce5377b130127820a2f58daac45fa30fa005994c6406114846d3becfa7c29dfd7b3f82b9e07273d6dd54804f09195670ae72b6b571656d20898c7f66e647e5ddc753d98135ad930ac52f43d362d711055e015f000dfedb4346a10c21fcdb98cc40fbdc25ca1114b09eb023d794e23068f033c4e5fc2541b5f1d47223127c9c9de256f1ae3b7b171ff58c5845d8d89b2a2bd810de7582e876570f76ba0fd6a83aad4f3a95ccbbd0b9e08d0da76308da451ff26639233e7db6f05c5982edff44ad07c7464a9f1bf5559bd20aab3f5c049ec14c1b8fb25c0adaf06d437ed8655cbae0f81aa1cf937c05f793bb8863684a3a79a18d0983068c03dddd6890598c5cb60264a3f05f8b3038ee342478f471d7775bbfa903d54e2e1aeb187b7d64d971da8fab2dfa8bb34327d66762df600651d3ea71a35e2828e6f0947bc8f8626d42c2c1eecb19541645fb28d98913c2cc4843191a08ba5f34be8e5a04141f803cc99ba8d9a0c3fa38aa9fd6352b449a97792f6bb8d5a0ac0dd8b79533d12be6c51f653946ee6ae5258f7f3be3b5f2bb67c943644b0a9e9f295884803dc96d27c547f82135743e0c33e2627d08c5f9c43918a6036bbfd33ffaf4cc86b8d07583c2ea9b2ecfa766ee51abf82b5672deeb7cdefff4731fac69b992a47a93850f1898aed0ac0af54663b1b8e3c8aef230288d36b231bcb35b03dae15aa93b38f25eba66554b1d257801ef46333d0c67d2cbb0c1660e4c6eab594e39cc0f5784f47b4e93f80cca8ab81482b890bc184e8d571d32a2edb21b073a42ce35f971bcfcdb859e6562443f127d2f2870c121df98cbcad9dbd4246d5ce8d19da91dfefd7c5c0f04ea417a76216bbdb718f07a8c4b5868e4cc821a3c4f0fb319319c6890abc21caadebb640c59dbff55f424f53793c09b5b68595945b7bfbf112395ad2cac56f0c0074546910ae7023a8805b4350792e6e3bf1e73fedf64307739e3e05f7797c337817732ba0daefdddf8e3b5ef0dbce5a68b02b10dc11a19b9b047dbcbf32a40f51aa54c61c1233a87636ac0fa8b2bee28f379249f1a6104165d6a1b10f74b3f2a7ef104d20fbe46dc6ea96d6ad6902d082e07736070ff3bde18c025805e8127380af5e1f1dda72ce7b41757c72f2ea3b6d63de189221304cd610bd6aa0aa4c8ab19b7f5c00321ff1983ab3f452164440b612a70bc782de57e7783f04e49f90d97e0e1b87b3bcee50b554027c7bd3ce434c390fcbf2483121c657ba2cbae10e84e61a29c3de1cd7084e553d1b8bb6f380ba242f2beb68cb1721f093e7521fc98aef519b552449daa9acc6703fe858406adf813a0515d33df63dd2fa64f61b99b43d03e7abea671278f32ab1e9ca6f54d0599f74acca49179ceed8b040c952065c73038dc0192e425b96402d013f27048bd7b91a094c31ff3ecbf229b02171ff4458c2d45dc09630b4b3dc3d42a38d6fc0f94f68e0fee319181979d8f8ff7f29c6d1fa0981478762d2a9d185735cee708c7de5f5a663204a74fca0193c90aa89bdfb807a806e1e00b0fc8146fea3976a113f813e7005f731365df914d0917d9ecf9ef1869233e3387bb6169a849a4527ff6fe2ff7ccf05233b65b241160acdf1c87c89ad03eb88f4ab7699694ac7465f9e1df9278699b504e6fc76ad08c2b58c09bff666578973c7057cdfd155f62b2ef2730e18bddbeb96d93152d079962d87571548f760f758f8f91b62093efe0555e5854de4dc198fbc01f82d8be73f4c98e5e2c2a0c9f82ae0c85b07535d62d11df4a21189dcda7ea806e0f5080343fc37674cce3b00c2fdad3bff9ff7de08e29155cb8663e4f70d3a80d9d05a2691d787d60b8d8a05b874fed374e12dae2d5fb44013df7964f7236fa97cd74ab34b8f6f1fc9a7e365c820ff781a1baeaf38abdbd151f6f5a7fa61f11a5ee6d183c1e5bcb791c29d155f782abcef7a9f909f502c0b6976c414f167e23d4b255b4436c9f32848ab02c7511988ec56b4dc8f4533e2e45d6dab1b1ed9d578e4529af69e72b84e251366af08e7eba34ee857e25d235a0a87ed463d6bd8b98c418a607645e3bad831eff93ad1c9daf89e5d16f85f7fadfa1bbdc7e93d8cb8bb300e5f558bf8d6f7f16194f0c594037f31a273c171b9cc89a615f2859d4e8d42447446bff8aab6303c07454e0e291f98935b16707f96aff3669006d589514c5631a75c5a9cc04bb6112f3809878503c15407733faf8576e48cf94f79038a060d5e45b14ef750aa53f6571cde67f976b8e11bd43fe80031db176bb90cfa91d26005ab9a8df9da6f3c13d497b9646dee09da1ec630bed09b773cc4d1d92a6c785c9266d56f33446de63cd78be9de058577a5d5ac49e30f80cc3ad0a21642b24772dd6814bb2054f82aaf1b86c36d40caa3e104ff685c1b6761f200d992820506f1811be9c3b36dbb4af192b7def748ea0f2925f6dbd176ee6a905b93b0a85091c5c53f1390fecb9fe9c9b8b09b5148fee0e01e9f985ee696df92676016e126c8a85acf698e82f3a4b29de9e4c31bae595310457345e72581c33a62c247b7e46fd5d94bab5bdc4a9ae0260a83a98b362849070ec4f0b7dbdb608618341df0ab7a8bf5b35c318cde0fbf3fea27a514c4f19e54813fe349a119df6894a4ad56f66e4c9af864eaa449598a51db74e7d7e909ddc4b17b246f6ef8ade0f40dce0ab3901b846a2cfa66334b0d573164043ae902e6a5826c434f947bf1a62d401089506f17d5b908e15ecc354dac24b810bc1ccd0a5204d96e4dc0e4e0cbe762da2e4d39d3f29bd10810ebdfbb68df4eb97e35dd27decfa833dbeb76c113aeb773373eed4f1ff7362326896985626003f7de2ee3622a8889ab73ec27e3a1081dd9e7b9d3e1e724277ea494600d68e0be1872c17feda276793dd93cbc9ac38b852a6488d819749d297ba423c81a3023346ec444cf41bd50801151a6e6ee27bd10599b9931f4530453ec9056709987a27e4441635cef324a674c5ebff7a934d344e0505dd5e34c494482c8a084f6764b4ac60d11f8b574c3b94bf94490d122cdba31b01699d8023bbbaba7ac4578a59c6103f9c8bdc74b666b69be76bd2c4bd705b921124fedb3eb4745d87515910584d6049b2cb13f1905907695ee8fc0e5897b1ac6c4c1633c5c6d8685efc1d13b8d468ecc82a4256142489a89d73ca15af599e9e22add9b3193ecc47d4ed2f182109f41a89da950e0575f0cff122d92fcb277d847aaa2c20e4370565df6e655de9df8dac5e3e6eaea05c5ebcbf022dab6bc8da878fc4cbe42974d3a0ddd327d0d85a92d790405beda9fa62b31ab2039cd5dba1e529cd4b55b2a1072e5993da1343dcaae731c986da985feb5971e12bf62675896003d836552dc64e13ba5fa0e4da8e7481e6f6bb2c5b95019adccfac195477dfa0375fe20bf8911b632843b14491a31860f9a0d037d4cff0bebfb8442527a8224202764746c0c62df1e1d9bb01c4e6db494ab37407d47a79163c02cc091aa7fc9a2e4778e6b6e107e2b43a913b52ef80dd1764a17cd56ac4061937bbe601dba10c28731cc872ebe3f39286c9eb3911c2f67a9868f48456adc13b79050e429ca73dba3da8819b9efc34f1a92b870851a0f0ea43c0bcdd7543b9e7bff9f04a0121be7b05dde60530572af935036c7c277227b58b9d33bd7eb21b77fd74b6ef3fc7ce5c23bd79298ef977b3263ef2c7781447c52c786111cfd30cf568576c1ccc87dc3263ce13f4bea8255e4f48f93c4997d00cee462dcf8b5ad72c05d51f4652a8e225c241f1852654ddbbae55352b6cc68a4f3cae9daf08c82e463ed16c9f17cfabf82bc2eaa27fc4b0d027a1ee11cf72cf11e354d584157100cdb43c4cb257a5b6f9d1f2429de7e6b4f767503452eec1a784ae617ee3821960623a14bbd6c2892041000aeda76f973a9819db2ed68b26a78503ee530cd89a676698a7b8577a4f5a3f036c4c6052ad8cc8c43e64950c249108dd1fa025c359c13412ee2212c4fc19dff4f3dc8997ed00af1b2a64e3b4f172498ee5cbb0dc2125218992df98f00e9d4556b51cdccd5fddc1b95c732fff4e3be3b750cabc1b1181d720036119a6a5071e3139b46bf8a12f46590bb7551a2b1dcdf06e3cb3e19a1cc963c215049e51d4b785f6c1e9c141c99e19de27696b43aa1df5bc1cd4e430b9669284ade1f0d65a6cb52957685f78546ed741e73d17077463cab6fa2c0ee97d955d6ed6990653969559d2348823fc9badb50387a35e067eef249b9f0289176057427afd23e3102c74ac56f676c1ba93ee12ab1d38172107ad1888bbb27fe1282306fa69d8bcf8a95e4e26f09f2c9cb0fdec8f7171057d93d93f89a36701eb85a085ce498e5fa255ec52d65fd685d3b29b4839096a44ae6ae08a4768ac8dd2143fa240abef780b01607fcd265589dd508c3cc8850eb4f74adba214f1ff92065a72710262f86450f827c48c2d8f614fad79c43d06f7caee3f27c999505955e9088c47758aca06c10deeb6f95d0b82ce4a8e50ad99804917ec1995a9a913b79d6e4379d04de98d79f59277222e0bb55ab7f1b7ec38080e75f53c4011176f2ad03b57b37b8b157f04d876283405ff532cd6fdb3010c416b13a6565c865da2ca4ac2fade1cd5724ffe101cf8845477ea610a0a57fafc0f9d5d19163432c4cca038f4c76d527d78ad134e3f17c5c555b51a24bc50b375f0a3c0f82728c120eac807ab575b052d0890ca68f84bd78d6e5ff94204d0f96ab065ae9e4012fc0d97a2770c45d3194de5705f467f1dd4512aa4da49f3f545cf78096339828da1053fbaf1fab8fa34a0818bfff784d775fce3e321cf4bf6f75e4c2319336fba54fe24296e2431d32780643b4a7057ef1ea18a658c93bf61830f9528cd3b0c8bbec204d9c6d594bac44fed456b63f13065ff95ec697d73f5d8f84fe9922e41fa9f1ecaa3701b558409e1a5b26bac32c4b46942dfdc3530295d4a7653a968fece5b9f4e0fc0d66aaac446fa17223edc82c18a3fae10d7e545fe3fa413828d279bb7572a7da9dde8e04aa9caaa66ab80526c219e460ab0be14cd681ba758f529824e8e87741d1f5ccdc8efb7755866410403e47d09fbc2c09abfa24fc6b37a144777685fc690752a76e544e80d5408a61a6d06288d9ca0de02e4cd9e85352e8955fcb507748723cc17da565274c5d01bbd7a40ad62d3b54e569e8a983410650d6655cfacd6334f109ba66fd372124f35276f430908b38f26ffd7eb960c694aea2d83af2e6688c2229f21942871be9b7d3e16438aff007e2250b3b8cb128aee933e739344b86382e743112ce96bec78b28922b9a7d8ce6abd2d803d787a2d2582aea0ce6e4281b8ab8b5cb06d4556774252a9766a813c59fd519d8892844f97ac789973012c95373e94e369eb329699efcbdaafbd96d2da47f4b0af5669ba717559e9023083e848b7025e5a2a7f817dff839ee16d994ac958d3c8cdada0fcb92e4895cd276f446f2e42d5b52058634113c870a5727ae3ccdf3a8456648d93c8bde358687a606c022faa58725fc46472a32e10be5b2c79c66c97b9f87fd2041090278097af22a83c06972769f76251a795babfc15a18400547020db45d6d7f5ad4d31dca102a6b21f690d98afae490f4780b42da90ba4401c515aa3f8752cb1348ae6e1c50fe84d6d2ffb9fc3f6d3b9c1ee4957d45a743abefc2bc7cdc9e32a41c028d8f00f57145ed0fc71dae5715e1a74cc0043175a9215b639f15ba6b0762c9c67d74f8cb0d18bfdbcfbfd1ec3c583641e8f8848a1c494a66404735813e3cf857c88923405f10c9e886e1776677c156ae34685ea5777fce78cf72beadebd24e5637e244725b30dc3cd74aeb07a1fec1cdad1182ad6f2052087be2c7b29a09cd58f00b257631613075a6ad0b17603cc58459dc4c0b3430e8bc0e85e5fc88da74af040600836b1b05b05f4586c36415d8f4f7e450b00f43132d50eb3071788ae98c19f4e3d4a726f279bf1408660c5541bf60598234ab89123a17677251555bc11ad34f24c6eb5e4c7c29c9bad6fa8e21e045f6e46f01c4bb4cf052e00fcdefe47f9af04e142d8b395564e4a7c633f4417d600706a1970e05c418c6e23deb8486fb63d7b672b616d36d46b2e27d0dae843fc3cdce1174d7a762fe5cf879733890393229513b99812662afd58b398acfc703f705023b8dbb5a12b8274e8010831e8896542e12cfc88fb2ee0ca98a0ab2df7e45b530218abec646b8de85c216979e05939905ba8ddb4a66cc7843f7072dbaa72ee3e0e14b7a340a3ac09226bfa62d4dbc0468706a144c","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"dbba0100f462705d414068b345035e5a"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
