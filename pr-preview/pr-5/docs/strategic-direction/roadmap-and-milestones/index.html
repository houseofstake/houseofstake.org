<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"776c80a090e7931c0a1c26ef2005ad72bd2c39594f364170a1768086459f21eb3f4a656973a1a7aae774a7d93f469b91af0e9c9e608213a353469bc3f5c12c7f4e1f5db3faed2172fc1423be7b24cec76182380b9e78be1c568ac70dc0b04d94f176920f57cab4f4bd70f8eec16afa0aab3bfaab5c10b3aacabf0b3d4c9215471565f03a024ec8bf566cd9f1efbfd0952a6badf6b040f6a1a408735d2f4c4d80721ff49d7baf8140a76b19afedad41b5a675a196e2039381e4d65c19772f0522dfb666adfc48088c2162ddfefdfe5ea5e40b4d655da0b1ab537be3ad413e6c4cc5c25970e018561f8b065f4af5b2c546487edf550d1c24ba85378efb19c4819eb3cad6c164d00e93191e4049b16c8d74f5456f3cafc8595674eb2699036200deec81d14d39d590f7855bb63e15a3a85fbe7107d29b94054d5ecda3562d04eb1a1c6bce85613e80965496a227d4d345b1a7a9758f77b1c19415fde5f6cfde79bfb99f46bbd72aae8063a831e92e905c1184f81ba0846cea88fbe7921fa19e3b3d6dcf432bb9ecf31a43a44b9089e9db3fe20ce387c62f0e6b5a3ef533aeafd631fc1cd93a553d3cb1ae93fcf908a617d896f45ee36891b2fe08c829fff180dabb8fa9ac39458cc6594f84636c321c29d8b4516ee21237be3fb11eab077948a661a8310fb3beac5e1b58a3b0ec97cb8079b4d44091782311f54c3d14ae151a9cb17c21b378d0f9a09955a396b5acb67715d2d26fb84b298ad25d8355ee875e18d71e3344be3f70c530ae7ca023f95db38d6c5cbe810957d080f82a621e387ec1ddeec426215f84070d75ccbfb006f59740be4c091fb5633c86c56ffa5558eae45625b87799eb2c8e1b73f6fb7ecf116adba7ddc123f65e2bfce58781eaf64ef635a49be856deb3f9cb5e89bbde493cadb2aff71f98ac2933f9f346df8ff2f06aaca43f817c56ccba6e73aaff642b022fa0abb88c0cfcb17cadc0350f1ff896fb696d697dc0b33bf5ff40195d0d7e7386af26565cb108a253f2808824167ce5d725b238fbae97fcbcd6dcc22039b78257803a85e6c737393a5e3734ae4b95fd06d75441ed6ab5e61e027c8484611195454e981a2f7a2fc98d3eb9eefdea0aa6bff0748040bedd922ded90da69002e0f59a22236bd185ed9864ad15965e1e76369a08845de8b5f748b3b9b814c6dfdfc66b8c2d791584dc0e2b428f3b426b72a071ac4555b370b7bc5cfe114642b9ed3dd35402c06bea3300e0aec64e1e91caa4ef093f90ba48c985663a1ca896a40221e4400863c41163f5aa75ee700f380cb6332fccd36c22e845ac542381ed80eabb58c9456d73c019d49007644442385a782bb47fc8df338b5a23601c00985e86baa792c287b97c65d420fb3ef5b3b1bbf5adbd6c35885b170e8a63385043733b337ee373224d80a6cedaef8d6b8c10aa74a3fed207773008695d39839a364be00b4b31a43652cb180ddfdb8d6c9b39d1d370f54fe864f324ce3cf24da3492c54e06562ea595cb142591976158debd738bb197a526bcb28d9da4237ff4821e5f3f8b66c2dd87915af4221bdaa53ab98e308a5341aac6fbd4f6ce5e0d61a14a5e2d1e6e8578902fc95dedcc4cfbe3a3529c949aff4c6b0946c0a04d0b27ce78599f9b0dca0194dd9aaed1e1dda2cc9e5f62eca70879fc373748a8e160cb7224add437f78ba3c4c2b1579836537ecad12fdfebb4d7078990b49727aab4414bf048bdbc8f389e5b2d0252105cfcd2ad0b8c034cad73b7aa47e69d851967d47b3ca9503994bf7e2779dadaae03767b7b9442ed620fd674d0a93f99b9ce4684042da0fbbba5a3cebdddd8e9b5fc27a8d02b6693e7cc7285de7e85ba4c15521211274549245d2d77852bf9d08d813af88e5678e13ec55cebbc32e883baa5ea24e5f479cf32526cb4d46ea7849cf990a7572a1734fa44c88e82fe1b7284d0d060453f4b458876b58c0f948c7f9711296c77a61b7081aec7dfe6763a7810f5b96316ad06dbae7cae3d343d55a61e2150d4cc8c8f5f1041a5d4e45a36c4323322475fb9fb5b5a2136ed62b72b9ad64a5a0d1f1d6894870b823348b4168103411fc8b5eb146ff408b23ac751684ec9cdf96760860e4301e8a5dbc2c5e08fac3cdfc5eafa00049e36a55a06e94925ad5ce29be4477f084c9418e55b6aa7b68e7b552076ccd7d69b252497c2af961b18273eb67c64b8dc08945d22a2e710e09f22f92c90e506f4c88f7fb5706ff6109b8b3ee0d769c24345fa7c6ab98d9a9b8daaff37c43742dd542e97eebc78280ee38d2f848c13f1c427e1cd709a56c93ff57c312c2c5487e26712cdf41603f4fed770e934ce0e0373ed20bdf35c1aee5705312f8e4b431487dcabc0cd6167ccc96b7a8bc45a61250f5ea9d20c03e7a5bb8f6bd9bbe20c2103a6b6ac2e328e0df9fcb5987a2eb74f95d8a898245707c8ac44308ac3928c19c5bd964d6d5b001e40663e3230ae5a4e083299bf46e02eea9ec1cf8fe51610624c9f010df6db2f2bb9989f0008cf0fcba687b25b780a529f9b5a28e4b5a15623c7aeefd5b2b47cb4c86e722562f53fa0d134abfa301bc26d2aaa7a2548dd1c8021244ccba3b8f9dc652cac2d20061e9fcda0969b89d25bfe24e4144d9c9580872943e3ec23657d97b986052b4a4abd8863625b8f3a36012bf36e9185b44c4b1c21847fd03a8b867c593efc27adad75f999e2f2161ab9a3b7cd0f43df89f8eb547c5cdf5bb86ee7d7b5766c21a1ce74349a8026a6bf8f2b5dba7d0141f3de1325922b032a454cd145e56a2febc7744524505bcfdee933a5f90ff14f304b6f14f6964a41d5f41275d913f648765f14807fe3c9a488a66dc3c4b8b006f3f7c4b361934baf51baed61c22689cb279aaea86749738d9036d8838ca577c6cfc0792a9c5ee1c2a8ce006a10a43beb40337924b1ada75d3cafacb4d3927f3938bfc95c34520d7c9fa7d72b647409188e12a1866d503a624e24861fea80606dd3f01d03a1cb0d9bc61d5bcd6db1fb570e32569fabd090deb9642cb9632c3991d1e770ea03213ffd79a6ae206e31281801caab1657f836d1500c427e23ead1aea0c4854095a2d6a43b384ac2cd79fd5f8c86a4e9279d44b9befcba40e11b9f97be88433d030c1c19887a8733c5c18220199c8bf0172dbfcc9f2790e4c3d6c3d8e7937322d1646f7b4b0b6aebc7125623c5786848f684a0d813f41fef17ffc214d0dbd697dbd46b5757138d589aef5cc0c3d67ac8310103a2695650e285d62c1224db6a022167db57766a378afa1781e8af43d18a7691ed54fc2a040441345611b0e51c9a3204699018bc2471382c1e1465da85cd14c10fb337bc0304bfcdb95cd7d15fd59b7acdc1714c75e6404cd59c52e1491fe2ab1bdd7a6cd1c4d40a9fd54197cddfe77c0f5fadcbf622d907e85fc7b825d8b0feec5f1295359b80c6b5ac9013294213558f5ba9fe642cf94f32bd364fd73c38d72402488f152322c5cd9d1a30e750cb4d728e36d45f6fcc54c21618fecd2390bdac7f03464a4c030404ea251631f8ed8eb6c6cf681c026658b085043d1d57dd6228beac5a8f47ba329772f81f0c90f4ed4ec0d655f9b9658ae7da5d5281bf2dbbd6216c936bfda9508f4a5573200d1a2278843d8025bbfd4b3cefa88efb14d3e3e85e99bf9b2abc9700b51d482f50d90d39d1d1000e066c8e2c9ad2253ca9688c6cfffd72c360509a6f416fced63c848e533c81123af7649b66ffa7b386ba438556ca56714dc4b334fc89cf33d08ddc9e7bdaf828bb37b30fe2c91d8cf650ba592940079888589b0b062ce2407bba73b1c81e5912bdb91bface26503fcd7b73db39a4338cc706e5810662d06300bc31b2caf4a231049c6068bef74e06489bb630062160bf1425f391aa966b8fd0f9f770481a09380b4db49a0b7f193d1c0b76b18c04a210dee7d6b1b40cfcd45b2dfdf7ce236cd2d3b2868ca255ac296921b78ae48ea6cf170d9d54d9f56afefec6c6c255b8707516f911decd9b8df719747b9f8ee1445158de86fb9508103b6a0740bb999b380799e76115b4ac5ca16693eab4ab43fec01014acbc73307607e44ccbc05c4a2bbf46d18309b3585774336611008066659d9a2724d0d6e3b7f492650f5f2ab7bbedb1b9fb544041dc7a1af8317714180ba518a4d9053aa50baefd566471d8cf347faf28585026d64a920362e8ad0fd416cb372f1e8562a01b06581b6239cd39fe8c48d5ffa4aa75b983d7b12bdb940ff421b7ca5d8fefd9a9e11e2a09f4d4668d9306bb12048904cdcc755589c20b1d76e86743b8acc93319b40d4a1dedb421b18fc4ae34e782bc9e565ee0c9643ffba6c19e65dd563335e2548aba6b3813881d0a2de1c2e764c717151945478f185fb0e73a7ec394ed250b9fb153160b9304d3b58e8a17676af585a0d0a217434a530d73c9c3739e99c32a8d5bf5ac2f66f7b6db79f62e18416f4e35dedd0be77f4037419d1607ffe8a1ce34b9bb7f5013e559c6383b01cee7d20720e0aeb8b81b8094798e2db1afb8d403232a7268b828afebb20aa229580a4c248c5aa226da4fd1ab74adbd60dcba785fa33eb380de321362f4e1847223f4033f1acbefdde1156bac274d259dc4d7428c82ee9e5a91799ba2c5c506b6666c742054b5bda16dce9787daab20bab7cd2bee2497f6fd24a4e6613d78eca81c040f26487fc66de6b467f05ec70b34e8194294ddd29a507d2bbf96ab5a8ed39b608cf05df2a135c4f6150b9393b0aed5c8c60768fbe8b2fcbc095dd933651f6c0fd857c1f79620f5099fd1fe7b39a23d9a5e667541ab8948465a489a6ae38498d4c9dbd0eb47155589ccbd102f32e9bf6921ea623af3dc365683719ef55449d0ebfc65893a133cccd02276f8b5e8814189ea7d703f5cfd5b251d23af35cfe99bf5a51188ca8faba791c9f3d4d5ac2ab03a4a42402b8a2e412e1bcafab4cf65be8f8a41a2153008b9ef4fabe627acb9c39f6a645f7692c0eb879018432fc7288a283fab336ee73bbac353367946b8b61c7bbf8b5a3ce26e112357dc62c15b59fc93d01255926e080f9a4179f004c73cfe4a155ff26c420503ff252697eb33b3a526e5a37add98e445a51ef2f32523e76b3e68642022b7736c2ea65a1d8c36397612f70a608842fbfcbbc1df16bdb6bcf7bebd9611d2eb94ae56a53ce3be0d194c186788695d2162327219e43fa4a7f5a02f689bbf627e05b9114abf815dc0e24a1153a0d39d2164b1bd7ef4d51b871a2588b2c3c7d039d4a3727d4f541cb6059364c4453108e1200207dcf16efe03cd16116c2235565a48adaa972751ea3a5202a889277cf0f09b1afe7cc45408ba913c545fd7b8f915f9dde7b8afa7fd3a63dfa7cb57ae3fa4d8f40d7061a74618afbdd133ed00b9c8a5cdb0a57b90539cf3cd0847991c66e757b6690bec4215bf5f809053d6d51e55ece9a041b8dd6ef89a57ce307a2f99cadb355243eba95eef27a3303e0d7658d34340974adf9b50029d02c7b26a8b162390a0d7c5a5709ac7f864b7202da7d71d6b5d896e3bc52dd55e3e0383e60fb3d9da2017e9cd05890292a11e0d50a24e4a9c6c6dbf0a8a48c4f2a3e2fa59fcecc63a7bd67f46a81b1de64f6eb8056606df0b313cd66b45a6c2ebf15d72c945db80ea3e27d1112f9933aec3950c5e680da448de441ffc5c50f11aa22b7e8918fe2114a4935b01b7de9c416b7d30070734b63f5c2e1c10f7dd44cb160a8a00458709e8abc60d542ba8b7387a664909d288b53e93f573f7d6a0882e7201e84e2d7d32c2ba27203043ff2ddd3f1b8695816b763cc0c1cdc5e03606c3c7649d737cdbec1e22a9cfb28f3de4d5bd9daec5dd65c406cfb0eaf9f0faafdc962e4e0ee7d2bf5a27e44d15fc492ef3208ef0881334763e619b1bc7fcdfc2022edd328d981b6b03a6c477b259ae9da9a6ebdaabda2bc0d0ecf9b532fb474e859b1bf6224860cdf8ca0346178a4d60c380a3de83c79b471f2b94b12d033518df45c11dd7cb854fc2f839cb38d10ee2920d285a28526becd39d71f4794d8dc6e5b5b6393f76027591226db583f9c21198a0a4f8090412434da491baa32d65ba7892181001ba8062a2caa7b6dcd1f7ee3a5b40e3decb84a83239895810e1aafb383925b920bf084ab0fd22d4b59c05fbeb0ab8b70cfd487225e377c9add45a671fd5e2ab601466f5ddead461b9bc1d12033f0e730d02bd3df0dd4ae3db4c4059f4a13aee4fa91177595bce0aefbe2dee7045938de5f7f7951ab503908cee52e0632b169a2c7e8e5d90d7fa080bec7c0aaf3dd38086222f0d83da13ce21c8c99cccc39c597338c0aa83f83ac71355a3827c963ca4e4b809c6aea4514793ad06d1ad8611c5335b8930e1cff7383ac429050893fa830d19ef68589208874b0bf1aa927d5486dd023b6e6f07cdb5a1baf7259c44c9e594e268b9d71cbeb862f862412b1c857119705d07ecc2c7877d0247c119e441e4002e129bcfbf9f0f74783c46353aefc24bfccf8658c0dfefac1973910c9ea77c8e7ec24a8e8c79dcc2d5d3bb99c26eede62f511ebbc55bb8ebcaee8dbc8f2deb31a4ab6f0aba2d256dc5c5be668acb754a47b487d8593b37be080944e00523c2696b783c30205fcc0396bbdec73ef6b274265a6ab7dfc3f120d4dbf9405df0f181cc0dc8d6764302cf7f137ec791ba13a0db928a2afde0b137dd2d774c78a21235b41c446c89117328e5c270100a5e53802e1b83daaa37deaf2705a9e2804099b0e7d02bb40a4e27e2d3ae1950884f93999b589939e3f654e1d1292c8165be04a75cc7228eb5c4f9a73b75cd0c80a786df68a8890bd06a56aa8858deaf0400dc02280841c776ec25a15fbc50c0c5fed27b55ffd19662dbd5977b655f073f2aaca5f39be7c327ca5949732f9b1127d77c385844d01fd02015b95c1f610310ba632ec10260044b04cab11b92a0e1c3928a803c5e461ae6644934d45cdc9368f1739043d8e7d4234535fc5ff218c859a0edbae41312549af39a20d165baf34c335e5e0b5f364688e7ba976e17e1d10b13c44662b8e59ef6a6b7ff28c7e9452581974d4b8cfcec425830d9193072d6c089dcde974d730b6440cdf0c7aaf6284d97ccf00700f2ad2a53d77be7d262448f28138a1f1e7961eec327c0ec89c890d129e352cd489a329e13ddd2698776534fd664f61d4d79324d75b5ddf376827e18c4dc7a9c04c2fd4f0276ca47f4162136082b71283744abca2edf7b95246404d5f7bbdcac9df992f457030330add6ff9f3736763709f96d9eecce558586eb3bfcd31f3da9c06fb747c33284966c8713e7e4f3902d0af439a5e5c521ba3b2ccec6fd98d28e8de73ab928495fc9597545fa94c488959daaa42f41d3726ce57eb0dfa0046d02c8ba8c05f4aeab100f185a742639bbae3fd22acfadea544f5f10261ab6ae746b7598b9a6af9011cfd81b63d60343bc299808eab173e403ae21a0a2bd31a21db51ed60db818f20309ac0ae008ba05f402bb80a48574061f85abc230221686f0312b30ca37b407c7fa7d8d99bf12c708021df69bec7beae2baab426bafad27af86c8589e2a6467d337025089dd1740466adb85ecf3360b9645aebe104470e1b100cc0760a3d57b7a4685dc6c9572cf519fe1f176c0486a225443a3d0307c697992ebba9ed96a3c12cdca873335d13ea0de68d3a8adf2ab79eb6ca06d3036fa61edc569fab62eee37640d9a15ef5237f4da221cf13056bf67494234bbdf3a3bffe0d9f07748792e91fc9a28d772c2db5f8491d363e59434327e265e4a826f1e4330ad76146d9d006519317c97d3c38fc67f3efa6f2eecf8d7f9f46034cb904ecd058c0cb5222cc0d9b3640a4eb269e1e206fa92c81fc75777dd615afc2f7272064de34203b73ecab85a404771f0126035db2a551274dfee6413a9aab554a1abdd40d20e54fc56a28562b5bfd259ef82b211ff9fa3b0a0442fb62ca46fa451001fcc1f30a6fe279ebac49a70ea1350e5be484d97ebc623def79141f448debda6dd7cf368a814b92eb50cad31e21e74104e0f2abc99b2a795db7b201ada039cd40111c0a23071368fc09a4efc8bb84717a0b32c6c342b194ed503ae95dfe04eb52d3d75e30ec0d5fbbbab723977a9c78cf41055f3daebbf6a3d3c89a523115640914da8255e0dcd9c5f325249ba4d8fdb3312cf65ccf468cd0b6056bc4b829c3ec779ccac65a8b3bfefa8591597896248e1401aa16696f8140d04da56fc735c96990296c4cd2ea4cc5ec11a8f5e26421999a430402cf9955f4edfe633facef3de3ee102f04bb4f85a35012a5aa3d738da2aaad6adf4ea8eb740967a5dc6366d94bc7add8ce1aa3c33b4a53923198bf12e5e6ce27c7014f12dfe78a6c7e6f5e94c8d786013453b00f61258be41728a117c203f1650cba3097e71cf0f97b9342a130c18d2ff23d920384aba77268f288073979d5e716245f32f60c41db1e6026d9856c1896d1b826f380d2f7b90343aba09dc579c1395418b4f16768d3df6beebd4dab2fdf972668b227bb9b18f5c5a0b1ffb995cb36de13d49e5c201a323c2bf7cc77baabda0e92db6b9101e1156b6149317ba792c4a3728303d5d13a11db8d128ec904b209429532f6d6cbd1d501a9d8d1630038aa8e8d13b7d052c3225d1b2b54838ac53544fd383b1394f0f657fcda895ad1f92b944d9de9be36472eeb7003d0140c5befb4460c8aa2aacf418541bcd9c3a8d2970a7eec516c1445a9af5572c222de4ca9ed878b250ea62c74061bdffa2487ec7af0e78ed5e8a2b2660e8bbc96918c33f82269651f0995c1f22ef3751e821459cb936f7f7cec68d1f2f40989bcc9ddf2f866c27c9b1b95811382afae022a0b48561973f7689652d6ee5f5195ea160a5a7556838d0d86ff6120ea8a8a2ec16a98fd8c116c77fb0f1fdc4559dfbed8bd74ec53dee72de3ae2cfbb36a711e18dfb03da348eb010a4140bf88ebda4d3688cf8926e13e85e60d43fd55be58e0ea09303c092e48d722b0246030a8117e04b980f6ec0b77c85f53f14661491a42eaf9013c791fcec279bc8081359dd28ddd0ba8a6b72fbede2dc8c9237bf074b7a30cd1a82257ea8a0d4865f5ceec8da0d7f088c7376456f11a90e3a6accba7a0fe4f82acef751634b76bf45d148a0625b6c955da2ce86489bd02bb62d7fd16295a75b68cc75aeee162132103fbc93c9f94bf3a92320fe3bfc3dcade66a400bb8ed0992fe1f465c1ad43945a5b8997189589432ec6975eed6321ef3650b7ba655967edf609db64ae1391807bdb7901375c45a510d1a9264e221a71c4cd34376303d06d34039c19b6eae39707e3561f10cea7a128e545ea8412486342367042c6af921ab135d93f6f906854421b65fef6ffb9a558dde9063903468b44399ddb54063d2c53cb805b2d8712dcacd7d361821479ba51a5d2a61b791e056867361bdb4c9b91af9c25cb4e4708562dc77041391c75ee6744d52d1e0e4b42e2552fc0af6d3268c2639b8b8dfed4ec5e574a1a8fd70bab62d00ef5cfa207fb681561c04b1999955c19dbba07c20eb160dceaee004d366be8f584e2c6681bb35fd448056a6745a76678e1e1e40666b02063c8cadfb8667f666215bb2a3e9081ade7d0f3c9921550c82dd3db90e9a78428eb9e52de3418dc585c3d869d13cf37d6d3541bddd07c1e4becb03b7c24d7bc843d8919279c5cba2dfb5bf7a2fd74cbd1d552bc2e9f1b6c40ed0e675e55748efc6618d45b5cc37bf6c0bee75a2475bbccebba06c2783cf45ca0798c9b511d4eba1fb297c4fea5d2ae0d214862ffb8185d850df60a95374451567f6f29bc20eadc31f2d487663a68f3b54641338ae23c2228bac0a5fea0273e9c7df56f445c04e401d2e0cd3116b80ed75700b439f91f97f7d6bcf19e5dffdb18fdf2bfcf1063157b3fa9a4d06244d461c01a4c08076975e4afdbeb7779b8ee0a172c47a9861818ba2208f0eb06937471edeb70390d73febef98423ca96138840e9e86d854f140fa474ddaf9cd47db5cefb63fb95e6e36f1b5f70c6f8d7abc9f7d5d01b8789d7fc9cca2d1398eaa4a0ad9aa0057fbd05521acbdb8e89cf7d4a6b3aa9d2a5b04112a3ebde64b5970e30a8370a798282aaeb98e257cd00588b7b242269785701b0546810874f405685c087a90c25dae644bfa8f756040852a16b694bb408ef0efe860ed0b757851a7f25c93b6b4bb745630c03e2c5677adc76aece9a24bd239dae8335d7dafe449a239bd28d85c9509a6cde4035a9320222a1f3806ca0f28533d61acbfe2a6c4c3b0f42a5f5188cbc1f87ebd14f48a92686ed65d2c8e4f32a6dc62f147c74c57d7ea40f66def9483c62cca1545706c1910b37a9420586d3227f593c40c830c1dbabe58ff3d292ec374f0426edbb0eeea776c9efa89d1526db9fb6d93eb2a52d3483ac7d0a9e8a6e57d4c2ce8c6d4f135b61f076a29e9cd84a319ce553839ebb208fdc63a2f8e7bd497335a2d262affa4b12d734a5dddab9bb25db83e251da63683a1c7d7a0113451f815ddd6a12fb72d923932ac1e1ab68f80201061b721da5e29edc6ea288304fddde94236a4ee0be9a28d8833b69ac9fbc45db3c26ff05ba9cd6dbb3a31a5376af0291a9384d0c49e392252d4fa65aa3c500ecfe8efbe856bbd93f4f9bc617ae7b19e692449706bf8c491c6231b153af5e9383c39892ff59fddb825479aa2bba0a22ce7f6c08eda35ff83d37fc14bf34a9d0a49937a8d754a89178fa9d13808b69888b4b8a51ee989f43208222b515436ea94f63399ee1614e6e0fc2dc5038db190774c2abeb2ba1a033a0d7d86f7be6de281caa69161dae6390596b18e53cb53724c33920765f7d23a3bb1a5847f00fc12a95df1921e4dfd3b9c7f1713eb07d889fd4d5efcae06ec14d6dcbc7d387ffadce04433d4c42785c68495007fa29fe771778b0675a663de1ef41d23e9b6c1b93d3fa97af64f0f27b8c850ab4af1fefa2e019527939aad3b597620a9f7c997512a023e87b6cedf200f7db797bec3fca1efc4e70623b0ee1dba3b31d990f1738234c7fb510db8a00cae7faeb645bb806801764de01dace43b789d9de550a020d7a3e5875ae5d600973afaab9a497177fbd937e594725a55bc59a5cff7c7a2f7aa8c53bc5e868f92c2a5cf91b3bd7744d1cda742a264635c60863659f1eea728256e0115304230c53b23a56555e0c6fa082c4940f38d00661f2b771d12c81958c9748bd63ec34d634d65845f1737101ce8a00816d0d0602add16bf9b62858555e587bb9f5bee9ca861c46653da479ceb00e13a03e51651ab5ab1545bc7ff460cc475dca93d6415a8b14559e13bf21f0fc4412f6d271482a5cb080c1e459c482d0d835dc4c05244eadcef2acb9e1b3a5e4062d1e74bbe83a456d719dd8192848825e43043586761258dc96dd06fd1d1a88a4da8e4f2ecc0e8894e6be9dec41b3ebc1485c967d0dbcff2d3a17a8548395e93ae0a13ceef569513737b6c56a329bee2916f5c593406b6ad0c1b1139c40a043dd0373ef50c873a2079b3be9173a5760809c1a04ea4964e1138292dcb93141fe324f766ca970df867359a04441349641e289f92772f07a68edacc5879c63cf838c903f19293b0904a57717744df5408ee3be6f60896c952772c04d086d9c05eb2c0fa38fa1c956c102f1ccd862e8c6dcb5798c7b881fd7d274eca7e1a2bae24f9db70781e800c0aee1a5a2d7e47969f791765440463348d331f624fee4c9ff321d5dc49d77acaa4420e38b77b297b737e5ecd73c901e4cdf6d57feafb807d7329d34f64337a3dffbf0c4ebb3f7ec469c9cc29bc37f3df39d949beabdb982321ee402c07273c94c6f90173da649feb075777f2d560b29e756a050440387adca595b7c21b6e0c0ab6bd8c69ffb4db31ba0d0c9a9da810ab485f1798d49f2c13f5137868423cf658828d9f8eeda4563dea03dff870a902458b1e9e62a659e4ca1e2efd0ddca73a64fc961c50156447bea1724da2db6a771a056d65922e44298027f04688ec70e51a6f5c248352a58e1e2941ee21c3e02af1472fc869f862914d303a3fa9946c6bdf849872c37b1201df6b717bc00bfe1dacb2012298f91eab0ffcb9068bd506da81d866f35abe8dd74817701c4af9d29791da638a6724506359a8cbe6cfc664fede6da681c7376d14c3f3733095c63648f658b6aeaa032da49e38e421d8d7b14b2a9ca971f3a85ba7bf4aa3f4bcbea4fba0391875ac93f3bce9e611cd56fa06b6c7b70118dc60810286d9450a7eeaef62853abf886760111a75049bce6c77f3eb24d37be643d18e42327ed6730494e3de937f0ed131be359e69e18f583d45c364a0b75b3efea1c982388bf2e945e22fbbcfc596406884a46570ea5ce7407430829b6402eb45157585171fca30142d0f1509c6bf8c5724baabb74660f412aebef7c2de02191f22c9fe32725553ed93c7b8de916773fedd9b60eb4e2557d59cd202615407b42e4461eb7517d2e5da50bbb381d89a4f3c83e8d8525700c9cc71f1f0fc7d229b7a7910f0b54e19027376f411b800ccc51cdf2397ad15618c9b29d0ec8a39179318baf458fc1aa97b5b1914cfae3133086901ad45430e15828ab83d70be14af8aa9c2368c749efa403f2c6b2bbe9dde5b23f5507cf8e730206cecf44f819128766f6df62820abe11575eb57ac6862e89390c8a3d6f35756032f2a682888da5d118c43379453b358f4c9c625e6057416c05a2c83d86cc6ccf92eea295ad002dadb22ad41c2a436c78134e071e9aebf8d6d3ed02580f778e432494fa6a0b5964748a8b6288636a345038a35b467561f30b9fd063fef2032c071a8aba0b7ee8384825af01b6b9bc2491392509c6871a89865967ab8481385451a54cbea884f1b403ca82a5f01dd623da58227253b97662134461506c88610c89ea330e7bb201a9e4da35137b72a5abcd96c9b7a84c82b715ecb0dda8f437c089e701d131375f2ac577a79e951e69de19410d289e7d1defb6f2222bebfab1d141b4f9553984165982766a537174b86d5529ad8d98cfeaac7f2b23e6767443c712366645e42c2cef498849dfea50a05a9792c41415a25f0ffd256df7f365c292a1663c176f25c64737528204918020fd36593f9850f8db15184249812ee4cf8d752b0e23935557ad66ffdaa7917ca247bd3413201eccd2d974e5c0387b0fb224688262ae655e77f35fb04a3f717be3ee4052be7dc9974525893f3a49bb79657a66058f419ad444f108422333b8f531cd5ad95bd7aa7c5ef413fc71fc35aab34335869b7ee47f629be7bca8d3c6c737ed646588672ff473491bf1e38ff90305a069244e698020d094aca36d9b0542b4ad3586e7a2c204f10e84fa41c027340f1f783abe2f84467693978f00afd45b07ca2572f97be27cc7f815a83b8b8e4c5d0db97c13632bdb8718f1c9c5752dfaf19bb29ff5a3fe20d0b8d9d4921f2dc4754a26b5fb01cb1328a1d655177d3c6d47c02c4c778a02ccd158e02eeb0b8cbafcc09aa77a1fc96710dde6f6026a8d736ede3f469192d970bbf77ee8baf2b68d9a233f2b82732f5f3fc46f9178447a1829c7f71c331b2748a4789359a959365bf787a039ef7510cbcc53706745e3e13c805f5be3b484d53386a56e0a8000b0d46b5e92085224d84f8cd2c540e021e2590e05b6f8a4c036983791391cfbdd6fce8bbefb74825450f8d2d0a085ac4966a70f2ff47406151ee6fcdfbe19b716b27832f0833ed75effc00902f0e4c5e0c4de3c4a412c58b301748d7f3dadbf13a9c4b04d30ae2678f0dc710600b83f0b5aa2f3288847775182a2f3da3f9b849b5e07337b2b807db068c729a0c2adfeefff6cbb8575f40b9e3ab8535178e2050587e8a651b5e80e737ce8436f03b5c269f38a60987b5fe607b979fbe40cfdf3fd37144c45d6d194686ce86a55804645e6cbfa59f0a880993ecfc9f82f412ff40df81a4720c7a894bdfa5e28a40b4f3d1c8bf704c80c970d4011c8f264f73a36db74bcd55a81ada623bcce8a8896ee5d4db7b48b8e3a7b21d8303e096d507a98bc5c5e796b9aeaea97a30454b96eed2fe183be0eefa405102365774ce203561160edcc00655083faef128a820a848f9f4245599dc48c6ce4657bde5732c277568d4cc415770fe8c3d041224895d253782bcba8846f1bd995b255073f3a47a96b4a90288af2991f4b76e3cdd1d430de648aad4f11281357495b885b706347ecde08bd5256cd8afe4869de2fea29c1a3d2bc4c701988ce03cf0b67c730befb5644a71c611b8b7aaadd62f9c6d640cad0a82e4f95495962e0592900fa3c7e51eccb43522fdf127d345d40d646dc6f55e083453cd9749239281de87d63f49c1fd69fbc887d90ec56d66dc8aaa2384820bf00c3f252670a6374eccd86424e43472e9d79c4a73c8330e43fddd74964a123b41ef5c8b409a63f7534b07e1b251544b146f74675ce581662328cc7d4aad3a0b339c3f1f3f483a9c3c89e148fe18760ca975ba0fd2eb40996f3bbe718b8205c089405cf2e8feef215bd221060a953ce64e7226cafc3e4ac69b6f20ed3312beee027f18cd1a3aa8d9bb5cd20f90023f7740b2cca1259eb86c5e6b0b5af0b3a71fdcb9b9f7a65d6fc8cc5e8a0ad8f0cedc208af2688c9630eab87b59d2b6a5ad2b4b33cf00d8d029094e35d191883d3880801325ab6b47c0c618e904e8da1fb553471e753b8cb3dd29ccdbd8c394cd61b60f329c391352fe96f8db6ad8a6f1f3b451938080d79a01f1afc86b54fd99a20d86a8a79cc5faa295d39fb03537b80397d03aade24c320a839f989a0490d3f2c63769c017b2ed879591c33a5afb244e86ee9a117be4c6067cdc62f6336ab537bbb31b6333ebecbceb9116cd0f501a15ff9f7f6189bb5c127e3b1c6ff89eb7d928e65a3e9621c9b44b6fb67d0a0ce7a17b21728f5929e7393efe0c64a1638a982464245d09a5cf5363d4ac839a4252f6c075491d72f3a779bbf167d74d5c87982dfede91c531543fbc002cf210c7116cd64d999f2f7eeb21703410f96a05d77178d36556219afbda0c4acadc62596b06b16990191e7a363499bcdf54b3c8206cdca7f696a623cf4619e3f73146f28fbd1ea4efb10c364cdb370a6ab7717040f60de9fc4fb9a80148a8545a525a6b973282445a4c925c0e6704cbd43074e4e28bf06b683cbb3317c223355361c03e860c10844a51cf53d7876bd2b69b43426fea3dfc40e424d62befaff66a25b360efdfa59680886beaac66500082a0b5f4afbcfff579f02e9df4f82ec4e4d312852fb1b636250b28e61fe656505ddb1df0974edf11faced5a1860a0a31b99d57b5cba3f17a3026fb492119f81020013b7916f5fd702d481e60fd1c845461e22fe19a3ee2a83a2fd0c2b236e4625fd50a8f08442f495ac51781356d1d263521d0619b6fec60f3b2835bec88f7bc161f4f7d13448201b676b9d98b691ec9541e18b34d1335af19a2586a19c2114fcdff9287150e4878decc6b9da4cdc2ef9d57fd42845bf6840bd2bb59a44070c03d9c5020fafdb36c61a841081d748ad69ba9227b13e09418d8762bc5f0835a9044370301f330bd27743519ae2d1610de463c53fc95b43920a1e2326fe54a62d167624692c6f4ef1650f4407ad3319c94f73499dc8aacdbe4c4663596d7b018699fecdd2063fc7ee87d24c8314061ca857049ade608f45e69cd1b346ad2773ec69752d0a17c22bc86e4ed3207cde79375c4424dc62219ab725cc8e7f0a5d471cdce15689580c7f57a2d67635f465f4f4f9be21e05cf0e2be1b45fc60a816d73223255410d651ce3348ff1d4da3c692fd21ff4275e1d462ecb48f6ea2ea8558b938d4a3405f15f277520fa96d2f7d52d8e536ac1bc57492dfd6a8e4d3dbf0465d99a8d123b98ecf389d916fe3baecc114f5c483f38896593fa7e2c2d02257a816f9aaceef38491e9933169a909f18dbec39229f3290fcb256e5f0fba5ae71c07ac7a6d7bb75c8475a4838d40ba39b819aa98b8f597257d54245268494413790c85a1d3b1bc5b9c14844bc31233f30a2c9bfd21c6e11a95de293987f01989b5743f4d67340474fea61334ba191a561a7037aa7e0004c84dfa24741370caff373adeeebbadbf09c1fa40233d741f51ed6707c0b5852f7b64f0d04a22ab9c641eab87f6c7a61b9a783fb15d60af73da288ec73bfb4e340928a605aa022a6b6dfa2b4bf2bff0aa407c9f8994dcccddf49c70bba4f26eda492e5916669483083be54f641b10938db9e07eb327b23398e2c10c6d8a73dea105e46c6249898e61d08c08ab7fb54d912f7657ed3a3b291f6d9649e02b58eda5d3f57deaab935f919c1454ed38eb31d4dcd1dd6de4d156978470f00b64266ce96291d59793a66e090552aeda268c65e1050d642310b837130ed8412a49cc53ff14085018c4f9f97e8fdc6c6be99d9f6973c7a6c73d69936fd1fcb1a7f1630bf7fec7247e5d4d6d1aebc86ba53a99055ce3e099cd659af8bc6d05ca08e9842aa20cfdcec377c55944b34049365db45e7466f8188b6bb6844708c75a24094b452f9440ce233d9945c5a258b7bb269d7297c9a79961f96413ef7b7f5c873a8fe92491298792ee29d7662e84db4b5076c6691248652e11cf11c141a93c279dd4d7e68f1dc4fceb96d0a324d01d15df856446da7518dcba2cc0d6e980951231171715a30684655e2e17ace1ef50e1d6f10db56f58f5b341ccb36ebff87c132d63b3868172ead97c0c0f6e31f7a2dd48e2e3154e8c12c34b79f10d2365dd1d92ad2017d38f42813c8268692e69f4e54a246577ddaf21d14ac2ca84fe59cb6c2674be677780e89fc1aca6ecb1f343d5ef7f2de9d4dd9756bbee9f35929371306514284733acaaac601d42756c4e154717e2cad825d6c2b1336b108b407786223892f5489d973434d499319aba6c94b1cf81480a2a8db7d2e6bac7b09ce94b73c96659c0bf81c2022ef8b1769f336515a72e23b296bc69ca57da49739b005a435c29c0b934cff40cccdbc481a091c96fa2342187e427590f077368af2d0888295abbbcd1717dd3aa41cd6e0b57bf31b3ea68de03e33095983278fedd3a0970ca6f9ed5957c8704b257f802b93d78a1fb6b0289ba9b0085930f498abb2f645c453c63904dc95173c2a8c6592ccfcd0909b375a16dc4a2d5dc5c252a8fc930a4e192591447764bf77dc7df2aa90940b92084356dc650d7e1c9e2f3470b98b8db2cd9ea93710c101a4224d8388f4464043be59bb2ab0938077b23109dad3144399391ba8d6a4805a8c4964efc2d84b2cc8557fc848f09c0d68c1bf98094c751495649233dba6bfcde13183d1a042325a085b16d5f6a82ca746cedc5e352c486b2b6f6dc6c3589ad5178da115c4ba5505f7f12965d3abee19e6279c2fc1eaee03c4f6dc9792572f9b4aa2a9b60d0cb418a7702386e1ea6a7945f6f6b41f0e4a98e8d27b76b0494e5f427d27391e4e02f954cb5668bdc6393d78914097b8fadb5cb93e5e65fa10b2b038bc2cc057b44ac9665b963d9b3d97439948861e4b23c20cba6c3e6c6d11c8d121a6175c32d3c072949ea453e16f37b126878888e75bcb9569031f1fbfb0af9c85faf1c7176ed82a6784a8a22b9adb554147d47d4100427321d0f952f23b8cea3bf88d6e2d4ae09fb41002bc8051d6159b321ba2f92ea3a09115f29ad4afcb1479ca9c2b90a41af1484195861aa9cd733e3be5751470800e0e3ad8a2937f63af18e63d1dd6c5e89c63f861bed708832e9dee3b76c59e275ca5b75d76e6d594150050265aede4748b2ba116c04fea112082b0fba5fa6dd50f954f1e5b24031d12ec23d7d3324f77b5fc6d679fd52458fff30f25a7dc2e3bc2118a6824479a430a4e410f82ea3b28c21f9b981bb6fa6ba1d624a2424f431b3460d060bbadcd0e53a1e1d8d440b263a042b738b4d0a323ec8d0378fb6eb01ce7f8fbc960eed436c0cbcda09c486889ceba0a286737b85ab7740676d67c3df04cd213496f97005fefeda06a32fb102c16a2ba41928fb7e892506e2ce31b5b9799e1112270e9de157795e29940a06e21296d63af2002b566206a6f612a2aeefdeb64aaf7773dbff03eccc1c7bb006ce220933a0506835ea43f09b77e57566892f65b7da3e8c4dc2e2eaf97dcf79564da4c087d85794ae5bc4142b2b403a3c0715f6186f2706a5cebfc812f576bf8c5fca6465ad40b93dbcff6d6d05317f2fb1cc496eb92cde8d0a1dfe46f3e4b8e1a76820ec97d32705bc05f5c58a0e601b761f9220be9ca19b99aeff5284fc5e50696cee7781cb365d15c5adb44d95016305a99dbb8b98acf94e86203c77f80c3a819b477ae413a2049a69ec2eef97e774121819cf1c52ab4edb94839376214de8c3fd2d7cf61897350d63108b79db91bf70b5721e38866ba53673fd971bcfcdef8ce58a50e14cffe2e4ae8c785859417af88cdb0aad4e92f8becbf20f32b9a83d108892db5eb189eca3ce678c256f4e373a4e618eaee66124a1e153b8cb5e83c4426f6f2012ddeb46762af80c77830c43789d9603dbf3f90ecfc214f356a888bd59accac2bac1e7395d144b7c3f35f8b0c1c79e98857069ccc1e496cc550cd47f68e6f137f9086149e46d75ec0644a203eabc199b024b9d3f5dd9b257202953cf9001665d3bddfd41f2ae370c027d82a9cebb5314031709ec8585c123ce8ed42d32e1d78072100ca5865331e809de9069bd6686d5fd8f732a3b45d2d32b7516ecd1814b1ca262c8a1bd0aa1d8e9f80d60199c9836f4b6026283642995d7ba6f750cbeaaf2cc4c932fd47625997579bcc1136061131ae0821e08d1064efa7c5adaed11c175750215773934e8493681b5b30fe099f9faeca324d0972bb4a5d28c0533bfd0a9af7fbd3546119a4b4731285caa378c466ca1cabef814c76c51217c7bc5a6699c7863b0b69bda977f58cb2e2dc503f73569b8e5fbc4e68349de576b0cebbde3e7cb88987a108739d93b82fdd3e0d65ad5d3acd04adfba7bbbfea7396ec37264c913f0ead5dccbcf4147048a36759420f8db423a27ac092f0adfe8d6179ee776524de030030264c14fd99f2e3a074eaa7fd18c51522b08df8f4119a3edc81","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"36e668e149460da4f59ffe8aad5bc414"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
