<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4c3dd9e95d7e193e19bb00ab8cac7506088168b090016a311c94ec73aa52a6ed7fa7723e9181516028c93302f4bcf54c8809ed35cf05a3c5f988c19677c78c8c63d7bb1b71a2d968d39d90057f1f0e958bb03291104de082cd28145c200addff9763eb8a73b6e02dfe99093c092e34d279fd8b7607258b872fd9927ac01e974774dcb07df1de84a16ed44596e0514c3e32453c843004cdc8d9df2f04fd9fae71da399ed5c56938da998508dae7c2ef854163b5885f21fa63f29f230099bdc1b99d2836690ddaaaef36e86c76cf1fbe6bc73508d6bf6778c77b8c8abbce670460311398fbed028c295301eeeb4ea3c847d3c0f35a050d396463cad58038103f57c375a4825d0ee73ef797de4dd3e61545318e25908c00a74ee7d3eacb106428c9b1de9ef04b4831a1c1da6dce7cb308c289f399744a99d0074d9977cd7e80524b109f8f73743ffba516280acc627aaca4a4cc4d082a8e4b77e5f23b0d2abe12c68708a5d96d4ebf505d0e1f97e164c85d7f60c94b47473d670a73e145fe00e7a383ca02abe91f0a5ea80b4dc4d0be257fa5b2ebdc31957a4274112253a6a1f59e49018f3cb324515f2ae5c8bbb167f766159505d4e8b13ee46aa8f02c31d9135d8ce848e6ffbcff7da79b8d1726bd0876feb977dc68403c09ae5e86598ff36a788be2b603f879aef671484a0e52088bd4accb10fcbec05d794958bbb54420d6243804752b8071c5e3c8975986ca745dbebfecadae2091ea0766b5fde60919c155750d895fc7ccc5b498f6247ac1103c2090785558082049b438d54fc156fcd488ab3c321065a6d1101102eaac7b805c238cee63f4b0d18a72b13702122509125482c4fe060738a0b0d646f06e7aae2377be8b070be91d03f76b3c5ba82aab41ad761b931dc28370b859ca7bada01fe29e7090a08e5262d638ff25f6705db21675dde4451cf73a8b455eca0640b21999fcbc9b75819a03b49269582d73b18aafe6c4f08237b8e154b28fceeb953fa1a267aceb00e4dcfb1bd23c9a81738cf19bb766bf624dfe97bbcd5d78eec0cd4ff9734255fcaa4d021b4a89e9d0674afb5e7390378122fb833820aecebe595d37f3f78779701fd9ddf5d2b6a9712ea2d7a8e92e1d0fb702dcd1cfd84f3c13312704a6a88d9269873f22e7e9bd6d2928a5cf57b83d66a56025c660546d5ffe2d2cd5104930ed741bd5cd78f6e3f3fcf4e61ed60439b45a78739d3001499f614cf928336a0a912a56f2ae3224ccbc3b5977356074a85ed8e2756fe42135378d26e7136c153b9b888ebde01290c2a6a83e41d112e066a2e7707a6ac073304be04cd88ab11414b22c8b13016ecf8d7161c6715b49479c0493c480527e34710d7edea39b79617c249f384dd346f28e426de81d2f3623a22e60807471e4bb0bf890f9f2c77ac0801763489598a08a96b5a66cea2ca25d9594f1f74b6a22ce1ca9d42063d6209fe0fe1ec5d68fd77d8c720ce8c0f6767fedf794eb22fb1fc44f3fbc97b3801391d7943c743414cbd983c263f82f7905d06e75e6e3ff0a0e873daa005789f99f0c0aecd36e7f526d161d562b1bd11460f3b38d7c865eea33cfbb95a082250e55d7ac30a6b37fbeab0ab7408bdffe5ffa4a9f6717272d6f7881b4496b1ea59b759f00e6f0e5d1ab217a432314f2cfd51325813e7fd9a6b5426dfdf27c6347297fca0bdeeec3166d5c9d0caf19cc813618967b9356282f5fccd10f51e133b339248aaae5e1005bb00b70b04400b9e269cfc3587580be76e5ca47a6ca9d893502cc68b9a20130224641d76245468487052914b183eb11f7b8e04ae26a0a2b2591d7e51ef5878e989613187a305d4b55b833823d6397f8ec32d36542182a5253b235ae34acb098705dfd0d0b0fc0ea7250c0ed12c96199a32d1a863253984e73485ca7c012f9470c21461c49a29f3dd8414e4374d0a87eb72e0e56eb65ac4b8fbbd45d95db73da0cfc3dd61c4a582c357c56f04c53a7f97e5ca0284910fe5c2b7138677788307abff03558eaf8733607df43c501c6b1b188e0d4a0dbedaf7e4d0b727ff22c4ea1d04447a8db9c7ae935d631de361e8c407ebe61371c657034ab8ca8a897d67b048ef8d5e86bfa4ea8230984dfd06c71da5cf3fffec58fc51ca4ec11192a0cab0648e3e1a3c1b9cd642ee16098de2ee4d844ba9fb8f1d7791987b1c1080d8dad3b2b4f574b098ea9e39194a8c504ce442bb905829538937d8f546b0a270d2ca5b4e9fa343287cde5bca3df4d971fa227345a8dcf0e75e8fcd41a69c530caef7833d7da70267afa3370ff54e3319dfb22dbad5e6cb52c6b894e7f96ea912cbae4f41cbe846be4207a150a925da8d7ff993b75f40d08cebe5fd5a05d0e302d2c79e13d59a6b7ab16a06271c9be8ce1c7a14958fb6755c3989c3e1dd07bd7e7b6c4c8b84a235771ef69d333e947f141134659cf7c4bb43a15632f293eea5c2b8dc1ba301c458b2f1b52eb43b62acf738e84f4a2623c02ac697591f999af2b3ba4c3518f022c300ff2e0d2ed76036c7fc9fd411bc0b54d048b9d5811d121030dd2fbc25e29ef8e2b0a5ba2afd94495cc53513caeb60fd5906f42a878319f855f79e43d4e20f77d2b240876c0c5e2358b9922d752b757b5aeac272e773620af363ea7d1a11750722d19905da65368508c7f7e2846b6100b7f54c5d1bbb8cb2f0a6964dd9b12fd7b2c83e56df2cea57c9384f0a0002114d3c90600e739ed73abf4eb40ba969fdaf76c570078d88f615d65f537022a1911d8f351d0fb8bf57b3fc19f03d43e6c31ed2b0377312680415fde20d0119cc018b798d3b778c2e6a903eac73707a49e96a4b744717902673c6b1a35c0469838583bc38c07118733d50b7d1a4cb3fe38663889113db93b0c3825b009e3de63c31a6e36b583652d594d9d36a0062f55941fde049b08b96a5ebf01d8d4b34121e8c45a4a9426e3a918e2e85c5d66261eee8cd16f0b3b78221da506ce327ec1e12d69e13db872f393a69f43219403fa3c109bae9586c6778d635f98000f0264436ca6bfd5f45c6a80f55aa9f2b10ee51671081dbef57776cf24449b9272e546f1cb608c6d7de6a08f383714a83c0fadeca4a3bafd18747acaf49b3375b51267a144e93cd964f5beedf6d8dc72bf6d8d8278685fd55a58b5410f1edc98c006066edf6c09bb6f3e76ac0c63ca2f8424baa8d34c3922bbad914945a06e070bb035f5a213ecc11cafe5be2c078d0419e37620a0fb4beea00be85983d63e6b2586e0bacf343d1ecf49507c66eea312fba320778d5aef0b0d53760c6e78e885655e83e47833c50aca2a506cc32acc7348b3ad79834b486455f9564a290af224f364c990d2dc8d6a0a386efd1bc9ccad5891ead1980a53e6e2231874a0073939e47f911a6a2fe159ffbf0e381f2b33f30829a602656c99cb9ba9abf01c2700ad1f32e512ea50a0dc1c813cb6a404370425a671a6fda3a55793b5d830ec798067203e3f6a20fd0a3783d1ccb6e6580ed3671c0ca8a49ac4ec8034fed5688e05daeb13114d582b5472acf8fa6c8a93888f296c31004df2a3e965ffa1ec77850f3ce6703269c38a7967f06a7291a45a6a648a97ca763505f0e37cd9959e70019ccc01a82940d91c47e337715c729a345c1c81ad318fe21e7a40d3151ba415b5e9f5d986a7c08121834933745be84d77e1f9f96d7aa4a6788ca36a2b32c51bdc9046abd4058eecf5fea8e1048c2943d5c7b43ade826858c54758c8d4847ad50fbb265f70ad6b2b3b14e58a5fa57cf32708ee76e7c3cd23473320ba786073ca40842204b9b6ac153c002aa973dbfd450a684279659eb2eee4de7904575e7348d599ed5cbe6b27113b626b51cd2719502d4460b8f42db70cdf5d1fee7780e013adf73010eeb5c790392afb07d0b4d93ab7c52c88f81b8cca3dbbfbfdc16522b122f37450f5d986158f77c0158871d4ce95d69e549e20379bdc59162995a365290a285d2f42512ff381a315801355923d60b9c8616f5e7c6b90357053d377af7574dfa82bfbf7f7d98603007b7ec7110eb248b44390da4034cc1efe7058a9c58628b5da1076f4f33a5f16c5fd55ddd8be2475b66b25b0e5ce627cc3e110f21da4f8175e1c3c51c6ce232a9ba2f7cee47d2ec90ed83dd4456475fbd7ed968a2b80dea7061f36163ac83b98620bd9e0c7229c9d97485239520bf90bd30fada775cc0654eae164c764a64b38f65ce69bc868f2dca06647ce82c3bd41af32ce74cfb585d737cfca6611b4e9d3076708edc346c71572df78358b93ed309b713cf5b5a1d0eea80116a0122e0b67c3ac6d0ea72363447620fb56d6f90ba8f447f2c2c1b84f8ec394d49e83a41333b0f1e005394030959fd4596b3a27a1ac1e5df277315bc23ab7cfb5e63a7b62d38e666f0692d49cf0e7d4fbe82d6406a36ffe518654feb55d5333377052df35d0e7862bd1ef403c2d78c021b6d94c050aaae201f4351dca9ee8a34c8b9a48c80f69d50e315a2a6c8ec67b9d47359a87c25482f098092ab5f12f63bebfd9a9d6a832c1bc1d89c04631caa82c8b15c1efc555c85db53543b360496349fbb485e435bfb5169ac72d2255c6cfe9d2791b85313fa75936be8c090019358fd9b81d9de741dfe4bf1ccd707fc4e3da4522a5a758d9b7a94cd1da8dfe8882f7eb123df9a2ff8a014916a2ff1d102a199e1c93560540bbcf49f285287c0bf74873019e754ebf09943f0cfc748eb09e9e0e361d6e54665b0ffea11cf716c3ff08313102ad357bcda73aa38c7fc5996ed2e8579b74eeb3ca79765a6c3b75019c81ad19166c95466db90e02d2c2f5da05bbb82d52b332d0f76acb9ad78303cba43d9a5ba4bbfdf0069bc57fc87595aa04522e78d2283d8b4610f7fdee7622461f2995df1d3bc69492b742b46a6a6b81451a41fc95beb20e0766be66ae2e4f02be9e860d9a32340cd535f71b2c4066de1c69627771f46fe963dfe7e24ce86d84f793e3b9e741a3c51749f0a751b088781621fc06e2fda523471515eb761ef51aae3332fb1c4531276d055cecfe40f48579ba50c99e404915ac0b7edc680fc3bd33e13c00b141e497893bff170d6bd6bf679fd1306a92dfbd4c07218d1214df5e17b8b35af6c4df7851b13fc85196f8c6763dbbeda2496f8b8552da2089e95f8dfb77c47b2d143fb5b00306425dccd5902885aaff8210b2a77370539a80109bbd9495753a61a94483815cc87fd9e2d12cc4ff88e60c51047817891449bef7749d2a9a6ac3a6677149ec120746240858b367cd2d16eb7afc4d77013226f12a96dc9732d6731b40c8e6a2016b65d1e2e7b3c52302accfe8a0b9d859c60af8d5b87fbd7b1fa0fa1b407160d424103baf421b83ebf1eae285956d55fdcf97b89c6a942d28e23d757daa3b5b59ee515b2f79291216b6ac3056fe828479ccc883dc1139a43c80c743d327621e381097a797b009dea568356291ac240d7c7060223f3b412ae8b91a65fb82fac0132a9c22d0edf925c7deb93689c82ba96ac229dc4ec09f25454a2ea33f10ba802f3323e50106f2d53066d587a488e58e019080a2ee55121ee9c98cbcf5cd09e85da13f97f03a6a9440cb139ca283f876876d3096f037cbd847c57990a7277d582c8e719cbfb24d6c28be749afcf99cc6070b78f954bacf33eb719413afe268d2113f5e523b4ab1001811ffe88350d46104c145a810bbb78c1c53c66b65896368725719f2df7230640ce01b96e04f46049fe13b510a74a541267cbec9903ae969f84a772f587ac2f5cf1f12b2465976fe63ba214401c9f4eb8704d7b40bcad1f7f2ea7714b7d157faacfab5e24383f17d72143608b3abf6d592aad09db9e7ece7ba773fec920162e031ba510871e0fca1563a9b6a6b6b6026e636f879db3ad13d2db720d44e61eb43a2ed44254235177b56182d584c2b42f20e5d8665f4ec27589fa1c65e1a4880539ed5a8dc3a535bdf22d07fe2a9ce07e44d688999358b8d0279e3f149cf057f9592f5b8e77f5cd6c3883963ee8960e299efc71ee720c48016c38ba3a38b376500280eba224af2a557aa6a7f2b375ac6d0e619ec9042434e5292f6f5fd1bbdc5ef418b3fa95c1811d5bbefa7240ab7894a3aea9061d76576d67ca797af31df30e2f555655e3be0dcd0f78739e53148043a524b10495791469b49ce4458ba08a24460758db5709639e7839dbd731603bea0d3234463e2734c4fe1477a31ed22057948f10311c415d405141d8e8521301363af5941fa3deabdaf7d5303d521c8fe38171698dfd6c736e83610e92858d6a414d889e9c2f198720cafb24a19938782e28dc1dfdfd42a0be90436713ac7359a3cb18f8e7819785e04231d8449ac9ec0d4ff51431b3e08941b391857dc8a6a23c4f367d7a76e3acb1f69a54f998ab5cfaf038e1b42021482e50362377e6a669060beb2b58eb2226072403525026cf62d60a6f2133446087bd130cd57f219ac9f7cc32fc5ffad42aa27c697cebb4687607b84afe6532242eeceb0bfc760ad87f8836f61f4bcb58f753056ccd19db302c62cf29afbf84566b77877414c985dd4f8dd95d826f4fa35a0d185cd0edd4d760f83cc7c705748ccee5d44cfe8dfd3a0bb331d00b2e1a140ea6d12878199b38492734df4ff08f57e7f054d8cd47882d59b238c50342124e4c9dc5ce3c62b02a6605e70e2da842072ea7a1d3310beae8ba5287d962d98a0ce79d6e75835dfba98d5480de88d41218daded276a168a7645ed05581c17253c80e45798cfdeb05de321d013a64a3a258eb2fada87201cab230263d1b023b6cdfc136ce6efb9ead62d2b40b03575478aa1f34b132b6c1548c32ab85ffd9ef295f43a3fa663f8ce9262beffee2f8d0c95e345c888f908abd226b5fc94a2e58094d9155d74dae643d461ad7ace244e0c76cadf328406df03bf525334769cd63727d9e3e09df776ba4b2ff01cfaf9e3af345182eb791b810d38546b4fd29c7364668ea131b7cffddea066d38880b199ab8de7e9cb7e318ba5deaeccd4faf6a4cfd1f9f3b0146665e9a7226a17004cf41459b199d6cf02a00b244daa8e48785e2684621ac7e8d35dc13fb91849d68555afa0472e4399b1c08998244637434136728d4879119d0dc13c3d11fe8d5f4e342c41a2dd0528117702b19b2d5babc4def37449bf2d254a2a42fd06c9d8c886e43a92949f264841f9ba83c67949eb038c9d75b4db16cb86fbb745ec153b06dbc4181608b907ee3077c9d21fe4a4b8617707a2a6772e5e8b24253ebee2be74cfd4a2420ed0e477c70901341c14c6be1439b6a64470a5a5d175f399da62977257bfda83477808570ff00b7894a7fd3d30f11070ddd41e986810684dd196823032ffa7816cb8cbb4842f1799b99b0fdcb39ef463bddefec5af90ee4c4e0d2191f04a55dec0af8f673bf3de7cd0c5be678c37cb373fb113a747682df4f4b3487bd8ddbbe91d161829f634cde90e1a9d62da80a66f41113ef75c053d902a680740a8a7b8fed15883020a0b03d7f42b56bb958650ccd24031c8e1e383fb597ec077d0334143a5ba247ac5584b77147ac1700b408db45cfeb0b1bf926238067833b3ba472075c602a128693bfff606372456e851afb2db79ee84dc8c61ff66a1b42b406168719b769d46500bf6f304888fecd2d772cc8885deed4fa66af23c1b9e7d4d78bd12a52cdaccf0fd0b32e9300e550cd18988cae1e4232ca726cdb03c23e02e3e59d2868f8cc64941e4f165d62beca4c442af63cb866f1412e1150e4c93349310751070a15cebe80ca8cdd7b5181896c9d2e7934f144b52ab341b3ffcc202740430f440588eff540fb44da1896356517e4d0804804272171758f3b366630341ba1c2232bec5612633993552c920aadba3793fc7371e545c41bbbe622ea855084c2284274e73fab12bbb61b3317b835c73de6e01a3704343592f155e3bb302357f2d1fb21d2a65d58203d9cf0f68e4d897913afb1868687723d43fe2f1f466b7e2519f90375ad2dd3b3c5aab9fc97ead73c915d93183253056ce298186c8bfb76d1828088d65eb23a1f1023bbd89bb7702018bf0b9dfa1af7c778e0c0927e6514d0445ad120ee0637a685a16b7d5c8eaa8377bf01f37c6b07f349b5335b80f704cfe39f84c4f8034e90db20fea106c636ac45f96c738c671923c713a9637f483f760a1de4ddd857adcc351fa272a5ff3d1089aeee1ae2dcc034aa3b71376804f37226de543da6588fb805ae82cc2c630ff67f79db6843658b43d6a140d7f14bb496631cea436b4149f7e26000df9074cfb172ea682874656b33e5d71bf78258730f08b2fd67ea3405d6d0f53fcb0d5266ba5cd59b505042bb851a671c0d2b9d93b31c93bea227c059cb539b72d1c051703e924b94edea52cb390ddfb30db3f6f925c4c9678a1ce814cd9e857f42422bc61769831dbe9b262a77a48e84006d86f9588b94cda14d5e1632e3a37b0cf1dae8e833f9440fa5da13176cb2e9bd7b6828313abac465e2318976b46e575ef7641ffc9b2ab08129f3ec70283dd491a92c39b054983f9b69cc6b230a2f0e178e2c86a097381398c706ecd336ab95c754a338c35cf67c4468808ef115b42691e0a4cab2acb752110c474a06ebf6a8ad137490dc07b3b1781b5a643a2da6b1075620dc29320df8c5b671ad92615a3fa9e75d03f56f89a034a625eea65fff3fbf2068b5a61cf7eb0edae5a524e0d1c86aa16304c540fc3c9fa1a0503fd713456940d1d848294f83cd8a9af59198cc072ef76d1b32ff33bdebc7f2694327efe29745124a946f37ee53ac99ef0ba8c149f98d5d5b1ddcaf874a56163c538d63897d9c141e88c9ef31bf330d5d7ba652585ef0084e545bcb6e8474961f7867de600768e4e7db7b51dc9bd6fca691097d796110404947faf98be4f48aa25bd1a559949ac0598fb742c02450d35f61567ed5c3ae955df984f712ab316d45730cb22162518a9d61b087bdcf201ce5a174ccab36dcb038f40d34169c661f74360ceccd5d8be35a9475236c07c38915b36ddb713c9b00f4c756d82bef31ca081dbaa2bd22b5b0ff584bf1cd07d55feada19c48b6f2ef9f4656b99cd13efdf302ba30485f959155c3c80b33c138a57f2b7962858930ba36ead4066ccc0d24642b7d2d231ed28303de0197c2ad52991552d29a1d370f0e0a28f02cee1b8c7e78b3014acff49a9bc313409772898af123f5febf22be3189218169792d0d4f93b5fb1aa3cd64cb1e5eefcff11f022c97af638835ee2c514091f230e99b246e333d8679bfb2a263973ed133f5d3688fc67e9995f84aa7ddc7ab9ffd7a2c69ffaca934042416576126081a743441404aeb34aec72e072c75617387e95756a9f69063fbf529b60ad48634c5d57909e12dfd5fed7d77297205612469307d60eb57d27225909f08b802f06121a97d47bfadc49794b8c29143c521795fecf1d18b38465d6a78a50ea8954ab454b20232b61146dbdc5935a7492b908aaefff5fa3411cdd911ef2e0d02fd30693a5f061f8d2d73ba01c79e295838649dc5e9c5f4ff6a9315809b9b1fa07fcf5a275b14fbba2fdc46cc217435d4e74e75ef94656e0877a87191aaef6f7eb2224978f493b26f8a54c34a8155c1afa233f21b33e2318dc9984f085be2c3886a20b29c751fa48e93dcecf877c4c2931ea400eddbd522656db0b200af52a1659ff51c92d3dfca112aa37c4b883740c61a146c2a6e72e727f83f336b326bd653645f20bc713aff94c4d422b141c47787d00f4ef083bc167891d5bae7998c210cfc0b377975bc8a3a9faa6a9abf0e3088338919712e2b74946c0ed45f7ba84eef6e0b54dcf967d1e70f2d2024020ae3f68435f46549e1ee8210b57c4bbab5bb298213efbe00c2b287afbfb59bb6e9348c23f6aa4b6571ffc4be59d783dc70ad2f2de87eeb6ad7f9f44893906cdf2587e95195d61716a15daaed2834d6b5e1767c9e293673f03fc248ebedfcd561d3b2898b178f1cfd63f73b474b89c49b7ddffcb3118749e86d409e42e065ae64a98546b1f0292efa75ce5bf9516df68c5b57412e7dbf5e365e55b6cf1291a07f526e5a25cae3a2d9f9be868562381d734303b92a06168ff12bc530aae3fc52134413999fd82e182a66f0337b8c5ffc62b16b7decf3be5c4a209b4117b6d6cea80147b6d9c8dec55429da97860d76bca7f5d9999f73109a94c61d1d146b82aa105041800b53c90105b5ac3ee36920aabbb1a926db77bdcbdf7688c4f917460764bd8878d00e069afc20f4ef48524e0c5b316981565d12804179d3ad0e84701b3a559a8bfeee424be0e892c57b9f3deb76a828bae3855352ddcd0642c50694bfc4d55fc6da42c6c543bedc4a7831e7e87b8f482803375f2825ed4c87cb332fb96925d0903ca32926c56d003f5124b855a988165614106a5deb877e396225b534f399bbb600a285c7bc3acab17a9c334bba87202fe576139a91d198278751d18f00f38ef72dbc64dd2b1238f0a2e675d435ba71aa5d49b2936aff6b42119f7b92f9d60928bef96ed332a4823847b8a357b16e805ac5341474fef4ef3d8eb8d397c2d6983d4bbcca21d541ad3060407bfe47bbdabc282dcd76b8e358829d9277eb874ae581b7b121177284c6577520c6feb9b1e435884e3dd835e1d88c4bf7961e6d3a4d8cef3405dcbf8d709ec6116cb2d1e368a53fb5064006c59edaec8436a379794ce74366cda13cf4816f5148af2bd31384f974b0dc678e37aea0d7b72e73d0362c623d6011d0640ad730323a98f6972cba3a723b4ff9507b498794bb8f879000085292a943bfc2f5263d4de20da61eaf91214d8043f70ca8bab30c2143fb62b837962beafc48b8bf2c93612b715e347bc00c559b4c1ef5378d200d98fa2f45890c98c25f1bfeb7e8340e13e4c0bc180ba4a2744aff480541d63388d16f7e9bd791d5752c88c08d5a475500efef5825d9072a4637fe1bf743b877cf15372b4ea13cdc3f69252a6884cb824a5bfa382647cbf351f38e03ec8a7ff2b8aed37a7b20eff7d5aa2168330fcfbcbeb0012e1b9569498485c453a45c16456ebbaad39a50b78ff5f49565669d95808cadb610b0b01264fefd9548178aa243b55e10d3350d8b85d3f98cc354057081104bb343f7946e59081a05bbdbe14a26a108018c9aa7334aab42a4834b635b24e83d9baf348d4229fa324134767704862c423e531cfe058fdcae0d62d2cbd927ba82f208693cc1c04faa22f173137ca3090030f1488e58235f8ef457f1d0f67fefa611809c52fac3618e7f546e6e3f99e1b70c4e528755b30b3efafd7bab6073b95b67c02e1945a4b5b3e1e4439f5d4dcb23d3103cf6215c2eb9de6e15587dc73512268aa5f6c79bb7df3195dc35c09ef1aec1d497d52b9170ee68e7c8922b15a4eef092fdea752a6bbdc0b8132b302ecc3561e4c3527e0bf4f664c8fd01e895a2bb3942b2aa4cd217a29ac7361e4599a7a456b274c8fbea8333b0b4e7b642455e19fa70986f5d5a30947bdf7d3c932b476746d3c55bc7592df3b505ae7a18b5ce1d09df5e70cca6fed511ee57e0e4f8a279b3f0bc60a0e5b95cde66ab34bf7f997fe3a0e77a0bc622c2cc11eb95ac0e576fa9e6bebc80794ffcfd0b35aa884fafb937cad2618e6fadee555ce0d3668cb9dcc0510a20331dfec24516c9ba89da207028596736a8ad7ae9e7e7e03c5fc9db334d83d273c1fbc7f4fbb47145898c79c83491c3c6d99151c9076105597d3e7f5c0e0f13b21deae87453884afd87885ddd98e6a04d4eb73f1dcaf21cd4380a3c147c6478818f16412bfcca658aaee09dd6501fdf446983234eaabaddaef97cf682a9ec1d41024d57d5ef240269802f4b52f961495d3bd9f894d86eec8bb8e72dcc727fe1b7fdf2c070f4a99a16b54f4bd405977942f5a52618c09a428dd80a4166d979954527e42d4e0b3a3c20a77555c827ce07172212906750789d6101ae35229253550cf265f65dbe29db6865e73dc19b5b46e122c4600427ed90c18802e3b89359b8cf201d21e61a26c5d803f91c3647f292474e7cc1a9676f8e87f9165f1aacdb67a62ec9249aebfd54ddd2c630f3b05b02591f5497937f82b8c7c0c7a437f7b7e50807cad84437baeaa825ea463ad0b69b50b2fcbd5a6819219d55a82625724171063ce3aedd68dabd7920a2c4180fd6f3ea68e473b84ed9b5e2bc48ec88f2e37798da5617f1d1113d515e8ff38b811f906ea5f6131f8eeae53401f3c4d801d30152900d29f5c737719c484e832da15f531f987b4f9558b3ba36656496428c9f964c27fdb10c0c7542f48d564f3801b60683ac893c2efcdd8d5e3256711699d20ed2562123e1627ecceb1411d9af79df9c2f8e0ccaba0832a81a45e5d7fc28668b0727a9e66b986294d339fd13f8377bf92b73c0f3a47d4f1481c86b9750e45a98424a56cafe9a0cb191fcdd89f09ebf4c8893cfef629b187c21f715d379875b9c5fa0e9848ff0886fbb685699c7295733189a7b5c84257009248c1cbdf66d424f4b8a08952fd3634a008b417f59dd0c08e91e1d22ccd60384e6df93ec098706c6880e140592b243ac7b90cc90db36343d7ac287bcf9998a1483c72a93e2e187de338f83dfabcdaf3d5398c258b629820d601d08ebf0197ca8d00209b39b325ca05bd9d7d6e734a1fb215f5ab4826774265c33faee9c2ed47d5c8855cb3acd8603b9e64fbab3c017d463360133f2e485104f3defa6712be79c77b6b820b557065b04048df4482e1b8423d6d4b3a15111f286ac38516d972771f8fd0454fafa87cc012e7c4533dfb6760d240726b2d1035fbfff88b0d10412379bb0891923de1aa4c1d1f21c4afc792b7858611ec01ca1b87aeab27b1beb9130369cedf997f8581dc7be88b011137b6b17901375a11ec1e9e011595ea426bfa76f9f3e425329d374d5e545be693aef82f22e647d5ac9338e44753a0fb9c9e48eaa7e8f8f20387ffafdfe9150c4fd68cac175ad70541dc526f804acded2fbeeb09631ddcae8065c0dfa386faebc9dc17cb33052e358d30cc8dcab7d187a3d56628e8854dbedd4cbfd43aa5f0844b2afbbee3b004e50c319f68b5d498eedb45a17526f4ba5f7aa03a269a1fa1142b56c471f533baf5b1668a3c92e61566dad08ad94eb5d362a73a3b23890bf695cee398d2a5b5888d68459e814bd554b58f9043b660d92e51d9b3fca09306ca93fa3606ded87df436058314bf2175833089342d429c7baa438ec6943306d1013df0104420c73ee803456e618c42efec5540037fd316fc91a9066911d06e0993bcfc728c3ae1d50c19d41a1a5b31e8d4f18e5f784fddd6a167690cccb735a37571eeba996523f492aeab7a8038809a56fe83624148ba9939bd42f2e1929631e338f9e0a63b605849a95282006a41189208ec7cca444d39fb02e4c02e5dd750ee93d2bf53205c8f1f08a49078e7ddf644952d6ef01b136ac90ecad1638ec5d3cfb3679311c70b3c4d88e2f3994349d765e812c96cb4fe2221de3959c5917a5bfb3f1eef9e043fe2353e93de6eaf11f6313796e3e8bb17350dea882517338bacecb82506194c16f18b262ffadf519ec9f75095223e3796a81e97073dea3cb6330db9a6dcbdedcab87e84812235dae8ee85214dfec0213b8fe87fe85f7e4cf6a628d6e5a06555c82615ad3e094cce4f3e1c2f5214fb43ce673e27f7dce17404c916b51195747ef748c97f986a95db8ed44ca74bed528dfe6c1c9e97f4c2b3e767c59dbc3686b1fda1c82c47b3af255bb8c36a915de7e86c222d68596524e98ce7787536bcf8e6d2c11b9ccaa70c6c28869e857a80ec72a81e495fac4ed6a79ce42325ce4fe2b2636aaf10e35691b8c0bc7a57f46fd68634e31305f38e77feedaedcb423e64e36693bbb34a3c468dc3858bb9974214f95657d5b2fb00a7ba52b7a865cba3e0b9ea1683fd2cc540396f198b9c350e18a3d0986b28ba9ff8d211ebfb16dfd4371e99f427480c74ad9982c4ce1c05e33ef22e9d88650d14413056973550f97aeef10bd8f2a38e7747d40711f44b0c211755cc8486807f2655a82d477d7edd22f15efcd5394dd371e81c0753f8e41a0f56c15e216beb6845fa33527d7d1fea82e6c2d5ab513733fa58f391f9f34519609de14cbfc06aa97c18a218744711855523e8c01f0aeaea82c1c6c8418e89fd72ee7e336c2225a5120a654995007b1391909d4cad19f009a66d9ee84b36a250825279cfedd18cc6bd7f4412aeabaf80af7428693b4bdcef4c71ed4ea7d75b5d519e1e1bef658e6d5b9ff4a0f07445a9a36ff700737d62e8bce07990321bd0fe8509390ef2d8043c78d46fad525247c18e2edd7edf3ef0c07e0c3931876757197c98f0c1ef3e9cbf021002a03c18e0722f321e644f0dc24fbbb561094f8be28a4d5535a93f3fafd1809f6317c9730f31fcd008a2df7c5515e51e3a7c52e0d24f113c0a9b717d88d93ecc174bca69368fc121a3980511bba100b610cae3f25331df62cc0c8794b7ff9f0a5f9bd0b87dd20dc2f221e22689c14090a5fddaa5908dec93b1bb06cb1e2787da34305b25c10e39b328cc235596df3fb10cee78c5f0b2254f0bb4daaaaec71e3f6d71ce314a807fde94a942ceacdd5e0d8890d177eafadd3aaff33f880dc7759ba54c9b2b12d462ce2f31b561ddf196197d4b90f734c56000b582d40d266166bb23772b3dd8c3a6e8c1327b7763f9515b274591ec3a6ac7431aa9571c71d9bf4c4de244786d45b0602f9d73260d8bae553831fb4acb950950330afc01703c69dbccc404b9d7b489fbbd6a0f9e792bd2e5d2ca9f1a4c54e2cb2412d5868d906c76b76ce6d5e24484ca8349739e27affd3c4ef386db9624c4ec9943c475fecb4e6f11169f88704a389bd89eb718136260f83359bce9260f87855920ba3f0ee9cd0f488a986ae2db24a344eb25aa7a45c73eca8d79889346561a67b2f028803877bd6462592a694acf9363a98050a0e21b1941588ebe55a9db410a7276001c6dcdc66d9d043a10fc9c7e853df73540538d367656c12d7f72cff85c45d2e9fd4b84517254437dfe013092837299787eccdd433670689d1e5d2084d443be4303b9c12c3aa4a63000bf828f8f376f484848439e7c59c1e278b8eba0d7ee293f2e9f09964686a9fd92b2efe61cc1dd2bc62b117b2dc796b09e1ed2c43359efb99d0e8692624f1982fcd8693dab80e04d5394191bcc597dc3622ec9f0c46485a5cabdf54ecdb086b78aad9ef9e12dce119c97dd436ce942072bd8b2a8936384ee31500cf947717226448f7ad3b2dfd8d61a03c1d2ba3a5a258cc7b0778856759f4379ffc73024467589f65126c303bd3d6beff540868f5c23940ce31db13c84043dd4fc2cc9e71bfde356f248294f7783bc77e971f28c03ea7e765d56e3dddcd7cd963ffe8e66b4e990ecbbc760b87c4a75d62229002a06e5d025644e2e74433a6fe1754a3a562053b562bbdb9f118fa4dbe8fc9a14e3f05f1d64b8a46f22afdceb262e10c08f930d3e7903286826d1c0ace60054c3fab6d30292c63d32551b90b504a8f64645f150ab0d8c99176243455d751c4a8bd7b6a9fbafdb736b90ccbda2f0f6a719946b0af17d93b92c5b287e311e8c9f6412c4e1831b74eac8ec857b707ca88eab8ef7b4d9ad5d5bdb5cb789bc85433a5860a33c87ab1667b755ab5eb985d14a963f1961ee00c775e5a2bc041ec875d306b44fc78e37704a1bf06240e5c2cc6ba9d07fbd89158a8d0feabe0245f058bbd71d59663f0c26cbf27ca9478f0d89db2381de163f52835dd817688b334c996f1c539c69688c32b2fc449a292a12fffc9f6ce5a1d0714d4be1765a88408ecc7b64c30b973ee875a76a36179b508f2e161cdcbc499fec9c233c31dbb49364e400420a8420f389c85c3763b45350ae21b8595a2e9bb7e79ba00836a49290de70e464da6206d5ba743cd3ad812e3a40d44dc98c305419bb9d0263e2a20b4ed6f584ce3dfc91d788825860dd97260512ab1723f5b80f25c9eb27274df6d844eedf2a0a160d9c5536ff6e780ac0289d4335545cad19c2436c751fdbd32cc1fa3f5bc2552bc5f37835f141a1d67d3126bea84f1b1d15f06dc2419c329c3fe453fdbe78efbd9131903268be60465fc651a615ca623c2de5492d1fdccc93ba105b9d3e4f1552becd6be54075cceefc202be68ef1f38174c12ea95365b2bb071ee250c3bf705b0575da03cf83cb2793f8de05a81b18e7a0c5de2765353b78631f3df283c1e0089c953dafe5d89763604ca2e94a40fd1c77937e324d4ec6faa0e7dd3be6ced6d93d020de23c4c84e57a9341ce90f88bb0f6fecef8cebeaad59878325b25ce26f2e86b12bc4b74083c117ae76bc30b969fc1cfef594e31f97e0d9f395883f86a2c48128d88b661f1cd9158e12a163015479ea47a27ae9f0621f03f7ef47326ef1ec012832c84e32cd9be937f4d6b40f3f40018df9417556d05dd4918f4f33a7bc3113c6fcf41aae3f55b2c0bef6716207d6d3fdcd4f5e101182fab88aeb43b5b0eb62175bbcd96bbb1c6d797370d4b9aeefd202597a38b661390fc31cecd8a2fdfbd9c2fd025983c389933ce87fbb3a648df11fdea72f1816a43720c61ff79e39ac94ab310279d04c59bbda9cf3230875d5fe54db43b531aef04d7d937c1dbd5cd1b6392ecdf654a7f617dc20ff06554a610bcfec5349cdee73442d7aeb5685f8a9f5cd66d1debb1bef50246a057d279ff3806cf3d16eabe9db76af7eae5e18fc68b53a9f706fd0514cac9041813803060ceee2a13b4447c16e428dd8b44fb20ce58aa16b85e6e5601c53f6bed855e51aa80ddf8e4fdf86a59b7c8f870ec8c7fd96caf0261784c0aaddfcc392c7d88e1925cad8a57b16138973faafcd7271823ae77a51c199c041c6d7d7e6ba39d28844e29381476b0adbda16ed62720a86516839a42561af7c7da9750fae2adf95d92f7cf966a3aecdda45c8e7fb04ed50cbb4ce20fa5e58f1ffd4448cd34db3c3bbfc4aae5ae3da148c10b578439fadd63d23744f7da10845f80369b362c84a3e7bff1dba980329afb7aa885f69fc0a935c6f2b99b903dd41bd9a8d704cb0f3fe6a72f68f97af1c10e225601ec930556fa5a0baa210e819cdfbc0a4f198cb6d0ce72c0ce2a90796cba72a76908f0a6c6ab8a8ec0d4b43e9a6211b629a7d5ec1e91e86005ca6c491d332425a4c70a579903c5a191b846a7ef3eace1d8c0593a26e09b0bc68450c1ba389452f511e6ff9e9f28c5393bf301ec67dc529c8a751caf4c7f43b906cf0082b59d2bf20e09be253b9ae97ae9de48f1b741a5803d89beed9a73294868b74a7dbb575e568ea764d8ccde1d35cab2c038224cf4ce0406bdfe05cb7e464d553bed4ac015d9a01e5907f0e81f90ab7453e8ac3f27c546f2457c96af593192c10a4193423e45b72d91f8dcf060dbe766f7ce54c825c93f82f26f72f7ff31f0946d7687345c46e7ba24619efb70a1d109b3ed71fd13dd1dbf81f1a7acbc991f0f57ad1ad467630634ba1a7bfaf0497a18f79465e78f69a9c87c7314fe2862d1784ca6e1156474254679911dd0e5660eb3df9b057955a23ce431c60334d23be5f2f8b6abbea7cc3bbdf5fae6fd8b44e85df99dee52289461be8d9d34ed62e3b0fac2602f9aa107183bb42f7786b22be4305c2efee679c038a40d1588354110285186bd9bf743493a2a1a589fd0c4d43706c8df95fdf18bd0125a8aa3b267605c5d7f3319cf05b22ef981173ae5692c49405d6aafd7149a96d19f59d3fc4dadf87f439ce40e8c3b4a0fa4f352e7e6c89dbe2b1e4860206db99549e9cfcb72e62052a9d0dfefca013b16f8370c520dd4d2f679f2fd0f07bb64167d634db70a74f1d0fb285d5fa4a3da9a822572230c9ee48f7a0c23341c8fb76c5d1fa6bcab54315f265f534a500161bbd9ce63ae27c5eef226eb3f699ff5af66404ba701f6d753793f869418f4b6b41b91345cd7904155bcacff81e97b7e790acf2a50a3830bea35a453e61bf7f3ff0cc0af8f0240b51acf9f7490879cf8997df918fc23904385188263a95a770d3d9511939efe3bd5f960bcfff5b7cd6761f39bf550d3fbc6595e190aff788b6de6f5caa12aa8004c7d5e4611c25613f9f87f6b5ff663a4ed74469b381a5cc227dc1a61ac34bd433e11a4adad12d265c956767c7611c6c78394ffe40b497c2c090d93c9347a13cf10ff08fbdcfb84d7fc4417b89734a2287654ac51384227a17ba17c7b723a3dc5a91fdc17501eea1c7c06e84f377855efb0aad62d022b505e15548d016885436337f703777aaa25b514c2a093ff452eaf2f6e120af854363300e8a9d3b0f5974f8fb3f6327d9eaa56506e6a316777ff6375f1b699029f1cbe218bbd36e80fe3b88118ccb83451cb45796b2011a507b60549e6cf9d08af44a1260dcc0b10e065aaec3c8991e3b9cd0639dbb2b648873671d3612745b653633c964a91cc2a14d12be81b05e874a2d9ccc92dd2733535a387b51617131ff9452355046d37a3db74f0c180b64b05d54dc7e5cf39db06f0b28c62de42eca98d103245327c2ab6e3ac8910e2e22ac54369b741658a73c1ab037f964a302e679a3e608fc6f361f1d32a68f1629b4fa97b7f52caaa708593302efd0db0f56f10d5047f907b45732dfa71697591e6cfc2a21c74268f27a7c49a3dde49febe329d2bace4f5ca0f35f461153628bc40a5bd9bb787ec2e482fcb971b4d03fc5e5801da4ad87de0674689ba497e2489262d6bedeeea6db9e9c95fb69868b1cf329e1a5a2ccd135cb839edb24e8092c32f2e2e41b10b82207eff26e4ef53c0830abb154da5b41b3bd6f5a37ea2b1bd02b6850612fcac59485f2392805933e52277978998b695fc5d4a51321c13c382f33134d118179ea5dad42401c20b4b04dac527649ca5c0308bd8b0665fae0452e5285ba6a49ee28dd3638ea537ffe7cd2ec06b55214ca6f1fe56f5de8435c7ff60f863f3c1d8eb23d17cd58b62d64e3c0666ddad368d67e7ceec6f61ab4bea4b9ea10129cf3728c663e36c52cabb91","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"084efd878934c76a68eb51b34d2b9e51"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
