<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9f65cf518805081deb88b2fb8489df1420124388f170bcc041067da1a4bb6423df5007841875065abc6b804bb65e9651fa22c7a4be311a54fd5c9a36be98b240cd3d63ab9b353a94cb9a4b15fa6d8b67de626c18c92cd606d8f8bb47c995a27dfe2d9ed1414e897a3ec0c9e62dbf6468af28bef5f717c7a091c5bf7438a75b4e36680d00d21efc1dc7fa5b16b3851f37622a3388c7e733226403081e418ba956af5690813a567390a83c4785cde7e6d14dc077d62e8cf662e8e5b9b2a1b830d462ab09da88c34294d85f0db2a72bc948c5211c780e45ddd07bae9b25f2f5714db2c2bc86bf6ce18571c1dd8486facc0cdfb9787cd8b44b45d24253996050266ea3cb4e76cbeeb99d4ef011ac73aba28bf15c7a309867c5ea64098b04ef1633a3382b9daa1253e87a2aceda9d4ed607b7f6b0105a40efd343b7554bf1bffe9fa2e73e146435bfcaa37fe5cbfdb0bfa4e54f5ddc482c367fcbdd13151f5f45196b8f15e6238ae6b793c7f980acc08a6a1c366f21ca264733ff213365cee71e69496f5ab6a940f6a7f0841b11c3fe4b10e8990589f4c24456ebc33b619bc1c9315468b7ac0cd059d4051d6bc17a3c602bf2b2c181e23aba4177b958ed304f51a98d17343891faa7e9de569344796c32b0b1087d0949aa2b1880ad642f4f1f2bcbcea56740babef1931a03e4bdc67bb0fe04763003a5aec6e6534ff754c2573b1b5703e6273e87f73fd906a45cc91aa609f930d48d0ddc9d71abbee947542677dfc89caccd4b449ed6c2bb447daa58f36fd9d158c2e33ee4349b4278d725b032a8f2d1f1a86bfafe5e7c7f85fcb2deae7d7ae5c796d29c1f891878ded4f151f424fd1f7f715a1792ebb5c695e64c617fd4b14168b93ee1a1d02355f7980a24822b840a08f6c371612688bdbcc232cb51878370251703c63f43082ad8e360c3378eabe8588d66664beb800cd4c20e1b6a3953e38f4331c55fbf7bf924c82169600d57d12b938ea9140b0c270f58d39779c1a5142db8d604424c00609209267b5d428ecc00384c85a4bfb8f3a5fecc36fa2b37a27db34c7ab3918da590b4a42b7f25c0fe5092f9b191e7728a438dbbed94724a6a58199dcc0d1c84d6f5d577f475cc98718efe647255abefe510ccc7cbcfcd3a98134b2868a2df33c80f88557542fc0eb611e7d7d985ae076d6f37687a3cfa0a38b64abc89b869c22af26c3257001864f5500f2657cb863645c12631529cc1c6990716fd236a0b6bfbcbc6337c46c19a359e46d95457459d6c34f6789379f331f4c5aadde5e62696e9e1ca1f989ca6999c1837215492405c0033dd523eb56ace98e30f12d78c9362e419bf488c40d9335cbc03e1b2d630957348d2b0cb1e1c405749962c8e5cfa87811fe83cef8e4658d8a0ffe1893d75139dc2e148570158844af4ebc636755c56039e14dac511eeb7029b5378c23631946e79c3f5a4c04f3be33507ab10882f2810a144e63266cde0517bd031172e331be1fce395969f93e448d3b7038ef176dd26cb05660907abdf3d28a8136441f963211d7cafba724b349ee1fa8ed027d1780cdbfbb5cc7fbf56289f2ae74d21dd90c3ac817dec2c204548eb5f56e224d2fbac8328879521944e2ef060feca688520946c7875fc745d3cf89159ff530648126a3dea166df604235daa49dda319004ea899909535a5ee2957cad0a12c7c3d2902b409d8f033e017a3de859adf352425453d210bd189f099749d0326bd4ab01aa001250a1de3d407ed897832a8d08d0249a7f96ee15a66e2f2777ff8e43f62f12ae171ab79da9c1674029f7a740d72daaee51ccc6b5bc2f7906d61a0981af1590026005dfad0ac5399082d777ded82c80c5be33ffeb3b0b90dbfef070aa49318fcbaa2649a3097378eecededf8067b69f73d59cad30953404c603c134d23f5b0478189a8f6975f0eb7cac4f87141a1c704cfa832748e67fa17f0dff08c4e68fcfa12dfd6a1473afd8ef11ec72ce44416a8d7bff3619b5716a02ee8603ef926491c32fc578481141f711486728177c8c8d1eab4be1063e31066dc5da84c8df38b364b80614576c98bcd1806fa14ce8f14e297953f1c7b6496c2fad43844f248fb9ae30576014ac908069fda5e20abd89ace0c7ec989b0cc287aaa3b3b014464bf3468841b8edd8ef3be2341455f90f941ff309fe603b904cf7e6eda2c174bb6036c5dab66f3257024f214d9c2fd7966d7a8c6eb37526c8e442cf8d47a42bb85bdf6caf42e879a8995fd87c96e28aba9e9e04c19352408a05439ac3cdbd5ecc1fb5f77c3b553c26927f9f680fd796b4b78deb304e69f31cbf2c58980b75edbb3df211b74e0b9d6c540895de1e051d01b8dc493ea740174b95e639ea948f2a38a95ce02a386f1f1545be4ebe954b2b612d8d897a8c9dc5e18414ef0df382d68a52373a6262529987402e3b46b1176e5e245660818784f0753efcad4c68591cdeb72ec0540c6d5d54dc21c460e6ba183da43254d7b887dbf6e031fcf6c0e90500092dbdc6740ce60678f19732c64aec77dd95f3dffc9c15825bd1f593cb79b79c6b40a38347a59a74853378abcfbe96d17bd5535df1ceb4e7ebf89be44978e0f00e023defcadbac7205db8a8ff79852049a27dcd0f5c8fee2d594010086bac29ace0f7308cf5d1001a0f919781ed3841f8fa4c80ceec99ad5c47689877cb37a8c0d4cedb359f65c47744565591e2befd48f960606c008be9f2e5763c18e9e7acbf5673c8d3d27695205bcebf3044186567c2ba5dc191f209b0d186fb1c484c08b17841f38d3c4580085deda18740e909ed4e85dd6d9239b84bbe0c729330f7465004616592494efcfbc33502ac2cb8e65753c4b7dbf231c59da49aa4a5318a4a0fa748f257fbf1de62b069d7be94594242948be5e9fd63b24ab8f2dd71f81008d04afffc398c1619026b1aee2348aa7aeda7facd3fddf9d7ff34d100f160ea926463e3b584c0aeeecb911742f4656c308ed4e87c573f4256d7a9a597406a6824c27af62fe5e4ab7ace2c257304dfe3f8030c2e13ed87be487e6bff37a04a2e67c3aee8ff11615d471e7215dc87c5ae766dc314acb68c906d758154c862643f0eebc8f68a7062ccd7ff2d24a475bbfd0d5f748bcb2f473534516d1eb00a10d47d299fe198b2aec78003fca551f26dd0e9fb00962982a29b2eb474ed2a1314e57cf011f545e66ad9ae63689519ef94ca074ee23696fec4b068ca9367e0e541cadf04ff1c0afb37e6cc31507ff50660936b4b2e2533aceaca9d15a65dace0ede6bea0e263c21095d1897dc9726e143f93316343cd8098be50c3ac8b0a5bf362a8b08b6100969ed12989148ef1c4c07ad8ee47473586e724c9a33877fd0be7fd745b2032810846f1398cfaa18d6a9916c7e75228e33d25a56d02c696faae7ac90205df898acb86d82b65eac0cfe5fc3fa41d5436407ee6762b12de4e3547b478f3b2f1369ff40e5c683bd7693125c20a04eb04c1e2561004cea9a84add7f486767f13bd427ac0271289a838ca4f8d4758f11cddc52c44eb74149dd4cd46a3210e69eccc060774b17533ba0565dad1a5733569fc39aaf2ba5bd3bbd34ed5ecf3a163020e41516efec5e1d14ce8e8d0396b65be357bf3c879992a3c5dd9361705c3d751a231f128e97de073467393ded54df4979190a02a5f63f0acf37cc525a9fa86a4be7bc3cf591a4935d3a5525a7512d4205dccbd745e2decb54f9e202bb71ee9db32938a3f40c5bdb1a6357f5a8a31804044cd6b71133a548ea114ff0402a082e4e1e6d0ab6abb57f3093d9cb8c2cd9b5a4afbbc458a9c609fbf6357678798bfe87befa79baadbafc60f96580c45503ab5eeda0f0bb290e0bb6ca73b1dd0356f07310b9119bb3aa345adc5f1e215cc79734bf706ec89f2d67b75757e9a10f3d650bf9ff54a8bce4a3397303b6df6481ad08cead87a7f0f31fcbb865a02171a56e25322ea5be024f07d1ca44d69c0766fd6fbc60c111d69e93057f3777847751293b4a5d7217ce0f425f3c4908f5d9b48a7820d639d333d5e79fbfae625c21b9da1346448f86b86a85860c5528f2d293114a08647d537aeed560d0227323558a9f40d18750601db61d0d0b497f510281c143d2cfc0e06902443016f45de1df17a4472f763806d79221e78bdd56861807a03a4e4c179e07da65e9dbcb8f6a3f71fa5d6c189064ea8b71a175a4b2cf3e84e705c40c9393afd55466b32e31758b61d0312a035c447fc8273b7238d06965de8514d489120986dce95647b3243b4f3e75834ba69799e44ab8acff864498685f8ee7881ff3886def605aaadbd4733be7fc12c27a2316ae2936c1ca8b628e8f5a1383b0b9cf043feaf434bb7049e5bf17ae025fb42a924f8abe7b1593b752a8df00d421bf92ffeefd5d3d51e722d3b99dd6b21ee9d31ece73267705a584027d5e6bf7dfaef8c41e3f681056f2ee7eca9ca5e41121ad90a6b001ab216f42497d48179ad6172d211045c9eb8b37031649aef57b7a89d69fc7334acfd5fd5bfb46a76f221950f2cce3ec11e126aa8145dddb259b1fdb30e7736961c7ea8a43f5eee96abd9d64479cd5cc96b1811174fdb5b1f9e9a29a3287429718ca5997ae2010cbda1a7802631a64f4bc3200a6a6270b9b120f727098c48648e4199a02b22671b580d77538d8228faa2f5a5cb53fc3523798458e15a7f82c4a21c869330e572d0355461bfdf3b7f5086210a3a7a49371254160bee8897928d48813c747abcc6e56f28a01ce6fc36c48e3194718496ff7029fcedef4e328a9222a9b9b7a8fb9ca6918eda20ff40b9c0fb9067a9200f8aec868d065bffc4599859bfbaa2dc9986d622aa30a997fe3d0b98c9008c29b2744c3aa85007a866c48671686821d9bb3038857192596e260059ec8bbda58bf7dbad97724e7fd1a248e2382f7f9859b7235a4249504b4cf4704e785b79258316c00743454bb4cd1ab0957bab1ac537f5b797d4f0d9e809126541b483e998329b50117d3b89c50b07f4c5434d20d2f1bedff127cc39c3384bfd240df75aebe753cd40272f5bfa221b36aa583fb7142b3000dc63299a939a7d44cff6885b794ff46c7aef9740072469064e2cf0aef92687ad6fb0183abd222ee75b5ea402a7ab0183d68046d46107c9bb9760bbb842b0f93994a360360e3d2c6ba8327be1559c6eef2e42bb7eae4d8166aa78d0ab364badecba7bb0c312fa9050be02defc5a802dcb62301e050250f90d755944611916abd1ca5679c3c3dffc2c8a898a0a86b135cf529f0ddc2a522ea9dcd82ec0b888ba416a9f6b5e1634dc282f99a880ce1dfacd3d438b4423d8f2665f0e903b5a92f06e8e4fcaf900f0a33e090448ea65b378c99b5c761383822775bc0f39eecf7b686cdfd19a944dd4d4ad104f5699c6fb98062b9223477ce3c26debbee09bcde1b3a61960f03be18526b29b1c034b1bf62dcb8f27428e7438321e399c4c563dc274bdf29a760d155176e729ae522897f998d44f21c49413476a92be2d18edd4c8dee35ccc457dc3f2af41ff95ef39dac7e0ee4db9e84cd816f9ca7bd89c49a1d18e4d2e623921bc36b5472befa8523aad1cd732df248e666f84e73608edea944e5331cc4bbabccc0aed48495aea41f7a3adf305b8605ab33fd8e97906e9005e0445475c523bac63975c190ac80b16fae55d5fd2c4b0cf99810b65113f64eb3f1fced6506f3bf700f6e5e7f915a6150ea712ff8642d06a2c28c358bf6f5ba4c11a967b12a46ed8938269c6aea72838466a530e63e66689ffdb71a07e71d0869c3c78f5e916240955382f260df4553cf8956738884042bc5a28184253f8882b4b1d6ecbbabcacef97e02cdceee068f5f754d068c8d49b45c2afe95a90917f885a6cd0aea6f44f3195da0017716828a4b85474ea6fc569a1b1a8ffc0a8b91f07c71c4ce5e1370117e743ec734f22f2b68502a1dcf395a84cedaecf7985cd9bd722d894a193568c3a97b4238c94414a4c80aade8a9f14900f9e7b2d622f7596d00d95c4aa6e69d983ffa79a7bef383ab40337dd3716c64b34624e2f6e4489be62536c14d9215796eeaefb153511fb72d79a8d61a46773bc22ef1c98995cb6db83ae9e022929adf4a28e45024af61907ff4fe5b44a9978322b918b99ee0988ecc843e64b19db56884c11a2137094a4014486942984942f458dc776c0f0a80f4a742c6834e2ac8c5ac412613833a03e92321c517a6a31c86c38bab1ba609cb55b2429faae777d41fea1bb654749e28bf0ffca3df0a3464c8a5d8c553a69c2ab33162d65d310069ee4f2ffbebc0812e6d6b8028079f2e825a8eccaa9ac71f45eca9ffffb18d436bd487c8826307a2b074b1c259ff3da36114c875e84cfb44e542a28c413f923a612d5d07b7ae21d47df211f1abda1947edae9dff5a00a4fa45d2d75ec1229e863554ccdbdcded1626ef749e257c060b3b4ddbd5da56c7dcec83a488c0a3244874b57aef588ac4c0cfd08ce3cc8628e46f061df89edd9bf1fbafba8de7db893b7a56bb6000e60cf4c55fc7ca016c8d69611dfcfdd9de614437ca01b0645cd39bd16c721bc418c275b142744f1480346f19f10fdddc6e0279effc6b42749411bb6c7a268ae4eaa9010ba656430536dbf4aa6f29d66a26ad8112db94baec6f303a050675d23718a9158fe7c687419c7e16e9fa670dd2e48e167208fea20576401936c56bbfbd6a587750e891066c79775e8ae19111896f7db162d6f46f7899563c643c162cbef99625208c628fe30b90315aa1d9b4f8c50bfb0d9b06aad46c2aba5f7b05898e93aaf80581ab321cdd4b54441b04d1720aaf5d56dcb03671047411ec9ab003a3f7d8c3f71aa0bd93169a845849dcdbdf597bc86625d3696d2f889279d39f0d9f83b0d37b88dd01ea251859ae887ca5c3eba92dc1535af8331310304607588c93a4094d5ee9b4a037267fa0430d95d2a1b6759e0f4ef0178f46234e3d0d6fdc22361a1bfd7c12614a916f09f289dd338e5e5c8737e447de3145b7739d831fb89759e92678af27959639156feef746f246cf8e8bed5cdb889438cf2179bbcbb59c6255813da7ee276fafa58ed31cf2f78d511f15602a5ab261a4858b9e051f071d2e8865d3f4fce800fa187e4f2b4151a2c1c313e911f3f6856e71eb6712d78eebb5034847a88eac2585d5814c95b1ab946be0b6d1258153bb6b611ef052d44e2bfd4ce3ed19a253fc9561bd5fb4b78272b718297b7fa7a223fcbcc8631624f005ed725ba11fb4ba231c1d7cccb50b94da165be04e20606d095eda9ac1bc1ea28f7334a1a8e90e5543c6883cb07c2cd4b68030f21326c7c83772d44cabb163f9098057f480201862590ca1c04c09bd6b3326f9278cbfef473e01cb57d3ceb1725080b06205565369f416d8cbfad9e6179ed91d84e3349b1b4d16b856905ef0ec93f2209b11141820cd8a33bc92ba8b0a43b29354a98eb6a5b5589a39e212d33b8fc7d7e6a540d5aa9b7ca8073bd7718f6c3b38f1cf5717c3cf61fec7b43ab70c48e4758cac3c4d9265348a816c94194238cd19c2853eb5ad50e7b1a1f582f037185eefd0a9751c400e10b36bc157a1a8a1dd98a0ef477a9000a814254b373c5451b1dc0f1821de3fda30c2c75677d72d3ed4eacd7451056fc61b9710bc7b827156564081c74112a92e10c5b0bcb48ba7375aa171f54e19a793c1074924e3f882bd196ee38bb5a176cf975cf1534dff65a9a5541df4dbb8977e53d92a82f2555127a2439bcc2d893a309c34d3893f432c0c1cdca2a7b1bcf8dd75f05fa8905eab99b193668dafb17da2fe138ef2bc856170d8510a1e7e52ae17da8c4140a716317892034b368ca054481c27618f411dc20252315c5ce1c43ee002b31b601572886b4a0064a3ec4c15f0aca7b39eff12c2596604dddd777b61d458b3f3273e2859cd4a4d13e3181687965b999eec8388ca32094a1e2f612f46af69b158913cb4f8db9907d5dbd25bd7d43206be80f742dd289cecc99d90f4a524534aeaab314fc0765ec1c09640e0724172b6233ef0197faf026770101ac67dc3c32ef280a7b0a2ada38b4aa19aa11b9b0e9f5e2a7f017b4ffe22973c64c4982b0e16441c8b47b8b61fcdda81936529111a2776f5cb63782b02d9848d7dacbf3d5a88d4f03a0bd9ac1233bc84b742099b737426e973784123b269d9f1493656a0406b6b159f742e8d3c3a3a76ef2333de6efbf0d9472f4c3dc8df8c37b1092b739352551d62180438f36bc45276c9e73d0ba4ed8341ac1b6d259a471e72b3d005ff434f41d38fcfaab2022913e9e71adb847c325b758ce2584dbe007fcf9881e9867269447512f43079fd382627947d2b0c25b8bd011685d7020f5ad18fb53d7d26cffc7ebeb5ed55ffe2277a0a6891454e65bca088031cea66958248bd5d3736099d30267b5538dade3c7bd6d2a6c97abad4043f4860dcf6dbfe96668c9a073c5b33d757d8d01197e7a5ffa61eab41de5cf7af0d3504dee11b5f2ff15d51cd00042f164345b34502b0036feb803027b42650457dd9b5b012056dfc2cc3a83e65cad4aec0fd767a14e19f772f095ea27707c4f15bb1d6fdecfe31789e814cc67aed635f1ef50b93f3ac84295977976ef053ff8cc9e16d31fb127d7b619ccf79b809153e926a15d81c73c23652113e2b5807fc8e169e53d614dfb45b8b561580d35a7df674a44e21a72ec663f3ee79539aa776c496c8722a0ea1478671e29e33f345c75fdd187aca6ebd2ebdc36e1d1853238f1edef30d373a3678ce64bfe40342a894304c427ec67aa5a52f2807f9c5f9853d149833c0053c04df6ce62576d475cc6dcd54fa28f2168c35e31094cea9608add7f52c82ceac743da578a7182fc04cebb479a1d06e65318d6f952ed2d78362af55d008c5d559fbaf995277a51638cac34faa6ccd92323881bf8a4e9caf1965bee8947bfe4e4541b03058995cb4f9288ad0a817ba3b5bda9b573cdf8f727793fc2d3ec2a86dfb0d33b15a5bdfbd3a775d8a6e32cc34be5a2989f493918cbb5fe6219f9a39fe83f057769c1cd5daa32675f24b200c0d0152a3114e5967b79766423102c5db94ba8fc510c4869cc9f596ca359d82a634cfe2908855623e58eb284df318978f7e27e7710b5a71e0396a3a57f12127826bc7b48a88064f7e7eada92e73c4ec32f5454e6528c639d0883dae4fcdd5768b42f774336096e25205c48d11e60229a64dddb8489a23db9fb83f71c490d4f5ddfc7adb26922603f7f333524e792e3026832278fc96cd80c5ce7fd9bcd8e2b92f5113e15117af0c1646d3dea5167b552657bc07881789ee191bf5759ab0058dbb8b3f041b083656bf3b42287fc33462f4ee0783f6a67947b6e38ece5efdfcbb17bc54e5eece8e4b1101e1113c9eed6021a92a096b8cb07c6311c1361d66611b0aec7e64f102d3999a8b1f077a58daddbe8643f83b3ee355dfca79ba216ae3d8684fb0201692cd3a3c0d798369de1c3f7dd5a1b40aee29b4718fc762ab08ed7c55778a38f0619587a5be7f2a6946a81c84f0cbcb86a83bcf4fd006208ecd3443038c90e3a177f4208b7038eb198af133ad69d89725ba107ed6f2ba726d8de4631feacddf2781b400141771caba8dac0720dcc93aa163cd48d2b1e0ba20c218e96d3458e712eda1f2955fedea065834199df958541cedc7f38e36a3a754fe28688547d58a2d1d3efd8ec5a4cf7013bf7f44b2fec6f53ed1af22cbb686dfec785f2c356bc2ba940653ac6760d0dd3b52ee2c63b8038724fa891177ec143c5f5c95495f580e7f2a4574718f5c1b22d8acef3b793c38509381b17aa0fa78a3116fc1d95411581140836f66ed7c5bb9e148faea637af633c2a45198873b0f2de93c90f4454e9fa8d865cd21de2ef7ceda83111d6752cca5808752da7bb8601e088659c04660db884c517d1ba50a142610578211a1f9e232bce0e51972f4e21c367bfe724b8b237bc465952be3f38305b70ef50564130445b4adc1fda5dd4fb10f7d5b4edd283f712cc2b66a93a3b8dc2d5f9a44f0c45d952ea64d35971062ea926be0b711dd1a01af766f57ff1ef2464ee77ac017acee06fbd7b6ec0a01985cad600f8e20f6c337352d5471254ebecbeb0e15e901c3c6d7c5cbb7a2bb7219b5e0382b19c7ad1dae3b9b375607f6669af8148ae7a14e9ecd4e7d2ef2f96bbf1bb3d378a7d887f09c432c04c6918999eee9dff7e478a77e79b938cd7d10f5bdade47cb09f7524e5f4d6bd4e4bd76f58ea6c1149c9ff96043a910666e45a3241d0f5c2678e5f9e7c8d1672480af4c1c9d0ecb35030576a55ef7041890e64b3fd5ee827013af02050aaf0e7879e324873875528128c0b8791bd245fac4a3263907009474a611ad6dbbae0fdb3e3b6917524ede7cffa629eee40c92e3cb51a6ea83f56a6117c3f977d11041359642eaf1dbf0b83b0b1b9853af84c2205044c1bfdf09a636e1098f5051aac5b6d16f87edfeb50619f6c4f46e4c6e1022903a16b1dae5a0d12a8e043c6cf779335f590350616fd222d74a27da7cc519e53d5a9a6f27327427b7407d4d4b3b818f81344b59ae3b6bf168906da220627b069d96e93863dd29382f97d410ac3668a081aed466ff9005e7489a06988803f3460a5445b74bcc979419a68f7ae9adcf37005e7dcc8efd6ce7f6f9cfca2973ef6fc5389f35518f4f8301edc5627b0fea42f5a82ef5ebcea2bd3149f245326784da8485a59376b456eca946b6a0eb7be416f1bec5f97ac1cd051fa911ade4606dcffecdaf014f0c85d2cc2ea050bcb1ddf36d2e5cae365f6487f2ae568d3ccda2e495fd97e110d46d66f8fefde286fecdad0ded7c5782aa39acaeba70e3ad42db56294926ae9b58d59000f19ef2aeda35130268942d25f4fea84a5f9a0ebdf0070e4f0d0712750d7276e8a21270e726ddaf2ac8a43abf5747cc601061eca2db079b01dedc889e0f06331b08fc14de6b1dd3c1523e830abb129ec717f2179ffb68af87dad251c14a064d700c7df416f8c3062b1c87d072d7327e4a2a517eddfa9211c6d60e18f317f1fff60f461ad36fc9f1708b76274059e2cd8cccb23d9fb10c1cd036b837f3f6f60b71fa7b3c3e460a0ad99808462bea0a6ac01bddc35003e941d439dc1caefd8a9de8ad3a0935d7a731a9a4c9f85a8fefc5d14d9498dbbef17d209a2f27b6477953c27490aa04908f46b4606f0023aa90e02bab5005e7a3ae31df9be2c61871e7a271313f2c099aeea8f73421da3a09e265fad55da579d128b8d9c40d9fab7277ce0dee1f85f7a0f376dc1352ba0b56760e5c427655a26b06397cbcd8266939f89529b247f2408950deb9b0de5f853243fd48b7eadd7bcaa622664a13d427a7d9d8a47456228e393b873d58233a4c291aeabdd05621d8ea48acaea1390d9ec9b4cd2d1593f0ea8bf3d79e81f7082305f291f0fa122d14ea01f738d2bfb739c5072f68c129dc8524db2689d0907284a36b8dd00c7b327bdfd434c6fd32bc0e850f8eacce463fa53cf74fc163d9f71583ef3ea3388c0ae098c7eb6987a0ac5cc22d49993b03aa16cc355da75a8609c8b1ea82ac1bc36e0e13ebf84efa2b5e7072b77abf275274749e8a1be2df5179c44988877e9537e9428fbd195f2740d45fd9eb6c5fdf386ca3189e16fa3b4f9fd5ffe7d26610f07857ae1be4aaa3538f307398fb97b34972d0e9d45f1e02e88d05c5af5f88c28d6214cebf56e26e697b49fbf06957d4d83e4b1dc23a9715d141b038e35ecd7424f233dba97d61a4e1a553c2b048cbbc19cc19c5a5ae22a337de9a4df8f3a89fb71e7655e7546f4067b16d917a9d92574e2887477ae758a3cac8fc34570529f96ec2198028ad67ec81a55600511b757a745865802e4679e25a9609fbb2fbef4894a480f29ab3421275a1ec71f6bb558e8f48ca7d1583de5bf03c95f3e35ee461aad4a90d0274c8011a2f3b86e4531e402fc2f9f51412ee06b23e33798be4b90e43adc262a473ddda89e3dda4c7b408ca0715d71eb44761324e551008ed2e70abb02657f23d6ba20ab35a292a44fb48bc102a895961dacbd101b143bd7673313662b0e45c60eae8e8c89074976651f35f0cdc07fc6e96cc55c96977620103a7740ed8a56b48f72330c93ab4b9d5b54a8c7324ef3b2cf85f4e1d37aafd0cba71db93aea73712f9ce7d1c62f435c511f28a94c49aa081bcfe636c0e31d542b67546969cea7bff6de208bd1ba9512907345e4afb0c32f4cce140da1e9e5643bcec359d0530083f5b94324f40114073c72fcc959bbae6613dc008516ec8d7352601dfc58078b09c0b7d7a8f8a6e4c53d5ebcfeff037667392fcfa4abb3ee236d5dbd0a897e85a379875d8b63e0512fa50b5564dd396300de00c1581d9226da3b4904bd6290fc77d6130841e66c6d57841a931cd337b8e3fa41193dec14e7e53c5b91eaab316901bf7e6c949568352f409129628c9b3e5112bcd8d8121310e0d9afdd3b9721aca4f96302a457094ac8b917908eb5e6118dbce667f60d3803f8379053b627a85c3b2c31c5c88dfb064aa07dbdba0b359ddbadf308a35b1c683f0bfa24ba8dd9796be7306e15f5f876eb4d1c3442104f6f6f70e87b74e3ef93fb8b962f0e816c33a803b90e8a970c5950cf5e3f9211fde9c592641f10ae346656c4fa6a5fdf2a5e033ca4b48182efcadabf4de5818a78c1276a364d6806bcb08b0b4fa9da6e8801e25db39faccacce0cff67f2d1595385c1c8ebc318226ffb63e10e6c1043b1cbcf9f6323c6cfbbaee30a995cd060ea13c01c4e7b5a79a55e3ce1a604dfa6a52c3215ef8c55217f6ca679265faed1e0cf5d2b8721a36da1fa294bb21ea4ee59690d3a72d83ab09c6f3a5e8bdd1bdd0cc7644baf1e36584faed886770f204fc61318d9786971634def5eb28a7a6d9c9efc604a1a4d17d627880f714dfa335595eb9d112f22e275818b44e2f2772393952e870b36a5b058a120659ca45e7f4b809844413589597d57700903bc3ca328edfe0b3a82c475505a7224e321aa45552307e97eb4b97305c1eaa37f56b6e5be1fc6e5983e96413d43156f1b076d076685cbb5975c2cc98f54a671c20b6c41c11bdadfc18c33a1581e0ad65aedda289f3f5c077a3ad4ba8a4198332bfdc8f2d6310a46585dee7befdf6f0a249f25f34bd762ee614552fdeb8f285e9dc89681dc7251da0790668d62b6c53b39c9f06a60c44ad428ea7fc73d2f5f1cd4e027a676d31cb358612e159e0abc64838d8c900b390b31c55edae5fee92c001ac5557ffc4d997d236b4da1011431b5c375ea3a900b7c4ef960441b8e49af0c68676df7aca58e8ffb679e018583eb637291b6de517688d93aecbb6391a316b0eace603c4f6b746e4182aa13c91acb08b42b2334f48679cfeee1a602fe6fdbf7cdbf0ee1356321132a1739fcf66794a45c611bacf9ed5da2eb1e2493c8c9768aa33258cba19784a79d7d055d19853b9376b7b4ecf7060c7e052e04c9c09f956effd73901ce9bd17bea948ce064cef6aebcae7e5a0353134deb9aa18ea77087eb44cf7ca306b1d56a3987f1eae2182e1a49346d584964ef3f41683a692c00a2c874461ca6df0826f7319dd80250f07c8763e7adc06dea5c25e967c1112c44ced727a63e7636dffd5e75acb658f6e52f4fe15adb0b4c684296f302edb8fa4f3fafd984456b944b2010dea18ff5a498e4fe6fa0c61f4fb884e7c426fb20e1779af14c6949e9a8ab731b4c91eff6d7beb237a22b4293901eb69ad15487fa8044afb8129e4b6ff648d8152fb79b873fa31b4d3296f0956cd13728af56260d08ff6aa12170062d82c0b7b6f0887c45f9406a29a682ff511e30df9ca8cca9d66dd18fd5ac6254952564907f716562b5ff90ac313e58e8eb975f587a3de6f7ab6069c2aad76f7a7bd08967f542004a1531bf666b96c22706ef81e97b5eebac58ebf01f4788aa5bd641cd3f999518bb8845196c460a3af7a4afbe323c6409e0809932b90ea5f8ed6ed2361f30eb9357e76bd38b7c11650596f490242692b49c77e37e3ea3f917ea2f8acca1d1502026d9f28950ece2cbcb54f78ff1fbd42fd78419d5351ef9613c90dc53492e61bc692571098bb1ff521d345627f314ec7532dc0917c08a31dbe0baa4592abb545eea8c4b23cf90fc8749eadb8bff9d8b18c290baf4438e68726c9e043d00477322232488e0adeb4df37f8a79c825fb43c096d9eabe0c929c73ca063a954c67ca380c047c22c2012e03a2d40243c8356d50a5496ee012cdcb940d9be9a59049e4c5789fcfebb0e2fa6539858e4a1f9a1f2fb4b3446c638b88a5328183e44eca92dca549d5c84d6eabb8e82b689c769e3888346d85f8032a27eda8f68be1f866a73bbe43e146a024c001d744ff5e9a6163f2e4c5d1e399541f74217c2464a44530518d930a9b489600ee9168618c72b72696607e1c3a2e5a7312c1ec0083561cda1078bcf0fc6ac427f6f48fdccadf6982f0416ae76a8d5bcc25f6c432f71ce87d9bedffd9fad0f5230dfa38ed9605456beb0b2aef744be6ec5447de3bcad0365d37f9c4d1a25bb6229d783f625ed140f3b9b486e10112ff4bd3911b25804ec0649bb9b9d6ddb65bf5a384e5a94e696ae09a3788606ceb95564bd44310a83b6ce7a859a7203044be4e75d860d0d13692ed256e68475a846981be54774fff6c89f819b25aee490ad55c9c449345bd440fd0153d4915b542c7586ac859f16e1750722f6bad82860f3ee472437bcd9181f2943757349c945c40ceb38a9c53d3834ec09b4482693f249e019db1132a9a7f991acd3f587658c035e8cc3c93832980fe2382326d5c1f30d48f5c16767cf8384d386173a050aef7787c0106ae031959585522d1b0e254a4adf051c0160aee452e91f18af8fc05326e221187f0b36716147cae450d29bcd59d1018d745bd2ce272d2afc2d30e9ee1032856e01ed823ba2d00a987a59b913613164583e263364dad7a36fd76fc8263c883f1083a1521d353c4814ab13008b56df6092ffeee9d46293c8edacb16a3c61933bad3f40c9a5591465b05822699c99228d110ba988dd80b0c7be4fcd42806291b613ffeaa31c55cb09c155a4547feaf1fb58aa3ead6c19824f4f8c42cd786635365b4ef009162323b5ae03b49c9d672a1bdce589454a7988b3d5b012a1a51aac7e7ff5f1bdaf85c43725a70fbbe638fba42204bcd760be4ed74004398a7b1786ffb990a14fff3092f278429da680b3445294dd64bed59646e94f82ac0bb510060e7a074972c28af266c6c748ab136e5520a5cb8e747f5280b739656d8c83d66e07cb4c5dc9fa6bd70954b05de7d046a067963172ff1c08e0b391ce7b36a6809f6271e22e02866c9f6cc77e4ffcf0c17bca1bac3835a4f42978774b85fd0e0f137a6f88076ba2acf574c5a542767390f0836c6ac256494f1cb8e283a12fef15ff0332043b64a390c6c2d8a3840cb373c52634b5a1f18e2eebede58cd7b652edfd8bd4549912c8563260b8c6d3b10d216b0dda43c58d39af3412c2bfd19da5c91fd436d4974d2e30a3186551cc44b11d013ce42987fb5cba5c68598330e823370721c91a797c44d31d6f28892b20a738db9476821feb418f4f972986ce13b50891a8ea73043b1e7a9ad81db7f8713f3c31ec97c47f0c78b1713991b995cae54a1a036ef6cfed4010f35e0204f6529caedbb471d0f7ac522367cb7f2cff9c1618bff62d55472a04e1754f1aa8c6d7f884bbdc668b4bc9a55e7774c08a170571d9f9b87ceaa6454ea4d9395f70872f3c58b003605001282808ff83ebb9d0a3638b176023cd01809f7f5d1617858df1d55fb5817d78763246a151152a7cea0d21a139990d01ed6526a3b40ab8bbc0b3e823b34c9db4e562e408abaeb78c23e7b0fca95f018e3b6603a705787da6b45acf91418d25202a7ff8267ad8b7c1a25f3fc9d74b3da762d21f3c3987b90df8eb71ee60389676d6d02f7bf17701df0d3e14dcfe57ce7dad794d4d9b855a7f6eaebff21e2c3d39b35274ec3a3aa3dd74531251a37c5c8f32ff6ece0c0b2ce3a8d3066270432c02399e2223451a682de6453e4a01e93b635bb489cbcd68e749ca618c4ea86148f261f7f3f8e43e071631b1d168e41f29bde68b0f9d1272afa86b14f9cb4873742e0e282fb16f4b66d2e6188f958d24754c65719f311e1e8446583365779354a6070a047678c861526ae89213285361f96bbce473275eeb3f571f10d83126216f01ac5b309543dc063a18c383ea13657ba2ac5a84baba18ee853ee6960713445c55e37ce937b7113b86b9ef21eab775f72278d5664c601cf4f4a0f9caeef15bd66be8b3a919c76ef729c6a0e79d0fd3939cf74d60e6d6546d69e06e8c8af1220d98c769de3a240cde90802302e6875f88d1684dfc2cfc2de60ce079551584cbbf8991703c68b50352f9d07fdf5c5e9ae74cac52e8db63edfed507e67d5b3ad3b7fa4a106ddc2de7e5509974e5949b648a56a18d137fd04d640618c6a0f7d5da872583fbc8d357900c9facf82a43442dd215043037352d9974895bf8cacb270981a6e6ecd44015b05275e3f2a77e58157759e7773c60e9312988a7b47846a56abc20f48ea2b2dd4091c4396e27e1e5444ef604c5faf75c2df36294e02def872c83ce37c96663b72d25c36513b361d1a55c4124adac68f24d6b3205efd55beb19a21807adcc18198b95439d8f8131d992a50402b6cc8189ffa8e1d6b4d4217ba1f6a08a7f3d5aa1602a4458bea8ad1d20ad59c3af24e5ee6360d469ac83047c3c6fae186c10733605a5c632e1e9264981bab7a4051393c76c51067cf96a0325f29bc38d0c11866e0e7d66cc6c52c41d5ef1bb767547aad38bf96cbca490e6562c0eac47dac6da6e9f6895368cce40f8cfcbfc597ca7eea683bcd1f11d615e3b9b8cd0f840675cb54bfee237aa26d0cea4396700f9ece69fda5ea50a07c75338b64506609618c32fc1aee772f424a73fc30eff2cb17d1bd12a4113b799cffdf77fd136d2c0ffa0283edefa8a5a29d5f8b0d87007bea9580aa76d2ba1dbaea24b43a99e06ebd286bb4528521137244bbdf05027048428fe0d4bae5a9ffb72d1d5992d3bc3daf68f7fd1da50f2503e6797ff7e6a6216e33ff9029a23c8bd9f9660bac8f16b3026f382b388d031fb622dc6d50b748703260b4a7209d42a39f1080b49ede35490c2dc82519853d96f243faf85044847398514dd6e40fce0be40ad20a454ba8e558d8d67da5ff1078e71c455c4c3c1f5ac70daee869f47c821f145b936284e8a0eee422308fc7ba9be2d713932a3802a29b383f09a48892650c85d7f7b7206b42f8420c58621146daef67b9cb1805f43065fcceee13f6dd50a03cada2e993ec6c1eb0cc8e1b30e44e3c6266c9f27642a7d7b10f33638c7596cbcc2e7176f6eff8034381883d714955ebf699dfb47aa47712b1843a5f85fcc961e749362a5d6beda03d6d09175ea6b0a02ca359aa43f3011e776031fa045d29fc32dba41e5dfbf1764e68efef10048eddd603e30be577828997f6fd70c9ab4346b28e5d4a6471bed1a8eea8cc5a5b41370e64411848fed87a2ce63f78fc4b9e2abc26895bb022b46a6695c8bcaaef989bce22981b89a76b5b227f3dd2f4d8d0af1f470512c8b4106e3d24d43a440b48f2302457ac5359243460bbbf406fda46f2eecf547931e85fcc93c6ea4d0b38d2e03c57466ce6bf62e154f9b63ef9023fd9380117c768da93d6fef39f13400dc36af795bb98e0ba6258e9d2c7da527139a14efcd6ef40b31044fb04dbb211463d808df32e24e26917433ad98d68a249d3fd7b34db5f55235a50ef31ed0d9432bd39d59eedbfc4c761549501a3163b9a01fefb288b84ea81755b15820a52d1ce2feaea88354f9cfc5b13420da6aae38c29063ba5db178a8f28a774711ce68e3e4ee4caea52579a7e533163f149f48210ce0ab2e25e7b54fe15784b48d921e4a8427daaa80f9072a16ed9a975eb873bb2d2257d558fa7745279e832bec85d4bfb73d0db13a9c8cc46517a13c49d20707ef15c7dfc7ea5f1f06b64fd1b571f13fb048014162ab6eaaefbac7dcdfc36cd7d0958771684fa260b2411909239000e168140612b35f2dadc29382e8a3c7a6e2bb5192c98c0d81a8a47009e1e686ac66ed9e43df3b94caab7a494bdb0fb1c17e5b823481675793f08091eb112f6cd40e7609d8f68a1d530367c83bb7f1c63dd7517747d0e49a2668f2f22f98bd47bc367cfc3cfefdcd4c11aa25ed74426db841860547b8c76ac0fbf63aa2b1e61e3416083154a2514d91f07eca1c2e59011fcea84739e143b938ae5eea580977e9693d277a96000126899db080cc6947512b4f21ece99a37bb00763c428d9ef9aac9fb8f27702db6b7878461a2a9be917165cf0cb9aed918e293b904123c05c51685b64a97d756d2340662911bc1fc4e602dc4fc76d5af39e973eb40d76d1d3b7c6668143b08faf9d8494068ea8ea70458ffb254c07e54479c97787185d8047a577bd00ff4623c11d5bfa8fb194126cf6ef2a7d3afcc944b9628416d03b23e1d9f2149c26bdd4f4a24febc30af263c333781c9ba1b640ad8c53114c996d4ff15a6f7704efd445a793239636260abf800caf7b20435ef84c5bc4c527917be27d9a6c9c10d33bf1601f0b89af68c52b20de4e7094eaa58abf350cae3b0d2aced279fec788cc6becea7f77aaa352797b38a8fc82c9eb1ffef0167632a56e79a2f78fdd7111c13d36b1e4395b93658c914ec69f459b510430646e43619394b9b89d92f829824a25da1ef102d49ce39f76edbcb358d29b9e2810c11c4d1aeeeaca7d631fdc38239924d8b8a511cef0f304ad6c9e835aa2aa2753f8cba58b7a8540b2d1faf30d01af223134c4377b2b23cdda155edfc2ccff907b06b1973a70a12f2077a40a7b60de7215e6cea263d0bb16c5757a57e46a5388a41792e7efba02354a241aa994c48100390450bdcb26680d9a05000a2658ad81be9f1dd6c365c697e0d5e1a2927ad0afe46007fadeb6bd3e3a8d3c26401b557b1e49b6482fbd392fe3b17ae851581a77e5b866e8814a3020a697611031cf4d1eba1959b1711bde7f0bcc3580aa68eb2b96574d53fcd525eb92d1582cc98234fc60f5264c1d43e70fb81789652edd721496520a03af754cf0007b0d2e6f5114721bb6419b3a42287bfed75c8bdcd3c37d373e9a655c1748d4fcc0978c21c63eabff036e17d497b202cf1fb0039e593217078d7c98ad78ad091fabc96609cf68e2fcd073736625dc4b3576079149dfdbc6f33256f28ccfa6bd2ede975782045af82d74a8ea53e38ac90a6a499c5b7f77c1e9b37ba8697d5c12359318dfa0dde0f4a247361d51c252c0db0ab016a7769e8923c793ade575b37e064530819f8e4cc294ae1fee19bcfad0a143aa2934554241109fd1a3d76ffe63415df71bade4558878cb3254e9730a417b137a174e02fdbcd813e6365b0347bfc77a6c22082cac222f3f622011d40a051e30a479fd4aa726fdb14b62433f12f27674d9b5475e0db8aa2a1742dee2b732c7e00dff25e11ba39fd8f3d326f0ed06762d60f65e0aba38dcde34116aa7d38882b178ffd4d75df0f5b3625ed3ef2d6401bd31d540b2d0167240858ad9ff3499afb79c5e26494496810b366753e8a34b564f0cf0a3706fca9f5e10d10d440f7bcbad656df2fb3260f7e56856e1166dfb85baa365e45b8b9037a0c7402c9296cf4e4b884f4988c","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"126a08e53e36b703cc95578979034e86"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
