<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7555561c723ab28103e0823c0e84670664fac4c6f397e36c484bdcc59fbb6093468a9e105ad6f5745bfcf52b491158f4e2f2d63e2af8c909eddc4675f05e94098675b8a6196a54fbb87ce0867faf1a53c98f0a491d78f07909ae2383feefc345b60726ed18bef12acb07b950d6ca055c453e72ab8255775a9c294c17928a15e991f37b1b85485df60ba8928364ebe75d22bb05b8880298a7e36d350a1922c8f8246f5f6ecb429c6f4f2a10ec452a6dda5ac2eb271509a7ab123330c7eb23d85ee083f7dbaecdc6e818efe2d5be010852f76340f6f88a2790de524f929704daa3f796d3d878fa6e882807d8be7db2568a4cac59e129e6480f44295a058aecb6e655c4939b0d0a316a8af4b0bdec74e30d20e0e8758374b15a96f2d3f02fa913d815028255e0c38725499560c05c5c3cc93da6124c2851427b4d5202b3895d1812862df329a121d9f259b13a2312e8c334c2490268169dd2f8f5c9cfe0a10d17edda9ec54b5d47c86bfd212b47e7bbfc268cff04cf901973a1d3c1fd7f7ffd7caca0e359ebeede5f02ecfa17076220f4323558589703ba5dec331e9ac42fea24d4d5e3155c2fe28e114a111fa14c828b481ea43d262f328ed64a44c3b70d9ec18f89923a5a9d079d173485d09d9a44e277a2e1c0dce6ff29022e5782e8ad2b488c23cfa7ef5b0cb9ff84ae5b99593826e357f4cfbc1c066df574fe9e7f0284aa07143c5a47704128d0b91b3fa0df49e0b588a8ae2abfb1e8d238bbcd2029555e88e58543d5213aece9ef847db2afc744425b60699f2b90a2d6e1ef9d0726d49dbba74ae442411d2b99a4bae9ea7e50b9d78e5828f62351114b5405fe3671fe94a06fccf6be5ff3ee8128fa0a8363d04e8d1d86846c481882b41c2b1f233a3e737f200fabe7949503dca27396543a03bd2d13529e7717246b868e6786d72640ba64d1d11352c595304bc1b3a2b0ba47c2588c6f4423f9fe45859cb4c5ceff6b49538034155ef9a5b4aae84477d09be050838c30410f6788f3a86e31066b24c4f8733156084e301760ad747ae7cf7fed25b09590a8d15c27ea5f481fe4ab9c2a651b1a6e8ad011e44b0a540589a84d0bdd1dd8e66971e60a1c9a777592395fba2ee96099d8313ed53597019b75691726709aedd9e90c70696eaecc4ec8fb5a42d8daabf688c5b65c65e4845ed8295cdd35fab4719cfabbf913a4032cf393a08dd159279947aa47026164a9e22e72cb60daf2d9c1b324affa1f3886b48ca8471715841eb8c90c5cab7f2e6172eb26b886c885b8395ac2dd924648f9108f75e499c4461b73c68b4a2c08528e76d6090bee6838c1788873573f253bb9a321a6d2f4ab22f09cd2ff23f1cc0ba8771952801d98d339c9ab80a8ec91b2088dd90cb92159f926c51a88a28c47f7fd7537d294490e16d0ff980f7a4471c45f36d299d5d02fcfca02d85da6747ee522edeb49e94092c0611a06d0607f8e562fb0992fc156127f2cff5c35718d59879c7a25439062ec678e7360ef6f7cfc60eb37a64c533f38d446ca5d7112a60d34d0498fad18cd79ff9acf6ca650da3039a9d8a7e2d0edb713dd6561548820b7cf7e72fa44cc2403249a4045eff8ffc38c5d465ae2f2ef296008aa415c3f3445a4596ec88525ecfc1bc992b2e1456ef1929cb9149ec31268981bd40386d06af54af452c56d960240c6f50537df4381c71504738a2099a8b9b83f7e95c7c7abe187c853fdef5e9c27b6dd94c11bb1f3c3cd73c3e8298c7b993571007031e969d4f2b9f4982165c3be94836d08853e0afb438ce2ce1621041096ea2b23fd0303d6233829543e04ea705ae1ed812b261cc0030cf17ac715578c99fa5187dbb559795872a9cd6f05ba8a0c16ecdeda859e6b784033e192729ed29d31220e9e7893cc7454b2ff9830937fdbbc17a911a8562534cf99dd9b994c8557cbbd2cd1b03eb318ce98e4ded26049401ab0bdaa79712176cb42a59230568e22da7b56d216b4ff8462acfc517d87208df4e3e4f492a0b0f03fd41f0b95725e5041bf61bd6174e180ce5cfd4a8fcf2cb2adaeb6a567f6ee9e3b2ad8b4d8c4901a6ae863bccbac90eea01fa7e1fbdfb1ed3e1efcaa76346be04b4c24e90ca476b3f75ed336ec7eb196c21c55797dc1a9ef9cc60c9121d99af72b796341e28d2e724d9d275c9abb6cf91e6b20a64b9e3886781676e67346f43b28c6eabd8a334c11e4a0ee6764df061c21eff17999526cdbef5a936c3c7263dbd4b70470849e59b986b8ba0a24e7b7932a3827d2911cf222c8af85b14657fb106921dfe20435888a832dde3595fe4ddf673708454276faf1669b2bb7dd7f09f0b0b0bba2675d2da314d364989ea8db06d7db024a6a936c130da3c36b2c9c2716e34a18b284f92d048d977877414a0c7368df2563c5a8a69114b7f591cacbaf35e5b80a3b5ee2f9818ae34835b6e6d3f57b99993564ac254615b63de44ed5378cf0d9327e1c7e16c793843ec2693687f63327f1d631a874239e2d7dc1eabc16bc69fc0bb3d18b2e37405adbe6b47c162a7ebee493da4e0d7b9ee90487b2bb2fa524197ae78950921b6fd5fa551e332f84ecca8e6d0fb341c2cf9b8a3af45fd519df7cc9d7409d5f4d0075775443f2deee6c9a44d0f18fa24d31047b255af7050afbddab7b40cdc9c82b501421d8e3c73402fefff257331123a28069ea92d811f22bcda7e2a348fae62257111dae4f423135515d74af6144cc68c56afa5c504b331cfb23cc7c49dbd164ed2cda315cf80e8280d5738b35504b68705622780b9a526e21cdbadc9dbbc33cb8d684bc738a597d5372023c9aefa95177ed1cffbcabb04b604fa9d1362236812fa02632ab34cdded314b66e635aa1b43fe6147c9d315820297d3cac5f0dce46f3a53596d34e393cb0e30d97bc8bb4d367a322d17899b73df9132f9bac67aed6caaa7b01772a15aea1cfec0f51b41a6ea7078497b2ef1e4e212dd4d649e58956b57662ae6638fa3cf21226f5f669a4d3b329316f24596c5ad3bfc44a6c04d1d058b3255f4a33a2567e3dc1fd7efd5b98fca33fa5ad19e2cb39200c7587921204557577362940027840870b30331f24ff55a5486cd644f7c2a567559a13c61335a1d2762f813a2c1832b4909abbf34458d3d0181c2e5c7043bbfd91d5fe7bed19cce7fcdf1e7c83657a2f0acff32bbae36435df4d5c376b89058c3a11812e85bee11110eacf49548c24abbbf5528e8d8fdbe7d140fd2964ba80f1b4522f77a92657f8b235f3e37b1ac638aed3e917265ecc1b1fbc75f453f5bbdbd6262dcd3f2c1e7d1cc6a0ea66cf845cbf87694a29881746c1d2b7e6ad01e30a4c7f9f5bf091940a74a9e168dabdea0637e5268b2729b35e49491a248b5caba33feccf24f276e439592d49dd9074be0ebc33aa73e8698448dad6a91a78a2072cc0ca7c31a4f16d99c509f5aad886ac167ff26ef9e7739acd199e28a4d1ab3df7d5ef72168e827d202209ca5fbfdfe904ec65a765b0dd699b5dbecb9e52ab4c61420c0a185100cba859ca73c28d341fbd1482752afa1b6a6f32461d19d078d146c7e5e855496f2de8005bc548a9bc909bcb1c365ce80029fc8125e9df58afa6aa97c66c41dbc64824476bb1aa16df30ed0f856c6c977f3e7d16d76dca4895bd43dfca77eea15e6105dc68fbf52d614d62cf248b906bd5d2b38f5b3050ee3e9d8cf598d2bbfa633316b528f3c63b1a692be675994122be4dd8432ba20259ab128351c11f66608337e3f3aac01d92175d1058f13af92e45001d117a8167711956bea55043a4951272724b57a04b7e5edba80d2ad8590b34e8befd593780d37f6ad1badda5b260a57aa10d037cd06df876ab30a97e58377e2fee21ae4d3dc6d4f745b13996bc73c3f62aa4ec969e1f36595976f2eee2750ec48e3959df5c398fe8d8b62e539eb1973a45ee70c4608d3d0c114de3cb5c89a9338b51e4685b8b17d576619541e313a1d5c5d217462002a42b428c198109fe39885c67b0f68a7940695e595764fcd64c986b64e4326df26eadb345bc4e853b3f5a71169fead3d7c95ea2a1008f01bb3af7273c62d60a9cc4806e607452d2694f6efd1f70b9704d34b24b65e8b340a8e59cdcbf2bc354e1d5eb1834f92e1be975b9f8ef20ff6b54defaa096ba6f7cf94e8a98452abe23f5f246ef142a24a38dc6a6e9dc1579c0c423ad045b8361cb217f1ba996982c9e2f8e2c9c716f74d15208a44e3247bd49fc80f19138243e9a59145b163fa5ff66388cbae147cdc3e76fdfbdfa32eb941f4aba9a5646d1b31ed242b2d7311ca10caef93c9cf73f8318cfb0ed300d9de7089fdc22407c45423e80627be719ed73083413a6e56143ef52c1299eae904b8bff666070af43077b65330c64c891d5c8e14087cd28b9f6c6efb8a330f18a3c96b65d8208033e17a41c77e5bf95416e7959d0f7f82ae604c06b443df7157a9c93796ab8660e4fa101b6c4caa7817c2c2ef30e6f1c6723024884074cbe980eabb56c6924340e359f6e93b0c6f39a6d5a30346846e81f6d6011c8fd49f4d684dec985453338f8f720355c0aa5df52f35a6e28abf32a9d553791ccd0295c33c1323f8396d2702ffbabfb488604899ce355854e55d96e537a3eca229b76cf2fdadea9534e0427cb97affd48067236c0b6b166dd39f251cd31b8c6022b76eda348e3b0f476d04b5f40a10dfdebc559886c980eec5037c8bcec65be8c73aeeadcd86ad1c5c4ba063d3071f3dafd84f5b12e701d46d6625d6aa7d102602280256e8893987bb45c5ba7454e7ed539add7a2561d709166ecd9e955f599227333c0be78ef98e304d42b2e2e080423f2d15c8b79df9af04f8b33d5a9f802e6d071533363671f74ae669d1c914fa462bb76626219fcd166e2c7bb27a2dc76ea24790feab55bdb12d8b101bf7395986f20d582baa4b8bd787bfb7edae60f693ed4ef84055e61f901ea7032da596365053ee3931a9544da9646638746f73aa96566e00d36f818ce89ac8662ddd59d0ec6ac7a1600c2add2d3594d00c6d0beec3091d445087f8c68b67e75cdbf74a9f4d3438b7c1029cd58f4f8916182ec91add67f0c39846f149f3f5a13b0569e72fe17fe91f69c2316ce651cde6e60f65b50b0311ffa6bf3d0cf55cab61cb3625b518410c88c1b4286b66fd128f3d51ac5b40b470152db0dd7989a65b23d12522d2585305e525db8d18d9450dffe26ff6ae76f7d5934a7406b257f4deabaa2e6404b809f5bd5a778601f805f8064b29cde4618968c6344997b93436e94a5a6e8c5673aae0533be7ee9221317f2ef0589c7e22558c5f3e8eb10ca1886bb16302ba384666201cb05562ccab66855a9298c1ea63df702f093967023a710d1361177dcdf6a60b7425ae906cced83c884f68c09b4d5f4d8c4a7ced7cd93b597b9a10c49f8166cb79d43a5247deeef9a8b3fa95a199e14a87cc267996ad0b951f085b63c9d449a1e362ccda1fd9416e789f227b4d12fc2480eb407ce4e3f9c26ab0c5d10d72dd2808c4b234bc23d53fefeea487bb0845a937ea754b0558fb472576f84749302dea67e9ed857837d02689e62499389aeaf17a675496c8daaad44ac73ed953d1cf8857d2d5f9d38589f2b1cc5918c34c2cd07e84bbd780a2c118261fbe139ee8f93d03196b336c671e0a797da9033f71f356ec70c49523cd405e11a3ecd905942b7b6d9fb71284d70d445f14c35205475dc342190130d35fb06cdf3ff3d505e8c0fa7d4c4d64736c2abd7c12ef0d8d2362a19d5044572bdba15a86f28f030681604ac452ef42d3be5309a4ee99353b63150ea41674f373f0da3331cd4095167b1c14032afee63c08772f3147b4fe170ddebdba920527e15c867ce1e88ced2d78cb7641af713c0fb3c7fd2178cad77862c1cd2a2c411182e189389feaeeea1a909f30d39358a1247cd3f6c11508b5a3a6b17de57f98a7fc6334cff59759b46c5e02a51708109986ae8fa0532d07f2fe726c2137b0fdbf294f14364aab94be04a7cfea5d1cc8cc05f79368611272daec4d14704eeb06e85a95949265692aa4e1d29c52c9c4d0e8c78fe55f247c458e521edb6f484d484c181c446dbf7b0fec287339dbcc24d13b5e1d993e227c2d5b85e2d9af6be51e1daaa17a331b75f95f785dab36ec385a36f4131ce5e446b8beda2e5081cb695dd25fa67a5dc4ad67b5a850ed2e2be74e7ecccb8354b3c50c78aa98535acee82fe75f2fb6974c9ae4dc2f93666422ca46622254ea45ec90b53c74c97faa52634bf389a08eee5a7d68da4ce9ea1062815c3184aed63b6074964a7e0f928aa83d44c0b074ea139e038c263090d8f9fa9e6394b66ea9ddfcd2386a80035c377938fb4ca60bca3a913fdcfeb644ecf6f896f758aa2b2e1751c7d59f19431f206046c24978ffee785c7c9fcda2d674a6ad005e1d6b0e8ccc83da9ac957d9afd7ed35c1cdf7762ec65b14076746a6b3f1232e1b9def473b6ed69099cf6717f3d95f0825f9f823f857e8b5c2a5eae595e4539b9fc528ecb111cba6ea3b593bf586f1c1662ee3612db7476f6c503bdbce878d8d0a72d365b87afad26fea1bf51e848d9bd7d34e2d58ecb202c99f1ba5dae1a48c8afaab61312bd6142b11694220716357de12e140d0549b9b976fbb33aec331928994c826acac6a61c43f0af79b8702bf46592e3135a0885d3ce94cdb0c9347739631d117b7befb6abcf54dbaacf5e256b2188f36db6323c3f25508f8c3723b7476e5b617300d43be0e9f78b2c8477bed0e1785b97899e9d0ccb800187a99e943c672cc3020e0b3c7874ded39a6533c6c31648691645124b69e4a08e0d086ea541c96e38a60dc7893f75df6cc2b8cd4b5c8849964bb89c64776747f365ccbf5684f663ce5ff8993a753ebc71d05145629e0a26dfe6c67ebdc7ac5f9240df41b7d7dce49e53ffdc434c2fdd402885ba71ce9a3d68520998f946ca215f06be4680214e14f40f03099ac122aa63ae8faab10977c2ef6a96973a96a9ff85bb5bcf468cd7bd14a2792b25a95383fcd45f3f593f8626315944933eac6ead1d27e202a099b2aed5587d6225f7c7e998923bdf76d3d22b40ce458c6aa86ef45cb7d319b437145d780080de3c4c0773f701f5eb4f076e17871f7780e6e61128ca026f70cc034844d50404b3f06590732b4e7d0653b68847ae55275793fa3a2ec16b1fd5354b53c7e194125baddd9e2cb33cad05ad3e58f2897d3950ecd75cfb86507d3667e10f6687683ad4d08c36a75622b41d8b8f72b802538b45f2f84fec3d75ecb5b0118dd4c28108ab33c6cdb14c5715ba656fc956dd99f49bc1d8a6121c92aa0a41eb32c971f730328ca911a560092efcdf685670f977d05980f8e547546428c5f6e5d25996632b87a34ab27da843503e7586f59cc6ccfd4f697dc30c8af638c9a41b4dec3002003f21f425eb02eeee21cf0ebd8fb35bd3f5e312caffdec8692330ce824c2ecdfb2c3d839cb1154ff8cad6b9863d541439b87701e2de85c6077e124422a1f645d4756c00358373bf8c910332dc45e27896c0bfdf70f91d839edbf4a9124e24a27fa5a8dd8c7e2e01b64b926bef28bc756f4b6c437a7773714bbde41810ffff80f7446d888c10364d01f058ee90c2cb81b5e9b7f24c677b7c91815dd12702df381aa31d9ad0cbac4b883aa851e1c468aff9e4ddbec8077c0fc7978307446d983374c73c750f2ecef810eb62f2475386e9e165998c71c694687507626a9e3824b0833a9fbcd55bf78e960bcd47446c598fbfab7bedbf45211fa1eb57f25b1120cf12d39be84a74e664092a2ed6e84ca54223d5300343fbf00de5db5f29e5f5b339c7c4553b6339d9f0b06793f6a4a0afd252742e817e468712ee43b0864da995f1b7e75c67be7ef5984f77d7bcb7e6a8a9240cd41b5a80d18fe99918c93c11274c12e914f0b9f4fc28ad71fa062ef6302966faaa8b6612ae566aa03303740d80116ba827f51c4a6d802c23d77bdb0a204c638692d56c5ae12f664a9c87ff0a1fe1ed34716803194fce42966bc83ecf14eb2df73bf47200a07293fac7f267e4e2d832ffc2c1bdfd3f56a43c22dc3bb164531347d3ef4b415924b08bc6de216972b71502853a02ef6dd48ef57bd300e06ba06e51a45b0c99e54275b2eaf2e52c4b148ded9cf9fa0452d7556d3a1505e73dbe65e1a865641d0f2d416109532f4acf29cfa0a69bf3c1abfa90344bd1d8588b7296c771a0cc93a59537153baa5880674e57c999f2d9461539a0c1c26575e6864fec65f42536f5ee2a5711dea85d2d97acba839c055b99b7e19198020284796bcef7cf72f1882c016596c163b693a6ff3260d94766ca2c8169c4ee3ab5a5a163c87049a7da637678558f26617a80b70f38bcfd970fc5937faafe3c4391da3a5dfec602dc8e985c95cfca2f743d44094ff075023516cfa1fac625b6c4042b3ec1a1d5568c9875775d4474b296f7a151f8f1972a85b0eeb95d71333ff4a1cfb69be192554830bd6e1ec075666d42826471530dde81a0f4a04fdf9e6a6944b8bd9b648c8f14824a2791a5ea930ab7b103a30293f3d306f037a909b57bb31dd81f4e45c30253b6e322f32ac96a018f3a8deaf00164f9c5d2e199f8b771bf823f7d5d5b8c31e82ad1304928029221001224ef7659d2bc7e3f0ee956bad96afddb1c0130ff51aa16b014143a8717c6abfcf60deee8e0e7198026d2f6b4c6ac2e87a891ee3abf911fa381580948ec306c06b790b9ef83cfad7576011d9f81f0ac88b7d84ac54d15918423824567c409ae9a7e9567c7ab9756b5b70455d8d8848ac8f373373e140a8ed21b8790fafe80929f35519b5496f8949f574424e81e667e6b3d91830a91c2d7517304517b3244b6852be0cbbec9386558ed22b13d58aad6076bd270c25861fb7103a71b2ee2d72c7f5ec66af25c030ddbd188ab897f2c10f5926a43acf44d11d690a5a8542562600cdd46395faa6c360a0a1765ab0eee6a1d8b9584d80cd0495a0bda422cdc7e875b48db0422d06615203815acf13aa7e3781b6e099fb22bc54c45558e7f5dda01caa9d18c59cb958665fd9ed0380b41bc35bfd1d8a17af1cc7b404edc5c43c07ce5ab5d629a35a22257302817ce853839d188ef2b3cc3ed612bd9be30e0da2d87f51a8142173720dc58c110d506badb63be5b389b1f78f4e7987c0bd5d25590439b2214334c5f45cb5227d57a01eed16d8c376a15bb44cba1ab70563212ab0ad166e8cf587e2a597af631622dbb4ba4e4151396ffa1975a8612db23715691d8aa5c449a9664924d4edaf44d16f79e6237d6e8028d805d5a5344292ca4042dd55fab7edbb86605a2eb75cc3fc3b21e7f22db6fb5bc41f462aad3b6b16200e1293e77ef02f907740d9408ba3445f2868f647f4944259f79151f527bf8c02c9be002e36e109889a7ee8fdedad199957d304323b0df2f32bcd8192aa553a3b0c7d1b19e12c2ca479a9c948da3871a6c0857a4dc9b814ffee21bd5039b0f04e66a8acf25a1a878a345f9ce55401c13bfe71d2689a1f100d52835a2cd3c8cc55d1a62a4bc9c2197c925a461596246116e6d1452cb12eb34d8cc35feee1db3d85ee0fa2cc42d774e06441fafdbe52798d41fecffb30e3179ca5b0d5384e3408ba31425b3ff95d3cc4da00d20085c8e9a475f7ae3b1e5142c84d370b5f27e06829d4148e7b9b376e829e93bc583778c835d0c900e7567046e941089b11feea3428224c3a1c5f213e4b92923515ed780c7c436e3fc4f8d010864908ed5a028bf029b026aa3f26c19664d64366403acf7288713ba5ac3e258e70e7b60605c7313c5cbac3d79b03aff21e8cb70cf33ccb536e502891fffb2b62f23a51e34a056b0be0163b75b01e4229d153d213a28b4bcfe7bc56076798cd8fb6cc969e9b01362e5d59be98fbcce928d4940aeca8d61de4736a0c645b1772d9661dd67b8267b47e18b9ae315d858567b1a540a57e2de47d83da7a25e9797eed89525258c6ca672cf08f5f5dea6cd6e9a3d93c581a7c0f02c67bebfb13816f452ab05bf469fb436df084dde6f0a96cedcd789cf4b3741c8a62165ec5c6a43663e48543cd97958e281ffa36a7b9fb4c1db6c1b8f2c2aa1629e890b3a0eaa25ec7e4c5de0c32fcbd078d237eca75295b6467a3cb68b553b69a4c7aba30151d059115e28ea37de1aa299e0d07451ba7eb0e2c461ae5fd48b158dfe2d6ec7d6feb5ad43b9bfca76aa0b9ca41b90a98a53489adc53d3f4c94f2aebf9842f324bf854f40750cbe7572d4939a3c01e2a37778a154e639750c59588c83e373b99d211770c3f9eb601eba6e949e0b3eb2122fc9baccce07f71c072ee62c54d6822edab23e18c59ed8cb7e4aefaf875e7c75d8d7a9cbb87670d9f6f8ea08217c0a5297b7eace20b074327dc15d61ef284ff4227aa3865a3b2d75bd2e7956ccc6b82d9692086e2643da191f05d5f195babd15c5727bb90118575b255739efaf0790747d31c9761b4c7f86c92e0c740332e5f87d36b02f5f2f5db192c0297a62114f1d31b12d3eaa46917e033c333d744d687d6262af89791a00f309e1afcc30a0cd106e632f837408a189096cb24cbb19b6f77b14f7a934bd7dc09a9bde84734e8dab6df4ac01f933da1297ccc2fd15ab057996bb949e80c20661ae842654ddd1a95518104a0bfc7973e6f7ac935eb9b82651790354b41f3a2afd7ae1bc5bc3c51d790660f2fd8df7da7e7bc0b4295b8d6bea476e6e71c802fa9eacde610535296e4d0f18f03bf54bb276fce73e65305bb56c138796fc845d78de8b4e9b3d225f092fa674724c74a3cb4e768d2d4480558c07584f5d058195b8a352005f9de44964c59cc31da2c830001165053ba9543eb4a10d8ae6dff0eb0815d3a81f2cf44ca6c860c8644ca3ea169fbbfaa2cc6ec58941e444ad1788b3c7cc0d28468a490f40d779569a55c13db06e995db976f9fc1ae5c3fcae67231ad0a3221b4761d467445a468d8e7a07f0f410deb0036b4a881c96dd0e5a81b053f833f8fc85cf736ac355bd2e6d645614506ca57c67541b8abfc6fac8f23cb7a4814c84705d569d6c51a4eb52695a75ba5c63e1f6f59e1bbba163853f1698b6f1fec7ef239b932311d452920aaa2471ed0e46fe0f3c8c032712f39cc47905ddf036dfa522de820999fd3d7e56c50e2ffede884acfefbec34d94063f00b4807f4159233ec6531ca9908e3a8d46aa0ed486a2bf0f6792d944f2232ca4c2fb5276a360d45804668e202ab04541c40138760ebbbd5c8cbd7350d25cd3b8ed05c2f3ffad7e9367270cc976cc5ff87db28b883710179b5a378c7b3f66b6827b58817b8a0653794872fd0edd781c5df88e9b993440a02254d0be843b5d2585f40062e7c027c6ec96c2949226779ab03a1bfe18b5ef0965731e485e824c11035a5aa9bc7b644ebbf8bf421fb8de2be75ad3037024ed39950d4f00cea032a61147115186d23666d33cb5d787c24eb404f95f6b782fbb5591faba88aeb6c667fa79a52b1c5ff1bd1e0ea3504d751c8eb06b17714c2bf5650285aa157919a68fdc5e54e5d77604068c8479ac8cb02c2cb3971fdd9dbc4f984a0103856b3cbecaa6c7ba02633a0640a4494c6f679ab8b0a8308ddf0a9912b725294689c255a9cbfb504cbec4e0390d969f84a7e1408c26ef7fb026afc4c577a9da6bad8f49fa24078b70396982394130f93fe4f51707b1a947f4af23f53fe7f0be6594a20a174d1f93e50146572f90d11cfc0cad69d363144c247a2276e741978f1667c9bbf863e998eecf74132d38baf0f33a0c26f7e8fc12c3c4619fd314939d6d7cceb9168d1e13309aa5be552e800efdc06a2a6a5d14bc4cbc4b7dd2f472913fe5dd6a57146893735958cc50071b94220a439272db7e38a06d4c82c39198b39c8de4d155b088cd97d43b03ce8a3ae89b36c9d0804a834744adeea67873d9c88d618fc0a06f5622e462ce01959acf03be17861900b017c06257f100e7cd3318fdbed0c0e55b80ea78ab34603e664013220b6f021b81009bdadd0006e526b45f63ed0639517947c872b0e0884344d2b2979513e1d5d9516f450e28ccd5cb2b4ed4b396264e37dcde02ad61b281911680a6a579e98df076be6b6fdede55ed4927d75cdcf0a4f11865d87254cd3fdcb14ebe568725fa5ab39b29cdb8d73d99cb313916c6c265f58d44bb9c28ef770f8d9598e29f676f5386e923351c1faa42c937a62c06ae8fe36e6e795b457e54590d80a76323ac6b80747d32e0314940ca97c3dca8f1fcc67221745f637aafd8a37fd7c68a88ce561bbdfea815f7c38def5027f0922fbf61039ae628121b2d5e9f04eb0d5a2adb1b4195508778050410b57855a19a1559f6976ee12d49292ccf62dee4a1f364c2f84a61b6dfeecf2f6b4103723778e118cc7acd8a306386f98f669ab775be35c10e25952b7d1d8c2de81a4456f142c6572f488b51d222eee22d530c166c358d92ec41e043bba082818234f4e548a79359df866fffe3113b09f2cc818014a7317677aa5c269f1203b69c9d02c8da734e7d81a7dbdaf4a73ed9e4832242bc67b532980ccb7ba8201463884126551b8c758ed4311332e3046764241e964c3ffef27d06bd1a061a7370d681601527d35128f6ae224fdb01152e9113fea6dc142e0dcbcf3bbddaf5824adf8389ca3a3695e27c6f108386c2fde4327e7e621e175e523c776a946f91842cb0e018402a9641ad87ed44a4ee551add944366a1d0dda001e3c17ef99a1c4f6e07738d185551f48d1ff10b7012a3bf15ac0b3540c47299028b86b352e8c09617713d6fcde5355dd7ae32f2e23b22d2476a5a032195935d150cc9c323fc39bc576c939703536a2fbfa0aa24371ed8c891cb3e6e5ec48beac9949552de0907f41eb43616563c0123462d81224b5b3b792fff4def472b938a4382249044a20377ed6c5d58b1dc645b357bebd1bda5361ad5b8d61d3b895bde474b8df252486886d07ca660f6ee4d93bddae3effe14661f828276925c5e6df722e017f16bfdad6a5509924dcd5c9c34304af04230b5308698765e5c77edb3a3e8e65421b970ab3d6feb23d32eba435d147a29b0d4c0bb3530512ce0afd75ad99a97892552fe5dffe371fd1585b94f4c93c081d7b2ff5f6beaada8511d18278bee7a4b8ba8d374ff53865849aed1136a79d1687d44d6f90138039f3a148c9c850f61897d4b701b21e0bacc49ed275c0d4c281486d3a7ca8ab4b677595ad8e98c38b208225e3a745ac52f8c2f14f7e1f52976f7d7fec0bc782c5611f4b474cdcde724bfa4617a486c63a462c4cdcef3dee22fe8a525e210571c1f34a8b0e39861b1aed0e10e7750a693b24586f3612b8a572206cc20cdb7660278786cf88d2409fc5474f848a6e78a9d56333d2d45a24f68409031c80fbb09df233925b211eb0e00c87b79aa2db739160627bd470686bac6c66074ee0df17dd1166e9708594326f8ba5b74250a7f028ef85ee3df3e7a40a7ef4a9f587f0b6357aea5238730a06bdc8846ffd0209e1c7dccb3e8e181d15cc2f09cde20df72311ce476e4408d07ea7f06d55415f638044ecb9343681bf79ace69c75e76d4c3a925eae386cc8817d752c4f43af90b72615d737cd2d3083c7781e102a0d5b09852fb9e66bf355fdf73c4dafb7438555b6f40dbd54d7dcd41a28cf73c356c3a06491a3ec3de005670cebffbf1049b843a7ff58d198a2021a75db1a1d5292cd169fbaac44896fe85d9cfbb7bc9b3ac1e640a81f211427a9c1ce4396c92eedbfc1727480ff295ec6c72b047200abcd336a3c0041f7e7366b919c5321664994113f4ecb89ee6e256b7ce8f4f6fc2c684054c39bbfd4cd8b95253e7fc55a898da9cf5bec95b70a1ab7dd4f8e0b529269dd8e7fd75981e9588c801653bdf1df8e516957d3d51fb59a460e488e5c1343211f6b12de5247c712c2e2abf4ff0c89751abef51548198ac1f2bb39370f88e65797403ba32c1b6bc32de2c5850a5a027f6c73b044bb07156f52372dace36bafd4bbeea54cd47739a980b8c2779dba94642f09747bf1a787acc10555e493a42d2d636d19a696fb899090ff2c1d23bb141e89d9ce7fa9c09db29708bea9930ec185ad0ce9e2ac208cdec1d12e3242738dbcc8443c6af83f77fc22f016d82e7dbae43fbcaaaafd120fd4e0868e2c3f54792c343c9dbd7cb66ffc6d2b80612b1eabbde88647121ccd3a45b582c1409086d4c214fcd134e27925d6d1bfc5dd387f83440e91176b98fd6c4db838e74a0b80a07ecf90b46e648bf5703f9a1831eda8135f9b444dc9c2bc8435d1433f44a0c711080cc9f1381a0a757338a93c484704a635119c4519fb4b236389cc9149ba81378d461b72d1cba0a728cc62baa95a2308337f80e47da837e7298fe211cc4b2727f9109a21f12c02035bc43e970278f323a83767466e97e6fbb62bb1b88f9bea5a48561f471b7fb992a10b97fa98b377c7d8a77d2cbc51fbddffbdc7c2c8c35cffe96cfb56ced0320d544aada85cd11898eb548d2aea41ef7036748e10260bad3a1af2121dcba740dcc7ef6775c6b50628907c704d2075d1f86e9acbbb08e1468ebcd197ec337d7f8d381cdd03c3cb368b493c24d99c1f1960b4ad771fa6414565191b8aea79757eb4971240e6227289f5bbbb52d43b7c5000cb099d3c8464d90ce9a3a6c1328a1976f0174d30163559df4b3e71285215130712c9c18f2be955f3b301aec8e64d8e673669cf0635bd03e4f9efb5fdef7846f7c25af2327cce9bbd1b7a12c5c42bf86eb4003337b14bd52845ee6a5dfb4c8f10f9a3d4c690ddee0513f510ccc1ca44acc2373269229e3940bb7ea0678d38101709607635dca3d37d97a724d810659a95e2b58a0fccbe66df679e1574e98fad8f5a1389ef098c834561100daa3eb63db61a7b6ad27cb8abe6f9864b9d0eb162184f4a92852bb313bb3d05ded5662c17cfee66846fa1ab32769626208fe26896aa6d216a3cba2a28e8a5c08c6ec991c1ebdd443174671ad6f95ae9d4e87e225b260a7dae544202d81d348f28b343a113368f56fcbb610660782367a159772707d211d80c0d5e9af3874c317993f2565f8fb93657859b517e161aeb638fa3b0341a4624e40561fbf402b21ae1b289a15155d4a097563373e14887ead2728ed5956486697147f4c4638b5c80fed9b930ef23df0aa2bf732f2505442fa713e36e6bd1da815abdaaca21eda254c8c3923e006075645de01406514feaff78e3e3f0e7995a9d250304a357ba716f38fa091040436aa7b7a11c5e20e8094d8e4e03e057f13a9ccd217b4518a11cc4be31a9e8e023afc83eaa1f914e6d9ab5a4e1337626623e70aadb3c5d9b6dddabe7ef2ca3b1155a19704111da58d3e44069ecfdfe5e91bd7876a18d4713c76c75286a5a74e387fd6be7d3ad341d9985323a0fdb311ef0417113fbb9e3ced0f79efafe8697a93d8abcea3cb8ec83b5b3bd9608a9efc7068d57ecf81182c3f3f9e2ed3f4bc122da2507166ee9d0c868bd975db117e71b5065fe4691cce773481bfc2664300cbd4170d61d577a8eeddabb3e09c2b47a41e7826574ebbd83ae21842f45965978f21851f2bef1d0bd2b9cd81214655e911675468db9e1f69af1b60a5058dff4a0de0fc3752491a9f72fc2fc9755196c72b861dffcae3c921114dfcc275297ed508ed9fb47d053be08cf2b5075ee554956e3e3d9cbd0f87b97979f4454c2d64668d937180f6075df75cf9193856cc0a5e7040fc66c570d6fadfdfcf17e5bbc3baf8693da03b0afbddbe177c3c7c5c5a94bdcb00e2219c18e092b61ee0b29698090547e451b2876604b0ae43fbe5ef97cbd387280075ee9004e70591acb20b43d6c5db0d41646c8295defa423051a3bb4d081d4c8c15c16ace7c7592d64a4a99a734d9dfea995817a7d088c570aaf6e9a7993bc8b4d19f5926bd01076860c3b2ddb310e9fce534f6d228f323e71676dabe2f8a1e3a1ba8ad3a3eb04a7470bf375bc73dc95bd1cf5a7fa1b97adff067df18da927b9e2c27d0613a8b50d6d758a87b73d586f86c68dd4414f731469020f9aa2be3d79d7f6a22a6ed7a04bb9396d28145b524435184c53b2521a7a8036e99daa6accdb126b3069ae5c58dcea489f02dc23ce391d17ff85dec8bcb619fa959f91c026a5e3c019e9b7e2c8dc61b6939f62b397c632bfea16881813e624682d12fd7a0dcc57606e8cd8572fdd918fb366d91e04949469749d0566e91cb9160d5402fbb1615d8c136bc3b1abec3da63bf79a9337416e5360cbbfe29d2aae602b182b9cb0c7a2ab17b8f6c467c27dbe61db94195c0767d67c8648b1ae956bcc6f0be9b1cd32fdc43613b003df7b77f9716d9101b046ec4670023add85a42590ccba2391f57245322483a4311b0f3e4eb83d3845c4cfaa30297fc289c1ac337075c5057aa3e06f26cf79dcf61420928944d6fed344d858fc9f381541c362ed04ac32c1821bda0764f5ecedb73961d2b2bcc91e9245c455884ac4c94e925b476d29311fb7f2e419796155df839e92c1fd06619f6c4c61dfc9cd32f8812bdfdbe7b41a94b0870772901d0e0c2dd6118a2b7e0d7b0fc77e1eb349d387bed8496bd6acfc04fd10560e48cfed828b6d74ea73bd48937c34c2c25e043af539976984b2a2acce4061ee67cb74acf51676797bb292226d6a972153b76572400af1cee1bc2795058b29fee48adab592d7e1220c0a0da70a087983dfd6455dd4c86b3432d0258bd3785bcaf8b3ab19031ef01b0ee1439b3200c09c77f6dcfbe5848fd48d2a32ce5e871aac70f7f2e2525fae96cc3df55a6a57f29274f00f4b783fc9e3806f1c8e5563c1134462fb3fcf0d2c4c5647156e8aed2582b5348b880c5e3bfad152c99ec4e020dbff803588fe3218e8e2689ea86052827c4407a49c1592fd6b0ed1919120b33f3badda9c4eda62465b879d4adea4bcc2133763806d47db03b23a13fadbbac5e0db7b2b07d4b1f68a8919f7d5510c0d8ef40002b079e768367dc33b2c38d7cd183f3581a5f58652ae1ac4157a896f1d1b6d6db4a763440fc257db0f0d0a765b76812fcccb23f9c67a086391ad2f68cbea9ebe31329e0e20614a2343eeb43b3c5d3bc83e05179f84e314798d1b5433bee0505e687588f70496bfd12635dad2e08775ad80f7d2505261650877bf84355d51bae80cbf72869ee97d7f942c1c2d2b8a31ef7c13cb5c5ea85a7e898bbd921ad365a6f99caeac2c3265e2c93db732329e2deba96ef5d845676745766927a1acc2c51016950710021a7e2f9a66ac4ca9b31c50d2347513e62d317c61a3b5b74afe6f4b4dde7e5cbfcc79c43fa0d94f7e5272abf5b0e7ff0629771cc7a03ba0b6b2b83aaaa91c8b267e1811207b9bc852ed1d60a027a5c6de45426ebd3b3c53b9d51fa8c29b43db65ce7b3cc7a3f9294c645b4fbd2c95dcf25753b7fe54c71d1b60d288a67a15ccd2d743dac566e5ff1d26dec5846e2f5550bc370b0735abb0a481e19e3938ba3bd48206b9a3c0c6f9511c60f56b71a14c3a5c836e605c80eb3e37c7d8cbefa7f6bfce1de47a10e44b01b9a800360ce88f9a4ed7ee535f79a05c7e0d652e355ab63c75319651c8ae5b26d41cd13a0102bf078c69b3b2f0c2bacdf28a12e6a459f0521200bd86b79653487050f6a1e20d86fefe2993ac6a4408b76f9d35e8742d08c02181ddcae7b165d662ba865508940c2ae3972adbeaf27b4b4d092b7fa53e215b788f5ece7875c5c1bf546edc17e4fc424389aa33963b80edc2f4e1c8d38bdc3a5e1cb227b78b5fc8889cf714ce3bd978ff4629fc2b214df7b62f06a39a363717e17cc49eff3b3c6f990b556ff5ce200a7ad9116a2b6a557deffe4bac848c8ec84fbe8c245d8e99a7840149456857063951e12455868a3da8881d4e62b2186dd708b6d2a3b86799407642ed8081aa52055eba10796ba5b502e61277f890ae9654278b9a031c5b03ac76f6ce1dd95e58250dd4593fabacf750199bd99b78b94d56ca4c6baf95959ab3fe835df445f283216805641cc7c07b15de7fc993a2360a842828925841ebef4679cad796c5fae8fe7af1144d7171d147a8222f1913da3dfe97a00a082dd016873120ee19e7ce0be9d57d44ad95bc27b63c8fc7bf8895034998888aa27e09c3d456a0bebcefe119c56cc05e31da628816e30ffdbe642110d5a567b4def182c16c4205d0fec1397f094156e8cc23342ce60cc6aea45e63fe37d617d3f1f3ab95c221ba2780e4ecc920231cb2b76869cf5b0036be3dfa0dd3def28c19bc37691399f9bd936b5dfc2b1057477b5108c080bd7ffbe2636a106849755ed5a492155e399e0f668701ed656a5ac9256cd66dc14397a76532f85aea349761a465b469a7b4e47dde6c9f244080edbce22ebbae205b56393c6191d9ec54521ce81fec7f249dc35365ce3bb17fe1f2f4e3411e1225b7ddbfa422a99b4e6982f4659e137d09f8018d19ec2985d2242dcdab55293094f2f01adbd4e468f68765e9cb0974eb3d0e24c0bcba228c85ea1143f7273bb56fdb53f59bcf04c5eea574488b604b2103155dbfe6cdf2e229a223881af98411d26dc8148f51a058a6bec60568556b3f50fc295ed5c2f8e5b07ca66161f49904c38ee31900761fe3004f161db1aeecbe0e205b1609a21e1d256716e6fed30170c5b945e6334050d5b1f4a861bc340f4a031caeb6ac0c3407f458bf4f7ee8ebe3fdcb1d1ffecb57d2876108c60b7a23666471a616f57731ff9ffc1a6f65672a9b25442ff7177da28a5ac6543a5d5c4f4cbd1159e0499bba0074707718115ff0e3b7235eaf399260f7b915e84dbbd18822356c16b1286b2854260ca04d123a39016ff47c835ce3274a80913d178448a452598c836ed520aac393cac4bc202a30931992fdda865ed8bcfc2af937faf9d1dac19f3b95b2d61cfd3c111fb82a747499f72e94e802e35ac757245af707a7703fa3ffd89091227f9bbb5ce560e3a446b23e769b4458bcea1ef092dc3a6681324ef8bd2be07dbf51ecf2218de301c24883b81b4110f95354afa11532bd9035cfc98b3b892735fa3aa2eaf3cc80d27d44fd2edbc6a226164f4f7136d4437d179815377bc8bd60adf1f601f217c85eb49daa695626b41b554f7be612fff88c99f6827b47dd9c469fa4e3f235d1ef913b3ef3917779cbce98b4baa1ae658115b3a162624b0000ad70941d1df391acb5d0c43b2402be12a23dee7994da6e0bc7326970aeebc43857cde0305459d08a3bd0e5993ed520585d85c107470879946c45ae49c8b8e883ef0df29c0bac0ca634a7a2a24f981401e01b14324a91855bebc69adb65c6b619ad1c883dac5a4eb5be31ba84f4c065406d1e30cc03bfcaa330590d808982674bcf8a8d3bf8ce8d29e196a48df56d2db58d18de226fd6de238d726a4e75dfaebcf2c60ff75249ff65bbe99f85f33892b4916591f6f94268c0300f555dc1caeb82d9cad5ce1451f9b3aa0515aa230e4857f6125aae610dce9d63ad798e5f0f49a57cdf915a7a30800ca2d360da335fe0eaaf774796cc2629c4b1b2bd92c5b39c3fe24e1284587c84c6e5286b4810f5d8097330ad3ab17f08d0be5616b1b7f488b7a6853be51033127d26afe9ed8ff04cd8e5e90cd452553b8079bfbfad5f1e48969a95221818ae19503dc5cbd257f21d8e73f85a085bf40d7d8ece17965837ce1d4f39419d268674afd5b052fa5a23890e09fda3c191a3bf35fea2913b93548bee9a31d3b7","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"2b16f9e9479bcd8e2eed943fd9984c29"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
