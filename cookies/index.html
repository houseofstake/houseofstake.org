<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>House of Stake</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #000000;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #000000;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #ffffff;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">House of Stake</p>
                        <p>This content is protected. Please enter the password to continue.</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Enter password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember for this session
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="Access Site" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Incorrect password. Please try again.",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"cef7b431b59e7e30c3f315419f740914312d03017dd01268672644c585c4ba21394f8c555bc221d8539667b91a3aa1aa5d371e82a3382ce2aaddbf91f3b2024ef1168335b37136f3deed384026e0e8aa3d5fa0e8e73fdd68bafce38b6aa52f93f57318a164c75b64a91a5e289b8110364b7118e7ac5cfcbeb63a73205df6f57d83fd3eeb9f7aeff9701a0c8c342b35aab04d620a0c0b829313c9a01efaebc12ca4ea507fb9a5412d745a166db8cd790ba0c6fbc2e05f6c04be0c9436c29e49c4e9ed76991d048ceac354c649d8dd3aa39b8c4c192f80d7940b655302a5aa1644b0856b52486047182e5865f84c96893f3c3d8bf591b4530b99cc4e6a173c388801c531b491e676b1477af8ba04475e05916123a5c70e054cdc2d809db770ee69537a73f26b21fa561867dc90b6290cd43925232473164011bf6ea18a507a807e073294cba35f790969b4048a830016d0e77c0f299cbf55300b2dffd4a8ff72d0f71ab267169759831f5b7f1dbc5981a225db1eaf7b310b9c71b00c16aa6413628326457fd5ac1f82905541fb91035bea3a15f472615116a288a1e9fda271d0f58fe24d25856103ce47bc313250838205931106a84360bfe783cd8b678499cd38e811f2390dc4d256f81b072fe3b59d396a4a43954cb31fa7624988a69a8977d19ff6dffa1f986a51152c752af45eb7622ea8f14e47896e32673345dc9b0d0291e0d8841a68024c410f4ad448bf3be6e3d4817e0eaa06e95a3eff4ada6a64e4d6ede678eae295b395b56d6a6ce24617352e861fc277254c0d5eb768f69b8553b20d3f72c79cb8725160f8da4d8155bcb5321cb54c211b4de2eef7f704de1e49abbbb84c98dbefd25891ac19f6fc413081b5fe15ace3a7a192a669d8c1b034f8adbeb8b7749579363f725eec99bcc846285ccdb132786654ba9228b6f1348af7c047d041bd9712f59296bd0b8bb208cc330085361e10792958be557ff8036e25dcc12d51df64b22bc49de0c142f6a4778b95aedbf26b18c1e452035e49518efa24644a9020eba235cff9dea9fe9e034d215dfb893349458991f8825e7f68474d5255890a5f6d65e573f584ac276121f51e046fe55ece461e0044df1dcd0562287d299770e34884c0aac111d7fd571c655dd93ddec7c02efa1ebcbb1553c0288ae7ae69dbb594751f3fb6085925935c367911be498445cae4c040c14c6bb2923378a4335e9585f2ff61c68f9c1ec7096ea9a6f2d6924bd5e2ff43ab98a14d4295d05325e8feae4541d1cb09fe8e6da5a1fd0c70890c886671f0c75cd705a4cb2fae28ac8aa4bf3a655deab950b3cf7f908252203d017d61c1be9d1b0b47496cbc8e07b62972706eac3b3d850b3dbb67af84835263577d1f0d32679cdd86b0074fb02b6c442e650cc94087323e98e079876b2239067932a57265949b480e3fe82148cba5921d7e6ad128c93e4327a84d82529c6a39ecc106eecef0dcacdb7d7ac89ad4345809d03f83234d4ec3023572d623edd08894779eda962bbbd4263670a8093423f5694d867acfdaa430240c26ebdcb3fcd30f7d149e35209a99dcd55606a49ee49bbdf93771a976df7b412b56d9a05498121138176a3ea05e9eb1a8010c1a52c4fc246d757ae64544d9f4e23131370030c6f95b1a0adc33d3483360a20f6f03d7742c341a03ce69f568260bab1d9dde5f1a95749465a7ca1035af2ffcc54163a2ecb6cc9311c05e529b6c049add9a50b3cbb9a13029936a2b00ec131649b820e21a1d2ba5a49907c09dc0a5b65b8e905efae41bb993dbb6698df9c7b56effaf3dcf42cd688f6fb01448a8c3b507bd829d3d01811754f3b1b7d44bd40250015fa1b9e82e75d04a49cfba11f5fe0b066d6efab2e23e02dc0beed76a74dc7f6504455b933673719ec06150e69da580ad5ae3e6e7bbe4d37c7ec833b3afe48ec2cedbb3b8c46e17aad934b4af165ecfbf05b1715f99f1261a41e3349ad3d5347bf14348f5a31ae27edc3a49b727d1d790ee5801104cb9c7d182f78088c8037479a24b158c979c51389cd0cf0578325dcb1b90c100b711dee86643905b298f65878103b094fd75fe9e9fc865d521bbce75b7e693ad37c6d25155c3198c578e1204bc4e48634aaf79d6dc28ff8eec0fe7c40b3aeeada482c709bf3c244bafb1393c0536a9178d337e86c3935e8c17645dd2b574893755deebbc6b8f02685319ad452928ed75f097f4444d55f48f6d2ac755c7d486c2a6db84f42820825cb4c4f51b691d913d97650a954c2a16a24e0ad998cbd5ab7072bbbe1bc04a26228829a4b7b20cada6798d789af32985db8ce9a63979564ed2fcbaa44648442280b5ba2aeee22df912c1a79dff44dfa7dee3fde3c7f31b7cda4b3d1facff942dfa8383c9dae0cbf54d9331d1fc2bcc81dc57199336e14c23cd35bdbc7059a6fb13e2d6ea531a47052b63b6b65a148c36df4b820410897ff6731e496813eb6c0d0c80bc144533c6af84d8c46e2af4c26d93e471bb49b2e1c40f8c23b8477bd56aa7df83a4c95b70bcd5578ce05719973fcbba14431c7347fbd832e3022bd16c923396924e7913dd6e015e2a6fb4b6dd7273c85d8507c146ac7332d4be5eabbd2a318bfbd0280967b304c1c730e45ae67ccfd19e2916dbe833ddc29ccc72fca9afb424a953183819a57d4644250506591c7c90c31241e4b232da92454df5cc0ca1027dd57b858708d7d85de1eb579fcd418d55b018d7cb6aeac46e235cbdc2f614bcf5cb6b5f2786c6046bd9ded42c27ff4d25052c07563eb768e84cf09be09f935a8753da1c24ea80e04e95df1899df0e7bf9ebcc1fdf5c99a7648ca779c82304d1cae1b6c3f2080b0dc1a250704b16a334627dd0b979bc27a496f38cfb61422ce52f9aee9bc4a26602ccf71e55d5ed7a8f8da85c49b9959662cdb5026f9398bc68f30f1c103e5c1e3dd6ff6e72858b817d05dce2a07d33fdac0f0c85831682e3afcb5eb4535d9f01c0e636abcc3614114ef6a78f7312ed9d65bfe98a504c84d8a3baa2349a875cdfa9f5644069e820d2190266567a084e3de7be4c6ae0a2743db8f64c9f1cf95be7ac1e772db5be16718da2ff245df940aa2bb445ac6e44cf23593fa461931c3cd73405410c32e2147aea109a8dcebc27b942d026cf8a010e77e445719db7d29a2c927122ab597e4bd7b2d72a5f5a31bb64dbed25fa00a92bce47d3b240a3d838bca4d366d6f78c390a9547bd5f482d964a261f7af7c94daa2e027a1fe060f75e001b08d6554fd0a68fc849e45c63f4eb3c751ad77a03a42ba937634842c85a3fb523c3fbf2d3a72291e3591d6769ec5081bd48adc1b2c9bba15f504cd1b00a8353d8efe5344b1a1da69f35978e9d986ff685abdd013033fd3986ebaa181774239623f5ceed03de838d1f77a1f8f0452207669cf10d1f0121840bcfbd5654184541222bee3fa3f22f693f690b1861851aaf352076e5f19341d29f5648612f530aed0396d727f9e8ec6a2d5a84142606e2c9f3590bdc7984788c0f65634a3304aeb3d42284aba2edaef99b6744fc4d8b0c88207445d9e5d95f9e121d47ebb40565df0d16fa156dcee15e3c552505ea79c72846d846beeec685b652a8c7337b8f5d0a0a048143ce1e6b7c762bfe02f3042c0ea808b8af7ac55d6dce33abdd8687e9ee545b2e6d46e07d799d94adc2bf0395f1125c06c4d322b4f0c74751abf2c06579023432a4833399d0014dab82dba9f8454a03d39fd2940369a5afa8e78ac66dfadb7c75e974b87f062ad3ba6dfac953b1a7996c4a6b065d9b514220084765fc19716cc1b3e4a2c0e649b050cf66c81831fc9d5c0f579e98a505431ccf60b0d369d510956a0df306ee22459042f5d65acdb95d379bddab80b5b95c55e516ba21f4e7cb887d801f266b330955893aa366de6e7baab82bfe7da1af28326fdb7384b9da32c5405005c9d8a273807a3f41ee52bf1ad0a5db2212f8a53d33cd530592bc4a4d758926485a6d7a5242aebb19051b1afbbd80c296ffb78d44cc11d453087bd851e4b6c22da0172812a0f5a6e50855712b5bca06f357de5350eff1100409ca8fdbed80a3fc74658cf451e6f10905ab7e1eb6d634b5bed4c9f8568e2551a4410e4fb478ea3cb6f75671a9885353b16cba3078ccc880d942d2711da3303c94bc4e44e6ff2c0a062af0307362d908bd798675c2e7524e7580515fac84d8bc925eef468125b0af1a8ccda9d5ee926ee7b6cf6a341574116eaa2d0a85a7c1eabf7083edf2e5be0d66539088f208979fb8891d7f7f5553b7d5535226fb5a0c4d6ae102773c2a61cf741a79e4f65cd31b94158c67f65fed590e4e7e139a0819ca780caf5ba12dffcd12ee33eef28c63bb2d8c5e46d0a06e72ad77e3cb2d1739a437909f4424cc237dee2de565023b17612da5f8cceed1461b10ee8f34a771725669d4a47f0173788733876e56bbd940ad21bf0e0d5e2883021db87ab85c67845a5af4168b816e5f40f9d208fa7a59901aa217314f7800a589e2dd5fa40fad49b61a3aa4b7b35420074f2a8cf0dd5889b072b53f416644439d1d2db902a82e6c9a1566026762e105cad21106c15f98cbb7cbb219f0a7f33fd8e69b4356c182efd02d633f0f59129b882bb2062c0cbd6ecbc8a74ec9c2a3f5e3c6843ae8cf25daec34406a676794fa222b4c20bea04a5bf9c0e2d6e583e75ad946bbffa85aaf3a959040ad783647dba3eb39d1c17bf5da6d5290e33e61b2fab86b16948a61b19951715d35c482a8e64f74a7d5e620ff25bc803438c2bc68fd3e951b0e28b937deb20393d7448045782552cc294a8cdd4d37a2de0e4f6c0b45410b06470a9b4ca7fff2c293792a494f56b7109c0a2c92759a508f6f0201260219324e9d6c8f5421e22d888e581d641f3407f7ff17284d134914da22f511cddd2117bc454d0bc09b46b5a64fa52ff846345b952d2cd6a79e10638bf80e1e5f648ca7b4ecdeb552fd8ca24e53fc3dce95dc5e40337b58be9ea204b2a7914b7f9543dc38185575c3903006c16822f2efd72a1d5a3f974af0e4fb9220b33ff441fa171077f5631eaf5302e234dbb49f63f04b6d693a51d4d3b89a0643aba382b00bb060b4abadf3feea5d5efd9a88b3d7bc6e06f39b6e007aa84e1dbd963f85d1f7fd6839a07b9395642a14b320156def825e5a8155d16b675f4c1a2f1e00aa09259613ec53a30bb3fbe830ae3795cd26304cfb3170df7f88b82a51828874066e22afc3c295456d747f73f61d7b559f6d0deb58f297096b58e7bb25ccd0d6504fb0743958ffefd9d5ae69a7074e31c9aa928b70333c69c725bf6c48208db3a6b181a833372653c6052da80b6256962f60bd5d0637c90e72486f7aba551be65339ccbeb883f6a1fbd462a213062ad0afd066c05a7329f000ad96f366435e1e17a549d8101719c9067b2ac3a29787147292c796c776ba138e3c48bbe40039ccb3ffecc1221469a3a41b70214d7c17b5db4ffc8d3ece8e7f5ffb537942dfa3bcd4838b93cf1dc1e7033b3532f67e4cee60112268c0acdff2c6aa0701f7820302bf4fca6837092d3b24a186e818658774b6a2b70a08bcc6489e5d2985708a8f9afc9c002ca27d9d1b1da75c78503cf1a8136e0aae52fc69be825d10224417d9f2eaccec589d816280d5baa3e096a35c8b6f0db809d0c1f464f6854eaec78a85bc171c8796a064ede5b5e68c0f3955c62c63154653ea44cf54e5f9862ecb7380606e0d70603aba855754281f6669662c4d656688d3277a6adacbad4652d8006938297cba993838f8401bd41899fed3e4ba45dfc18861130300ac6082c856cc45044a88128b316045b990201d654a82cd292b5e68c7a87ebc794778c73678692978cdac9d50e2595985e69374bd7f845309c5d3b0ae99a20dfeb5c945859c5e7574b6d4c9a1ec46419c20008914e369816dd1305fc00d710bae8eda1a3ddbd30801d60ce2c277eaaa67eb0501f93a5b970aef9f1cfd523baeafdee4f27b6f5dcc2b56051aab030b135db818ce9b2c244385da201f97082ee4f79ac36477219c87420244ac46c463aca8b09ecfbca1c5aad613cd7f06590396762080605a62a9e93fcf4f6cd4d81f6e3d24586adc670bf5c20a11afba7eb9d75f4e3963ffe520d2f9bf002c76b413d15732a71bfe8be3860cd4f4d7221987009b66f1ecc77d9f250028550cc9afa93de70563a897e927a1e31ad5633148780b36a428dfaadde084f4940bf40bb78654ec8f4fcf0558a34a7fec55bbbb20f5474215f1769c38f5d25cfccd9e0f2152df63f896a37c4e5ba5e8342d7d4157fe265b5247d9aa4cd0cf1329d5b2d8cb8717e745dcbb17ab1291a4e963f4a903669bdcd0aba78d57eedc47cdfcdcc798363bde1de06d96f9437eb3d1187b068f965f064a4904954dd14d672362f41b217861ed36e06f608761016e52178da2a184b8fc06796af8c979bd52e703a686492b86a9bb2ecf92e84c4c9ad7e73ffb635aa0a76ed3430a7413c494bac7240e2be7b40d69f678776a8f353b252fd8c74dc64469d603d2d1268c07ded36e650662fa6eff6bba1c3aca3eacad360e5f03773142d86532277e3d8b4d7d8645d3b620a4c4ae84496da05c5385bc59e14431ac2c1dcca6410345e834cf5f6e7bba6a66bd7154719ad5f60cc565383df157a996d2a83527322f37b079a00b575b743f4b8c7fd5912de2428a55f56af4b57b9bc55adad892950ebd0528ad206f51db665411ee4b1ca727f09913052fdda382bc8d88d834098b68f57cc1c403512e3891c9765501dba7eb267916b08437216c15f8816efcca5d5d9a41eebe5190134e7110f172a86fb9699e9066ecffc6e492c40fcfcfe8d44e17d37fdfaee75a0f0de8fe89a1d5824cd638c906ce0e4b6e6cc98252327ac383c4a2295eef26a67595340e78422f3bc3e53bf14377217de2dc105a37cf17a787b43b08e34881d4c207e368dca31ded5a837a8e8ac7d8a565d5cb2ee22a194159f057b45ecb1ec69fedb32bee248f2873bd3785bd3d7201004c8f3f7c6301651027825d8c1a7685b6946b49772929f38cef8de8e194127308ff41580eb290b69e9a79747e1e57986249d20a1ef786da1120670d18edf93fe29d25cf41309824e0333d958a88456c786c4485ec05fda8db9653f2e1fa3b278ad399b676c1b64a9f81d08fd4de2dd6911c69f1f5aed6dfe455b9652c68e12bdf8864f22c3020ad54b98e90e06baef6e327b77ad09de8eced66affce9a7b9ae3b23206d373b757118e0be8a6698a82a9ed3a2feffcbc3902971f5d7f16f95c237ae4a8754969d4a9348aefe87278326d8f723d9751d77bbb81e08d69fcac653c91c677e20973cacaa571dc5f6eac653e450425e9b503b9510d1a8014b3a32fbc843704f5420eb619686d30ef7ab7f2c00da1163e762e9d264a04f3f773d2e021636a9b6d9703611870fe157249299e028923f43d013d5e5a5a72aefc87d9dac54018eb219c0997f2c13c15f92b7d79c1056cb4cbaa57e4ffdebdda4522aae588effd4a41c333f2a76993e237df90388a279089d6959ab0a9f61591da42fac3de03a6f178d956720a3596dca31c7c736cae61413fbede2e9ff3f618835b08ac50788cb96f4a20e3f808207131dd30885b6ebc142e704f4e76e494ede6e2deee8ca0b52b08c32159db854f5bef30a114c8a5997baa890d1fa074762e0c9ccda5000ff8ba1e4d1724a7a5d4d7c087880d096d584d34e58b1d1c5d7d0b6ccc9f5ed5260e331fe9dcbf61f9a57d0ce67d535811469c56fd2361eb3a6ce77b6888e9a3977f45a002b1f99172af5e3a00e56f7381b54b0a18a2197e88a66a5ee469436727d67a021e16ce725da992623f565796cb6544154ee98dc57e1e6270e9a4e1804afe493ccf673af06fae242be40ac42f9a440aa03d9495bcea6b225601b6579eb55c9e8e7ea62cd7f647d329fea6fa71e6487e33f08aecfebe1d766050dd525d3d4afb0b6df44d6628e06706616a323a021059443a0b8e2aa38613ab1e97be4a0b1c5e7aac84b5794f8f96b6be4b7a063f83d3861be48121457620042a6275f5699b9f4866d1d4eb2802092660768c6d30f36e3acf1df4d87284b4dee195d54f18acf0b86a80e09455cd862a9cb7a3f5c7ade6668d8d9f86f7df5541c5e1a32a9179270242f45bd28f5586633540eb598ef116f2ac681fe8e7a4d86786d6da8c033f0f071bd56595262483f897118003bbd13fbf625b19bc96a3524652d94cc82902d8674d164625d0ac04e410c30ae946e3c714adfcfef1682f0598b178beb4a8fd62ff0d50e07e1c4d2c5713892eb7375b692fbe27af2c433e0c47f7cc5f7406f40e6feebcd6d1e79a82fbf604a013c00598e89e80dd99448d162c2fb2408446597bbc980cf132bdbcd31ac3988ec7af8cb37f4e759692b36d0fa6424f3eab9e72fa3c333a5cb4dec20cad0376aefd5775ac26ab2fbe5d4ccb8d3d2cfc0d94ca8b0ec9528e35db3cbfb325881daadc15b366d7209ce9e88508be5f6e3854e411270e85f670847542728a4e55b48e43fce2d61ba2aba36a969f0b0d88988d7d4a3a7ee8cbf57c230414c320ee81c3dad0e525a18ea9b78c8c6155de776411cb04df46b8ed624902d247c71aad84d92dd82bebc65db71735577fb82f96277ecfbe27ccb3cf8002561fd421c26ef30ac94bb7c6ac0593eee22d2da15f0948cc01cfb2b94bff1867af0514a8e9c49e7e543eb4e7202f29f1f17a1b253a6412b0743c5abad036b051b367c7ac9e9e15454e76287b4465aaa982badbc7f9cecedc568dff03da68793bc17b9fef7df7d73a9429cc4a8e771c7ecaeb9500fd51333bf4fcb9d4c6bd2427181b6fe95c5d579e9afe0dd40092c55812a44321df8e7994e799fd7f9abf96a13123611c437623177dfdd3741228ddd20c779e8eaa449b67a632faa0696599d27789d13374a5fb33d6e0932ea0f25281754ae6abc9c152dd2d75308031c747212e1850e5683a9eba08d79126526c142f0570ba1043de1aaf740dc0b259aad4bae66c90457794527bf4565f37d0d80e18113cc5a7e436c51286ef623a16e71ee67918d86e72de06ecdd6a86780f1606992eefb9451574830b0ecc5120751de533132713133cecc7ab21c7dc71ad2d8a40ac68c7d3c990211518d6d0263dfbde46ff4713c23e2ca7b2fcbbab3cdb4b8252e84a22f958a4570f8a676a00caabda647c50f7a868579f3d5c8c14f16a1f9527c20bbfbf95bf68172e0b3aaace3d713f35dcb571a48f37579a876ea3d97072d34d140eef1ac15b597d9d99ff30f8cbff4f170852a9595d343901f9890e4d50761c985e812f8b14b6fcbd4f9ff394b8dd56bbf100f0cd805e97177fe5e1c78261af0e189b74eea264ab6313601b6ff1dbe2032217ea33e51bca1b9e78abf1c893252eb4d6cd20f71e60311c1b428752743559d0309b8e47b9a06cc124977c46cd9a879cab408a7e5ed2d80784873a95f8da004ba1d52591f99f28159e11350bb77a38929b9d2d644422fcc1cac8d76c5ca559244c9f2ec18108d989b229a0e042ab08767edb5ac56de78cd9470d40b20ad0a3a5df5edf655d9e49095f5a49a9680894dec6de447f20c281ce94626160d98f8e8592776071ae4722750c31034237a87876b0a4fa9b7cfeafe560ab50d1dd961227109fb6854eb3650c309fb6f23678508519222e3784988f1a481d5c6270bf094a7d7d92c7def5c61dcdcfa912b2ae28a116dac68987eec47653488cb2d7246a392ab88245373b43d234d4ddd9218ae84864c2908ceefac6540a6e75cbe9bae1a5fd4574de765df804876d606cb620a3e83b96e479226cd1e6bab048702a955d903552f4e3834b2ec2748b1290771bdea6f561eaf8e82d723665c3c74aecf95401c4a04fa75714ea200bb72bdc7524a0c8791528a77efd09e7dc96cf33fec306e92f96128ba1c6e2dbb87381051fa3e06900a04c71bdbf5e587c781b2528a5f2c564f9a89c340e6493a06a451efb93171aba394649ee24f6bd0aa6452ec1e817097e10c9c5cfa2bdc2937e091fb3ac8b56a821a2134e81ab07170ee8b9b6ccf4d558451b92d6675ca0badd4ce553fdcd3c3df8ffd13f34b2cca37a4cad861bc3c5fff846d63f5c04f8844f505f13278e75d63c65cb9efd1444afb1bada286daf561eb391cfb70afdc34e0d1f5ade2512111942910b3bd2d1502e2d67aeddb5695b0be82b7e55b3ac9e839dc87f81912947d39ffc9e9110fa68614a36e30a4239485145b352480f4850a2ee164468146c03db06d1c1714ee73ffc6fc0eea45dac5b713eab92ae1e13e63fb837f6c26d4525f2e334e07ccafd68ffaf5ef04a6861eba79e435f47576d5e44388a90df9c0c680e96f5155d206338c88101100906c9b939f9a797110d78b43df4df598570566f17b853931868bae4c9d3c8db228cc72c883c40af613f2adcba8df7a5e48ab80fe069f71ac9746a518d65672b432522deb103db077608ab18d4ea99e5328e765cc2de1867ea949c4003b214f920f93830e3e4b423b1c4ebcfa9072c62841820ee04c84a3a094068bd5bc64d1ed6668c868494cffdddef46bb44966f0a43a6d76bc5e412681893d2fa30ebeb72ec7d6e9810a6463344402feee8ab31e13ede8a624ba8a9cc1e5d9cd17ed945a778d2af0529ec443977e634edbc518a42a1427ed780167f32694ebc92bfabfefc714719bf8bb8ac11fb1d0f04b6b85f87a074e5a91bbb6e4ce3c1b44e7050f39542bffe5be26ee2fe40f693ca404f7145e2bf255d077c161a9a83dde9d575ce85f382351584854e170ea935fb21c603f524a84f3b29501fbf497294c914168c7789147abba233a0ba4eb411d9de78b06919b5362a0dd3b099eba2dd560e1e84ab3b7fddc205e2ff9f6de2ba19549f69b5edf925fe09ba0ff6add26062e9a0d4ec1ab5ae30b8ac8f216e9bb87f2ea6d5a91ace25b058ac11956b90686b1bcde4473f25aaef7f2866e652bcdae83d5f8fa08202083bcede2acabfb5cb58c7589dc8172afd9cb25e6c6f1aff077be86a08f395fd3a81ab625bdda1de9ac547e624b1cd07a0f9a09d667fd3d4a7dc9c9f359f221e8261820c6287a5846d2f01cf011f80704abbd5b4da18121766bfb590d86c9e04cae33ee3ecd6a4c6015fe90860eacd7248903126a638fff89e8e5d141eb9618bc41139b336c6979ae43884a809a1dd036e4f022df275fcb909a44808fe6d5088948389240d84a9ad3fed028b2fb36a2cc60d129960b08a12651241e4e398e8b6b8cd57a140db4abc8ae74853e38548fc96dc2727480eb27bac08b93f3759c161862345f5e23da87ee375448ee5be0dda59e02d53407d48455f0c793ca563f4245e43016f732cb67cf77a22461b98d6f97e157e665eddea859935742912cdd6fb6261af82f49d98fb75bd46cbe47f6a710d07336f1d12d80a266200bd7fa6c250761ddf67b0d589042ae35b6fddc6393b0c07b208896f5b803c9c476b459571592cd8bcdf5a6b323c30d62aecac43dbc926826e8d2388034f6266bce9ae8706ad8dc91c3ca4db10f0840afc6bda73412faef559c53f61d6914d05a545b9fbd38eb13306b5e3db62bd97f0904ea6de475fbabbfc99f0ef69c176b3c897b0911837c021e6fdda64eaf8c20bc9889d86ae6006d564ef6fe2b17ccdbfb52ee25fa1eefb410b42ba6c02bd3bd4ebf6042a47832d0b52443318b13928b5e925834fe06a383040903fb721d6f75a1d4ed40f2ad8ff791a13260be4403d9b00b89e7e885b4974ae337b014bfbd8b89694a685ad040cf6a3d1d0b4ce6d3d69772bd8acd8bbae811d5fae57a486b09b2236fa367495e78b25d24e49835b8707b47b51b3acc439871b1e31600755910813e52b3582513e732f474580338d8d0627f6b821423a7e5dfc979fe4f22d2982e2c6aa1e62ec1ca4738fa609e79ea0e73f12e70377e6872cc17dc49b46124f6c786db9b775e4a455cca8002657a71b9fb48e4c4a366ee518886e0e48cc5f79ec379e66d9dee332c1434f5ed7f12ae241da111bb98f2254625d758ad527c03ac5be42161cad53f265958eb85f4216fc3ca1e866a76d9caea88ff121dcf109947045db2b26a69bdeca9710d2dab127d9796d5cfa825a91a49da9bfe9eb53c227d3a6dbb7ca67b1c8f8893940a0bc0dfcc9f22d388aee458ad92e2d96f97cdbb555fafb9ebd19e32e8d4daf2705a710bddaaacabb1945d1be02966166588d75b22c31142e66c26dfa5e880e43f857608ec9616c248fd3e28b1dcedc5aa3659150a16187e6b4f83de26d5d74739d5db5e5df7dd45ce8f737dcae7afab8a629c61595a27f1c85ced83ac72866d7ef9114ac003b78899c46be6d6b22835d2373dcc18abe3c95f4e692d43e0c25a42fce4e1c9ec2b28034cc0e95dad6113693585d11ad70c48146c387c180fd240755d6709057d6772cfc89214594a979f47d15376245cdd909b9004195add036adc2cd8a925d3ac04c695c897568a6f5ec0c2c8e7da9212b70b394299a76137659c5b9129c9216fbd88f7763a158e295eda24fa52ee140206c7367ddab34e732c7282aaed3f45bcf3d80e030fddc241ffd79f9b46f1387d15e25ca3ab49db5eb1a0d08d2365765c0359f2772a45369a72d4fa67f2f3df0a21d48be536de4d7d2aa4e9e8db0f0b65b0f631aa326c065c83576377856322e2755241122a543b590ad9251268bffa4a22e56d574ace55f08f87ebbac2a0848ee8b7c885bb8b27b248a0068930fbd29535935e686106c1a355996400545fc00716b37a482cc6d5893d651a951257dc72c4efee6375f35d7aab1a029c0527ef7b948f1d92eb9ea5a4157989dfedc2860b40c06a07906ebc8b86ee61c984361bad4d4fc650974df42621955b04025dba4015b9d061c43ab8d0e82cdb48861b173ff926ced53523665f134b6a01299e0da9345f7a259affeec6fcd8925ccc46738384f1bcdd714a6f2d4595c99ee9d5bb83cdab3064e9d3315165547730fb38e002a3374346df7f0df529587de6c88410967b62fd0e8c77dbd99e14b69407eeacdeb6d0e8bfb862cfc10355ccc7d890e2cdd56f26af186f2a8a2bff247401eb2efe5076ecac26dfc2c8bbbc86f40e32dfe23ec448c8eceac8de975b53fdb98acb0a4d47820d47c56cbdfc94a4fc1c3ab447d659f6c98f86a29465725687cd32a063ae0579a5a6636795359eeb086ebc731e9766c3bb842c84b30fcb521a1d3ec7ec3994cee4ee072268be183c8d82fd63b3620d207a71389c7fcf8ba694059fb253396cc042462a948eb07b8e27a907daf0f3fe633b9dedba4500f7e3457e5eb2ec4d867e2037ae7d428c8d4caf8e932a6ed555dad03a05a012aa85beb79f591bb839ccc9cd1bfddde1f18d62bd505eef3d5718eb1faa0f399ebc894856b54ef9702d692489e82f171b73784fc52e390e3004cb047307bd6a77f5ed01cd111018147634471ee7ff83d6f65fa277bb656cb202d17ef75a868cafc31200e9e3cb7ba94934816fdd345971fd0358f257848a3d196ceedae7841c2ea99a6cda885a2ffa387419cc7f7ea9ed6ca91866c8f5d7b4c7790502729b837930ab657e8c26a201103ce0384994ed75e07a54049be61f7e85497e5af4ec14e922be8c1a7b8181e4f211ac43939cd14039b7c84c8d9343a1d5945edaadc818e54b184add851a1814af20bce7b0576bdb630839b67dcc93b86168e8fc6d54a00722dfb776e05eab1fc0b252ec78488de3aae5f1a06dbc2b570a70f43f94db34e671a0cfd5b3bdf188c356a49904f1262d1ffde03448255d1f31a971fc3e0c388a51c19fd23486c278f0a48ba13fe41fc1e81fa8343a1bc9f0bf0b0b69bc41c55d3772dc6a4caf889c60c6c67cb4094af91aab5018d9bb88da4e7b0bec330506fee2948ce75349d789d188f520e81b25bc2e20bcc1457e998a08142f673119192c800938a96d53e56626b55e6e9431bc6a0b7af747831726d080c908a948cf109c615a2f9e8410426edcb7834201a0784f40e5a974ae90261bba89e833f330d69f903c0d9b37665e538c97a525c52a1f05b2d5753889089ae93b22aab8f5bea5c72d42ecc612ce0723e7469417f0f7bee45f90f79838394f31842b42a5b76670791e5b8760435b178520e16960d72ba622191cf7638a8050aa0a0de4bea62d38780edb373c986c7876d87820494f941defe119a0d442524bb36e4099a39ac2bad4c83dd7118881e092a6ace528cb0867a5b95d144f5b388df3957cdf4dbf40d426761f1914e72e664050b2778ae402f52ffd1e9ed3454535cbce3fb870bcce5a677dda516e3ca8e03c84ea21e0054e26c76bf5a37515697c1e039459ff8939dfbe8947183ab53228f675f5b30dfd2b42f28c39db2f2acf156b697fc3efdc599576eccf6626bab204d1b8943ba7c40ccb0b7080fd2df9d07535ea8dfe3136c7b07068050da02a464fec9d49f9338b6b441fceb0ff0547a182f486ebec0c2799c4ccda9813930ffbc4a3688aba4b3303156b9d119d567db1f776d26237187aaa578f02cfbf1c927cb4d24ce303fb5b556980df662136d7081ad426efed90855cf3804700ae4a161bb0b2c8303345c4e4217f712ea8c6a9fa4dcb7c36c960758556ce2fae1f65b0bf6ee235415d347923d51a63f3605262bce50aec3a62f7638c1e88b844a9849e928b5376157e2954c593c6b33129c0acfdd1343722d4daec862ca873ec7771bbadcd06e70fb6da0456b123c982983b2c2a007ced76dcb0182ab0ceeb2a37f0785acb3087ffb9d3e217b6d4a24b4d13a37e570cf522dc1b0d537db9fe0b4a506e0ae3c680de96cc89e5cefe91829a14ce01a46a1649aa91c56838efa0bd615ca22895d54ebb91cf4a58190c39d3f29cc28d69c908ecc6e96a78a5f4c854e9e67583208c0c252a653b5d6dfd42c8cc8570ad7d27e7527d48b40a0df3e81341a828a1d6a1ef483dd5331ee975cbec23e5aa7086b12a8db40909457253a1f920d4404dd48c738bb9efb4f5fa52d5410b34cdcccdc636426e10abdba43c17d7806ee3b980d346259d8bd4bfac39243654808b4dd22c21caa4018c1b2ce2ba08519ae00019de40fd2fadbc38e0062aa3d6c2d0ec573040f30fa064f00b0fe0f4934205112de459d408db2cfcff1cab7b3dec1cc69e24ef17eb8b652fb84681391cfb3a143e6324de607d27310e2b9a1a63757b4e0d59f57e4fc0d722ed62b5955408bd4a5ece11b7b8b9fe8843b36a0c3730ad865e8b43507a9a8b48bb32d72517dfe8f8d4fcd121e3398a74424de7cdbaa435e8b2821cb4dfeba66d4f29a175c147f7c4c48008576180a604ea094e7fb77021c89ee5815602b21ca9cd0d56e2f84428584694a6fb5da684467ab2c2d3b857e7ba0d15d815577002fd441375c0f121963c8d1663b9e055057e1dde355c2450f7ee90605be2ddabf8464381688e43a5074d199661884c593ffc45a5f109ed41f3ee186280c670f0cfa15c286fcfe54aadb2b775557df2362655714d69a229995663db6effcb323d683472bbc9b7742d97343e838332677bd49c340822337c24ee83c9b889afb8fd1d1fcf0079bdfe343a2f52ccfe2887c6ac41fd5e524e15fc4e1f55a93818a0ad06f1a06bad48602d2b2463d67d3abb917191aa10792ca9a432f92bd1066dab9c6665f2ae9a237275290bc2135ef9bba726cf2631fa80578dd402c944df9c8613dbd99eab5069417c8999501cb5611efcca24ef473da962525b48689105b839e891d17863e1a0eab26fda2e65a9619e0cac39617ddeb113f85cd424fcf5e4d54c68f76611c341119331dc6541cd7fc949288e33bfc69d74b3914bc5fb3c089f524e32dba20dc560b0f284e6e141413abf32cca7f7fcb19e469f58d3401a1fc8ff8bd5bbd71ca144c576cd004e2d1ad304b1a419b55eb032e51afe77a9758d4b14f729931e99907e8b6823a49abe1ca921eed6880625a9ff082d5c373b9dc1dddf732d1fe83e86e8f121d75b8a4917427a82b9b659cc556ea768e4ab9c5e722c7fab5552136d8857e5d3fe719603ac6f140a973cdb347f4d7bf622c804d120560de5f9b4eb21c662a5ad20e3cbfa1e77140ba9cf44e20e06ec9e66c9f82373e1d488dab3d779c14227f28ac0f2572d7787fac4519ec534587b614f69b080f529531459939c352858813d9c8d6a0a409bc021361fc90588863f900efb8ecb8d8e6bdcdcd417e8dcb2b726d08839c1517296314efe06afb1c669ac53be83475b7158e84d5dc02e69c2b7760da5a97922644fdf6184599bf22c07bc95df7638b1de689daa554e970c522dcc21fa7c4c3b8eca7cdc1bd97a4e54898424005e47dae99a5204b480fc97291b164a781f7872bbf2e8f9e58651aa367e3f1863273e52ef197dfa829f582a39eb83e22590535108680f5b01a9aeaf7a67d1856335d45d925f361ceb3e43d10772892cfa60708285bdcfdb2d151e6874b7d41b9896349cbe5bb21a55d987b5a53bd3e3e2249cbfc096253b258cdd8d752522fad96ab294fd35a36d4d9a305bdeebd14277aa30567ee77084e7b971831b945c259bc71ef9d8735a515def5dd4f4cd29f3350d64b7ea3e91ff8de35b4744fce574bcf60775e13ef76b0e09034c277bcf226ba49a76f2acaebd1ee7d651929341c8b24f1e55bbfd220af7b9cc6f73cbd92a14779c3324de2cf5f047209d915cc01dac96033f417ece197f11b1f5d0b7a0b0d168a6e3e3fcfd9b85a3f3370008a15026fd1461ee6da5a792aed1d27ba19a9b90b6862045d313c58da1585213906e3cab66549c17934afdd4cb58bfde13f547711586ce5500416614f53a1eef3c7e8ed47ebdb2ead97d90e78874830d2533eabfe2f860ceb115d0e6e89a49934fcd205b7eff2cebf13caea444dcbc54a5bc228a7d04bec8eb1a7208aee1e5fa4459efa7fb46009f2e49c36c3932f6706ff1c9779827a1d669e102bbd3edf2bc24667d340fe973ab76ee03c0a690e271f1395d6ec9bed292307f4e5300df5ee989c302d4d1202161b3b4f7fccca8eca1f257de22cc8bd44313b1e6af82c8538ce96c0e4fcb99bd2bef68c233f54f86a670beec11ac960797504257d45c6562470ef1cb65fd23db9a042b3e130ad9b9e79b7fc99d3082a48b6480e1cea2f78bb7805b91f8d2c2d7d56fccb03b41bb34f095e54492a21202bd6805a2f091d9490a239db546e00b925de584bf91f5839457b534140cd477e7d64a909305a347154da9f3e31d42e1e3b91cc109a24771a3011102cbfcee62e0b8e2687215a8c111f3b898f17bd8f2ac8c9efd6a9443636671b12d1f2472969fa2eb33a744edfe8b966aba21dd8552e617151328dc045fdfe328d6f20e3f260e9608f9bc38c7e740b5b0f8945740a460d101d319517cae05a2c6d362215f95f07af322bf0d7c98a72481000c23723772b25653250029932f0f1ef0b81353fa859fa05b10a272aaa3665803510dc54451cd4af444a7a8dd499620cba82a005797a3db17ef2cf12a607269e70977d08a2254b8220d8bbf402190547ccd31064b6697f7347b9315459ce565361586985cd7b6be062f3d8309dbfb64a8e888afbfa65cfb9869586e767baf876b347b98e65e53c5c04dddf20c3fb3e5d1be8d31e2eb46da26c3e21f3094972684f6b08b70bf926dfd07156b5ae7ec28d2aba215530d9092e4d3822e1a9f9a0d476e4ac2158c7a8143318fbe7a157b56c5e075797dc4f2e61ea0f8a913865df23e99d0181b5edcc90feda4f2476613c9eaaf3b7bd8aa41ae4ecaaa5618e938bb6d64b49cf7ca5bdf0ab03425b57bea9182dc8585f44b8c258f0dff4e0affa7b5dd6e09062589f539b09ba59f2713ac61cb33635e74cde70685c2550424997513c4b42741f29278eabb648c8e15577b5d3d7fd9e352efa3aae5bf173009d3196ee576e0968dbb9d65bff0d49996c128ee79b07f972ef8eef4d3a94a539a45a5cb8579ffb9e6de3f8e9204bbd349033a5090f60f32d3b41080c1acc42fe5f020fa2b2f98e80859cd713dbb9ae33b3b6b3d6bd4b83b082fbb2c2d4c1cbd76adca87cab294eec8da5bc8676d0462819109edcf4ba5b1f4f9129cf46b99b630f5d338c3fbd4c39bebe0a4751d16051e641f242a67488e14dbd6dbe20daf1a268a8cc6a5fb974fe4e10f4257f6ffebf324c76f5a4b0ba525fbbf768740b5eaaa15639016278dab22430f4be5660d08be10ae3b76901109a4a6b7978a141349fab5f44c09fca5c3e5200eec26a151edb59f81e7d4782540051eb36c6f7bab2008cf92281b774f264a1f42d4b13baaf48b5c55b0cfca2c258f83d8911aac39274f2439ddeb2549670a933ba108a44167f49b073c97d069e3c61f4dd822d0d08f01ac7e6d0d4e3b5aa9863b0f0ce241599a32050e5f88581709a55c9d622ff2616f41dd4c40e54ae59b7e7c9026eb010085dcab4af5a03e433da61bd58aea3d9f27021021cf14fadb150912bcf2c940829a1e18285a1537727312b93c459e1ed53da6c0f6311f5bff1d50a43dca228fe80be5e723f0f2a341b82616feed304e39083b065865338b00650166aff1adb177bfd0f45047fa2bb9f99d1b2dfcfba549998bebe0037ccdcc8558df7e042daa9d568f0e308e110cfb414355f66df8ba375e53c402f189b5ea7eb71f4de4d2632c8b45407b634bb09bd417646e65969ebccc32cc93922b73c799269924d3dd8aa5dcf2ffe88aba7304994fe8b6671db9fe512208dbdc562876ace7d716441de877d595ea0826e2c382418e7835f8d0565963a1390d3a33784df0be70d57614ef44842fcce235547e5a2a8d2edf776c0e71b7e4fc0922847d20ef9273b786024ae640f6f3be75bfab68e1e7c6a746ec29471f501ae48b85c45f8085f065fb13459c0acb250334096a27da551d42be96c22ba0012b05f8b5643d354e400748edb8878123520f352b0f2c045c9ca09d47ac98e89485730bcd5a02b657d4939136debe07669654dc58d5df76270a1d4afe49706a9450daa88c5f03e406f710791f391d2373cfd3e94cf9434b74974c2d602213cf76863f41bf6675689fa58ff77cb99cef7416f7ca7c3a3c97c15fa476fe778fb83106aa308686629ca3cb83e70ae7c2646d8533b748711cd4e4c3559d6d6a887610c96f260d36024c82c5e90fde55a5b095dac1b32bd6475cd670bc03b90ebfe82c0a39318318299afd3ed7253b1382245de0e083be7496989cf255d5c4095712bc405ff47b6c0fa6523dc092a6691071d3232b6f17004688362c627f101178ef957d141d5b5a7b5b8e3deb6c7fa5533676bab26e81f5995a8cf499e6129a546c0f4bbd199990bcfb3dc54e05baf1877dfec5f0e7bea801e33afb004e24f65d57f09e3180415ceea2ceba856c463d868aed3088db371b6a8470bcb30ce2258de8d8a23667e01db823815fb17279d2299fb535c82b0d11b61e74a5ea49da22e7c115d1a32ff52ebb30c91c5dafaa6f160ec7826a0751fd9ecd78332ae8d7cb6041d0981a570ac83242c5938af256366846e7fce327ec9a60cda5d77f73cd293b027a91e8eae516f5a04779c604fcce3bb53521b9d03e978d22592e2caec0c8cad06e1f8e8ee6ee5028ce2befcae69c53046af6ae4535cc36f358884c0af15fc1ca8a67f51a8760ae83d8a643bdb9eb6375676198de74e21cf432acaa123ac705dde909bb4ad3d05bbcd2c4bfd74f133791f4bcf406160eeb52a17a684e2a85ffea19b09ff6179d97557b112de0786217c9bc105b4f111f8941384711b242","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"ec0dc2ebfabbbd2330186b0b36bc3d65"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
