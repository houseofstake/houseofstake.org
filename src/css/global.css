/**
 * Any CSS included here will be global. The classic template
 * bundles Infima by default. Infima is a CSS framework designed to
 * work well for content-centric websites.
 */

/* Font imports */
@import './fonts.css';

/* NEAR Brand Colors */
:root {
  /* Font stack with FK Grotesk as primary font */
  --ifm-font-family-base:
    'FK Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
    Helvetica, Arial, sans-serif;

  /* Optimize font rendering */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  /* Primary Colors */
  --near-black: #000000;
  --near-white: #ffffff;
  --near-off-white: #f2f1e9;
  --near-green: #00ec97;

  /* Accent Colors */
  --near-red: #ff7966;
  --near-purple: #9797ff;
  --near-blue: #17d9d4;

  /* Light theme colors */
  --ifm-color-primary: #e91409;
  --ifm-color-primary-dark: #ff6b55;
  --ifm-color-primary-darker: #ff5f47;
  --ifm-color-primary-darkest: #ff4328;
  --ifm-color-primary-light: #ff8777;
  --ifm-color-primary-lighter: #ff9285;
  --ifm-color-primary-lightest: #ffb0a3;

  /* Background and surface colors */
  --ifm-background-color: #ffffff;
  --ifm-background-surface-color: #f9f9fa;
  --ifm-navbar-background-color: #f9f9fa;

  /* Text colors */
  --ifm-font-color-base: #000000;
  --ifm-heading-color: #000000;
  --ifm-navbar-link-color: #000000;
  --ifm-menu-color: #000000;

  /* Hover states */
  --ifm-navbar-link-hover-color: #ff7966;
  --ifm-menu-color-active: #e91409;
  --ifm-link-color: #e91409;
  --ifm-link-hover-color: #ff6b55;
  --ifm-breadcrumb-color-active: #e91409;

  /* Code blocks */
  --ifm-code-background: #f9f9fa;
  --ifm-pre-background: #f9f9fa;

  /* Sidebar */
  --ifm-sidebar-background: #f9f9fa;
  --ifm-sidebar-color: #000000;
  --ifm-sidebar-color-active: #ff7966;
}

/* Fix external link icon alignment */
.navbar__item svg,
.footer__link-item svg {
  display: inline-block;
  vertical-align: middle;
  margin-left: 0.25rem;
}

.navbar__link,
.footer__link-item {
  display: inline-flex;
  align-items: center;
}

/* Fix breadcrumb home icon alignment */
.breadcrumbs__item:first-child .breadcrumbs__link {
  display: inline-flex;
  align-items: center;
  padding: 0;
}

/* Target breadcrumb home icon using attribute selector to avoid hash */
[class*='breadcrumbHomeIcon'] {
  width: 18px;
  height: 18px;
  vertical-align: middle;
  margin-top: -2px;
}

/* Ensure consistent breadcrumb alignment */
.breadcrumbs {
  display: flex;
  align-items: center;
}

.breadcrumbs__item {
  display: flex;
  align-items: center;
}

.breadcrumbs__link {
  display: inline-flex;
  align-items: center;
  line-height: 1.5;
}

/* Fix Edit this page icon */
.theme-edit-this-page {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

/* Target edit icon using attribute selector to avoid hash */
[class*='iconEdit'] {
  width: 16px;
  height: 16px;
  vertical-align: middle;
}

/* Light theme edit icon */
.theme-edit-this-page {
  color: var(--near-black);
}

.theme-edit-this-page:hover {
  color: var(--near-red);
  text-decoration: none;
}

/* Prevent horizontal overflow on the body */
html,
body {
  overflow-x: hidden;
  max-width: 100%;
}

/* Navbar now handled by swizzled component */

/* Override Docusaurus navbar styles to prevent conflicts */
.navbar {
  padding: 0 !important;
  height: auto !important;
  box-shadow: none !important;
  border: none !important;
  background: transparent !important;
}

/* Ensure no extra styles on navbar */
nav.navbar {
  position: static !important;
  top: auto !important;
}

/* Footer styling for light theme */
.footer--dark {
  background-color: #f9f9fa !important;
  --ifm-footer-background-color: #f9f9fa;
  --ifm-footer-color: var(--near-black);
  --ifm-footer-link-color: var(--near-black);
  --ifm-footer-link-hover-color: #666666;
  --ifm-footer-title-color: var(--near-black);
}

/* Footer border styling */
.footer {
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

/* Primary button styling */
.button--primary {
  background-color: var(--near-red);
  border-color: var(--near-red);
  color: var(--near-white);
}

.button--primary:hover {
  background-color: #ff6b55;
  border-color: #ff6b55;
}

/* Blog author styling - using Infima avatar classes */
.avatar__name,
.avatar__name a,
.blog-wrapper .avatar__name,
.blog-wrapper .avatar__name a {
  color: var(--near-black) !important;
}

.avatar__name a:hover,
.blog-wrapper .avatar__name a:hover {
  color: #666666 !important;
  text-decoration: none;
}

/* Also target blog post pages specifically */
.blog-post-page .avatar__name,
.blog-post-page .avatar__name a {
  color: var(--near-black) !important;
}

/* Blog tag styling */
.blog-tags-list-page .tag,
.blog-tags-post-list-page .tag,
article .tag,
[class*='tagRegular'] {
  background-color: #f0f0f0 !important;
  color: var(--near-black) !important;
  border: 1px solid #e0e0e0 !important;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
}

.blog-tags-list-page .tag:hover,
.blog-tags-post-list-page .tag:hover,
article .tag:hover,
[class*='tagRegular']:hover {
  background-color: #e0e0e0 !important;
  color: var(--near-black) !important;
  text-decoration: none !important;
}

/* Performance optimizations for smooth scrolling */
.backgroundImage,
.heroBackground {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-font-smoothing: antialiased;
  -webkit-transform: translateZ(0);
  -webkit-backface-visibility: hidden;
}

/* Optimize animations for better performance */
.arrowIcon,
.arrowUpRight {
  will-change: transform;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Anchor scroll offset for sticky header - using the navbar height variable */
section[id] {
  scroll-margin-top: var(--ifm-navbar-height, 108px);
}

/* Also apply to any element with an ID for anchor navigation */
[id] {
  scroll-margin-top: var(--ifm-navbar-height, 108px);
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
  scroll-padding-top: var(--ifm-navbar-height, 108px);
}

/* Add extra padding only for the banner height difference */
.main-wrapper > div:first-child {
  padding-top: var(--banner-height, 36px);
}


/* Blog post title colors */
/* Target blog post titles in the blog list page using attribute selector */
article h2[class*='blogPostTitle'] a,
article header h2 a,
.blog-list-page article h2 a,
.blog-wrapper article h2 a {
  color: #ff6b55 !important;
}

article h2[class*='blogPostTitle'] a:hover,
article header h2 a:hover,
.blog-list-page article h2 a:hover,
.blog-wrapper article h2 a:hover {
  color: #ff5f47 !important;
  text-decoration: none;
}

/* Docs CTA button - themed for documentation */
.docsCtaButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.375rem;
  appearance: none;
  cursor: pointer;

  font-family: 'FK Grotesk', var(--ifm-font-family-base);
  font-weight: 600;
  letter-spacing: -0.01em;
  font-size: 0.9375rem; /* 15px */
  line-height: 1.4;
  white-space: nowrap;

  padding: 0.625rem 1.25rem;
  margin-top: 0.75rem;
  border-radius: 6px;
  border: 1px solid transparent;
  background-color: #ff6352;
  color: var(--near-white) !important;
  text-decoration: none !important;

  box-shadow: 0 1px 2px rgba(255, 99, 82, 0.12);
  transform: translateY(0);
  transition: all 0.15s ease;
}

.docsCtaButton:hover {
  background-color: #ff5240;
  transform: translateY(-1px);
  box-shadow: 0 3px 8px rgba(255, 99, 82, 0.2);
  text-decoration: none !important;
  color: var(--near-white) !important;
}

.docsCtaButton:focus-visible {
  outline: 2px solid #ff6352;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px rgba(255, 99, 82, 0.15);
}

.docsCtaButton:active {
  transform: translateY(0);
  box-shadow: 0 1px 2px rgba(255, 99, 82, 0.12);
}

/* Remove default paragraph margins when button is inside */
.docsCtaButton p {
  margin: 0;
}

.docsCtaButton svg {
  width: 1.1em;
  height: 1.1em;
  margin-left: 0.25rem;
}

/* Delegate Photos Styling */
/* Target ALL images in delegate sections - generalized approach */
/* Images that are direct children of paragraphs following h3 headings in delegate sections */
h2#the-initial-endorsed-delegates-are ~ h3 ~ p > img:first-child,
h2#organizations ~ h3 ~ p > img:first-child {
  width: 80px !important;
  height: 80px !important;
  border-radius: 50% !important;
  object-fit: cover;
  border: 3px solid #f0f0f0;
  margin: 0 20px 20px 0;
  display: block;
  float: left;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
  background: white;
}

/* Special handling for SVG logos to display well in circles */
h2#the-initial-endorsed-delegates-are ~ h3 ~ p > img[src$='.svg']:first-child,
h2#organizations ~ h3 ~ p > img[src$='.svg']:first-child {
  padding: 10px;
  object-fit: contain;
}

/* Style ALL h3 delegate heading sections under the delegate sections */
h2#the-initial-endorsed-delegates-are ~ h3,
h2#organizations ~ h3 {
  margin-top: 24px;
  margin-bottom: 16px;
  color: #000;
  font-size: 1.5rem;
  clear: both;
}

/* Create wrapper for delegate sections to contain floats */
h2#the-initial-endorsed-delegates-are ~ h3,
h2#organizations ~ h3 {
  clear: both;
}

/* Ensure ALL content after delegate images stays in right column */
h2#the-initial-endorsed-delegates-are ~ h3 ~ ul,
h2#organizations ~ h3 ~ ul {
  overflow: hidden;
  display: block;
  min-height: 100px;
}

/* Nested lists inside delegate info should maintain normal indentation */
h2#the-initial-endorsed-delegates-are ~ h3 ~ ul ul,
h2#organizations ~ h3 ~ ul ul {
  margin-left: 20px;
}

/* Clear floats after each delegate section using hr separators */
h2#the-initial-endorsed-delegates-are ~ hr,
h2#organizations ~ hr {
  clear: both;
  margin: 32px 0;
  border: none;
  border-top: 1px solid #e0e0e0;
}

/* Fix Telegram icon in blog author socials */
/* Target telegram links by href pattern */
a[href*='t.me'][title='telegram'] svg {
  display: none;
}

/* Add proper Telegram icon using the downloaded SVG */
a[href*='t.me'][title='telegram']::after {
  content: '';
  display: inline-block;
  width: 1em;
  height: 1em;
  background-image: url('/img/telegram-icon.svg');
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}

/* KaTeX rendering adjustments */
/* In the homepage GovernanceSystem component, hide the MathML version to prevent duplicates */
.governanceSection .katex .katex-mathml {
  position: absolute !important;
  clip: rect(1px, 1px, 1px, 1px) !important;
  padding: 0 !important;
  border: 0 !important;
  height: 1px !important;
  width: 1px !important;
  overflow: hidden !important;
}

/* In docs pages, hide the HTML version to prevent duplicates */
/* The MathML version renders correctly in documentation */
.docs-doc-page .katex .katex-html,
article.markdown .katex .katex-html {
  display: none !important;
}
